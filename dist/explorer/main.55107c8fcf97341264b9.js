(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+7AZ":function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return i}),n.d(e,"__assign",function(){return o}),n.d(e,"__rest",function(){return s}),n.d(e,"__decorate",function(){return a}),n.d(e,"__param",function(){return u}),n.d(e,"__metadata",function(){return c}),n.d(e,"__awaiter",function(){return l}),n.d(e,"__generator",function(){return h}),n.d(e,"__exportStar",function(){return p}),n.d(e,"__values",function(){return f}),n.d(e,"__read",function(){return d}),n.d(e,"__spread",function(){return v}),n.d(e,"__await",function(){return m}),n.d(e,"__asyncGenerator",function(){return y}),n.d(e,"__asyncDelegator",function(){return g}),n.d(e,"__asyncValues",function(){return b}),n.d(e,"__makeTemplateObject",function(){return w}),n.d(e,"__importStar",function(){return _}),n.d(e,"__importDefault",function(){return E});var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})}function h(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function p(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function f(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function d(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function y(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||a(t,e)})})}function a(t,e){try{(n=i[t](e)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(t){l(o[0][3],t)}var n}function u(t){a("next",t)}function c(t){a("throw",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function g(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){t[r]&&(e[r]=function(e){return(n=!n)?{value:m(t[r](e)),done:"return"===r}:i?i(e):e})}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator];return e?e.call(t):f(t)}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function _(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}},0:function(t,e,n){t.exports=n("zUnb")},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,s=n("q/0M"),a=n("os0x"),u=n("x7I3"),c=o.SDK_VERSION,l=new s.Logger("@firebase/firestore");function h(){return l.logLevel===s.LogLevel.DEBUG?i.DEBUG:l.logLevel===s.LogLevel.SILENT?i.SILENT:i.ERROR}function p(t){switch(t){case i.DEBUG:l.logLevel=s.LogLevel.DEBUG;break;case i.ERROR:l.logLevel=s.LogLevel.ERROR;break;case i.SILENT:l.logLevel=s.LogLevel.SILENT;break;default:l.error("Firestore ("+c+"): Invalid value passed to `setLogLevel`")}}function f(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(l.logLevel<=s.LogLevel.DEBUG){var i=n.map(v);l.debug.apply(l,["Firestore ("+c+") ["+t+"]: "+e].concat(i))}}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(l.logLevel<=s.LogLevel.ERROR){var r=e.map(v);l.error.apply(l,["Firestore ("+c+"): "+t].concat(r))}}function v(t){if("string"==typeof t)return t;var e=g.getPlatform();try{return e.formatJSON(t)}catch(e){return t}}function m(t){var e="FIRESTORE ("+c+") INTERNAL ASSERTION FAILED: "+t;throw d(e),new Error(e)}function y(t,e){t||m(e)}!function(t){t[t.DEBUG=0]="DEBUG",t[t.ERROR=1]="ERROR",t[t.SILENT=2]="SILENT"}(i||(i={}));var g=function(){function t(){}return t.setPlatform=function(e){t.platform&&m("Platform already defined"),t.platform=e},t.getPlatform=function(){return t.platform||m("Platform not set"),t.platform},t}();function b(){return g.getPlatform().emptyByteString}var w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},_=function(t){function e(e,n){var r=t.call(this,n)||this;return r.code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return a.__extends(e,t),e}(Error);function E(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new _(w.INVALID_ARGUMENT,t)}for(var r in n.prototype=t.prototype,t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function C(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function S(t,e){return void 0!==t?t:e}function x(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Number(n);isNaN(r)||e(r,t[n])}}function T(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function A(t){for(var e in y(null!=t&&"object"==typeof t,"isEmpty() expects object parameter."),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function D(t,e,n){if(e.length!==n)throw new _(w.INVALID_ARGUMENT,"Function "+t+"() requires "+W(n,"argument")+", but was called with "+W(e.length,"argument")+".")}function I(t,e,n){if(e.length<n)throw new _(w.INVALID_ARGUMENT,"Function "+t+"() requires at least "+W(n,"argument")+", but was called with "+W(e.length,"argument")+".")}function N(t,e,n,r){if(e.length<n||e.length>r)throw new _(w.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+W(e.length,"argument")+".")}function k(t,e,n,r){L(t,e,H(n)+" argument",r)}function P(t,e,n,r){void 0!==r&&k(t,e,n,r)}function O(t,e,n,r){L(t,e,n+" option",r)}function M(t,e,n,r){void 0!==r&&O(t,e,n,r)}function R(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new _(w.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+V(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new _(w.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be "+n+", but the value at index "+o+" was: "+V(r[o]))}(t,e,n,r,i)}function F(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],s=0,a=i;s<a.length;s++){var u=a[s];if(u===r)return;o.push(V(u))}var c=V(r);throw new _(w.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function L(t,e,n,r){if(!("object"===e?j(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=V(r);throw new _(w.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function j(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function V(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":m("Unknown wrong type: "+typeof t)}function B(t,e,n){if(void 0===n)throw new _(w.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+H(e)+" argument, but it was undefined.")}function U(t,e,n){T(e,function(e,r){if(n.indexOf(e)<0)throw new _(w.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))})}function q(t,e,n,r){var i=V(r);return new _(w.INVALID_ARGUMENT,"Function "+t+"() requires its "+H(n)+" argument to be a "+e+", but it was: "+i)}function H(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function W(t,e){return t+" "+e+(1===t?"":"s")}var z=function(){function t(){}return t.newId=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return y(20===e.length,"Invalid auto ID: "+e),e},t}();function K(t,e){return t<e?-1:t>e?1:0}function G(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].isEqual(e[n]))return!1;return!0}function Q(){if("undefined"==typeof Uint8Array)throw new _(w.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function X(){if(!g.getPlatform().base64Available)throw new _(w.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var $,Y,J=function(){function t(t){X(),this._binaryString=t}return t.fromBase64String=function(e){D("Blob.fromBase64String",arguments,1),k("Blob.fromBase64String","string",1,e),X();try{return new t(g.getPlatform().atob(e))}catch(t){throw new _(w.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},t.fromUint8Array=function(e){if(D("Blob.fromUint8Array",arguments,1),Q(),!(e instanceof Uint8Array))throw q("Blob.fromUint8Array","Uint8Array",1,e);return new t(Array.prototype.map.call(e,function(t){return String.fromCharCode(t)}).join(""))},t.prototype.toBase64=function(){return D("Blob.toBase64",arguments,0),X(),g.getPlatform().btoa(this._binaryString)},t.prototype.toUint8Array=function(){D("Blob.toUint8Array",arguments,0),Q();for(var t=new Uint8Array(this._binaryString.length),e=0;e<this._binaryString.length;e++)t[e]=this._binaryString.charCodeAt(e);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._binaryString===t._binaryString},t.prototype._compareTo=function(t){return K(this._binaryString,t._binaryString)},t}(),Z=E(J,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),tt=function(){function t(t,e){if(D("GeoPoint",arguments,2),k("GeoPoint","number",1,t),k("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new _(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new _(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype._compareTo=function(t){return K(this._lat,t._lat)||K(this._long,t._long)},t}(),et=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new _(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new _(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new _(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new _(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?K(this.nanoseconds,t.nanoseconds):K(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t}(),nt=function(){return function(t,e,n,r){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r}}(),rt="(default)",it=function(){function t(t,e){this.projectId=t,this.database=e||rt}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database===rt},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.compareTo=function(t){return K(this.projectId,t.projectId)||K(this.database,t.database)},t}(),ot=function(){function t(t,e,n){this.init(t,e,n)}return t.prototype.init=function(t,e,n){void 0===e?e=0:e>t.length&&m("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&m("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n},t.prototype.construct=function(t,e,n){var r=Object.create(Object.getPrototypeOf(this));return r.init(t,e,n),r},Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):"string"==typeof e?n.push(e):m("Unknown parameter type for Path.child(): "+e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,y(this.length>=t,"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return y(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return y(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.lastSegment=function(){return y(!this.isEmpty(),"Can't call lastSegment() on empty path"),this.segments[this.limit()-1]},t.prototype.get=function(t){return y(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),st=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(t){if(t.indexOf("//")>=0)throw new _(w.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter(function(t){return t.length>0}))},e.EMPTY_PATH=new e([]),e}(ot),at=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.isValidIdentifier=function(t){return at.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new _(w.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new _(w.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new _(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new _(w.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.EMPTY_PATH=new e([]),e}(ot),ct=function(){function t(e){this.path=e,y(t.isDocumentKey(e),"Invalid DocumentKey with an odd number of segments: "+e.toArray().join("/"))}return t.prototype.isEqual=function(t){return null!==t&&0===st.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return st.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new st(e.slice()))},t.fromPathString=function(e){return new t(st.fromString(e))},t.EMPTY=new t(new st([])),t}(),lt=function(){function t(t,e){this.key=t,this.version=e}return t.compareByKey=function(t,e){return ct.comparator(t.key,e.key)},t}(),ht=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.data=r,o.hasLocalMutations=!!i.hasLocalMutations,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return a.__extends(e,t),e.prototype.field=function(t){return this.data.field(t)},e.prototype.fieldValue=function(t){var e=this.field(t);return e?e.value():void 0},e.prototype.value=function(){return this.data.value()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.data.isEqual(t.data)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.compareByField=function(t,e,n){var r=e.field(t),i=n.field(t);return void 0!==r&&void 0!==i?r.compareTo(i):m("Trying to compare documents on fields that don't exist")},e}(lt),pt=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return a.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(lt),ft=function(t){function e(e,n){return t.call(this,e,n)||this}return a.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(lt),dt=function(){function t(t,e){this.comparator=t,this.root=e||mt.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mt.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new vt(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new vt(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new vt(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new vt(this.root,t,this.comparator,!0)},t}(),vt=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){y(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),mt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw m("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw m("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check();if(t!==this.right.check())throw m("Black depths differ");return t+(this.isRed()?0:1)},t.EMPTY=null,t.RED=!0,t.BLACK=!1,t}(),yt=function(){function t(){this.size=0}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new mt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}();mt.EMPTY=new yt,function(t){t[t.NullValue=0]="NullValue",t[t.BooleanValue=1]="BooleanValue",t[t.NumberValue=2]="NumberValue",t[t.TimestampValue=3]="TimestampValue",t[t.StringValue=4]="StringValue",t[t.BlobValue=5]="BlobValue",t[t.RefValue=6]="RefValue",t[t.GeoPointValue=7]="GeoPointValue",t[t.ArrayValue=8]="ArrayValue",t[t.ObjectValue=9]="ObjectValue"}($||($={})),function(t){t[t.Default=0]="Default",t[t.Estimate=1]="Estimate",t[t.Previous=2]="Previous"}(Y||(Y={}));var gt=function(){function t(t,e){this.serverTimestampBehavior=t,this.timestampsInSnapshots=e}return t.fromSnapshotOptions=function(e,n){switch(e.serverTimestamps){case"estimate":return new t(Y.Estimate,n);case"previous":return new t(Y.Previous,n);case"none":case void 0:return new t(Y.Default,n);default:return m("fromSnapshotOptions() called with invalid options.")}},t}(),bt=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},t.prototype.defaultCompareTo=function(t){return y(this.typeOrder!==t.typeOrder,"Default compareTo should not be used for values of same type."),K(this.typeOrder,t.typeOrder)},t}(),wt=function(t){function e(){var e=t.call(this)||this;return e.typeOrder=$.NullValue,e.internalValue=null,e}return a.__extends(e,t),e.prototype.value=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e},e.prototype.compareTo=function(t){return t instanceof e?0:this.defaultCompareTo(t)},e.INSTANCE=new e,e}(bt),_t=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=$.BooleanValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?K(this,t):this.defaultCompareTo(t)},e.of=function(t){return t?e.TRUE:e.FALSE},e.TRUE=new e(!0),e.FALSE=new e(!1),e}(bt),Et=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=$.NumberValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.compareTo=function(t){return t instanceof e?(n=this.internalValue,r=t.internalValue,n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1):this.defaultCompareTo(t);var n,r},e}(bt);function Ct(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}var St=function(t){function e(e){return t.call(this,e)||this}return a.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Ct(this.internalValue,t.internalValue)},e}(Et),xt=function(t){function e(e){var n=t.call(this,e)||this;return n.internalValue=e,n}return a.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Ct(this.internalValue,t.internalValue)},e.NAN=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(Et),Tt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=$.StringValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?K(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(bt),At=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=$.TimestampValue,n}return a.__extends(e,t),e.prototype.value=function(t){return t&&t.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):t instanceof Dt?-1:this.defaultCompareTo(t)},e}(bt),Dt=function(t){function e(e,n){var r=t.call(this)||this;return r.localWriteTime=e,r.previousValue=n,r.typeOrder=$.TimestampValue,r}return a.__extends(e,t),e.prototype.value=function(t){return t&&t.serverTimestampBehavior===Y.Estimate?new At(this.localWriteTime).value(t):t&&t.serverTimestampBehavior===Y.Previous&&this.previousValue?this.previousValue.value(t):null},e.prototype.isEqual=function(t){return t instanceof e&&this.localWriteTime.isEqual(t.localWriteTime)},e.prototype.compareTo=function(t){return t instanceof e?this.localWriteTime._compareTo(t.localWriteTime):t instanceof At?1:this.defaultCompareTo(t)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},e}(bt),It=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=$.BlobValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(bt),Nt=function(t){function e(e,n){var r=t.call(this)||this;return r.databaseId=e,r.key=n,r.typeOrder=$.RefValue,r}return a.__extends(e,t),e.prototype.value=function(t){return this.key},e.prototype.isEqual=function(t){return t instanceof e&&(this.key.isEqual(t.key)&&this.databaseId.isEqual(t.databaseId))},e.prototype.compareTo=function(t){if(t instanceof e){var n=this.databaseId.compareTo(t.databaseId);return 0!==n?n:ct.comparator(this.key,t.key)}return this.defaultCompareTo(t)},e}(bt),kt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=$.GeoPointValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(bt),Pt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=$.ObjectValue,n}return a.__extends(e,t),e.prototype.value=function(t){var e={};return this.internalValue.inorderTraversal(function(n,r){e[n]=r.value(t)}),e},e.prototype.forEach=function(t){this.internalValue.inorderTraversal(t)},e.prototype.isEqual=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext();if(i.key!==o.key||!i.value.isEqual(o.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext(),s=K(i.key,o.key)||i.value.compareTo(o.value);if(s)return s}return K(n.hasNext(),r.hasNext())}return this.defaultCompareTo(t)},e.prototype.set=function(t,n){if(y(!t.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===t.length)return this.setChild(t.firstSegment(),n);var r=this.child(t.firstSegment());r instanceof e||(r=e.EMPTY);var i=r.set(t.popFirst(),n);return this.setChild(t.firstSegment(),i)},e.prototype.delete=function(t){if(y(!t.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===t.length)return new e(this.internalValue.remove(t.firstSegment()));var n=this.child(t.firstSegment());if(n instanceof e){var r=n.delete(t.popFirst());return new e(this.internalValue.insert(t.firstSegment(),r))}return this},e.prototype.contains=function(t){return void 0!==this.field(t)},e.prototype.field=function(t){y(!t.isEmpty(),"Can't get field of empty path");var n=this;return t.forEach(function(t){n=n instanceof e&&n.internalValue.get(t)||void 0}),n},e.prototype.toString=function(){return JSON.stringify(this.value())},e.prototype.child=function(t){return this.internalValue.get(t)||void 0},e.prototype.setChild=function(t,n){return new e(this.internalValue.insert(t,n))},e.EMPTY=new e(new dt(K)),e}(bt),Ot=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=$.ArrayValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue.map(function(e){return e.value(t)})},e.prototype.forEach=function(t){this.internalValue.forEach(t)},e.prototype.isEqual=function(t){if(t instanceof e){if(this.internalValue.length!==t.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(t.internalValue[n]))return!1;return!0}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=Math.min(this.internalValue.length,t.internalValue.length),r=0;r<n;r++){var i=this.internalValue[r].compareTo(t.internalValue[r]);if(i)return i}return K(this.internalValue.length,t.internalValue.length)}return this.defaultCompareTo(t)},e.prototype.toString=function(){return JSON.stringify(this.value())},e}(bt),Mt=Number,Rt=Mt.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),Ft=Mt.MAX_SAFE_INTEGER||Math.pow(2,53)-1,Lt=Mt.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t};function jt(t){return null===t||void 0===t}function Vt(t){return Lt(t)&&t<=Ft&&t>=Rt}var Bt,Ut=function(){function t(t,e,n,r,i,o){void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),void 0===o&&(o=null),this.path=t,this.explicitOrderBy=e,this.filters=n,this.limit=r,this.startAt=i,this.endAt=o,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return t.atPath=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var t=this.getInequalityFilterField(),e=this.getFirstOrderByField();if(null!==t&&null===e)t.isKeyField()?this.memoizedOrderBy=[$t]:this.memoizedOrderBy=[new Xt(t),$t];else{y(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,i=this.explicitOrderBy;r<i.length;r++){var o=i[r];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}if(!n){var s=this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:Gt.ASCENDING;this.memoizedOrderBy.push(s===Gt.ASCENDING?$t:Yt)}}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),t.prototype.addFilter=function(e){y(null==this.getInequalityFilterField()||!(e instanceof Wt)||!e.isInequality()||e.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),y(!ct.isDocumentKey(this.path),"No filtering allowed for document query");var n=this.filters.concat([e]);return new t(this.path,this.explicitOrderBy.slice(),n,this.limit,this.startAt,this.endAt)},t.prototype.addOrderBy=function(e){y(!ct.isDocumentKey(this.path),"No ordering allowed for document query"),y(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([e]);return new t(this.path,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.withLimit=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),e,this.startAt,this.endAt)},t.prototype.withStartAt=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,e,this.endAt)},t.prototype.withEndAt=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,e)},t.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var t=this.path.canonicalString();t+="|f:";for(var e=0,n=this.filters;e<n.length;e++){t+=n[e].canonicalId(),t+=","}t+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++){t+=i[r].canonicalId(),t+=","}jt(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.memoizedCanonicalId=t}return this.memoizedCanonicalId},t.prototype.toString=function(){var t="Query("+this.path.canonicalString();return this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),jt(this.limit)||(t+=", limit: "+this.limit),this.explicitOrderBy.length>0&&(t+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return!!this.path.isEqual(t.path)&&(!(null!==this.startAt?!this.startAt.isEqual(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt))},t.prototype.docComparator=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],s=o.compare(t,e);if(0!==s)return s;n=n||o.field.isKeyField()}return y(n,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.matchesAncestor(t)&&this.matchesOrderBy(t)&&this.matchesFilters(t)&&this.matchesBounds(t)},t.prototype.hasLimit=function(){return!jt(this.limit)},t.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},t.prototype.getInequalityFilterField=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof Wt&&n.isInequality())return n.field}return null},t.prototype.hasArrayContainsFilter=function(){return void 0!==this.filters.find(function(t){return t instanceof Wt&&t.op===Ht.ARRAY_CONTAINS})},t.prototype.isDocumentQuery=function(){return ct.isDocumentKey(this.path)&&0===this.filters.length},t.prototype.matchesAncestor=function(t){var e=t.key.path;return ct.isDocumentKey(this.path)?this.path.isEqual(e):this.path.isPrefixOf(e)&&this.path.length===e.length-1},t.prototype.matchesOrderBy=function(t){for(var e=0,n=this.explicitOrderBy;e<n.length;e++){var r=n[e];if(!r.field.isKeyField()&&void 0===t.field(r.field))return!1}return!0},t.prototype.matchesFilters=function(t){for(var e=0,n=this.filters;e<n.length;e++){if(!n[e].matches(t))return!1}return!0},t.prototype.matchesBounds=function(t){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,t))&&(!this.endAt||!this.endAt.sortsBeforeDocument(this.orderBy,t))},t.prototype.assertValidBound=function(t){y(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),qt=function(){function t(){}return t.create=function(t,e,n){if(n.isEqual(wt.INSTANCE)){if(e!==Ht.EQUAL)throw new _(w.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on null.");return new zt(t)}if(n.isEqual(xt.NAN)){if(e!==Ht.EQUAL)throw new _(w.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on NaN.");return new Kt(t)}return new Wt(t,e,n)},t}(),Ht=function(){function t(t){this.name=t}return t.fromString=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;case"array-contains":return t.ARRAY_CONTAINS;default:return m("Unknown relation: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t.ARRAY_CONTAINS=new t("array-contains"),t}(),Wt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.field=e,i.op=n,i.value=r,i}return a.__extends(e,t),e.prototype.matches=function(t){if(this.field.isKeyField()){y(this.value instanceof Nt,"Comparing on key, but filter value not a RefValue"),y(this.op!==Ht.ARRAY_CONTAINS,"array-contains queries don't make sense on document keys.");var e=this.value,n=ct.comparator(t.key,e.key);return this.matchesComparison(n)}var r=t.field(this.field);return void 0!==r&&this.matchesValue(r)},e.prototype.matchesValue=function(t){var e=this;return this.op===Ht.ARRAY_CONTAINS?t instanceof Ot&&void 0!==t.internalValue.find(function(t){return t.isEqual(e.value)}):this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},e.prototype.matchesComparison=function(t){switch(this.op){case Ht.LESS_THAN:return t<0;case Ht.LESS_THAN_OR_EQUAL:return t<=0;case Ht.EQUAL:return 0===t;case Ht.GREATER_THAN:return t>0;case Ht.GREATER_THAN_OR_EQUAL:return t>=0;default:return m("Unknown relation op"+this.op)}},e.prototype.isInequality=function(){return this.op!==Ht.EQUAL&&this.op!==Ht.ARRAY_CONTAINS},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},e.prototype.isEqual=function(t){return t instanceof e&&(this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&this.value.isEqual(t.value))},e.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},e}(qt),zt=function(t){function e(e){var n=t.call(this)||this;return n.field=e,n}return a.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return void 0!==e&&null===e.value()},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS null"},e.prototype.toString=function(){return this.field.canonicalString()+" IS null"},e.prototype.isEqual=function(t){return t instanceof e&&this.field.isEqual(t.field)},e}(qt),Kt=function(t){function e(e){var n=t.call(this)||this;return n.field=e,n}return a.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field),n=e&&e.value();return"number"==typeof n&&isNaN(n)},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.toString=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.isEqual=function(t){return t instanceof e&&this.field.isEqual(t.field)},e}(qt),Gt=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),Qt=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,n=this.position;e<n.length;e++){t+=n[e].toString()}return t},t.prototype.sortsBeforeDocument=function(t,e){y(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=t[r],o=this.position[r];if(i.field.isKeyField())y(o instanceof Nt,"Bound has a non-key value where the key path is being used."),n=ct.comparator(o.key,e.key);else{var s=e.field(i.field);y(void 0!==s,"Field should exist since document matched the orderBy already."),n=o.compareTo(s)}if(i.dir===Gt.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++){var n=this.position[e],r=t.position[e];return n.isEqual(r)}return!0},t}(),Xt=function(){function t(t,e){this.field=t,void 0===e&&(e=Gt.ASCENDING),this.dir=e,this.isKeyOrderBy=t.isKeyField()}return t.prototype.compare=function(t,e){var n=this.isKeyOrderBy?ht.compareByKey(t,e):ht.compareByField(this.field,t,e);switch(this.dir){case Gt.ASCENDING:return n;case Gt.DESCENDING:return-1*n;default:return m("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},t.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),$t=new Xt(ut.keyField(),Gt.ASCENDING),Yt=new Xt(ut.keyField(),Gt.DESCENDING),Jt=function(){function t(t){this.timestamp=t}return t.fromMicroseconds=function(e){var n=Math.floor(e/1e6);return new t(new et(n,e%1e6*1e3))},t.fromTimestamp=function(e){return new t(e)},t.forDeletedDoc=function(){return t.MIN},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t.MIN=new t(new et(0,0)),t}();!function(t){t[t.Listen=0]="Listen",t[t.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",t[t.LimboResolution=2]="LimboResolution"}(Bt||(Bt={}));var Zt,te=function(){function t(t,e,n,r,i,o){void 0===i&&(i=Jt.MIN),void 0===o&&(o=b()),this.query=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.resumeToken=o}return t.prototype.copy=function(e){return new t(this.query,this.targetId,this.purpose,void 0===e.sequenceNumber?this.sequenceNumber:e.sequenceNumber,void 0===e.snapshotVersion?this.snapshotVersion:e.snapshotVersion,void 0===e.resumeToken?this.resumeToken:e.resumeToken)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.purpose===t.purpose&&this.sequenceNumber===t.sequenceNumber&&this.snapshotVersion.isEqual(t.snapshotVersion)&&this.resumeToken===t.resumeToken&&this.query.isEqual(t.query)},t}(),ee=function(){function t(t){this.fields=t}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++){if(n[e].isPrefixOf(t))return!0}return!1},t.prototype.isEqual=function(t){return G(this.fields,t.fields)},t}(),ne=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),re=function(){return function(t,e){this.version=t,this.transformResults=e}}();!function(t){t[t.Set=0]="Set",t[t.Patch=1]="Patch",t[t.Transform=2]="Transform",t[t.Delete=3]="Delete"}(Zt||(Zt={}));var ie=function(){function t(t,e){this.updateTime=t,this.exists=e,y(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.isValidFor=function(t){return void 0!==this.updateTime?t instanceof ht&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===t instanceof ht:(y(this.isNone,"Precondition should be empty"),!0)},t.prototype.isEqual=function(t){return e=this.updateTime,n=t.updateTime,(null!==e&&void 0!==e?!(!n||!e.isEqual(n)):e===n)&&this.exists===t.exists;var e,n},t.NONE=new t,t}(),oe=function(){function t(){}return t.prototype.verifyKeyMatches=function(t){null!=t&&y(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},t.getPostMutationVersion=function(t){return t instanceof ht?t.version:Jt.MIN},t}(),se=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.value=n,i.precondition=r,i.type=Zt.Set,i}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){this.verifyKeyMatches(t),y(null==e.transformResults,"Transform results received by SetMutation.");var n=e.version;return new ht(this.key,n,this.value,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=oe.getPostMutationVersion(t);return new ht(this.key,r,this.value,{hasLocalMutations:!0})},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.precondition.isEqual(t.precondition)},e}(oe),ae=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.type=Zt.Patch,o}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),y(null==e.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(t))return new ft(this.key,e.version);var n=this.patchDocument(t);return new ht(this.key,e.version,n,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=oe.getPostMutationVersion(t),i=this.patchDocument(t);return new ht(this.key,r,i,{hasLocalMutations:!0})},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.fieldMask.isEqual(t.fieldMask)&&this.precondition.isEqual(t.precondition)},e.prototype.patchDocument=function(t){var e;return e=t instanceof ht?t.data:Pt.EMPTY,this.patchObject(e)},e.prototype.patchObject=function(t){for(var e=0,n=this.fieldMask.fields;e<n.length;e++){var r=n[e];if(!r.isEmpty()){var i=this.data.field(r);t=void 0!==i?t.set(r,i):t.delete(r)}}return t},e}(oe),ue=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.fieldTransforms=n,r.type=Zt.Transform,r.precondition=ie.exists(!0),r}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),y(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(t))return new ft(this.key,e.version);var n=this.requireDocument(t),r=this.serverTransformResults(t,e.transformResults),i=e.version,o=this.transformObject(n.data,r);return new ht(this.key,i,o,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=this.requireDocument(t),i=this.localTransformResults(n,e),o=this.transformObject(r.data,i);return new ht(this.key,r.version,o,{hasLocalMutations:!0})},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&G(this.fieldTransforms,t.fieldTransforms)&&this.precondition.isEqual(t.precondition)},e.prototype.requireDocument=function(t){y(t instanceof ht,"Unknown MaybeDocument type "+t);var e=t;return y(e.key.isEqual(this.key),"Can only transform a document with the same key"),e},e.prototype.serverTransformResults=function(t,e){var n=[];y(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],o=i.transform,s=null;t instanceof ht&&(s=t.field(i.field)||null),n.push(o.applyToRemoteDocument(s,e[r]))}return n},e.prototype.localTransformResults=function(t,e){for(var n=[],r=0,i=this.fieldTransforms;r<i.length;r++){var o=i[r],s=o.transform,a=null;e instanceof ht&&(a=e.field(o.field)||null),n.push(s.applyToLocalView(a,t))}return n},e.prototype.transformObject=function(t,e){y(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++){var r=this.fieldTransforms[n].field;t=t.set(r,e[n])}return t},e}(oe),ce=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.precondition=n,r.type=Zt.Delete,r}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),y(null==e.transformResults,"Transform results received by DeleteMutation."),new pt(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){return this.verifyKeyMatches(t),this.precondition.isValidFor(t)?(t&&y(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new pt(this.key,Jt.forDeletedDoc())):t},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.precondition.isEqual(t.precondition)},e}(oe),le=function(){function t(){}return t.prototype.applyToLocalView=function(t,e){return new Dt(e,t)},t.prototype.applyToRemoteDocument=function(t,e){return e},t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),he=function(){function t(t){this.elements=t}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=fe(t),n=function(t){e.find(function(e){return e.isEqual(t)})||e.push(t)},r=0,i=this.elements;r<i.length;r++){n(i[r])}return new Ot(e)},t.prototype.isEqual=function(e){return e instanceof t&&G(e.elements,this.elements)},t}(),pe=function(){function t(t){this.elements=t}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=fe(t),n=function(t){e=e.filter(function(e){return!e.isEqual(t)})},r=0,i=this.elements;r<i.length;r++){n(i[r])}return new Ot(e)},t.prototype.isEqual=function(e){return e instanceof t&&G(e.elements,this.elements)},t}();function fe(t){return t instanceof Ot?t.internalValue.slice():[]}var de,ve=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}();function me(t){switch(t){case w.OK:return m("Treated status OK as error");case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0;default:return m("Unknown status code: "+t)}}function ye(t){if(void 0===t)return d("GRPC error has no .code"),w.UNKNOWN;switch(t){case de.OK:return w.OK;case de.CANCELLED:return w.CANCELLED;case de.UNKNOWN:return w.UNKNOWN;case de.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case de.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case de.INTERNAL:return w.INTERNAL;case de.UNAVAILABLE:return w.UNAVAILABLE;case de.UNAUTHENTICATED:return w.UNAUTHENTICATED;case de.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case de.NOT_FOUND:return w.NOT_FOUND;case de.ALREADY_EXISTS:return w.ALREADY_EXISTS;case de.PERMISSION_DENIED:return w.PERMISSION_DENIED;case de.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case de.ABORTED:return w.ABORTED;case de.OUT_OF_RANGE:return w.OUT_OF_RANGE;case de.UNIMPLEMENTED:return w.UNIMPLEMENTED;case de.DATA_LOSS:return w.DATA_LOSS;default:return m("Unknown status code: "+t)}}!function(t){t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS"}(de||(de={}));var ge=function(){function t(t){this.comparator=t,this.data=new dt(this.comparator)}return t.fromMapKeys=function(e){var n=new t(e.comparator);return e.forEach(function(t){n=n.add(t)}),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();){if(!t(n.getNext().key))return}},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),be=new dt(ct.comparator);function we(){return be}var _e=new dt(ct.comparator);function Ee(){return _e}var Ce=new dt(ct.comparator);function Se(){return Ce}var xe=new ge(ct.comparator);function Te(){return xe}var Ae=new ge(K);function De(){return Ae}var Ie,Ne,ke=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||ct.comparator(e.key,n.key)}:function(t,e){return ct.comparator(t.key,e.key)},this.keyedMap=Ee(),this.sortedSet=new dt(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}();!function(t){t[t.Added=0]="Added",t[t.Removed=1]="Removed",t[t.Modified=2]="Modified",t[t.Metadata=3]="Metadata"}(Ie||(Ie={})),function(t){t[t.Local=0]="Local",t[t.Synced=1]="Synced"}(Ne||(Ne={}));var Pe,Oe=function(){function t(){this.changeMap=new dt(ct.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.changeMap.get(e);n?t.type!==Ie.Added&&n.type===Ie.Metadata?this.changeMap=this.changeMap.insert(e,t):t.type===Ie.Metadata&&n.type!==Ie.Removed?this.changeMap=this.changeMap.insert(e,{type:n.type,doc:t.doc}):t.type===Ie.Modified&&n.type===Ie.Modified?this.changeMap=this.changeMap.insert(e,{type:Ie.Modified,doc:t.doc}):t.type===Ie.Modified&&n.type===Ie.Added?this.changeMap=this.changeMap.insert(e,{type:Ie.Added,doc:t.doc}):t.type===Ie.Removed&&n.type===Ie.Added?this.changeMap=this.changeMap.remove(e):t.type===Ie.Removed&&n.type===Ie.Modified?this.changeMap=this.changeMap.insert(e,{type:Ie.Removed,doc:n.doc}):t.type===Ie.Added&&n.type===Ie.Removed?this.changeMap=this.changeMap.insert(e,{type:Ie.Modified,doc:t.doc}):m("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(e,t)},t.prototype.getChanges=function(){var t=[];return this.changeMap.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Me=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:Ie.Added,doc:t})}),new t(e,n,ke.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Re=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r,i=((r={})[e]=Fe.createSynthesizedTargetChangeForCurrentChange(e,n),r);return new t(Jt.MIN,i,De(),we(),Te())},t}(),Fe=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(b(),n,Te(),Te(),Te())},t}(),Le=function(){return function(t,e,n,r){this.updatedTargetIds=t,this.removedTargetIds=e,this.key=n,this.newDoc=r}}(),je=function(){return function(t,e){this.targetId=t,this.existenceFilter=e}}();!function(t){t[t.NoChange=0]="NoChange",t[t.Added=1]="Added",t[t.Removed=2]="Removed",t[t.Current=3]="Current",t[t.Reset=4]="Reset"}(Pe||(Pe={}));var Ve=function(){return function(t,e,n,r){void 0===n&&(n=b()),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}(),Be=function(){function t(){this.pendingResponses=0,this.documentChanges=He(),this._resumeToken=b(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),t.prototype.updateResumeToken=function(t){t.length>0&&(this._hasPendingChanges=!0,this._resumeToken=t)},t.prototype.toTargetChange=function(){var t=Te(),e=Te(),n=Te();return this.documentChanges.forEach(function(r,i){switch(i){case Ie.Added:t=t.add(r);break;case Ie.Modified:e=e.add(r);break;case Ie.Removed:n=n.add(r);break;default:m("Encountered invalid change type: "+i)}}),new Fe(this._resumeToken,this._current,t,e,n)},t.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=He()},t.prototype.addDocumentChange=function(t,e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(t,e)},t.prototype.removeDocumentChange=function(t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(t)},t.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},t.prototype.recordTargetResponse=function(){this.pendingResponses-=1},t.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},t}(),Ue=function(){function t(t){this.metadataProvider=t,this.targetStates={},this.pendingDocumentUpdates=we(),this.pendingDocumentTargetMapping=qe(),this.pendingTargetResets=new ge(K)}return t.prototype.handleDocumentChange=function(t){for(var e=0,n=t.updatedTargetIds;e<n.length;e++){var r=n[e];t.newDoc instanceof ht?this.addDocumentToTarget(r,t.newDoc):t.newDoc instanceof pt&&this.removeDocumentFromTarget(r,t.key,t.newDoc)}for(var i=0,o=t.removedTargetIds;i<o.length;i++){r=o[i];this.removeDocumentFromTarget(r,t.key,t.newDoc)}},t.prototype.handleTargetChange=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.ensureTargetState(n);switch(t.state){case Pe.NoChange:e.isActiveTarget(n)&&r.updateResumeToken(t.resumeToken);break;case Pe.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(t.resumeToken);break;case Pe.Removed:r.recordTargetResponse(),r.isPending||e.removeTarget(n),y(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case Pe.Current:e.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(t.resumeToken));break;case Pe.Reset:e.isActiveTarget(n)&&(e.resetTarget(n),r.updateResumeToken(t.resumeToken));break;default:m("Unknown target watch change state: "+t.state)}})},t.prototype.forEachTarget=function(t,e){t.targetIds.length>0?t.targetIds.forEach(e):x(this.targetStates,e)},t.prototype.handleExistenceFilter=function(t){var e=t.targetId,n=t.existenceFilter.count,r=this.queryDataForActiveTarget(e);if(r){var i=r.query;if(i.isDocumentQuery())if(0===n){var o=new ct(i.path);this.removeDocumentFromTarget(e,o,new pt(o,Jt.forDeletedDoc()))}else y(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(e)!==n&&(this.resetTarget(e),this.pendingTargetResets=this.pendingTargetResets.add(e))}},t.prototype.createRemoteEvent=function(t){var e=this,n={};x(this.targetStates,function(r,i){var o=e.queryDataForActiveTarget(r);if(o){if(i.current&&o.query.isDocumentQuery()){var s=new ct(o.query.path);null!==e.pendingDocumentUpdates.get(s)||e.targetContainsDocument(r,s)||e.removeDocumentFromTarget(r,s,new pt(s,t))}i.hasPendingChanges&&(n[r]=i.toTargetChange(),i.clearPendingChanges())}});var r=Te();this.pendingDocumentTargetMapping.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.queryDataForActiveTarget(t);return!n||n.purpose===Bt.LimboResolution||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Re(t,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=we(),this.pendingDocumentTargetMapping=qe(),this.pendingTargetResets=new ge(K),i},t.prototype.addDocumentToTarget=function(t,e){if(this.isActiveTarget(t)){var n=this.targetContainsDocument(t,e.key)?Ie.Modified:Ie.Added;this.ensureTargetState(t).addDocumentChange(e.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e.key,e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e.key,this.ensureDocumentTargetMapping(e.key).add(t))}},t.prototype.removeDocumentFromTarget=function(t,e,n){if(this.isActiveTarget(t)){var r=this.ensureTargetState(t);this.targetContainsDocument(t,e)?r.addDocumentChange(e,Ie.Removed):r.removeDocumentChange(e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,this.ensureDocumentTargetMapping(e).delete(t)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e,n))}},t.prototype.removeTarget=function(t){delete this.targetStates[t]},t.prototype.getCurrentDocumentCountForTarget=function(t){var e=this.ensureTargetState(t).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.recordPendingTargetRequest=function(t){this.ensureTargetState(t).recordPendingTargetRequest()},t.prototype.ensureTargetState=function(t){return this.targetStates[t]||(this.targetStates[t]=new Be),this.targetStates[t]},t.prototype.ensureDocumentTargetMapping=function(t){var e=this.pendingDocumentTargetMapping.get(t);return e||(e=new ge(K),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,e)),e},t.prototype.isActiveTarget=function(t){return null!==this.queryDataForActiveTarget(t)},t.prototype.queryDataForActiveTarget=function(t){var e=this.targetStates[t];return e&&e.isPending?null:this.metadataProvider.getQueryDataForTarget(t)},t.prototype.resetTarget=function(t){var e=this;y(!this.targetStates[t].isPending,"Should only reset active targets"),this.targetStates[t]=new Be,this.metadataProvider.getRemoteKeysForTarget(t).forEach(function(n){e.removeDocumentFromTarget(t,n,null)})},t.prototype.targetContainsDocument=function(t,e){return this.metadataProvider.getRemoteKeysForTarget(t).has(e)},t}();function qe(){return new dt(ct.comparator)}function He(){return new dt(ct.comparator)}var We,ze,Ke=((We={})[Gt.ASCENDING.name]="ASCENDING",We[Gt.DESCENDING.name]="DESCENDING",We),Ge=((ze={})[Ht.LESS_THAN.name]="LESS_THAN",ze[Ht.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",ze[Ht.GREATER_THAN.name]="GREATER_THAN",ze[Ht.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",ze[Ht.EQUAL.name]="EQUAL",ze[Ht.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",ze),Qe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xe(t,e){y(!jt(t),e+" is missing")}function $e(t){return"number"==typeof t?t:"string"==typeof t?Number(t):m("can't parse "+t)}var Ye=function(){function t(t,e){this.databaseId=t,this.options=e}return t.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},t.prototype.unsafeCastProtoByteString=function(t){return t},t.prototype.fromRpcStatus=function(t){var e=void 0===t.code?w.UNKNOWN:ye(t.code);return new _(e,t.message||"")},t.prototype.toInt32Value=function(t){return jt(t)?void 0:{value:t}},t.prototype.fromInt32Value=function(t){var e;return jt(e="object"==typeof t?t.value:t)?null:e},t.prototype.toTimestamp=function(t){return{seconds:t.seconds,nanos:t.nanoseconds}},t.prototype.fromTimestamp=function(t){if("string"==typeof t)return this.fromIso8601String(t);y(!!t,"Cannot deserialize null or undefined timestamp.");var e=$e(t.seconds||"0"),n=t.nanos||0;return new et(e,n)},t.prototype.fromIso8601String=function(t){var e=0,n=Qe.exec(t);if(y(!!n,"invalid timestamp: "+t),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t),o=Math.floor(i.getTime()/1e3);return new et(o,e)},t.prototype.toBytes=function(t){return this.options.useProto3Json?t.toBase64():this.unsafeCastProtoByteString(t.toUint8Array())},t.prototype.fromBlob=function(t){return"string"==typeof t?(y(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),J.fromBase64String(t)):(y(!this.options.useProto3Json,"Expected bytes to be passed in as string, but got something else instead."),J.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.toTimestamp(t.toTimestamp())},t.prototype.fromVersion=function(t){return y(!!t,"Trying to deserialize version that isn't set"),Jt.fromTimestamp(this.fromTimestamp(t))},t.prototype.toResourceName=function(t,e){return this.fullyQualifiedPrefixPath(t).child("documents").child(e).canonicalString()},t.prototype.fromResourceName=function(t){var e=st.fromString(t);return y(this.isValidResourceName(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.toName=function(t){return this.toResourceName(this.databaseId,t.path)},t.prototype.fromName=function(t){var e=this.fromResourceName(t);return y(e.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.databaseId.projectId),y(!e.get(3)&&!this.databaseId.database||e.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.databaseId.database),new ct(this.extractLocalPathFromResourceName(e))},t.prototype.toQueryPath=function(t){return 0===t.length?this.encodedDatabaseId:this.toResourceName(this.databaseId,t)},t.prototype.fromQueryPath=function(t){var e=this.fromResourceName(t);return 4===e.length?st.EMPTY_PATH:this.extractLocalPathFromResourceName(e)},Object.defineProperty(t.prototype,"encodedDatabaseId",{get:function(){return new st(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),t.prototype.fullyQualifiedPrefixPath=function(t){return new st(["projects",t.projectId,"databases",t.database])},t.prototype.extractLocalPathFromResourceName=function(t){return y(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.popFirst(5)},t.prototype.isValidResourceName=function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)},t.prototype.toValue=function(t){if(t instanceof wt)return{nullValue:"NULL_VALUE"};if(t instanceof _t)return{booleanValue:t.value()};if(t instanceof St)return{integerValue:""+t.value()};if(t instanceof xt){var e=t.value();if(this.options.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof Tt?{stringValue:t.value()}:t instanceof Pt?{mapValue:this.toMapValue(t)}:t instanceof Ot?{arrayValue:this.toArrayValue(t)}:t instanceof At?{timestampValue:this.toTimestamp(t.internalValue)}:t instanceof kt?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof It?{bytesValue:this.toBytes(t.value())}:t instanceof Nt?{referenceValue:this.toResourceName(t.databaseId,t.key.path)}:m("Unknown FieldValue "+JSON.stringify(t))},t.prototype.fromValue=function(t){var e=this,n=t.value_type;if(Je(t,n,"nullValue"))return wt.INSTANCE;if(Je(t,n,"booleanValue"))return _t.of(t.booleanValue);if(Je(t,n,"integerValue"))return new St($e(t.integerValue));if(Je(t,n,"doubleValue")){if(this.options.useProto3Json){if("NaN"===t.doubleValue)return xt.NAN;if("Infinity"===t.doubleValue)return xt.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return xt.NEGATIVE_INFINITY}return new xt(t.doubleValue)}if(Je(t,n,"stringValue"))return new Tt(t.stringValue);if(Je(t,n,"mapValue"))return this.fromFields(t.mapValue.fields||{});if(Je(t,n,"arrayValue")){Xe(t.arrayValue,"arrayValue");var r=t.arrayValue.values||[];return new Ot(r.map(function(t){return e.fromValue(t)}))}if(Je(t,n,"timestampValue"))return Xe(t.timestampValue,"timestampValue"),new At(this.fromTimestamp(t.timestampValue));if(Je(t,n,"geoPointValue")){Xe(t.geoPointValue,"geoPointValue");var i=t.geoPointValue.latitude||0,o=t.geoPointValue.longitude||0;return new kt(new tt(i,o))}if(Je(t,n,"bytesValue")){Xe(t.bytesValue,"bytesValue");var s=this.fromBlob(t.bytesValue);return new It(s)}if(Je(t,n,"referenceValue")){Xe(t.referenceValue,"referenceValue");var a=this.fromResourceName(t.referenceValue),u=new it(a.get(1),a.get(3)),c=new ct(this.extractLocalPathFromResourceName(a));return new Nt(u,c)}return m("Unknown Value proto "+JSON.stringify(t))},t.prototype.toMutationDocument=function(t,e){return{name:this.toName(t),fields:this.toFields(e)}},t.prototype.toDocument=function(t){return y(!t.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(t.key),fields:this.toFields(t.data),updateTime:this.toTimestamp(t.version.toTimestamp())}},t.prototype.fromDocument=function(t,e){return new ht(this.fromName(t.name),this.fromVersion(t.updateTime),this.fromFields(t.fields||{}),{hasCommittedMutations:!!e})},t.prototype.toFields=function(t){var e=this,n={};return t.forEach(function(t,r){n[t]=e.toValue(r)}),n},t.prototype.fromFields=function(t){var e=this,n=t,r=Pt.EMPTY;return T(n,function(t,n){r=r.set(new ut([t]),e.fromValue(n))}),r},t.prototype.toMapValue=function(t){return{fields:this.toFields(t)}},t.prototype.toArrayValue=function(t){var e=this,n=[];return t.forEach(function(t){n.push(e.toValue(t))}),{values:n}},t.prototype.fromFound=function(t){y(!!t.found,"Tried to deserialize a found document from a missing document."),Xe(t.found.name,"doc.found.name"),Xe(t.found.updateTime,"doc.found.updateTime");var e=this.fromName(t.found.name),n=this.fromVersion(t.found.updateTime),r=this.fromFields(t.found.fields||{});return new ht(e,n,r,{})},t.prototype.fromMissing=function(t){y(!!t.missing,"Tried to deserialize a missing document from a found document."),y(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.fromName(t.missing),n=this.fromVersion(t.readTime);return new pt(e,n)},t.prototype.fromMaybeDocument=function(t){var e=t.result;return Je(t,e,"found")?this.fromFound(t):Je(t,e,"missing")?this.fromMissing(t):m("invalid batch get response: "+JSON.stringify(t))},t.prototype.toWatchTargetChangeState=function(t){switch(t){case Pe.Added:return"ADD";case Pe.Current:return"CURRENT";case Pe.NoChange:return"NO_CHANGE";case Pe.Removed:return"REMOVE";case Pe.Reset:return"RESET";default:return m("Unknown WatchTargetChangeState: "+t)}},t.prototype.toTestWatchChange=function(t){if(t instanceof je)return{filter:{count:t.existenceFilter.count,targetId:t.targetId}};if(t instanceof Le){if(t.newDoc instanceof ht){var e=t.newDoc;return{documentChange:{document:{name:this.toName(e.key),fields:this.toFields(e.data),updateTime:this.toVersion(e.version)},targetIds:t.updatedTargetIds,removedTargetIds:t.removedTargetIds}}}if(t.newDoc instanceof pt){e=t.newDoc;return{documentDelete:{document:this.toName(e.key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}}}if(null===t.newDoc)return{documentRemove:{document:this.toName(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof Ve){var n=void 0;return t.cause&&(n={code:function(t){if(void 0===t)return de.OK;switch(t){case w.OK:return de.OK;case w.CANCELLED:return de.CANCELLED;case w.UNKNOWN:return de.UNKNOWN;case w.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case w.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case w.INTERNAL:return de.INTERNAL;case w.UNAVAILABLE:return de.UNAVAILABLE;case w.UNAUTHENTICATED:return de.UNAUTHENTICATED;case w.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case w.NOT_FOUND:return de.NOT_FOUND;case w.ALREADY_EXISTS:return de.ALREADY_EXISTS;case w.PERMISSION_DENIED:return de.PERMISSION_DENIED;case w.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case w.ABORTED:return de.ABORTED;case w.OUT_OF_RANGE:return de.OUT_OF_RANGE;case w.UNIMPLEMENTED:return de.UNIMPLEMENTED;case w.DATA_LOSS:return de.DATA_LOSS;default:return m("Unknown status code: "+t)}}(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(t.state),targetIds:t.targetIds,resumeToken:this.unsafeCastProtoByteString(t.resumeToken),cause:n}}}return m("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.fromWatchChange=function(t){var e,n=t.response_type;if(Je(t,n,"targetChange")){Xe(t.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=t.targetChange.resumeToken||this.emptyByteString(),s=t.targetChange.cause,a=s&&this.fromRpcStatus(s);e=new Ve(r,i,o,a||null)}else if(Je(t,n,"documentChange")){Xe(t.documentChange,"documentChange"),Xe(t.documentChange.document,"documentChange.name"),Xe(t.documentChange.document.name,"documentChange.document.name"),Xe(t.documentChange.document.updateTime,"documentChange.document.updateTime");var u=t.documentChange,c=this.fromName(u.document.name),l=this.fromVersion(u.document.updateTime),h=this.fromFields(u.document.fields||{}),p=new ht(c,l,h,{}),f=u.targetIds||[],d=u.removedTargetIds||[];e=new Le(f,d,p.key,p)}else if(Je(t,n,"documentDelete")){Xe(t.documentDelete,"documentDelete"),Xe(t.documentDelete.document,"documentDelete.document");var v=t.documentDelete;c=this.fromName(v.document),l=v.readTime?this.fromVersion(v.readTime):Jt.forDeletedDoc(),p=new pt(c,l),d=v.removedTargetIds||[];e=new Le([],d,p.key,p)}else if(Je(t,n,"documentRemove")){Xe(t.documentRemove,"documentRemove"),Xe(t.documentRemove.document,"documentRemove");var y=t.documentRemove;c=this.fromName(y.document),d=y.removedTargetIds||[];e=new Le([],d,c,null)}else{if(!Je(t,n,"filter"))return m("Unknown change type "+JSON.stringify(t));Xe(t.filter,"filter"),Xe(t.filter.targetId,"filter.targetId");var g=t.filter,b=g.count||0,w=new ve(b),_=g.targetId;e=new je(_,w)}return e},t.prototype.fromWatchTargetChangeState=function(t){return"NO_CHANGE"===t?Pe.NoChange:"ADD"===t?Pe.Added:"REMOVE"===t?Pe.Removed:"CURRENT"===t?Pe.Current:"RESET"===t?Pe.Reset:m("Got unexpected TargetChange.state: "+t)},t.prototype.versionFromListenResponse=function(t){if(!Je(t,t.response_type,"targetChange"))return Jt.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?Jt.MIN:e.readTime?this.fromVersion(e.readTime):Jt.MIN},t.prototype.toMutation=function(t){var e,n=this;if(t instanceof se)e={update:this.toMutationDocument(t.key,t.value)};else if(t instanceof ce)e={delete:this.toName(t.key)};else if(t instanceof ae)e={update:this.toMutationDocument(t.key,t.data),updateMask:this.toDocumentMask(t.fieldMask)};else{if(!(t instanceof ue))return m("Unknown mutation type "+t.type);e={transform:{document:this.toName(t.key),fieldTransforms:t.fieldTransforms.map(function(t){return n.toFieldTransform(t)})}}}return t.precondition.isNone||(e.currentDocument=this.toPrecondition(t.precondition)),e},t.prototype.fromMutation=function(t){var e=this,n=t.currentDocument?this.fromPrecondition(t.currentDocument):ie.NONE;if(t.update){Xe(t.update.name,"name");var r=this.fromName(t.update.name),i=this.fromFields(t.update.fields||{});if(t.updateMask){var o=this.fromDocumentMask(t.updateMask);return new ae(r,i,o,n)}return new se(r,i,n)}if(t.delete){r=this.fromName(t.delete);return new ce(r,n)}if(t.transform){r=this.fromName(t.transform.document);var s=t.transform.fieldTransforms.map(function(t){return e.fromFieldTransform(t)});return y(!0===n.exists,'Transforms only support precondition "exists == true"'),new ue(r,s)}return m("unknown mutation proto: "+JSON.stringify(t))},t.prototype.toPrecondition=function(t){return y(!t.isNone,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:m("Unknown precondition")},t.prototype.fromPrecondition=function(t){return void 0!==t.updateTime?ie.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?ie.exists(t.exists):ie.NONE},t.prototype.fromWriteResult=function(t,e){var n=this,r=t.updateTime?this.fromVersion(t.updateTime):this.fromVersion(e),i=null;return t.transformResults&&t.transformResults.length>0&&(i=t.transformResults.map(function(t){return n.fromValue(t)})),new re(r,i)},t.prototype.fromWriteResults=function(t,e){var n=this;return t&&t.length>0?(y(void 0!==e,"Received a write result without a commit time"),t.map(function(t){return n.fromWriteResult(t,e)})):[]},t.prototype.toFieldTransform=function(t){var e=this,n=t.transform;if(n instanceof le)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof he)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements.map(function(t){return e.toValue(t)})}};if(n instanceof pe)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements.map(function(t){return e.toValue(t)})}};throw m("Unknown transform: "+t.transform)},t.prototype.fromFieldTransform=function(t){var e=this,n=t.transform_type,r=null;if(Je(t,n,"setToServerValue"))y("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),r=le.instance;else if(Je(t,n,"appendMissingElements")){var i=t.appendMissingElements.values||[];r=new he(i.map(function(t){return e.fromValue(t)}))}else if(Je(t,n,"removeAllFromArray")){i=t.removeAllFromArray.values||[];r=new pe(i.map(function(t){return e.fromValue(t)}))}else m("Unknown transform proto: "+JSON.stringify(t));var o=ut.fromServerFormat(t.fieldPath);return new ne(o,r)},t.prototype.toDocumentsTarget=function(t){return{documents:[this.toQueryPath(t.path)]}},t.prototype.fromDocumentsTarget=function(t){var e=t.documents.length;y(1===e,"DocumentsTarget contained other than 1 document: "+e);var n=t.documents[0];return Ut.atPath(this.fromQueryPath(n))},t.prototype.toQueryTarget=function(t){var e={structuredQuery:{}};if(t.path.isEmpty())e.parent=this.toQueryPath(st.EMPTY_PATH);else{var n=t.path;y(n.length%2!=0,"Document queries with filters are not supported."),e.parent=this.toQueryPath(n.popLast()),e.structuredQuery.from=[{collectionId:n.lastSegment()}]}var r=this.toFilter(t.filters);r&&(e.structuredQuery.where=r);var i=this.toOrder(t.orderBy);i&&(e.structuredQuery.orderBy=i);var o=this.toInt32Value(t.limit);return void 0!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.toCursor(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.toCursor(t.endAt)),e},t.prototype.fromQueryTarget=function(t){var e=this.fromQueryPath(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0;if(r>0){y(1===r,"StructuredQuery.from with more than one collection is not supported.");var i=n.from[0];e=e.child(i.collectionId)}var o=[];n.where&&(o=this.fromFilter(n.where));var s=[];n.orderBy&&(s=this.fromOrder(n.orderBy));var a=null;n.limit&&(a=this.fromInt32Value(n.limit));var u=null;n.startAt&&(u=this.fromCursor(n.startAt));var c=null;return n.endAt&&(c=this.fromCursor(n.endAt)),new Ut(e,s,o,a,u,c)},t.prototype.toListenRequestLabels=function(t){var e=this.toLabel(t.purpose);return null==e?null:{"goog-listen-tags":e}},t.prototype.toLabel=function(t){switch(t){case Bt.Listen:return null;case Bt.ExistenceFilterMismatch:return"existence-filter-mismatch";case Bt.LimboResolution:return"limbo-document";default:return m("Unrecognized query purpose: "+t)}},t.prototype.toTarget=function(t){var e,n=t.query;return(e=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=t.targetId,t.resumeToken.length>0&&(e.resumeToken=this.unsafeCastProtoByteString(t.resumeToken)),e},t.prototype.toFilter=function(t){var e=this;if(0!==t.length){var n=t.map(function(t){return t instanceof Wt?e.toRelationFilter(t):e.toUnaryFilter(t)});return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.fromFilter=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.fromUnaryFilter(t)]:void 0!==t.fieldFilter?[this.fromRelationFilter(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e.fromFilter(t)}).reduce(function(t,e){return t.concat(e)}):m("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.toOrder=function(t){var e=this;if(0!==t.length)return t.map(function(t){return e.toPropertyOrder(t)})},t.prototype.fromOrder=function(t){var e=this;return t.map(function(t){return e.fromPropertyOrder(t)})},t.prototype.toCursor=function(t){var e=this;return{before:t.before,values:t.position.map(function(t){return e.toValue(t)})}},t.prototype.fromCursor=function(t){var e=this,n=!!t.before,r=t.values.map(function(t){return e.fromValue(t)});return new Qt(r,n)},t.prototype.toDirection=function(t){return Ke[t.name]},t.prototype.fromDirection=function(t){switch(t){case"ASCENDING":return Gt.ASCENDING;case"DESCENDING":return Gt.DESCENDING;default:return}},t.prototype.toOperatorName=function(t){return Ge[t.name]},t.prototype.fromOperatorName=function(t){switch(t){case"EQUAL":return Ht.EQUAL;case"GREATER_THAN":return Ht.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return Ht.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return Ht.LESS_THAN;case"LESS_THAN_OR_EQUAL":return Ht.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return Ht.ARRAY_CONTAINS;case"OPERATOR_UNSPECIFIED":return m("Unspecified relation");default:return m("Unknown relation")}},t.prototype.toFieldPathReference=function(t){return{fieldPath:t.canonicalString()}},t.prototype.fromFieldPathReference=function(t){return ut.fromServerFormat(t.fieldPath)},t.prototype.toPropertyOrder=function(t){return{field:this.toFieldPathReference(t.field),direction:this.toDirection(t.dir)}},t.prototype.fromPropertyOrder=function(t){return new Xt(this.fromFieldPathReference(t.field),this.fromDirection(t.direction))},t.prototype.toRelationFilter=function(t){return t instanceof Wt?{fieldFilter:{field:this.toFieldPathReference(t.field),op:this.toOperatorName(t.op),value:this.toValue(t.value)}}:m("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromRelationFilter=function(t){return new Wt(this.fromFieldPathReference(t.fieldFilter.field),this.fromOperatorName(t.fieldFilter.op),this.fromValue(t.fieldFilter.value))},t.prototype.toUnaryFilter=function(t){return t instanceof Kt?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NAN"}}:t instanceof zt?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NULL"}}:m("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromUnaryFilter=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.fromFieldPathReference(t.unaryFilter.field);return new Kt(e);case"IS_NULL":var n=this.fromFieldPathReference(t.unaryFilter.field);return new zt(n);case"OPERATOR_UNSPECIFIED":return m("Unspecified filter");default:return m("Unknown filter")}},t.prototype.toDocumentMask=function(t){return{fieldPaths:t.fields.map(function(t){return t.canonicalString()})}},t.prototype.fromDocumentMask=function(t){var e=(t.fieldPaths||[]).map(function(t){return ut.fromServerFormat(t)});return new ee(e)},t}();function Je(t,e,n){return e===n||!e&&n in t}var Ze="FirebaseError",tn=Error.captureStackTrace,en=function(){return function(t,e){if(this.code=t,this.message=e,tn)tn(this,nn.prototype.create);else try{throw Error.apply(this,arguments)}catch(t){this.name=Ze,Object.defineProperty(this,"stack",{get:function(){return t.stack}})}}}();en.prototype=Object.create(Error.prototype),en.prototype.constructor=en,en.prototype.name=Ze;var nn=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return t.prototype.create=function(t,e){void 0===e&&(e={});var n,r=this.errors[t],i=this.service+"/"+t;n=void 0===r?"Error":r.replace(this.pattern,function(t,n){var r=e[n];return void 0!==r?r.toString():"<"+n+"?>"}),n=this.serviceName+": "+n+" ("+i+").";var o=new en(i,n);for(var s in e)e.hasOwnProperty(s)&&"_"!==s.slice(-1)&&(o[s]=e[s]);return o},t}(),rn=(function(t){function e(){var e=t.call(this)||this;e.chain_=[],e.buf_=[],e.W_=[],e.pad_=[],e.inbuf_=0,e.total_=0,e.blockSize=64,e.pad_[0]=128;for(var n=1;n<e.blockSize;++n)e.pad_[n]=0;return e.reset(),e}a.__extends(e,t),e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,s,a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),s=1518500249):(o=u^c^l,s=1859775393):r<60?(o=u&c|l&(u|c),s=2400959708):(o=u^c^l,s=3395469782);i=(a<<5|a>>>27)+o+h+s+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=a,a=i}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0==o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o==this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o==this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},e.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t}}(function(){return function(){this.blockSize=-1}}()),function(){function t(t){this.sendFn=t.sendFn,this.closeFn=t.closeFn}return t.prototype.onOpen=function(t){y(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=t},t.prototype.onClose=function(t){y(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=t},t.prototype.onMessage=function(t){y(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=t},t.prototype.close=function(){this.closeFn()},t.prototype.send=function(t){this.sendFn(t)},t.prototype.callOnOpen=function(){y(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},t.prototype.callOnClose=function(t){y(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(t)},t.prototype.callOnMessage=function(t){y(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(t)},t}()),on="Connection",sn={BatchGetDocuments:"batchGet",Commit:"commit"},an="gl-js/ fire/"+c,un=function(){function t(t){this.databaseId=t.databaseId,this.pool=new u.XhrIoPool;var e=t.ssl?"https":"http";this.baseUrl=e+"://"+t.host}return t.prototype.modifyHeadersForRequest=function(t,e){if(e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n]);t["X-Goog-Api-Client"]=an},t.prototype.invokeRPC=function(t,e,n){var r=this,i=this.makeUrl(t);return new Promise(function(o,s){r.pool.getObject(function(a){a.listenOnce(u.EventType.COMPLETE,function(){try{switch(a.getLastErrorCode()){case u.ErrorCode.NO_ERROR:var e=a.getResponseJson();f(on,"XHR received:",JSON.stringify(e)),o(e);break;case u.ErrorCode.TIMEOUT:f(on,'RPC "'+t+'" timed out'),s(new _(w.DEADLINE_EXCEEDED,"Request time out"));break;case u.ErrorCode.HTTP_ERROR:var n=a.getStatus();f(on,'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0?s(new _(function(t){switch(t){case 200:return w.OK;case 400:return w.INVALID_ARGUMENT;case 401:return w.UNAUTHENTICATED;case 403:return w.PERMISSION_DENIED;case 404:return w.NOT_FOUND;case 409:return w.ABORTED;case 416:return w.OUT_OF_RANGE;case 429:return w.RESOURCE_EXHAUSTED;case 499:return w.CANCELLED;case 500:return w.UNKNOWN;case 501:return w.UNIMPLEMENTED;case 503:return w.UNAVAILABLE;case 504:return w.DEADLINE_EXCEEDED;default:return t>=200&&t<300?w.OK:t>=400&&t<500?w.FAILED_PRECONDITION:t>=500&&t<600?w.INTERNAL:w.UNKNOWN}}(n),"Server responded with status "+a.getStatusText())):(f(on,'RPC "'+t+'" failed'),s(new _(w.UNAVAILABLE,"Connection failed.")));break;default:m('RPC "'+t+'" failed with unanticipated webchannel error '+a.getLastErrorCode()+": "+a.getLastError()+", giving up.")}}finally{f(on,'RPC "'+t+'" completed.'),r.pool.releaseObject(a)}});var c=JSON.stringify(e);f(on,"XHR sending: ",i+" "+c);var l={"Content-Type":"text/plain"};r.modifyHeadersForRequest(l,n),a.send(i,"POST",c,l,15)})})},t.prototype.invokeStreamingRPC=function(t,e,n){return this.invokeRPC(t,e,n)},t.prototype.openStream=function(t,e){var n=[this.baseUrl,"/","google.firestore.v1beta1.Firestore","/",t,"/channel"],r=u.createWebChannelTransport(),i={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0};this.modifyHeadersForRequest(i.initMessageHeaders,e),"object"==typeof navigator&&"ReactNative"===navigator.product||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");f(on,"Creating WebChannel: "+o+" "+i);var s=r.createWebChannel(o,i),a=!1,c=!1,l=new rn({sendFn:function(t){c?f(on,"Not sending because WebChannel is closed:",t):(a||(f(on,"Opening WebChannel transport."),s.open(),a=!0),f(on,"WebChannel sending:",t),s.send(t))},closeFn:function(){return s.close()}}),h=function(t,e){s.listen(t,function(t){try{e(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(u.WebChannel.EventType.OPEN,function(){c||f(on,"WebChannel transport opened.")}),h(u.WebChannel.EventType.CLOSE,function(){c||(c=!0,f(on,"WebChannel transport closed"),l.callOnClose())}),h(u.WebChannel.EventType.ERROR,function(t){c||(c=!0,f(on,"WebChannel transport errored:",t),l.callOnClose(new _(w.UNAVAILABLE,"The operation could not be completed")))}),h(u.WebChannel.EventType.MESSAGE,function(t){if(!c){var e=t.data[0];y(!!e,"Got a webchannel message without data.");var n=e.error||e[0]&&e[0].error;if(n){f(on,"WebChannel received error:",n);var r=n.status,i=function(t){var e=de[t];if(void 0!==e)return ye(e)}(r),o=n.message;void 0===i&&(i=w.INTERNAL,o="Unknown error status: "+r+" with message "+n.message),c=!0,l.callOnClose(new _(i,o)),s.close()}else f(on,"WebChannel received:",e),l.callOnMessage(e)}}),setTimeout(function(){l.callOnOpen()},0),l},t.prototype.makeUrl=function(t){var e=sn[t];y(void 0!==e,"Unknown REST mapping for: "+t);var n=[this.baseUrl,"/","v1beta1"];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(e),n.join("")},t}(),cn=function(){function t(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.loadConnection=function(t){return Promise.resolve(new un(t))},t.prototype.newSerializer=function(t){return new Ye(t,{useProto3Json:!0})},t.prototype.formatJSON=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}();g.setPlatform(new cn);var ln,hn=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.setPreviousValue(t)},this.writeNewSequenceNumber=function(t){return e.writeSequenceNumber(t)})}return t.prototype.setPreviousValue=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(t),t},t.INVALID=-1,t}(),pn=function(){return function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}}();!function(t){t.All="all",t.ListenStreamIdle="listen_stream_idle",t.ListenStreamConnectionBackoff="listen_stream_connection_backoff",t.WriteStreamIdle="write_stream_idle",t.WriteStreamConnectionBackoff="write_stream_connection_backoff",t.OnlineStateTimeout="online_state_timeout",t.ClientMetadataRefresh="client_metadata_refresh"}(ln||(ln={}));var fn=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new pn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _(w.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}(),dn=function(){function t(){this.tail=Promise.resolve(),this.delayedOperations=[],this.operationInProgress=!1}return t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueue=function(t){var e=this;this.verifyNotFailed();var n=this.tail.then(function(){return e.operationInProgress=!0,t().catch(function(t){e.failure=t,e.operationInProgress=!1;var n=t.stack||t.message||"";throw d("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout(function(){throw t},0),t}).then(function(t){return e.operationInProgress=!1,t})});return this.tail=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.verifyNotFailed(),y(e>=0,"Attempted to schedule an operation with a negative delay of "+e),y(!this.containsDelayedOperation(t),"Attempted to schedule multiple operations with timer id "+t+".");var i=fn.createAndSchedule(this,t,e,n,function(t){return r.removeDelayedOperation(t)});return this.delayedOperations.push(i),i},t.prototype.verifyNotFailed=function(){this.failure&&m("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},t.prototype.verifyOperationInProgress=function(){y(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.drain=function(){return this.enqueue(function(){return Promise.resolve()})},t.prototype.containsDelayedOperation=function(t){for(var e=0,n=this.delayedOperations;e<n.length;e++){if(n[e].timerId===t)return!0}return!1},t.prototype.runDelayedOperationsEarly=function(t){var e=this;return this.drain().then(function(){y(t===ln.All||e.containsDelayedOperation(t),"Attempted to drain to missing operation "+t),e.delayedOperations.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.delayedOperations;n<r.length;n++){var i=r[n];if(i.skipDelay(),t!==ln.All&&i.timerId===t)break}return e.drain()})},t.prototype.removeDelayedOperation=function(t){var e=this.delayedOperations.indexOf(t);y(e>=0,"Delayed operation not found."),this.delayedOperations.splice(e,1)},t}(),vn="\x01",mn="\x01",yn="\x10",gn="\x11";function bn(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=_n(e)),e=wn(t.get(n),e);return _n(e)}function wn(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+=vn+yn;break;case vn:n+=vn+gn;break;default:n+=o}}return n}function _n(t){return t+vn+mn}function En(t){var e=t.length;if(y(e>=2,"Invalid path "+t),2===e)return y(t.charAt(0)===vn&&t.charAt(1)===mn,"Non-empty path "+t+" had length 2"),st.EMPTY_PATH;for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf(vn,o);switch((s<0||s>n)&&m('Invalid encoded resource path: "'+t+'"'),t.charAt(s+1)){case mn:var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case yn:i+=t.substring(o,s),i+="\0";break;case gn:i+=t.substring(o,s+1);break;default:m('Invalid encoded resource path: "'+t+'"')}o=s+2}return new st(r)}var Cn=-1,Sn=function(){function t(t,e,n){this.batchId=t,this.localWriteTime=e,this.mutations=n}return t.prototype.applyToRemoteDocument=function(t,e,n){e&&y(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var r=n.mutationResults;y(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];if(o.key.isEqual(t)){var s=r[i];e=o.applyToRemoteDocument(e,s)}}return e},t.prototype.applyToLocalView=function(t,e){e&&y(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=e,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t)&&(e=i.applyToLocalView(e,n,this.localWriteTime))}return e},t.prototype.keys=function(){for(var t=Te(),e=0,n=this.mutations;e<n.length;e++){var r=n[e];t=t.add(r.key)}return t},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&G(this.mutations,t.mutations)},t.prototype.isTombstone=function(){return 0===this.mutations.length},t.prototype.toTombstone=function(){return new t(this.batchId,this.localWriteTime,[])},t}(),xn=function(){function t(t,e,n,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.streamToken=r,this.docVersions=i}return t.from=function(e,n,r,i){y(e.mutations.length===r.length,"Mutations sent "+e.mutations.length+" must equal results received "+r.length);for(var o=Se(),s=e.mutations,a=0;a<s.length;a++)o=o.insert(s[a].key,r[a].version);return new t(e,n,r,i,o)},t}(),Tn=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&m("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++){r(o[i])}return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),An=function(){function t(t){this.mapKeyFn=t,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];if(s.isEqual(t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){T(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];t(s,a)}})},t.prototype.isEmpty=function(){return A(this.inner)},t}(),Dn=function(){function t(){this.changes=we(),this.documentSizes=new An(function(t){return t.toString()})}return t.prototype.addEntry=function(t){var e=this.assertChanges();this.changes=e.insert(t.key,t)},t.prototype.getEntry=function(t,e){var n=this,r=this.assertChanges().get(e);return r?Tn.resolve(r):this.getFromCache(t,e).next(function(t){return null===t?(n.documentSizes.set(e,0),null):(n.documentSizes.set(e,t.size),t.maybeDocument)})},t.prototype.apply=function(t){var e=this.applyChanges(t);return this.changes=null,e},t.prototype.assertChanges=function(){return y(null!==this.changes,"Changes have already been applied."),this.changes},t}(),In=function(){function t(t){this.db=t}return t.openOrCreate=function(e,n,r){return y(t.isAvailable(),"IndexedDB not supported in current environment."),f("SimpleDb","Opening database:",e),new Tn(function(i,o){var s=window.indexedDB.open(e,n);s.onsuccess=function(e){var n=e.target.result;i(new t(n))},s.onblocked=function(){o(new _(w.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=function(t){o(t.target.error)},s.onupgradeneeded=function(t){f("SimpleDb",'Database "'+e+'" requires upgrade from version:',t.oldVersion);var n=t.target.result,i=new kn(s.transaction);r.createOrUpgrade(n,i,t.oldVersion,qn).next(function(){f("SimpleDb","Database upgrade to version "+qn+" complete")})}}).toPromise()},t.delete=function(t){return f("SimpleDb","Removing database:",t),On(window.indexedDB.deleteDatabase(t)).toPromise()},t.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"===process.env.USE_MOCK_PERSISTENCE;var t=window.navigator.userAgent;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0)},t.getStore=function(t,e){return t.store(e)},t.prototype.runTransaction=function(t,e,n){var r=kn.open(this.db,t,e),i=n(r).catch(function(t){r.abort(t)}).toPromise();return r.completionPromise.then(function(){return i})},t.prototype.close=function(){this.db.close()},t}(),Nn=function(){function t(t){this.dbCursor=t,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.dbCursor=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.shouldStop=!0},t.prototype.skip=function(t){this.nextKey=t},t.prototype.delete=function(){return On(this.dbCursor.delete())},t}(),kn=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.completionDeferred=new pn,this.transaction.oncomplete=function(){e.completionDeferred.resolve()},this.transaction.onabort=function(){t.error?e.completionDeferred.reject(t.error):e.completionDeferred.resolve()},this.transaction.onerror=function(t){e.completionDeferred.reject(t.target.error)}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.completionDeferred.reject(t),this.aborted||(f("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return y(!!e,"Object store not part of transaction: "+t),new Pn(e)},t}(),Pn=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(f("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(f("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),On(n)},t.prototype.add=function(t){return f("SimpleDb","ADD",this.store.name,t,t),On(this.store.add(t))},t.prototype.get=function(t){var e=this;return On(this.store.get(t)).next(function(n){return void 0===n&&(n=null),f("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return f("SimpleDb","DELETE",this.store.name,t),On(this.store.delete(t))},t.prototype.count=function(){return f("SimpleDb","COUNT",this.store.name),On(this.store.count())},t.prototype.loadAll=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.iterateCursor(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.deleteAll=function(t,e){f("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,function(t,e,n){return n.delete()})},t.prototype.iterate=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.iterateCursor(r,e)},t.prototype.iterateSerial=function(t){var e=this.cursor({});return new Tn(function(n,r){e.onerror=function(t){r(t.target.error)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.iterateCursor=function(t,e){var n=[];return new Tn(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Nn(i),s=e(i.primaryKey,i.value,o);if(s instanceof Tn){var a=s.catch(function(t){return o.done(),Tn.reject(t)});n.push(a)}o.isDone?r():null===o.skipToKey?i.continue():i.continue(o.skipToKey)}else r()}}).next(function(){return Tn.waitFor(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:(y(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.keysOnly?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function On(t){return new Tn(function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){n(t.target.error)}})}var Mn="The remote document changelog no longer contains all changes for all local query views. It may be necessary to rebuild these views.",Rn=function(){function t(t,e){this.serializer=t,this.keepDocumentChangeLog=e,this._lastProcessedDocumentChangeId=0}return Object.defineProperty(t.prototype,"lastProcessedDocumentChangeId",{get:function(){return this._lastProcessedDocumentChangeId},enumerable:!0,configurable:!0}),t.prototype.start=function(t){var e=In.getStore(t,rr.store);return this.synchronizeLastDocumentChangeId(e)},t.prototype.addEntries=function(t,e,n){var r=[];if(e.length>0){for(var i=jn(t),o=Te(),s=0,a=e;s<a.length;s++){var u=a[s],c=u.key,l=u.doc;r.push(i.put(Bn(c),l)),o=o.add(c)}this.keepDocumentChangeLog&&r.push(Vn(t).put({changes:this.serializer.toDbResourcePaths(o)})),r.push(this.updateSize(t,n))}return Tn.waitFor(r)},t.prototype.removeEntry=function(t,e){var n=jn(t),r=Bn(e);return n.get(r).next(function(t){return t?n.delete(r).next(function(){return Un(t)}):Tn.resolve(0)})},t.prototype.getEntry=function(t,e){var n=this;return jn(t).get(Bn(e)).next(function(t){return t?n.serializer.fromDbRemoteDocument(t):null})},t.prototype.getSizedEntry=function(t,e){var n=this;return jn(t).get(Bn(e)).next(function(t){return t?{maybeDocument:n.serializer.fromDbRemoteDocument(t),size:Un(t)}:null})},t.prototype.getDocumentsMatchingQuery=function(t,e){var n=this,r=Ee(),i=e.path.toArray(),o=IDBKeyRange.lowerBound(i);return jn(t).iterate({range:o},function(t,i,o){var s=n.serializer.fromDbRemoteDocument(i);e.path.isPrefixOf(s.key.path)?s instanceof ht&&e.matches(s)&&(r=r.insert(s.key,s)):o.done()}).next(function(){return r})},t.prototype.getNewDocumentChanges=function(t){var e=this;y(this.keepDocumentChangeLog,"Can only call getNewDocumentChanges() when document change log is enabled");var n=Te(),r=we(),i=IDBKeyRange.lowerBound(this._lastProcessedDocumentChangeId+1),o=!0,s=Vn(t);return s.iterate({range:i},function(t,r){if(o&&(o=!1,e._lastProcessedDocumentChangeId+1!==r.id))return e.synchronizeLastDocumentChangeId(s).next(function(){return Tn.reject(new _(w.DATA_LOSS,Mn))});n=n.unionWith(e.serializer.fromDbResourcePaths(r.changes)),e._lastProcessedDocumentChangeId=r.id}).next(function(){var i=[];return n.forEach(function(n){i.push(e.getEntry(t,n).next(function(t){var e=t||new pt(n,Jt.forDeletedDoc());r=r.insert(n,e)}))}),Tn.waitFor(i)}).next(function(){return r})},t.prototype.removeDocumentChangesThroughChangeId=function(t,e){var n=IDBKeyRange.upperBound(e);return Vn(t).delete(n)},t.prototype.synchronizeLastDocumentChangeId=function(t){var e=this;return this._lastProcessedDocumentChangeId=0,t.iterate({keysOnly:!0,reverse:!0},function(t,n,r){e._lastProcessedDocumentChangeId=t,r.done()})},t.prototype.newChangeBuffer=function(){return new Ln(this)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Fn(t).get(Jn.key).next(function(t){return y(!!t,"Missing document cache metadata"),t})},t.prototype.setMetadata=function(t,e){return Fn(t).put(Jn.key,e)},t.prototype.updateSize=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.setMetadata(t,r)})},t}();function Fn(t){return Nr.getStore(t,Jn.store)}var Ln=function(t){function e(e){var n=t.call(this)||this;return n.documentCache=e,n}return a.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=0,r=[];return this.assertChanges().forEach(function(t,i){var o=e.documentCache.serializer.toDbRemoteDocument(i),s=e.documentSizes.get(t);y(void 0!==s,"Attempting to change document "+t.toString()+" without having read it first");var a=Un(o);n+=a-s,r.push({key:t,doc:o})}),this.documentCache.addEntries(t,r,n)},e.prototype.getFromCache=function(t,e){return this.documentCache.getSizedEntry(t,e)},e}(Dn);function jn(t){return Nr.getStore(t,Yn.store)}function Vn(t){return Nr.getStore(t,rr.store)}function Bn(t){return t.path.toArray()}function Un(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw m("Unknown remote document type");e=t.noDocument}return JSON.stringify(e).length}var qn=6,Hn=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;y(n<r&&n>=0&&r<=qn,"Unexpected schema upgrade from v"+n+" to v{toVersion}."),n<1&&r>=1&&(function(t){t.createObjectStore(zn.store)}(t),function(t){t.createObjectStore(Kn.store,{keyPath:Kn.keyPath}),t.createObjectStore(Gn.store,{keyPath:Gn.keyPath,autoIncrement:!0}).createIndex(Gn.userMutationsIndex,Gn.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Qn.store)}(t),nr(t),function(t){t.createObjectStore(Yn.store)}(t));var o=Tn.resolve();return n<3&&r>=3&&(0!==n&&(!function(t){t.deleteObjectStore(tr.store),t.deleteObjectStore(Zn.store),t.deleteObjectStore(er.store)}(t),nr(t)),o=o.next(function(){return function(t){var e=t.store(er.store),n=new er(0,0,Jt.MIN.toTimestamp(),0);return e.put(er.key,n)}(e)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(Gn.store).loadAll().next(function(n){t.deleteObjectStore(Gn.store);var r=t.createObjectStore(Gn.store,{keyPath:Gn.keyPath,autoIncrement:!0});r.createIndex(Gn.userMutationsIndex,Gn.userMutationsKeyPath,{unique:!0});var i=e.store(Gn.store),o=n.map(function(t){return i.put(t)});return Tn.waitFor(o)})}(t,e)})),o=o.next(function(){!function(t){t.createObjectStore(ir.store,{keyPath:ir.keyPath})}(t),function(t){t.createObjectStore(rr.store,{keyPath:"id",autoIncrement:!0})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.removeAcknowledgedMutations(e)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(Jn.store)}(t),i.addDocumentGlobal(e)})),o},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Yn.store).iterate(function(t,n){e+=Un(n)}).next(function(){var n=new Jn(e);return t.store(Jn.store).put(Jn.key,n)})},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Kn.store),r=t.store(Gn.store);return n.loadAll().next(function(n){return Tn.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,Cn],[n.userId,n.lastAcknowledgedBatchId]);return r.loadAll(Gn.userMutationsIndex,i).next(function(r){return Tn.forEach(r,function(r){y(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var i=e.serializer.fromDbMutationBatch(r);return ur(t,n.userId,i).next(function(){})})})})})},t}(),Wn=function(){return function(t,e){this.seconds=t,this.nanoseconds=e}}(),zn=function(){function t(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}return t.store="owner",t.key="owner",t}();var Kn=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}(),Gn=function(){function t(t,e,n,r){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.mutations=r}return t.store="mutations",t.keyPath="batchId",t.userMutationsIndex="userMutationsIndex",t.userMutationsKeyPath=["userId","batchId"],t}();var Qn=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,bn(e)]},t.key=function(t,e,n){return[t,bn(e),n]},t.store="documentMutations",t.PLACEHOLDER=new t,t}();var Xn=function(){return function(t,e){this.path=t,this.readTime=e}}(),$n=function(){return function(t,e){this.path=t,this.version=e}}(),Yn=function(){function t(t,e,n,r){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r}return t.store="remoteDocuments",t}(),Jn=function(){function t(t){this.byteSize=t}return t.store="remoteDocumentGlobal",t.key="remoteDocumentGlobalKey",t}();var Zn=function(){function t(t,e,n,r,i,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.query=o}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),tr=function(){function t(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n,y(0===t==(void 0!==n),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),er=function(){function t(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return t.key="targetGlobalKey",t.store="targetGlobal",t}();function nr(t){t.createObjectStore(tr.store,{keyPath:tr.keyPath}).createIndex(tr.documentTargetsIndex,tr.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Zn.store,{keyPath:Zn.keyPath}).createIndex(Zn.queryTargetsIndexName,Zn.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(er.store)}var rr=function(){function t(t){this.changes=t}return t.store="remoteDocumentChanges",t.keyPath="id",t}();var ir=function(){function t(t,e,n,r,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r,this.lastProcessedDocumentChangeId=i}return t.store="clientMetadata",t.keyPath="clientId",t}();var or=[Kn.store,Gn.store,Qn.store,Yn.store,Zn.store,zn.store,er.store,tr.store].concat([ir.store,rr.store]).concat([Jn.store]),sr=function(){function t(t,e,n){this.userId=t,this.serializer=e,this.referenceDelegate=n,this.documentKeysByBatchId={}}return t.forUser=function(e,n,r){return y(""!==e.uid,"UserID must not be an empty string."),new t(e.isAuthenticated()?e.uid:"",n,r)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return lr(t).iterate({index:Gn.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.acknowledgeBatch=function(t,e,n){return this.getMutationQueueMetadata(t).next(function(r){var i=e.batchId;return y(i>r.lastAcknowledgedBatchId,"Mutation batchIDs must be acknowledged in order"),r.lastAcknowledgedBatchId=i,r.lastStreamToken=cr(n),pr(t).put(r)})},t.prototype.getLastStreamToken=function(t){return this.getMutationQueueMetadata(t).next(function(t){return t.lastStreamToken})},t.prototype.setLastStreamToken=function(t,e){return this.getMutationQueueMetadata(t).next(function(n){return n.lastStreamToken=cr(e),pr(t).put(n)})},t.prototype.addMutationBatch=function(t,e,n){var r=this,i=hr(t),o=lr(t);return o.add({}).next(function(t){y("number"==typeof t,"Auto-generated key is not a number");var s=new Sn(t,e,n),a=r.serializer.toDbMutationBatch(r.userId,s);r.documentKeysByBatchId[t]=s.keys();for(var u=[],c=0,l=n;c<l.length;c++){var h=l[c],p=Qn.key(r.userId,h.key.path,t);u.push(o.put(a)),u.push(i.put(p,Qn.PLACEHOLDER))}return Tn.waitFor(u).next(function(){return s})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return lr(t).get(e).next(function(t){return t?(y(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),n.serializer.fromDbMutationBatch(t)):null})},t.prototype.lookupMutationKeys=function(t,e){var n=this;return this.documentKeysByBatchId[e]?Tn.resolve(this.documentKeysByBatchId[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.documentKeysByBatchId[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this;return this.getMutationQueueMetadata(t).next(function(r){var i=Math.max(e,r.lastAcknowledgedBatchId)+1,o=IDBKeyRange.lowerBound([n.userId,i]),s=null;return lr(t).iterate({index:Gn.userMutationsIndex,range:o},function(t,e,r){e.userId===n.userId&&(y(e.batchId>=i,"Should have found mutation after "+i),s=n.serializer.fromDbMutationBatch(e)),r.done()}).next(function(){return s})})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,Cn],[this.userId,Number.POSITIVE_INFINITY]);return lr(t).loadAll(Gn.userMutationsIndex,n).next(function(t){return t.map(function(t){return e.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Qn.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return hr(t).iterate({range:i},function(r,i,s){var a=r[0],u=r[1],c=r[2],l=En(u);if(a===n.userId&&e.path.isEqual(l))return lr(t).get(c).next(function(t){if(!t)throw m("Dangling document-mutation reference found: "+r+" which points to "+c);y(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+c),o.push(n.serializer.fromDbMutationBatch(t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ge(K),i=[];return e.forEach(function(e){var o=Qn.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=hr(t).iterate({range:s},function(t,i,o){var s=t[0],a=t[1],u=t[2],c=En(a);s===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()});i.push(a)}),Tn.waitFor(i).next(function(){return n.lookupMutationBatches(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this;y(!e.isDocumentQuery(),"Document queries shouldn't go down this path");var r=e.path,i=r.length+1,o=Qn.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new ge(K);return hr(t).iterate({range:s},function(t,e,o){var s=t[0],u=t[1],c=t[2],l=En(u);s===n.userId&&r.isPrefixOf(l)?l.length===i&&(a=a.add(c)):o.done()}).next(function(){return n.lookupMutationBatches(t,a)})},t.prototype.lookupMutationBatches=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(lr(t).get(e).next(function(t){if(null===t)throw m("Dangling document-mutation reference found, which points to "+e);y(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),r.push(n.serializer.fromDbMutationBatch(t))}))}),Tn.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return ur(t.simpleDbTransaction,this.userId,e).next(function(r){return n.removeCachedMutationKeys(e.batchId),Tn.forEach(r,function(e){return n.referenceDelegate.removeMutationReference(t,e)})})},t.prototype.removeCachedMutationKeys=function(t){delete this.documentKeysByBatchId[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Tn.resolve();var r=IDBKeyRange.lowerBound(Qn.prefixForUser(e.userId)),i=[];return hr(t).iterate({range:r},function(t,n,r){if(t[0]===e.userId){var o=En(t[1]);i.push(o)}else r.done()}).next(function(){y(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map(function(t){return t.canonicalString()}))})})},t.prototype.containsKey=function(t,e){return ar(t,this.userId,e)},t.prototype.getMutationQueueMetadata=function(t){var e=this;return pr(t).get(this.userId).next(function(t){return t||new Kn(e.userId,Cn,"")})},t}();function ar(t,e,n){var r=Qn.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return hr(t).iterate({range:o,keysOnly:!0},function(t,n,r){var o=t[0],a=t[1];t[2];o===e&&a===i&&(s=!0),r.done()}).next(function(){return s})}function ur(t,e,n){var r=t.store(Gn.store),i=t.store(Qn.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.iterate({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){y(1===a,"Dangling document-mutation reference found: Missing batch "+n.batchId)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var p=h[l],f=Qn.key(e,p.key.path,n.batchId);o.push(i.delete(f)),c.push(p.key)}return Tn.waitFor(o).next(function(){return c})}function cr(t){return t instanceof Uint8Array?(y("YES"===process.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence."),t.toString()):t}function lr(t){return Nr.getStore(t,Gn.store)}function hr(t){return Nr.getStore(t,Qn.store)}function pr(t){return Nr.getStore(t,Kn.store)}var fr,dr=1;!function(t){t[t.QueryCache=0]="QueryCache",t[t.SyncEngine=1]="SyncEngine"}(fr||(fr={}));var vr=function(){function t(t,e){this.generatorId=t,y((t&dr)===t,"Generator ID "+t+" contains more than "+dr+" reserved bits"),this.seek(void 0!==e?e:this.generatorId)}return t.prototype.next=function(){var t=this.nextId;return this.nextId+=1<<dr,t},t.prototype.after=function(t){return this.seek(t+(1<<dr)),this.next()},t.prototype.seek=function(t){y((t&dr)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=t},t.forQueryCache=function(){return new t(fr.QueryCache,2)},t.forSyncEngine=function(){return new t(fr.SyncEngine)},t}(),mr=function(){function t(t,e){this.referenceDelegate=t,this.serializer=e,this.targetIdGenerator=vr.forQueryCache()}return t.prototype.allocateTargetId=function(t){var e=this;return this.retrieveMetadata(t).next(function(n){return n.highestTargetId=e.targetIdGenerator.after(n.highestTargetId),e.saveMetadata(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.retrieveMetadata(t).next(function(t){return Jt.fromTimestamp(new et(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return br(t.simpleDbTransaction)},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.retrieveMetadata(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.saveMetadata(t,i)})},t.prototype.addQueryData=function(t,e){var n=this;return this.saveQueryData(t,e).next(function(){return n.retrieveMetadata(t).next(function(r){return r.targetCount+=1,n.updateMetadataFromQueryData(e,r),n.saveMetadata(t,r)})})},t.prototype.updateQueryData=function(t,e){return this.saveQueryData(t,e)},t.prototype.removeQueryData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return yr(t).delete(e.targetId)}).next(function(){return n.retrieveMetadata(t)}).next(function(e){return y(e.targetCount>0,"Removing from an empty query cache"),e.targetCount-=1,n.saveMetadata(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return yr(t).iterate(function(s,a){var u=r.serializer.fromDbTarget(a);u.sequenceNumber<=e&&void 0===n[u.targetId]&&(i++,o.push(r.removeQueryData(t,u)))}).next(function(){return Tn.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){var n=this;return yr(t).iterate(function(t,r){var i=n.serializer.fromDbTarget(r);e(i)})},t.prototype.retrieveMetadata=function(t){return gr(t.simpleDbTransaction)},t.prototype.saveMetadata=function(t,e){return(n=t,Nr.getStore(n,er.store)).put(er.key,e);var n},t.prototype.saveQueryData=function(t,e){return yr(t).put(this.serializer.toDbTarget(e))},t.prototype.updateMetadataFromQueryData=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getQueryCount=function(t){return this.retrieveMetadata(t).next(function(t){return t.targetCount})},t.prototype.getQueryData=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return yr(t).iterate({range:i,index:Zn.queryTargetsIndexName},function(t,r,i){var s=n.serializer.fromDbTarget(r);e.isEqual(s.query)&&(o=s,i.done())}).next(function(){return o})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=wr(t);return e.forEach(function(e){var s=bn(e.path);i.push(o.put(new tr(n,s))),i.push(r.referenceDelegate.addReference(t,e))}),Tn.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=wr(t);return Tn.forEach(e,function(e){var o=bn(e.path);return Tn.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=wr(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=wr(t),i=Te();return r.iterate({range:n,keysOnly:!0},function(t,e,n){var r=En(t[1]),o=new ct(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n,r=bn(e.path),i=IDBKeyRange.bound([r],[(n=r,n+"\0")],!1,!0),o=0;return wr(t).iterate({index:tr.documentTargetsIndex,keysOnly:!0,range:i},function(t,e,n){var r=t[0];t[1];0!==r&&(o++,n.done())}).next(function(){return o>0})},t.prototype.getQueryDataForTarget=function(t,e){var n=this;return yr(t).get(e).next(function(t){return t?n.serializer.fromDbTarget(t):null})},t}();function yr(t){return Nr.getStore(t,Zn.store)}function gr(t){return In.getStore(t,er.store).get(er.key).next(function(t){return y(null!==t,"Missing metadata row."),t})}function br(t){return gr(t).next(function(t){return t.highestListenSequenceNumber})}function wr(t){return Nr.getStore(t,tr.store)}var _r=function(){function t(t){this.remoteSerializer=t}return t.prototype.fromDbRemoteDocument=function(t){if(t.document)return this.remoteSerializer.fromDocument(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=ct.fromSegments(t.noDocument.path),n=this.fromDbTimestamp(t.noDocument.readTime);return new pt(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){e=ct.fromSegments(t.unknownDocument.path),n=this.fromDbTimestamp(t.unknownDocument.version);return new ft(e,n)}return m("Unexpected DbRemoteDocument")},t.prototype.toDbRemoteDocument=function(t){if(t instanceof ht){var e=this.remoteSerializer.toDocument(t),n=t.hasCommittedMutations;return new Yn(null,null,e,n)}if(t instanceof pt){var r=t.key.path.toArray(),i=this.toDbTimestamp(t.version);n=t.hasCommittedMutations;return new Yn(null,new Xn(r,i),null,n)}if(t instanceof ft){r=t.key.path.toArray(),i=this.toDbTimestamp(t.version);return new Yn(new $n(r,i),null,null,!0)}return m("Unexpected MaybeDocumment")},t.prototype.toDbTimestamp=function(t){var e=t.toTimestamp();return new Wn(e.seconds,e.nanoseconds)},t.prototype.fromDbTimestamp=function(t){var e=new et(t.seconds,t.nanoseconds);return Jt.fromTimestamp(e)},t.prototype.toDbMutationBatch=function(t,e){var n=this,r=e.mutations.map(function(t){return n.remoteSerializer.toMutation(t)});return new Gn(t,e.batchId,e.localWriteTime.toMillis(),r)},t.prototype.fromDbMutationBatch=function(t){var e=this,n=t.mutations.map(function(t){return e.remoteSerializer.fromMutation(t)}),r=et.fromMillis(t.localWriteTimeMs);return new Sn(t.batchId,r,n)},t.prototype.toDbResourcePaths=function(t){var e=[];return t.forEach(function(t){e.push(bn(t.path))}),e},t.prototype.fromDbResourcePaths=function(t){for(var e=Te(),n=0,r=t;n<r.length;n++){var i=r[n];e=e.add(new ct(En(i)))}return e},t.prototype.fromDbTarget=function(t){var e,n=this.fromDbTimestamp(t.readTime);return e=void 0!==t.query.documents?this.remoteSerializer.fromDocumentsTarget(t.query):this.remoteSerializer.fromQueryTarget(t.query),new te(e,t.targetId,Bt.Listen,t.lastListenSequenceNumber,n,t.resumeToken)},t.prototype.toDbTarget=function(t){y(Bt.Listen===t.purpose,"Only queries with purpose "+Bt.Listen+" may be stored, got "+t.purpose);var e,n,r=this.toDbTimestamp(t.snapshotVersion);return e=t.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(t.query):this.remoteSerializer.toQueryTarget(t.query),t.resumeToken instanceof Uint8Array?(y("YES"===process.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),n=t.resumeToken.toString()):n=t.resumeToken,new Zn(t.targetId,t.query.canonicalId(),r,n,t.sequenceNumber,e)},t}();function Er(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=K(n,i);return 0===s?K(r,o):s}var Cr=function(){function t(t){this.maxElements=t,this.buffer=new ge(Er),this.previousIndex=0}return t.prototype.nextIndex=function(){return++this.previousIndex},t.prototype.addElement=function(t){var e=[t,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Er(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),Sr=function(){function t(t){this.delegate=t}return t.prototype.calculateTargetCount=function(t,e){return this.delegate.getTargetCount(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Tn.resolve(hn.INVALID);var r=new Cr(e);return this.delegate.forEachTarget(t,function(t){return r.addElement(t.sequenceNumber)}).next(function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(t,function(t){return r.addElement(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.delegate.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.delegate.removeOrphanedDocuments(t,e)},t}(),xr="IndexedDbPersistence",Tr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ar="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `experimentalTabSynchronization:true` in all tabs.",Dr="This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.",Ir=function(t){function e(e,n){var r=t.call(this)||this;return r.simpleDbTransaction=e,r.currentSequenceNumber=n,r}return a.__extends(e,t),e}(function(){return function(){}}()),Nr=function(){function t(e,n,r,i,o,s){if(this.persistenceKey=e,this.clientId=n,this.queue=i,this.multiClientParams=s,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.inForeground=!1,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(t){return Promise.resolve()},!t.isAvailable())throw new _(w.UNIMPLEMENTED,Dr);if(this.referenceDelegate=new Mr(this),this.dbName=e+t.MAIN_DATABASE,this.serializer=new _r(o),this.document=r.document,this.allowTabSynchronization=void 0!==s,this.queryCache=new mr(this.referenceDelegate,this.serializer),this.remoteDocumentCache=new Rn(this.serializer,this.allowTabSynchronization),!r.window||!r.window.localStorage)throw new _(w.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=r.window,this.webStorage=this.window.localStorage}return t.getStore=function(t,e){if(t instanceof Ir)return In.getStore(t.simpleDbTransaction,e);throw m("IndexedDbPersistence must use instances of IndexedDbTransaction")},t.createIndexedDbPersistence=function(e,n,r,i,o){return a.__awaiter(this,void 0,void 0,function(){var s;return a.__generator(this,function(a){switch(a.label){case 0:return[4,(s=new t(e,n,r,i,o)).start()];case 1:return a.sent(),[2,s]}})})},t.createMultiClientIndexedDbPersistence=function(e,n,r,i,o,s){return a.__awaiter(this,void 0,void 0,function(){var u;return a.__generator(this,function(a){switch(a.label){case 0:return[4,(u=new t(e,n,r,i,o,s)).start()];case 1:return a.sent(),[2,u]}})})},t.prototype.start=function(){var t=this;return y(!this.started,"IndexedDbPersistence double-started!"),y(null!==this.window,"Expected 'window' to be defined"),In.openOrCreate(this.dbName,qn,new Hn(this.serializer)).then(function(e){t.simpleDb=e}).then(function(){return t.startRemoteDocumentCache()}).then(function(){return t.attachVisibilityHandler(),t.attachWindowUnloadHook(),t.updateClientMetadataAndTryBecomePrimary().then(function(){return t.scheduleClientMetadataAndPrimaryLeaseRefreshes()})}).then(function(){return t.simpleDb.runTransaction("readonly",[er.store],function(e){return br(e).next(function(e){var n=t.multiClientParams?t.multiClientParams.sequenceNumberSyncer:void 0;t.listenSequence=new hn(e,n)})})}).then(function(){t._started=!0}).catch(function(e){return t.simpleDb&&t.simpleDb.close(),Promise.reject(e)})},t.prototype.startRemoteDocumentCache=function(){var t=this;return this.simpleDb.runTransaction("readonly",or,function(e){return t.remoteDocumentCache.start(e)})},t.prototype.setPrimaryStateListener=function(t){var e=this;return this.primaryStateListener=function(n){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.queue.enqueueAndForget(function(){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.updateClientMetadataAndTryBecomePrimary=function(){var t=this;return this.simpleDb.runTransaction("readwrite",or,function(e){return Or(e).put(new ir(t.clientId,Date.now(),t.networkEnabled,t.inForeground,t.remoteDocumentCache.lastProcessedDocumentChangeId)).next(function(){if(t.isPrimary)return t.verifyPrimaryLease(e).next(function(e){e||(t.isPrimary=!1,t.queue.enqueueAndForget(function(){return t.primaryStateListener(!1)}))})}).next(function(){return t.canActAsPrimary(e)}).next(function(n){var r=t.isPrimary;return t.isPrimary=n,r!==t.isPrimary&&t.queue.enqueueAndForget(function(){return t.primaryStateListener(t.isPrimary)}),r&&!t.isPrimary?t.releasePrimaryLeaseIfHeld(e):t.isPrimary?t.acquireOrExtendPrimaryLease(e):void 0})})},t.prototype.verifyPrimaryLease=function(t){var e=this;return Pr(t).get(zn.key).next(function(t){return Tn.resolve(e.isLocalClient(t))})},t.prototype.removeClientMetadata=function(t){return Or(t).delete(this.clientId)},t.prototype.maybeGarbageCollectMultiClientState=function(){return a.__awaiter(this,void 0,void 0,function(){var e,n,r=this;return a.__generator(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),n=[],[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(i){var o=t.getStore(i,ir.store);return o.loadAll().next(function(t){e=r.filterActiveClients(t,18e5),n=t.filter(function(t){return-1===e.indexOf(t)})}).next(function(){return Tn.forEach(n,function(t){return o.delete(t.clientId)})}).next(function(){if((e=e.filter(function(t){return t.clientId!==r.clientId})).length>0){var t=e.map(function(t){return t.lastProcessedDocumentChangeId||0}),n=Math.min.apply(Math,t);return r.remoteDocumentCache.removeDocumentChangesThroughChangeId(i,n)}})})]);case 1:i.sent(),n.forEach(function(t){r.window.localStorage.removeItem(r.zombiedClientLocalStorageKey(t.clientId))}),i.label=2;case 2:return[2]}})})},t.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var t=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(ln.ClientMetadataRefresh,4e3,function(){return t.updateClientMetadataAndTryBecomePrimary().then(function(){return t.maybeGarbageCollectMultiClientState()}).then(function(){return t.scheduleClientMetadataAndPrimaryLeaseRefreshes()})})},t.prototype.isLocalClient=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.canActAsPrimary=function(t){var e=this;return Pr(t).get(zn.key).next(function(n){if(null!==n&&e.isWithinAge(n.leaseTimestampMs,5e3)&&!e.isClientZombied(n.ownerId)){if(e.isLocalClient(n)&&e.networkEnabled)return!0;if(!e.isLocalClient(n)){if(!n.allowTabSynchronization)throw new _(w.FAILED_PRECONDITION,Ar);return!1}}return!(!e.networkEnabled||!e.inForeground)||Or(t).loadAll().next(function(t){return void 0===e.filterActiveClients(t,5e3).find(function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1})})}).next(function(t){return e.isPrimary!==t&&f(xr,"Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(t){return a.__awaiter(this,void 0,void 0,function(){var e=this;return a.__generator(this,function(n){switch(n.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&this.clientMetadataRefresher.cancel(),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite",[zn.store,ir.store],function(t){return e.releasePrimaryLeaseIfHeld(t).next(function(){return e.removeClientMetadata(t)})})];case 1:return n.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),t?[4,In.delete(this.dbName)]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.filterActiveClients=function(t,e){var n=this;return t.filter(function(t){return n.isWithinAge(t.updateTimeMs,e)&&!n.isClientZombied(t.clientId)})},t.prototype.getActiveClients=function(){var t=this;return this.simpleDb.runTransaction("readonly",[ir.store],function(e){return Or(e).loadAll().next(function(e){return t.filterActiveClients(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getMutationQueue=function(t){return y(this.started,"Cannot initialize MutationQueue before persistence is started."),sr.forUser(t,this.serializer,this.referenceDelegate)},t.prototype.getQueryCache=function(){return y(this.started,"Cannot initialize QueryCache before persistence is started."),this.queryCache},t.prototype.getRemoteDocumentCache=function(){return y(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},t.prototype.runTransaction=function(t,e,n){var r=this;return f(xr,"Starting transaction:",t),this.simpleDb.runTransaction("readonly"===e?"readonly":"readwrite",or,function(i){return"readwrite-primary"===e?r.verifyPrimaryLease(i).next(function(e){if(!e)throw d("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.queue.enqueueAndForget(function(){return r.primaryStateListener(!1)}),new _(w.FAILED_PRECONDITION,Tr);return n(new Ir(i,r.listenSequence.next()))}).next(function(t){return r.acquireOrExtendPrimaryLease(i).next(function(){return t})}):r.verifyAllowTabSynchronization(i).next(function(){return n(new Ir(i,r.listenSequence.next()))})})},t.prototype.verifyAllowTabSynchronization=function(t){var e=this;return Pr(t).get(zn.key).next(function(t){if(null!==t&&e.isWithinAge(t.leaseTimestampMs,5e3)&&!e.isClientZombied(t.ownerId)&&!e.isLocalClient(t)&&!t.allowTabSynchronization)throw new _(w.FAILED_PRECONDITION,Ar)})},t.prototype.acquireOrExtendPrimaryLease=function(t){var e=new zn(this.clientId,this.allowTabSynchronization,Date.now());return Pr(t).put(zn.key,e)},t.isAvailable=function(){return In.isAvailable()},t.buildStoragePrefix=function(t){var e=t.databaseId.projectId;return t.databaseId.isDefaultDatabase||(e+="."+t.databaseId.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.releasePrimaryLeaseIfHeld=function(t){var e=this,n=Pr(t);return n.get(zn.key).next(function(t){return e.isLocalClient(t)?(f(xr,"Releasing primary lease."),n.delete(zn.key)):Tn.resolve()})},t.prototype.isWithinAge=function(t,e){var n=Date.now();return!(t<n-e)&&(!(t>n)||(d("Detected an update time that is in the future: "+t+" > "+n),!1))},t.prototype.attachVisibilityHandler=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){t.queue.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.updateClientMetadataAndTryBecomePrimary()})},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},t.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(y(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},t.prototype.attachWindowUnloadHook=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){t.markClientZombied(),t.queue.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("unload",this.windowUnloadHandler))},t.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(y("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},t.prototype.isClientZombied=function(t){try{var e=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(t));return f(xr,"Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(t){return d(xr,"Failed to get zombied client id.",t),!1}},t.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(t){d("Failed to set zombie client id.",t)}},t.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(t){}},t.prototype.zombiedClientLocalStorageKey=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t.MAIN_DATABASE="main",t}();function kr(t){return t.code===w.FAILED_PRECONDITION&&t.message===Tr}function Pr(t){return t.store(zn.store)}function Or(t){return t.store(ir.store)}var Mr=function(){function t(t){this.db=t,this.garbageCollector=new Sr(this)}return t.prototype.getTargetCount=function(t){return this.db.getQueryCache().getQueryCount(t)},t.prototype.forEachTarget=function(t,e){return this.db.getQueryCache().forEachTarget(t,e)},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){return this.forEachOrphanedDocument(t,function(t,n){return e(n)})},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return Rr(t,e)},t.prototype.removeReference=function(t,e){return Rr(t,e)},t.prototype.removeTargets=function(t,e,n){return this.db.getQueryCache().removeTargets(t,e,n)},t.prototype.removeMutationReference=function(t,e){return Rr(t,e)},t.prototype.isPinned=function(t,e){return this.inMemoryPins.containsKey(e)?Tn.resolve(!0):function(t,e){var n=!1;return pr(t).iterateSerial(function(r){return ar(t,r,e).next(function(t){return t&&(n=!0),Tn.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=0,i=0,o=[];return this.forEachOrphanedDocument(t,function(s,a){if(a<=e){var u=n.isPinned(t,s).next(function(e){if(!e)return r++,n.removeOrphanedDocument(t,s).next(function(t){i+=t})});o.push(u)}}).next(function(){return Tn.waitFor(o)}).next(function(){return n.db.getRemoteDocumentCache().updateSize(t,-i)}).next(function(){return r})},t.prototype.removeOrphanedDocument=function(t,e){var n,r=0,i=this.db.getRemoteDocumentCache();return Tn.waitFor([wr(t).delete((n=e,[0,bn(n.path)])),i.removeEntry(t,e).next(function(t){r+=t})]).next(function(){return r})},t.prototype.removeTarget=function(t,e){var n=e.copy({sequenceNumber:t.currentSequenceNumber});return this.db.getQueryCache().updateQueryData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Rr(t,e)},t.prototype.forEachOrphanedDocument=function(t,e){var n,r=wr(t),i=hn.INVALID;return r.iterate({index:tr.documentTargetsIndex},function(t,r){var o=t[0],s=(t[1],r.path),a=r.sequenceNumber;0===o?(i!==hn.INVALID&&e(new ct(En(n)),i),i=a,n=s):i=hn.INVALID}).next(function(){i!==hn.INVALID&&e(new ct(En(n)),i)})},t}();function Rr(t,e){return wr(t).put(function(t,e){return new tr(0,bn(t.path),e)}(e,t.currentSequenceNumber))}var Fr=function(){function t(t,e){this.remoteDocumentCache=t,this.mutationQueue=e}return t.prototype.getDocument=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.getDocumentInternal(t,e,r)})},t.prototype.getDocumentInternal=function(t,e,n){return this.remoteDocumentCache.getEntry(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++){t=i[r].applyToLocalView(e,t)}return t})},t.prototype.getDocuments=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(r){var i=[],o=we();return e.forEach(function(e){i.push(n.getDocumentInternal(t,e,r).next(function(t){t||(t=new pt(e,Jt.forDeletedDoc())),o=o.insert(e,t)}))}),Tn.waitFor(i).next(function(){return o})})},t.prototype.getDocumentsMatchingQuery=function(t,e){return ct.isDocumentKey(e.path)?this.getDocumentsMatchingDocumentQuery(t,e.path):this.getDocumentsMatchingCollectionQuery(t,e)},t.prototype.getDocumentsMatchingDocumentQuery=function(t,e){return this.getDocument(t,new ct(e)).next(function(t){var e=Ee();return t instanceof ht&&(e=e.insert(t.key,t)),e})},t.prototype.getDocumentsMatchingCollectionQuery=function(t,e){var n,r=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(t,e).next(function(i){return n=i,r.mutationQueue.getAllMutationBatchesAffectingQuery(t,e)}).next(function(t){for(var r=0,i=t;r<i.length;r++)for(var o=i[r],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key;if(e.path.isImmediateParentOf(c.path)){var l=n.get(c),h=u.applyToLocalView(l,l,o.localWriteTime);n=h instanceof ht?n.insert(c,h):n.remove(c)}}}).next(function(){return n.forEach(function(t,r){e.matches(r)||(n=n.remove(t))}),n})},t}(),Lr=function(){function t(){this.refsByKey=new ge(jr.compareByKey),this.refsByTarget=new ge(jr.compareByTargetId)}return t.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},t.prototype.addReference=function(t,e){var n=new jr(t,e);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},t.prototype.addReferences=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.removeRef(new jr(t,e))},t.prototype.removeReferences=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.removeReferencesForId=function(t){var e=this,n=ct.EMPTY,r=new jr(n,t),i=new jr(n,t+1),o=[];return this.refsByTarget.forEachInRange([r,i],function(t){e.removeRef(t),o.push(t.key)}),o},t.prototype.removeAllReferences=function(){var t=this;this.refsByKey.forEach(function(e){return t.removeRef(e)})},t.prototype.removeRef=function(t){this.refsByKey=this.refsByKey.delete(t),this.refsByTarget=this.refsByTarget.delete(t)},t.prototype.referencesForId=function(t){var e=ct.EMPTY,n=new jr(e,t),r=new jr(e,t+1),i=Te();return this.refsByTarget.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new jr(t,0),n=this.refsByKey.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),jr=function(){function t(t,e){this.key=t,this.targetOrBatchId=e}return t.compareByKey=function(t,e){return ct.comparator(t.key,e.key)||K(t.targetOrBatchId,e.targetOrBatchId)},t.compareByTargetId=function(t,e){return K(t.targetOrBatchId,e.targetOrBatchId)||ct.comparator(t.key,e.key)},t}(),Vr=function(){function t(t,e){this.persistence=t,this.localViewReferences=new Lr,this.queryDataByTarget={},y(t.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=t.getMutationQueue(e),this.remoteDocuments=t.getRemoteDocumentCache(),this.queryCache=t.getQueryCache(),this.localDocuments=new Fr(this.remoteDocuments,this.mutationQueue)}return t.prototype.handleUserChange=function(t){var e=this;return this.persistence.runTransaction("Handle user change","readonly",function(n){var r;return e.mutationQueue.getAllMutationBatches(n).next(function(i){return r=i,e.mutationQueue=e.persistence.getMutationQueue(t),e.localDocuments=new Fr(e.remoteDocuments,e.mutationQueue),e.mutationQueue.getAllMutationBatches(n)}).next(function(t){for(var i=[],o=[],s=Te(),a=0,u=r;a<u.length;a++){var c=u[a];i.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var p=h[l];s=s.add(p.key)}}for(var f=0,d=t;f<d.length;f++){c=d[f];o.push(c.batchId);for(var v=0,m=c.mutations;v<m.length;v++){p=m[v];s=s.add(p.key)}}return e.localDocuments.getDocuments(n,s).next(function(t){return{affectedDocuments:t,removedBatchIds:i,addedBatchIds:o}})})})},t.prototype.localWrite=function(t){var e=this;return this.persistence.runTransaction("Locally write mutations","readwrite",function(n){var r,i=et.now();return e.mutationQueue.addMutationBatch(n,i,t).next(function(t){var i=(r=t).keys();return e.localDocuments.getDocuments(n,i)}).next(function(t){return{batchId:r.batchId,changes:t}})})},t.prototype.lookupMutationDocuments=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",function(n){return e.mutationQueue.lookupMutationKeys(n,t).next(function(t){return t?e.localDocuments.getDocuments(n,t):Tn.resolve(null)})})},t.prototype.acknowledgeBatch=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(n){var r=t.batch.keys(),i=e.remoteDocuments.newChangeBuffer();return e.mutationQueue.acknowledgeBatch(n,t.batch,t.streamToken).next(function(){return e.applyWriteToRemoteDocuments(n,t,i)}).next(function(){return i.apply(n)}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.rejectBatch=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",function(n){var r;return e.mutationQueue.lookupMutationBatch(n,t).next(function(t){return y(null!==t,"Attempt to reject nonexistent batch!"),r=t.keys(),e.mutationQueue.removeMutationBatch(n,t)}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.getLastStreamToken=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly",function(e){return t.mutationQueue.getLastStreamToken(e)})},t.prototype.setLastStreamToken=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",function(n){return e.mutationQueue.setLastStreamToken(n,t)})},t.prototype.getLastRemoteSnapshotVersion=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.queryCache.getLastRemoteSnapshotVersion(e)})},t.prototype.applyRemoteEvent=function(e){var n=this,r=this.remoteDocuments.newChangeBuffer();return this.persistence.runTransaction("Apply remote event","readwrite-primary",function(i){var o=[],s=Te();x(e.targetChanges,function(r,a){var u=n.queryDataByTarget[r];if(u){a.addedDocuments.forEach(function(t){s=s.add(t)}),a.modifiedDocuments.forEach(function(t){s=s.add(t)}),o.push(n.queryCache.removeMatchingKeys(i,a.removedDocuments,r).next(function(){return n.queryCache.addMatchingKeys(i,a.addedDocuments,r)}));var c=a.resumeToken;if(c.length>0){var l=u;u=u.copy({resumeToken:c,snapshotVersion:e.snapshotVersion}),n.queryDataByTarget[r]=u,t.shouldPersistQueryData(l,u,a)&&o.push(n.queryCache.updateQueryData(i,u))}}});var a=Te();e.documentUpdates.forEach(function(t,u){a=a.add(t),o.push(r.getEntry(i,t).next(function(e){null==e||u.version.isEqual(Jt.MIN)||s.has(u.key)&&!e.hasPendingWrites||u.version.compareTo(e.version)>=0?r.addEntry(u):f("LocalStore","Ignoring outdated watch update for ",t,". Current version:",e.version," Watch version:",u.version)})),e.resolvedLimboDocuments.has(t)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(i,t))});var u=e.snapshotVersion;if(!u.isEqual(Jt.MIN)){var c=n.queryCache.getLastRemoteSnapshotVersion(i).next(function(t){return y(u.compareTo(t)>=0,"Watch stream reverted to previous snapshot?? "+u+" < "+t),n.queryCache.setTargetsMetadata(i,i.currentSequenceNumber,u)});o.push(c)}return Tn.waitFor(o).next(function(){return r.apply(i)}).next(function(){return n.localDocuments.getDocuments(i,a)})})},t.shouldPersistQueryData=function(t,e,n){return 0!==e.resumeToken.length&&(0===t.resumeToken.length||(e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0))},t.prototype.notifyLocalViewChanges=function(t){var e=this;return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(n){return Tn.forEach(t,function(t){return e.localViewReferences.addReferences(t.addedKeys,t.targetId),e.localViewReferences.removeReferences(t.removedKeys,t.targetId),Tn.forEach(t.removedKeys,function(t){return e.persistence.referenceDelegate.removeReference(n,t)})})})},t.prototype.nextMutationBatch=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",function(n){return void 0===t&&(t=Cn),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)})},t.prototype.readDocument=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",function(n){return e.localDocuments.getDocument(n,t)})},t.prototype.allocateQuery=function(t){var e=this;return this.persistence.runTransaction("Allocate query","readwrite",function(n){var r;return e.queryCache.getQueryData(n,t).next(function(i){return i?(r=i,Tn.resolve()):e.queryCache.allocateTargetId(n).next(function(i){return r=new te(t,i,Bt.Listen,n.currentSequenceNumber),e.queryCache.addQueryData(n,r)})}).next(function(){return y(!e.queryDataByTarget[r.targetId],"Tried to allocate an already allocated query: "+t),e.queryDataByTarget[r.targetId]=r,r})})},t.prototype.releaseQuery=function(t,e){var n=this,r=e?"readwrite":"readwrite-primary";return this.persistence.runTransaction("Release query",r,function(r){return n.queryCache.getQueryData(r,t).next(function(i){y(null!=i,"Tried to release nonexistent query: "+t);var o=i.targetId,s=n.queryDataByTarget[o],a=n.localViewReferences.removeReferencesForId(o);return delete n.queryDataByTarget[o],e?Tn.resolve():Tn.forEach(a,function(t){return n.persistence.referenceDelegate.removeReference(r,t)}).next(function(){return n.persistence.referenceDelegate.removeTarget(r,s)})})})},t.prototype.executeQuery=function(t){var e=this;return this.persistence.runTransaction("Execute query","readonly",function(n){return e.localDocuments.getDocumentsMatchingQuery(n,t)})},t.prototype.remoteDocumentKeys=function(t){var e=this;return this.persistence.runTransaction("Remote document keys","readonly",function(n){return e.queryCache.getMatchingKeysForTargetId(n,t)})},t.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},t.prototype.removeCachedMutationBatchMetadata=function(t){this.mutationQueue.removeCachedMutationKeys(t)},t.prototype.setNetworkEnabled=function(t){this.persistence.setNetworkEnabled(t)},t.prototype.applyWriteToRemoteDocuments=function(t,e,n){var r=this,i=e.batch,o=i.keys(),s=Tn.resolve();return o.forEach(function(r){s=s.next(function(){return n.getEntry(t,r)}).next(function(t){var o=t,s=e.docVersions.get(r);y(null!==s,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(s)<0)&&((o=i.applyToRemoteDocument(r,o,e))?n.addEntry(o):y(!t,"Mutation batch "+i+" applied to document "+t+" resulted in null"))})}),s.next(function(){return r.mutationQueue.removeMutationBatch(t,i)})},t.prototype.getQueryForTarget=function(t){var e=this;return this.queryDataByTarget[t]?Promise.resolve(this.queryDataByTarget[t].query):this.persistence.runTransaction("Get query data","readonly",function(n){return e.queryCache.getQueryDataForTarget(n,t).next(function(t){return t?t.query:null})})},t.prototype.getNewDocumentChanges=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly",function(e){return t.remoteDocuments.getNewDocumentChanges(e)})},t.RESUME_TOKEN_MAX_AGE_MICROS=3e8,t}(),Br=function(){function t(t){this.referenceDelegate=t,this.mutationQueue=[],this.nextBatchId=1,this.highestAcknowledgedBatchId=Cn,this.lastStreamToken=b(),this.batchesByDocumentKey=new ge(jr.compareByKey)}return t.prototype.checkEmpty=function(t){return Tn.resolve(0===this.mutationQueue.length)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId;y(r>this.highestAcknowledgedBatchId,"Mutation batchIDs must be acknowledged in order");var i=this.indexOfExistingBatchId(r,"acknowledged"),o=this.mutationQueue[i];return y(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),y(!o.isTombstone(),"Can't acknowledge a previously removed batch"),this.highestAcknowledgedBatchId=r,this.lastStreamToken=n,Tn.resolve()},t.prototype.getLastStreamToken=function(t){return Tn.resolve(this.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.lastStreamToken=e,Tn.resolve()},t.prototype.addMutationBatch=function(t,e,n){y(0!==n.length,"Mutation batches should not be empty");var r=this.nextBatchId;(this.nextBatchId++,this.mutationQueue.length>0)&&y(this.mutationQueue[this.mutationQueue.length-1].batchId<r,"Mutation batchIDs must be monotonically increasing order");var i=new Sn(r,e,n);this.mutationQueue.push(i);for(var o=0,s=n;o<s.length;o++){var a=s[o];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new jr(a.key,r))}return Tn.resolve(i)},t.prototype.lookupMutationBatch=function(t,e){return Tn.resolve(this.findMutationBatch(e))},t.prototype.lookupMutationKeys=function(t,e){var n=this.findMutationBatch(e);return y(null!=n,"Failed to find local mutation batch."),Tn.resolve(n.isTombstone()?null:n.keys())},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){for(var n=this.mutationQueue.length,r=Math.max(e,this.highestAcknowledgedBatchId)+1,i=this.indexOfBatchId(r),o=i<0?0:i;o<n;o++){var s=this.mutationQueue[o];if(!s.isTombstone())return Tn.resolve(s)}return Tn.resolve(null)},t.prototype.getAllMutationBatches=function(t){return Tn.resolve(this.getAllLiveMutationBatchesBeforeIndex(this.mutationQueue.length))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new jr(e,0),i=new jr(e,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([r,i],function(t){y(e.isEqual(t.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(t.targetOrBatchId);y(null!==r,"Batches in the index must exist in the main table"),o.push(r)}),Tn.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ge(K);return e.forEach(function(t){var e=new jr(t,0),i=new jr(t,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([e,i],function(e){y(t.isEqual(e.key),"For each key, should only iterate over a single key's batches"),r=r.add(e.targetOrBatchId)})}),Tn.resolve(this.findMutationBatches(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;ct.isDocumentKey(i)||(i=i.child(""));var o=new jr(new ct(i),0),s=new ge(K);return this.batchesByDocumentKey.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.targetOrBatchId)),!0)},o),Tn.resolve(this.findMutationBatches(s))},t.prototype.findMutationBatches=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.findMutationBatch(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this,r=this.indexOfExistingBatchId(e.batchId,"removed");if(y(this.mutationQueue[r].batchId===e.batchId,"Removed batches must exist in the queue"),0===r){for(var i=1;i<this.mutationQueue.length;i++){if(!this.mutationQueue[i].isTombstone())break}this.mutationQueue.splice(0,i)}else this.mutationQueue[r]=this.mutationQueue[r].toTombstone();var o=this.batchesByDocumentKey;return Tn.forEach(e.mutations,function(r){var i=new jr(r.key,e.batchId);return o=o.delete(i),n.referenceDelegate.removeMutationReference(t,r.key)}).next(function(){n.batchesByDocumentKey=o})},t.prototype.removeCachedMutationKeys=function(t){},t.prototype.containsKey=function(t,e){var n=new jr(e,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return Tn.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return 0===this.mutationQueue.length&&y(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),Tn.resolve()},t.prototype.getAllLiveMutationBatchesBeforeIndex=function(t){for(var e=[],n=0;n<t;n++){var r=this.mutationQueue[n];r.isTombstone()||e.push(r)}return e},t.prototype.indexOfExistingBatchId=function(t,e){var n=this.indexOfBatchId(t);return y(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+e),n},t.prototype.indexOfBatchId=function(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId},t.prototype.findMutationBatch=function(t){var e=this.indexOfBatchId(t);if(e<0||e>=this.mutationQueue.length)return null;var n=this.mutationQueue[e];return y(n.batchId===t,"If found batch must match"),n.isTombstone()?null:n},t}(),Ur=function(){function t(t){this.persistence=t,this.queries=new An(function(t){return t.canonicalId()}),this.lastRemoteSnapshotVersion=Jt.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new Lr,this.targetCount=0,this.targetIdGenerator=vr.forQueryCache()}return t.prototype.getTargetCount=function(t){return Tn.resolve(this.targetCount)},t.prototype.forEachTarget=function(t,e){return this.queries.forEach(function(t,n){return e(n)}),Tn.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Tn.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Tn.resolve(this.highestSequenceNumber)},t.prototype.allocateTargetId=function(t){var e=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=e,Tn.resolve(e)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.highestSequenceNumber&&(this.highestSequenceNumber=e),Tn.resolve()},t.prototype.saveQueryData=function(t){this.queries.set(t.query,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e),t.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=t.sequenceNumber)},t.prototype.addQueryData=function(t,e){return y(!this.queries.has(e.query),"Adding a query that already exists"),this.saveQueryData(e),this.targetCount+=1,Tn.resolve()},t.prototype.updateQueryData=function(t,e){return y(this.queries.has(e.query),"Updating a non-existent query"),this.saveQueryData(e),Tn.resolve()},t.prototype.removeQueryData=function(t,e){return y(this.targetCount>0,"Removing a target from an empty cache"),y(this.queries.has(e.query),"Removing a non-existent target from the cache"),this.queries.delete(e.query),this.references.removeReferencesForId(e.targetId),this.targetCount-=1,Tn.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.queries.forEach(function(s,a){a.sequenceNumber<=e&&!n[a.targetId]&&(r.queries.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Tn.waitFor(o).next(function(){return i})},t.prototype.getQueryCount=function(t){return Tn.resolve(this.targetCount)},t.prototype.getQueryData=function(t,e){var n=this.queries.get(e)||null;return Tn.resolve(n)},t.prototype.getQueryDataForTarget=function(t,e){return m("Not yet implemented.")},t.prototype.addMatchingKeys=function(t,e,n){this.references.addReferences(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.addReference(t,e))}),Tn.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){this.references.removeReferences(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.removeReference(t,e))}),Tn.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.references.removeReferencesForId(e),Tn.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.references.referencesForId(e);return Tn.resolve(n)},t.prototype.containsKey=function(t,e){return Tn.resolve(this.references.containsKey(e))},t}();var qr,Hr=function(){function t(t){this.sizer=t,this.docs=new dt(ct.comparator),this.newDocumentChanges=Te(),this.size=0}return t.prototype.addEntries=function(t,e,n){for(var r=0,i=e;r<i.length;r++){var o=i[r],s=o.maybeDocument.key;this.docs=this.docs.insert(s,o),this.newDocumentChanges=this.newDocumentChanges.add(s)}return this.size+=n,Tn.resolve()},t.prototype.removeEntry=function(t,e){var n=this.docs.get(e);return n?(this.docs=this.docs.remove(e),this.size-=n.size,Tn.resolve(n.size)):Tn.resolve(0)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Tn.resolve(n?n.maybeDocument:null)},t.prototype.getSizedEntry=function(t,e){return Tn.resolve(this.docs.get(e))},t.prototype.getDocumentsMatchingQuery=function(t,e){for(var n=Ee(),r=new ct(e.path.child("")),i=this.docs.getIteratorFrom(r);i.hasNext();){var o=i.getNext(),s=o.key,a=o.value.maybeDocument;if(!e.path.isPrefixOf(s.path))break;a instanceof ht&&e.matches(a)&&(n=n.insert(a.key,a))}return Tn.resolve(n)},t.prototype.forEachDocumentKey=function(t,e){return Tn.forEach(this.docs,function(t){return e(t)})},t.prototype.getNewDocumentChanges=function(t){var e=this,n=we();return this.newDocumentChanges.forEach(function(t){var r=e.docs.get(t),i=r?r.maybeDocument:new pt(t,Jt.forDeletedDoc());n=n.insert(t,i)}),this.newDocumentChanges=Te(),Tn.resolve(n)},t.prototype.newChangeBuffer=function(){return new Wr(this.sizer,this)},t.prototype.getSize=function(t){return Tn.resolve(this.size)},t}(),Wr=function(t){function e(e,n){var r=t.call(this)||this;return r.sizer=e,r.documentCache=n,r}return a.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=0,r=[];return this.assertChanges().forEach(function(t,i){var o=e.documentSizes.get(t);y(void 0!==o,"Attempting to change document "+t.toString()+" without having read it first");var s=e.sizer(i);n+=s-o,r.push({maybeDocument:i,size:s})}),this.documentCache.addEntries(t,r,n)},e.prototype.getFromCache=function(t,e){return this.documentCache.getSizedEntry(t,e)},e}(Dn),zr=function(){function t(t,e,n){var r=this;this.clientId=t,this.mutationQueues={},this.listenSequence=new hn(0),this._started=!1,this._started=!0,this.referenceDelegate=e?new Gr(this):new Qr(this,new _r(n)),this.queryCache=new Ur(this);this.remoteDocumentCache=new Hr(function(t){return r.referenceDelegate.documentSize(t)})}return t.createLruPersistence=function(e,n){return new t(e,!1,n)},t.createEagerPersistence=function(e,n){return new t(e,!0,n)},t.prototype.shutdown=function(t){return this._started=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getActiveClients=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return[2,[this.clientId]]})})},t.prototype.setPrimaryStateListener=function(t){return t(!0)},t.prototype.setNetworkEnabled=function(t){},t.prototype.getMutationQueue=function(t){var e=this.mutationQueues[t.toKey()];return e||(e=new Br(this.referenceDelegate),this.mutationQueues[t.toKey()]=e),e},t.prototype.getQueryCache=function(){return this.queryCache},t.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},t.prototype.runTransaction=function(t,e,n){var r=this;f("MemoryPersistence","Starting transaction:",t);var i=new Kr(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(i).next(function(t){return r.referenceDelegate.onTransactionCommitted(i).next(function(){return t})}).toPromise()},t.prototype.mutationQueuesContainKey=function(t,e){return Tn.or((n=this.mutationQueues,r=[],T(n,function(t,e){return r.push(e)}),r).map(function(n){return function(){return n.containsKey(t,e)}}));var n,r},t}(),Kr=function(){return function(t){this.currentSequenceNumber=t}}(),Gr=function(){function t(t){this.persistence=t}return t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return this.orphanedDocuments.delete(e),Tn.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedDocuments.add(e),Tn.resolve()},t.prototype.removeMutationReference=function(t,e){return this.orphanedDocuments.add(e),Tn.resolve()},t.prototype.removeTarget=function(t,e){var n=this,r=this.persistence.getQueryCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.orphanedDocuments.add(t)})}).next(function(){return r.removeQueryData(t,e)})},t.prototype.onTransactionStarted=function(){this.orphanedDocuments=new Set},t.prototype.onTransactionCommitted=function(t){var e=this,n=this.persistence.getRemoteDocumentCache();return Tn.forEach(this.orphanedDocuments,function(r){return e.isReferenced(t,r).next(function(e){return e?Tn.resolve():n.removeEntry(t,r).next(function(){})})})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.isReferenced(t,e).next(function(t){t?n.orphanedDocuments.delete(e):n.orphanedDocuments.add(e)})},t.prototype.documentSize=function(t){return 0},t.prototype.isReferenced=function(t,e){var n=this;return Tn.or([function(){return n.persistence.getQueryCache().containsKey(t,e)},function(){return n.persistence.mutationQueuesContainKey(t,e)},function(){return Tn.resolve(n.inMemoryPins.containsKey(e))}])},t}(),Qr=function(){function t(t,e){this.persistence=t,this.serializer=e,this.orphanedSequenceNumbers=new An(function(t){return bn(t.path)}),this.garbageCollector=new Sr(this)}return t.prototype.onTransactionStarted=function(){},t.prototype.onTransactionCommitted=function(t){return Tn.resolve()},t.prototype.forEachTarget=function(t,e){return this.persistence.getQueryCache().forEachTarget(t,e)},t.prototype.getTargetCount=function(t){return this.persistence.getQueryCache().getTargetCount(t)},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){var n=this;return Tn.forEach(this.orphanedSequenceNumbers,function(r,i){return n.isPinned(t,r,i).next(function(t){return t?Tn.resolve():e(i)})})},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.removeTargets=function(t,e,n){return this.persistence.getQueryCache().removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=0,i=this.persistence.getRemoteDocumentCache();return i.forEachDocumentKey(t,function(o){return n.isPinned(t,o,e).next(function(e){return e?Tn.resolve():(r++,i.removeEntry(t,o).next())})}).next(function(){return r})},t.prototype.removeMutationReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Tn.resolve()},t.prototype.removeTarget=function(t,e){var n=e.copy({sequenceNumber:t.currentSequenceNumber});return this.persistence.getQueryCache().updateQueryData(t,n)},t.prototype.addReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Tn.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Tn.resolve()},t.prototype.updateLimboDocument=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Tn.resolve()},t.prototype.documentSize=function(t){var e,n=this.serializer.toDbRemoteDocument(t);if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw m("Unknown remote document type");e=n.noDocument}return JSON.stringify(e).length},t.prototype.isPinned=function(t,e,n){var r=this;return Tn.or([function(){return r.persistence.mutationQueuesContainKey(t,e)},function(){return Tn.resolve(r.inMemoryPins.containsKey(e))},function(){return r.persistence.getQueryCache().containsKey(t,e)},function(){var t=r.orphanedSequenceNumbers.get(e);return Tn.resolve(void 0!==t&&t>n)}])},t}(),Xr=function(){function t(t,e,n,r,i){this.queue=t,this.timerId=e,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=i,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}return t.prototype.reset=function(){this.currentBaseMs=0},t.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},t.prototype.backoffAndRun=function(t){var e=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,n-r);this.currentBaseMs>0&&f("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,function(){return e.lastAttemptTime=Date.now(),t()}),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},t.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},t.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},t}();!function(t){t[t.Initial=0]="Initial",t[t.Starting=1]="Starting",t[t.Open=2]="Open",t[t.Error=3]="Error",t[t.Backoff=4]="Backoff"}(qr||(qr={}));var $r,Yr,Jr=1e3,Zr=6e4,ti=1.5,ei=function(){function t(t,e,n,r,i,o){this.queue=t,this.idleTimerId=n,this.connection=r,this.credentialsProvider=i,this.listener=o,this.state=qr.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new Xr(t,e,Jr,ti,Zr)}return t.prototype.isStarted=function(){return this.state===qr.Starting||this.state===qr.Open||this.state===qr.Backoff},t.prototype.isOpen=function(){return this.state===qr.Open},t.prototype.start=function(){this.state!==qr.Error?(y(this.state===qr.Initial,"Already started"),this.auth()):this.performBackoff()},t.prototype.stop=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.isStarted()?[4,this.close(qr.Initial)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.inhibitBackoff=function(){y(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=qr.Initial,this.backoff.reset()},t.prototype.markIdle=function(){var t=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,function(){return t.handleIdleCloseTimer()}))},t.prototype.sendRequest=function(t){this.cancelIdleCheck(),this.stream.send(t)},t.prototype.handleIdleCloseTimer=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return this.isOpen()?[2,this.close(qr.Initial)]:[2]})})},t.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},t.prototype.close=function(t,e){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){switch(n.label){case 0:return y(this.isStarted(),"Only started streams should be closed."),y(t===qr.Error||jt(e),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,t!==qr.Error?this.backoff.reset():e&&e.code===w.RESOURCE_EXHAUSTED?(d(e.toString()),d("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):e&&e.code===w.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.onClose(e)];case 1:return n.sent(),[2]}})})},t.prototype.tearDown=function(){},t.prototype.auth=function(){var t=this;y(this.state===qr.Initial,"Must be in initial state to auth"),this.state=qr.Starting;var e=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then(function(e){t.closeCount===n&&t.startStream(e)},function(n){e(function(){var e=new _(w.UNKNOWN,"Fetching auth token failed: "+n.message);return t.handleStreamClose(e)})})},t.prototype.startStream=function(t){var e=this;y(this.state===qr.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(t),this.stream.onOpen(function(){n(function(){return y(e.state===qr.Starting,"Expected stream to be in state Starting, but was "+e.state),e.state=qr.Open,e.listener.onOpen()})}),this.stream.onClose(function(t){n(function(){return e.handleStreamClose(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.performBackoff=function(){var t=this;y(this.state===qr.Error,"Should only perform backoff when in Error state"),this.state=qr.Backoff,this.backoff.backoffAndRun(function(){return a.__awaiter(t,void 0,void 0,function(){return a.__generator(this,function(t){return y(this.state===qr.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=qr.Initial,this.start(),y(this.isStarted(),"PersistentStream should have started"),[2]})})})},t.prototype.handleStreamClose=function(t){return y(this.isStarted(),"Can't handle server close on non-started stream"),f("PersistentStream","close with error: "+t),this.stream=null,this.close(qr.Error,t)},t.prototype.getCloseGuardedDispatcher=function(t){var e=this;return function(n){e.queue.enqueueAndForget(function(){return e.closeCount===t?n():(f("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),ni=function(t){function e(e,n,r,i,o){var s=t.call(this,e,ln.ListenStreamConnectionBackoff,ln.ListenStreamIdle,n,r,o)||this;return s.serializer=i,s}return a.__extends(e,t),e.prototype.startRpc=function(t){return this.connection.openStream("Listen",t)},e.prototype.onMessage=function(t){this.backoff.reset();var e=this.serializer.fromWatchChange(t),n=this.serializer.versionFromListenResponse(t);return this.listener.onWatchChange(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.addTarget=this.serializer.toTarget(t);var n=this.serializer.toListenRequestLabels(t);n&&(e.labels=n),this.sendRequest(e)},e.prototype.unwatch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.removeTarget=t,this.sendRequest(e)},e}(ei),ri=function(t){function e(e,n,r,i,o){var s=t.call(this,e,ln.WriteStreamConnectionBackoff,ln.WriteStreamIdle,n,r,o)||this;return s.serializer=i,s.handshakeComplete_=!1,s}return a.__extends(e,t),Object.defineProperty(e.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.handshakeComplete_=!1,t.prototype.start.call(this)},e.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},e.prototype.startRpc=function(t){return this.connection.openStream("Write",t)},e.prototype.onMessage=function(t){if(y(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=t.streamToken,this.handshakeComplete_){this.backoff.reset();var e=this.serializer.fromWriteResults(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.onMutationResult(n,e)}return y(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},e.prototype.writeHandshake=function(){y(this.isOpen(),"Writing handshake requires an opened stream"),y(!this.handshakeComplete_,"Handshake already completed");var t={};t.database=this.serializer.encodedDatabaseId,this.sendRequest(t)},e.prototype.writeMutations=function(t){var e=this;y(this.isOpen(),"Writing mutations requires an opened stream"),y(this.handshakeComplete_,"Handshake must be complete before writing mutations"),y(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:t.map(function(t){return e.serializer.toMutation(t)})};this.sendRequest(n)},e}(ei),ii=function(){function t(t,e,n,r){this.queue=t,this.connection=e,this.credentials=n,this.serializer=r}return t.prototype.newPersistentWriteStream=function(t){return new ri(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.newPersistentWatchStream=function(t){return new ni(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,writes:t.map(function(t){return e.serializer.toMutation(t)})};return this.invokeRPC("Commit",n).then(function(t){return e.serializer.fromWriteResults(t.writeResults,t.commitTime)})},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,documents:t.map(function(t){return e.serializer.toName(t)})};return this.invokeStreamingRPC("BatchGetDocuments",n).then(function(n){var r=we();n.forEach(function(t){var n=e.serializer.fromMaybeDocument(t);r=r.insert(n.key,n)});var i=[];return t.forEach(function(t){var e=r.get(t);y(!!e,"Missing entity in write response for "+t),i.push(e)}),i})},t.prototype.invokeRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeRPC(t,e,r)}).catch(function(t){throw t.code===w.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t.prototype.invokeStreamingRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeStreamingRPC(t,e,r)}).catch(function(t){throw t.code===w.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t}(),oi=function(){function t(t){this.datastore=t,this.readVersions=Se(),this.mutations=[],this.committed=!1}return t.prototype.recordVersion=function(t){var e;if(t instanceof ht)e=t.version;else{if(!(t instanceof pt))throw m("Document in a transaction was a "+t.constructor.name);e=Jt.forDeletedDoc()}var n=this.readVersions.get(t.key);if(null!==n){if(!e.isEqual(n))throw new _(w.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(t.key,e)},t.prototype.lookup=function(t){var e=this;return this.committed?Promise.reject("Transaction has already completed."):this.mutations.length>0?Promise.reject("Transactions lookups are invalid after writes."):this.datastore.lookup(t).then(function(t){return t.forEach(function(t){t instanceof pt||t instanceof ht?e.recordVersion(t):m("Document in a transaction was a "+t.constructor.name)}),t})},t.prototype.write=function(t){if(this.committed)throw new _(w.FAILED_PRECONDITION,"Transaction has already completed.");this.mutations=this.mutations.concat(t)},t.prototype.precondition=function(t){var e=this.readVersions.get(t);return e?ie.updateTime(e):ie.NONE},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t);if(e&&e.isEqual(Jt.forDeletedDoc()))throw new _(w.FAILED_PRECONDITION,"Can't update a document that doesn't exist.");return e?ie.updateTime(e):ie.exists(!0)},t.prototype.set=function(t,e){this.write(e.toMutations(t,this.precondition(t)))},t.prototype.update=function(t,e){this.write(e.toMutations(t,this.preconditionForUpdate(t)))},t.prototype.delete=function(t){this.write([new ce(t,this.precondition(t))]),this.readVersions=this.readVersions.insert(t,Jt.forDeletedDoc())},t.prototype.commit=function(){var t=this,e=this.readVersions;return this.mutations.forEach(function(t){e=e.remove(t.key)}),e.isEmpty()?this.datastore.commit(this.mutations).then(function(){t.committed=!0}):Promise.reject(Error("Every document read in a transaction must also be written."))},t}();!function(t){t[t.Unknown=0]="Unknown",t[t.Online=1]="Online",t[t.Offline=2]="Offline"}($r||($r={})),function(t){t[t.RemoteStore=0]="RemoteStore",t[t.SharedClientState=1]="SharedClientState"}(Yr||(Yr={}));var si=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state=$r.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return t.prototype.handleWatchStreamStart=function(){var t=this;0===this.watchStreamFailures&&(this.setAndBroadcast($r.Unknown),y(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(ln.OnlineStateTimeout,1e4,function(){return t.onlineStateTimer=null,y(t.state===$r.Unknown,"Timer should be canceled if we transitioned to a different state."),t.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),t.setAndBroadcast($r.Offline),Promise.resolve()}))},t.prototype.handleWatchStreamFailure=function(t){this.state===$r.Online?(this.setAndBroadcast($r.Unknown),y(0===this.watchStreamFailures,"watchStreamFailures must be 0"),y(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=1&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+t.toString()),this.setAndBroadcast($r.Offline)))},t.prototype.set=function(t){this.clearOnlineStateTimer(),this.watchStreamFailures=0,t===$r.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(t)},t.prototype.setAndBroadcast=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.logClientOfflineWarningIfNecessary=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(d(e),this.shouldWarnClientIsOffline=!1):f("OnlineStateTracker",e)},t.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},t}(),ai=function(){function t(t,e,n,r){this.localStore=t,this.datastore=e,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.onlineStateTracker=new si(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return a.__awaiter(this,void 0,void 0,function(){var t;return a.__generator(this,function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(t=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set($r.Unknown),[4,this.fillWritePipeline()];case 2:e.sent(),e.label=3;case 3:return[2]}})})},t.prototype.disableNetwork=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set($r.Offline),[2]}})})},t.prototype.disableNetworkInternal=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return[4,this.writeStream.stop()];case 1:return t.sent(),[4,this.watchStream.stop()];case 2:return t.sent(),this.writePipeline.length>0&&(f("RemoteStore","Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}})})},t.prototype.shutdown=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return f("RemoteStore","RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set($r.Unknown),[2]}})})},t.prototype.listen=function(t){y(!C(this.listenTargets,t.targetId),"listen called with duplicate targetId!"),this.listenTargets[t.targetId]=t,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(t)},t.prototype.unlisten=function(t){y(C(this.listenTargets,t),"unlisten called without assigned target ID!"),delete this.listenTargets[t],this.watchStream.isOpen()&&this.sendUnwatchRequest(t),A(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set($r.Unknown))},t.prototype.getQueryDataForTarget=function(t){return this.listenTargets[t]||null},t.prototype.getRemoteKeysForTarget=function(t){return this.syncEngine.getRemoteKeysForTarget(t)},t.prototype.sendWatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t.targetId),this.watchStream.watch(t)},t.prototype.sendUnwatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t),this.watchStream.unwatch(t)},t.prototype.startWatchStream=function(){y(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new Ue(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},t.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!A(this.listenTargets)},t.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},t.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},t.prototype.onWatchStreamOpen=function(){return a.__awaiter(this,void 0,void 0,function(){var t=this;return a.__generator(this,function(e){return x(this.listenTargets,function(e,n){t.sendWatchRequest(n)}),[2]})})},t.prototype.onWatchStreamClose=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){return void 0===t&&y(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(t),this.startWatchStream()):this.onlineStateTracker.set($r.Unknown),[2]})})},t.prototype.onWatchStreamChange=function(t,e){return a.__awaiter(this,void 0,void 0,function(){var n;return a.__generator(this,function(r){switch(r.label){case 0:return this.onlineStateTracker.set($r.Online),t instanceof Ve&&t.state===Pe.Removed&&t.cause?[2,this.handleTargetError(t)]:(t instanceof Le?this.watchChangeAggregator.handleDocumentChange(t):t instanceof je?this.watchChangeAggregator.handleExistenceFilter(t):(y(t instanceof Ve,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(t)),e.isEqual(Jt.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=r.sent(),e.compareTo(n)>=0?[4,this.raiseWatchSnapshot(e)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}})})},t.prototype.raiseWatchSnapshot=function(t){var e=this;y(!t.isEqual(Jt.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(t);return x(n.targetChanges,function(n,r){if(r.resumeToken.length>0){var i=e.listenTargets[n];i&&(e.listenTargets[n]=i.copy({resumeToken:r.resumeToken,snapshotVersion:t}))}}),n.targetMismatches.forEach(function(t){var n=e.listenTargets[t];if(n){e.listenTargets[t]=n.copy({resumeToken:b()}),e.sendUnwatchRequest(t);var r=new te(n.query,t,Bt.ExistenceFilterMismatch,n.sequenceNumber);e.sendWatchRequest(r)}}),this.syncEngine.applyRemoteEvent(n)},t.prototype.handleTargetError=function(t){var e=this;y(!!t.cause,"Handling target error without a cause");var n=t.cause,r=Promise.resolve();return t.targetIds.forEach(function(t){r=r.then(function(){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(e){return C(this.listenTargets,t)?(delete this.listenTargets[t],this.watchChangeAggregator.removeTarget(t),[2,this.syncEngine.rejectListen(t,n)]):[2]})})})}),r},t.prototype.fillWritePipeline=function(){return a.__awaiter(this,void 0,void 0,function(){var t,e;return a.__generator(this,function(n){switch(n.label){case 0:return this.canAddToWritePipeline()?(t=this.writePipeline.length>0?this.writePipeline[this.writePipeline.length-1].batchId:Cn,[4,this.localStore.nextMutationBatch(t)]):[3,4];case 1:return null!==(e=n.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(e),[4,this.fillWritePipeline()];case 3:n.sent(),n.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}})})},t.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},t.prototype.outstandingWrites=function(){return this.writePipeline.length},t.prototype.addToWritePipeline=function(t){y(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(t),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(t.mutations)},t.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&this.writePipeline.length>0},t.prototype.startWriteStream=function(){y(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},t.prototype.onWriteStreamOpen=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return this.writeStream.writeHandshake(),[2]})})},t.prototype.onWriteHandshakeComplete=function(){var t=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var e=0,n=t.writePipeline;e<n.length;e++){var r=n[e];t.writeStream.writeMutations(r.mutations)}}).catch(function(e){return t.ignoreIfPrimaryLeaseLoss(e)})},t.prototype.ignoreIfPrimaryLeaseLoss=function(t){if(!kr(t))throw t;f("RemoteStore","Unexpectedly lost primary lease")},t.prototype.onMutationResult=function(t,e){var n=this;y(this.writePipeline.length>0,"Got result for empty write pipeline");var r=this.writePipeline.shift(),i=xn.from(r,t,e,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then(function(){return n.fillWritePipeline()})},t.prototype.onWriteStreamClose=function(t){return a.__awaiter(this,void 0,void 0,function(){var e=this;return a.__generator(this,function(n){return void 0===t&&y(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),t&&this.writePipeline.length>0?(void 0,[2,(this.writeStream.handshakeComplete?this.handleWriteError(t):this.handleHandshakeError(t)).then(function(){e.shouldStartWriteStream()&&e.startWriteStream()})]):[2]})})},t.prototype.handleHandshakeError=function(t){return a.__awaiter(this,void 0,void 0,function(){var e=this;return a.__generator(this,function(n){return me(t.code)||t.code===w.ABORTED?(f("RemoteStore","RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=b(),[2,this.localStore.setLastStreamToken(b()).catch(function(t){return e.ignoreIfPrimaryLeaseLoss(t)})]):[2]})})},t.prototype.handleWriteError=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n=this;return a.__generator(this,function(r){return me(t.code)?(e=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(e.batchId,t).then(function(){return n.fillWritePipeline()})]):[2]})})},t.prototype.createTransaction=function(){return new oi(this.datastore)},t.prototype.handleCredentialChange=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.canUseNetwork()?(f("RemoteStore","RemoteStore restarting streams for new credential"),this.networkEnabled=!1,[4,this.disableNetworkInternal()]):[3,3];case 1:return t.sent(),this.onlineStateTracker.set($r.Unknown),[4,this.enableNetwork()];case 2:t.sent(),t.label=3;case 3:return[2]}})})},t.prototype.applyPrimaryState=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,4];case 2:return t?[3,4]:[4,this.disableNetworkInternal()];case 3:e.sent(),this.onlineStateTracker.set($r.Unknown),e.label=4;case 4:return[2]}})})},t}(),ui=function(){return function(){this.listeners=[]}}(),ci=function(){function t(t){this.syncEngine=t,this.queries=new An(function(t){return t.canonicalId()}),this.onlineState=$r.Unknown,this.syncEngine.subscribe(this)}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.queries.get(e);return r||(n=!0,r=new ui,this.queries.set(e,r)),r.listeners.push(t),t.applyOnlineStateChange(this.onlineState),r.viewSnap&&t.onViewSnapshot(r.viewSnap),n?this.syncEngine.listen(e).then(function(t){return r.targetId=t,t}):Promise.resolve(r.targetId)},t.prototype.unlisten=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n,r,i;return a.__generator(this,function(o){return e=t.query,n=!1,(r=this.queries.get(e))&&(i=r.listeners.indexOf(t))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.queries.delete(e),[2,this.syncEngine.unlisten(e)]):[2]})})},t.prototype.onWatchChange=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e],i=r.query,o=this.queries.get(i);if(o){for(var s=0,a=o.listeners;s<a.length;s++){a[s].onViewSnapshot(r)}o.viewSnap=r}}},t.prototype.onWatchError=function(t,e){var n=this.queries.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++){i[r].onError(e)}this.queries.delete(t)},t.prototype.onOnlineStateChange=function(t){this.onlineState=t,this.queries.forEach(function(e,n){for(var r=0,i=n.listeners;r<i.length;r++){i[r].applyOnlineStateChange(t)}})},t}(),li=function(){function t(t,e,n){this.query=t,this.queryObserver=e,this.raisedInitialEvent=!1,this.onlineState=$r.Unknown,this.options=n||{}}return t.prototype.onViewSnapshot=function(t){if(y(t.docChanges.length>0||t.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];i.type!==Ie.Metadata&&e.push(i)}t=new Me(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}this.raisedInitialEvent?this.shouldRaiseEvent(t)&&this.queryObserver.next(t):this.shouldRaiseInitialEvent(t,this.onlineState)&&this.raiseInitialEvent(t),this.snap=t},t.prototype.onError=function(t){this.queryObserver.error(t)},t.prototype.applyOnlineStateChange=function(t){this.onlineState=t,this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,t)&&this.raiseInitialEvent(this.snap)},t.prototype.shouldRaiseInitialEvent=function(t,e){if(y(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!t.fromCache)return!0;var n=e!==$r.Offline;return this.options.waitForSyncWhenOnline&&n?(y(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.isEmpty()||e===$r.Offline},t.prototype.shouldRaiseEvent=function(t){if(t.docChanges.length>0)return!0;var e=this.snap&&this.snap.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.raiseInitialEvent=function(t){y(!this.raisedInitialEvent,"Trying to raise initial events for second time"),t=Me.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(t)},t}(),hi=function(){function t(t,e,n){this.targetId=t,this.addedKeys=e,this.removedKeys=n}return t.fromSnapshot=function(e,n){for(var r=Te(),i=Te(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case Ie.Added:r=r.add(a.doc.key);break;case Ie.Removed:i=i.add(a.doc.key)}}return new t(e,r,i)},t}(),pi=function(){return function(t){this.key=t}}(),fi=function(){return function(t){this.key=t}}(),di=function(){function t(t,e){this.query=t,this._syncedDocuments=e,this.syncState=null,this.current=!1,this.limboDocuments=Te(),this.mutatedKeys=Te(),this.documentSet=new ke(t.docComparator.bind(t))}return Object.defineProperty(t.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),t.prototype.computeDocChanges=function(t,e){var n=this,r=e?e.changeSet:new Oe,i=e?e.documentSet:this.documentSet,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.hasLimit()&&i.size===this.query.limit?i.last():null;if(t.inorderTraversal(function(t,e){var c=i.get(t),l=e instanceof ht?e:null;l&&(y(t.isEqual(l.key),"Mismatching keys found in document changes: "+t+" != "+l.key),l=n.query.matches(l)?l:null);var h=!!c&&n.mutatedKeys.has(c.key),p=!!l&&(l.hasLocalMutations||n.mutatedKeys.has(l.key)&&l.hasCommittedMutations),f=!1;c&&l?c.data.isEqual(l.data)?h!==p&&(r.track({type:Ie.Metadata,doc:l}),f=!0):n.shouldWaitForSyncedDocument(c,l)||(r.track({type:Ie.Modified,doc:l}),f=!0,u&&n.query.docComparator(l,u)>0&&(a=!0)):!c&&l?(r.track({type:Ie.Added,doc:l}),f=!0):c&&!l&&(r.track({type:Ie.Removed,doc:c}),f=!0,u&&(a=!0));f&&(l?(s=s.add(l),o=p?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),this.query.hasLimit())for(;s.size>this.query.limit;){var c=s.last();s=s.delete(c.key),o=o.delete(c.key),r.track({type:Ie.Removed,doc:c})}return y(!a||!e,"View was refilled using docs that themselves needed refilling."),{documentSet:s,changeSet:r,needsRefill:a,mutatedKeys:o}},t.prototype.shouldWaitForSyncedDocument=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this;y(!t.needsRefill,"Cannot apply changes that need a refill");var i=this.documentSet;this.documentSet=t.documentSet,this.mutatedKeys=t.mutatedKeys;var o=t.changeSet.getChanges();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case Ie.Added:return 1;case Ie.Modified:case Ie.Metadata:return 2;case Ie.Removed:return 0;default:return m("Unknown ChangeType: "+t)}};return n(t)-n(e)}(t.type,e.type)||r.query.docComparator(t.doc,e.doc)}),this.applyTargetChange(n);var s=e?this.updateLimboDocuments():[],a=0===this.limboDocuments.size&&this.current?Ne.Synced:Ne.Local,u=a!==this.syncState;return this.syncState=a,0!==o.length||u?{snapshot:new Me(this.query,t.documentSet,i,o,t.mutatedKeys,a===Ne.Local,u,!1),limboChanges:s}:{limboChanges:s}},t.prototype.applyOnlineStateChange=function(t){return this.current&&t===$r.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new Oe,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},t.prototype.shouldBeInLimbo=function(t){return!this._syncedDocuments.has(t)&&(!!this.documentSet.has(t)&&!this.documentSet.get(t).hasLocalMutations)},t.prototype.applyTargetChange=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.add(t)}),t.modifiedDocuments.forEach(function(t){return y(e._syncedDocuments.has(t),"Modified document "+t+" not found in view.")}),t.removedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.delete(t)}),this.current=t.current)},t.prototype.updateLimboDocuments=function(){var t=this;if(!this.current)return[];var e=this.limboDocuments;this.limboDocuments=Te(),this.documentSet.forEach(function(e){t.shouldBeInLimbo(e.key)&&(t.limboDocuments=t.limboDocuments.add(e.key))});var n=[];return e.forEach(function(e){t.limboDocuments.has(e)||n.push(new fi(e))}),this.limboDocuments.forEach(function(t){e.has(t)||n.push(new pi(t))}),n},t.prototype.synchronizeWithPersistedState=function(t,e){this._syncedDocuments=e,this.limboDocuments=Te();var n=this.computeDocChanges(t);return this.applyChanges(n,!0)},t.prototype.computeInitialSnapshot=function(){return Me.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===Ne.Local)},t}();var vi=function(){return function(t,e,n){this.query=t,this.targetId=e,this.view=n}}(),mi=function(){return function(t){this.key=t}}(),yi=function(){function t(t,e,n,r){this.localStore=t,this.remoteStore=e,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new An(function(t){return t.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new dt(ct.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new Lr,this.mutationUserCallbacks={},this.limboTargetIdGenerator=vr.forSyncEngine(),this.isPrimary=void 0,this.onlineState=$r.Unknown}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){y(null!==t,"SyncEngine listener cannot be null"),y(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=t},t.prototype.listen=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n,r,i,o;return a.__generator(this,function(s){switch(s.label){case 0:return this.assertSubscribed("listen()"),(r=this.queryViewsByQuery.get(t))?(e=r.targetId,this.sharedClientState.addLocalQueryTarget(e),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateQuery(t)];case 2:return i=s.sent(),o=this.sharedClientState.addLocalQueryTarget(i.targetId),e=i.targetId,[4,this.initializeViewAndComputeSnapshot(i,"current"===o)];case 3:n=s.sent(),this.isPrimary&&this.remoteStore.listen(i),s.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,e]}})})},t.prototype.initializeViewAndComputeSnapshot=function(t,e){var n=this,r=t.query;return this.localStore.executeQuery(r).then(function(i){return n.localStore.remoteDocumentKeys(t.targetId).then(function(o){var s=new di(r,o),a=s.computeDocChanges(i),u=Fe.createSynthesizedTargetChangeForCurrentChange(t.targetId,e&&n.onlineState!==$r.Offline),c=s.applyChanges(a,!0===n.isPrimary,u);y(0===c.limboChanges.length,"View returned limbo docs before target ack from the server."),y(!!c.snapshot,"applyChanges for new view should always return a snapshot");var l=new vi(r,t.targetId,s);return n.queryViewsByQuery.set(r,l),n.queryViewsByTarget[t.targetId]=l,c.snapshot})})},t.prototype.synchronizeViewAndComputeSnapshot=function(t){var e=this;return this.localStore.executeQuery(t.query).then(function(n){return e.localStore.remoteDocumentKeys(t.targetId).then(function(r){return a.__awaiter(e,void 0,void 0,function(){var e;return a.__generator(this,function(i){return e=t.view.synchronizeWithPersistedState(n,r),this.isPrimary&&this.updateTrackedLimbos(t.targetId,e.limboChanges),[2,e]})})})})},t.prototype.unlisten=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n=this;return a.__generator(this,function(r){switch(r.label){case 0:return this.assertSubscribed("unlisten()"),y(!!(e=this.queryViewsByQuery.get(t)),"Trying to unlisten on query not found:"+t),this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(e.targetId),this.sharedClientState.isActiveQueryTarget(e.targetId)?[3,2]:[4,this.localStore.releaseQuery(t,!1).then(function(){n.sharedClientState.clearQueryState(e.targetId),n.remoteStore.unlisten(e.targetId),n.removeAndCleanupQuery(e)}).catch(function(t){return n.ignoreIfPrimaryLeaseLoss(t)})]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupQuery(e),[4,this.localStore.releaseQuery(t,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}})})},t.prototype.write=function(t,e){var n=this;return this.assertSubscribed("write()"),this.localStore.localWrite(t).then(function(t){return n.sharedClientState.addPendingMutation(t.batchId),n.addMutationCallback(t.batchId,e),n.emitNewSnapsAndNotifyLocalStore(t.changes)}).then(function(){return n.remoteStore.fillWritePipeline()})},t.prototype.wrapUpdateFunctionError=function(t){return t},t.prototype.runTransaction=function(t,e){var n=this;void 0===e&&(e=5),y(e>=0,"Got negative number of retries for transaction.");var r=this.remoteStore.createTransaction();return function(){try{var e=t(r);return!jt(e)&&e.catch&&e.then?e.catch(function(t){return Promise.reject(n.wrapUpdateFunctionError(t))}):Promise.reject(Error("Transaction callback must return a Promise"))}catch(t){return Promise.reject(n.wrapUpdateFunctionError(t))}}().then(function(i){return r.commit().then(function(){return i}).catch(function(r){return 0===e?Promise.reject(r):n.runTransaction(t,e-1)})})},t.prototype.applyRemoteEvent=function(t){var e=this;return this.assertSubscribed("applyRemoteEvent()"),this.localStore.applyRemoteEvent(t).then(function(n){return T(t.targetChanges,function(t,n){var r=e.limboResolutionsByTarget[t];r&&(y(n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),n.addedDocuments.size>0?r.receivedDocument=!0:n.modifiedDocuments.size>0?y(r.receivedDocument,"Received change for limbo target document without add."):n.removedDocuments.size>0&&(y(r.receivedDocument,"Received remove for limbo target document without add."),r.receivedDocument=!1))}),e.emitNewSnapsAndNotifyLocalStore(n,t)}).catch(function(t){return e.ignoreIfPrimaryLeaseLoss(t)})},t.prototype.applyOnlineStateChange=function(t,e){if(this.isPrimary&&e===Yr.RemoteStore||!this.isPrimary&&e===Yr.SharedClientState){var n=[];this.queryViewsByQuery.forEach(function(e,r){var i=r.view.applyOnlineStateChange(t);y(0===i.limboChanges.length,"OnlineState should not affect limbo documents."),i.snapshot&&n.push(i.snapshot)}),this.syncEngineListener.onOnlineStateChange(t),this.syncEngineListener.onWatchChange(n),this.onlineState=t,this.isPrimary&&this.sharedClientState.setOnlineState(t)}},t.prototype.rejectListen=function(t,e){return a.__awaiter(this,void 0,void 0,function(){var n,r,i,o,s,u,c=this;return a.__generator(this,function(a){switch(a.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(t,"rejected",e),n=this.limboResolutionsByTarget[t],(r=n&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboResolutionsByTarget[t],i=(i=new dt(ct.comparator)).insert(r,new pt(r,Jt.forDeletedDoc())),o=Te().add(r),s=new Re(Jt.MIN,{},new ge(K),i,o),[2,this.applyRemoteEvent(s)]):[3,1];case 1:return y(!!(u=this.queryViewsByTarget[t]),"Unknown targetId: "+t),[4,this.localStore.releaseQuery(u.query,!1).then(function(){return c.removeAndCleanupQuery(u)}).catch(function(t){return c.ignoreIfPrimaryLeaseLoss(t)})];case 2:a.sent(),this.syncEngineListener.onWatchError(u.query,e),a.label=3;case 3:return[2]}})})},t.prototype.applyBatchState=function(t,e,n){return a.__awaiter(this,void 0,void 0,function(){var r;return a.__generator(this,function(i){switch(i.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(t)];case 1:return null===(r=i.sent())?(f("SyncEngine","Cannot apply mutation batch with id: "+t),[2]):"pending"!==e?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.processUserCallback(t,n||null),this.localStore.removeCachedMutationBatchMetadata(t)):m("Unknown batchState: "+e),i.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(r)];case 5:return i.sent(),[2]}})})},t.prototype.applySuccessfulWrite=function(t){var e=this;this.assertSubscribed("applySuccessfulWrite()");var n=t.batch.batchId;return this.processUserCallback(n,null),this.localStore.acknowledgeBatch(t).then(function(t){return e.sharedClientState.updateMutationState(n,"acknowledged"),e.emitNewSnapsAndNotifyLocalStore(t)}).catch(function(t){return e.ignoreIfPrimaryLeaseLoss(t)})},t.prototype.rejectFailedWrite=function(t,e){var n=this;return this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(t,e),this.localStore.rejectBatch(t).then(function(r){return n.sharedClientState.updateMutationState(t,"rejected",e),n.emitNewSnapsAndNotifyLocalStore(r)}).catch(function(t){return n.ignoreIfPrimaryLeaseLoss(t)})},t.prototype.addMutationCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new dt(K)),n=n.insert(t,e),this.mutationUserCallbacks[this.currentUser.toKey()]=n},t.prototype.processUserCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(t);r&&(y(t===n.minKey(),"Mutation callbacks processed out-of-order?"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},t.prototype.removeAndCleanupQuery=function(t){var e=this;if(this.sharedClientState.removeLocalQueryTarget(t.targetId),this.queryViewsByQuery.delete(t.query),delete this.queryViewsByTarget[t.targetId],this.isPrimary){var n=this.limboDocumentRefs.referencesForId(t.targetId);this.limboDocumentRefs.removeReferencesForId(t.targetId),n.forEach(function(t){e.limboDocumentRefs.containsKey(t)||e.removeLimboTarget(t)})}},t.prototype.removeLimboTarget=function(t){var e=this.limboTargetsByKey.get(t);null!==e&&(this.remoteStore.unlisten(e),this.limboTargetsByKey=this.limboTargetsByKey.remove(t),delete this.limboResolutionsByTarget[e])},t.prototype.updateTrackedLimbos=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i instanceof pi)this.limboDocumentRefs.addReference(i.key,t),this.trackLimboChange(i);else if(i instanceof fi){f("SyncEngine","Document no longer in limbo: "+i.key),this.limboDocumentRefs.removeReference(i.key,t),this.limboDocumentRefs.containsKey(i.key)||this.removeLimboTarget(i.key)}else m("Unknown limbo change: "+JSON.stringify(i))}},t.prototype.trackLimboChange=function(t){var e=t.key;if(!this.limboTargetsByKey.get(e)){f("SyncEngine","New document in limbo: "+e);var n=this.limboTargetIdGenerator.next(),r=Ut.atPath(e.path);this.limboResolutionsByTarget[n]=new mi(e),this.remoteStore.listen(new te(r,n,Bt.LimboResolution,hn.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(e,n)}},t.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},t.prototype.emitNewSnapsAndNotifyLocalStore=function(t,e){return a.__awaiter(this,void 0,void 0,function(){var n,r,i,o=this;return a.__generator(this,function(s){switch(s.label){case 0:return n=[],r=[],i=[],this.queryViewsByQuery.forEach(function(s,a){i.push(Promise.resolve().then(function(){var e=a.view.computeDocChanges(t);return e.needsRefill?o.localStore.executeQuery(a.query).then(function(t){return a.view.computeDocChanges(t,e)}):e}).then(function(t){var i=e&&e.targetChanges[a.targetId],s=a.view.applyChanges(t,!0===o.isPrimary,i);if(o.updateTrackedLimbos(a.targetId,s.limboChanges),s.snapshot){o.isPrimary&&o.sharedClientState.updateQueryState(a.targetId,s.snapshot.fromCache?"not-current":"current"),n.push(s.snapshot);var u=hi.fromSnapshot(a.targetId,s.snapshot);r.push(u)}}))}),[4,Promise.all(i)];case 1:return s.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(r)];case 2:return s.sent(),[2]}})})},t.prototype.ignoreIfPrimaryLeaseLoss=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){if(!kr(t))throw t;return f("SyncEngine","Unexpectedly lost primary lease"),[2]})})},t.prototype.assertSubscribed=function(t){y(null!==this.syncEngineListener,"Trying to call "+t+" before calling subscribe().")},t.prototype.handleCredentialChange=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n;return a.__generator(this,function(r){switch(r.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?[4,this.localStore.handleUserChange(t)]:[3,3];case 1:return n=r.sent(),this.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:r.sent(),r.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return r.sent(),[2]}})})},t.prototype.applyPrimaryState=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n,r,i,o,s,u,c=this;return a.__generator(this,function(a){switch(a.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return a.sent(),e=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e.toArray())];case 2:for(n=a.sent(),r=0,i=n;r<i.length;r++)o=i[r],this.remoteStore.listen(o);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,s=[],u=Promise.resolve(),x(this.queryViewsByTarget,function(t,e){c.sharedClientState.isLocalQueryTarget(t)?s.push(t):u=u.then(function(){return c.unlisten(e.query)}),c.remoteStore.unlisten(e.targetId)}),[4,u]);case 4:return a.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(s)];case 5:return a.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:a.sent(),a.label=7;case 7:return[2]}})})},t.prototype.resetLimboDocuments=function(){var t=this;x(this.limboResolutionsByTarget,function(e){t.remoteStore.unlisten(e)}),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new dt(ct.comparator)},t.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(t){for(var e=this,n=Promise.resolve(),r=[],i=[],o=function(t){n=n.then(function(){return a.__awaiter(e,void 0,void 0,function(){var e,n,o,s;return a.__generator(this,function(a){switch(a.label){case 0:return(n=this.queryViewsByTarget[t])?[4,this.localStore.releaseQuery(n.query,!0)]:[3,4];case 1:return a.sent(),[4,this.localStore.allocateQuery(n.query)];case 2:return e=a.sent(),[4,this.synchronizeViewAndComputeSnapshot(n)];case 3:return(o=a.sent()).snapshot&&i.push(o.snapshot),[3,8];case 4:return y(!0===this.isPrimary,"A secondary tab should never have an active query without an active view."),[4,this.localStore.getQueryForTarget(t)];case 5:return y(!!(s=a.sent()),"Query data for target "+t+" not found"),[4,this.localStore.allocateQuery(s)];case 6:return e=a.sent(),[4,this.initializeViewAndComputeSnapshot(e,!1)];case 7:a.sent(),a.label=8;case 8:return r.push(e),[2]}})})})},s=0,u=t;s<u.length;s++){o(u[s])}return n.then(function(){return e.syncEngineListener.onWatchChange(i),r})},t.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},t.prototype.applyTargetState=function(t,e,n){return a.__awaiter(this,void 0,void 0,function(){var r,i=this;return a.__generator(this,function(o){switch(o.label){case 0:if(this.isPrimary)return f("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.queryViewsByTarget[t])return[3,5];switch(e){case"current":case"not-current":return[3,1];case"rejected":return[3,2]}return[3,4];case 1:return[2,this.localStore.getNewDocumentChanges().then(function(n){return a.__awaiter(i,void 0,void 0,function(){var r;return a.__generator(this,function(i){switch(i.label){case 0:return r=Re.createSynthesizedRemoteEventForCurrentChange(t,"current"===e),[4,this.emitNewSnapsAndNotifyLocalStore(n,r)];case 1:return i.sent(),[2]}})})},function(t){return a.__awaiter(i,void 0,void 0,function(){var e;return a.__generator(this,function(n){switch(n.label){case 0:return function(t){return t.code===w.DATA_LOSS&&t.message===Mn}(t)?(e=[],x(this.queryViewsByTarget,function(t){return e.push(t)}),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e)]):[3,2];case 1:return n.sent(),[3,3];case 2:throw t;case 3:return[2]}})})})];case 2:return r=this.queryViewsByTarget[t],this.removeAndCleanupQuery(r),[4,this.localStore.releaseQuery(r.query,!0)];case 3:return o.sent(),this.syncEngineListener.onWatchError(r.query,n),[3,5];case 4:m("Unexpected target state: "+e),o.label=5;case 5:return[2]}})})},t.prototype.applyActiveTargetsChange=function(t,e){return a.__awaiter(this,void 0,void 0,function(){var n,r,i,o,s,u,c,l,h,p=this;return a.__generator(this,function(f){switch(f.label){case 0:if(!this.isPrimary)return[2];n=0,r=t,f.label=1;case 1:return n<r.length?(h=r[n],y(!this.queryViewsByTarget[h],"Trying to add an already active target"),[4,this.localStore.getQueryForTarget(h)]):[3,6];case 2:return y(!!(i=f.sent()),"Query data for active target "+h+" not found"),[4,this.localStore.allocateQuery(i)];case 3:return o=f.sent(),[4,this.initializeViewAndComputeSnapshot(o,!1)];case 4:f.sent(),this.remoteStore.listen(o),f.label=5;case 5:return n++,[3,1];case 6:s=function(t){var e;return a.__generator(this,function(n){switch(n.label){case 0:return(e=u.queryViewsByTarget[t])?[4,u.localStore.releaseQuery(e.query,!1).then(function(){p.remoteStore.unlisten(t),p.removeAndCleanupQuery(e)}).catch(function(t){return p.ignoreIfPrimaryLeaseLoss(t)})]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})},u=this,c=0,l=e,f.label=7;case 7:return c<l.length?(h=l[c],[5,s(h)]):[3,10];case 8:f.sent(),f.label=9;case 9:return c++,[3,7];case 10:return[2]}})})},t.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},t.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},t.prototype.getRemoteKeysForTarget=function(t){var e=this.limboResolutionsByTarget[t];return e&&e.receivedDocument?Te().add(e.key):this.queryViewsByTarget[t]?this.queryViewsByTarget[t].view.syncedDocuments:Te()},t}(),gi=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.GOOGLE_CREDENTIALS=new t("google-credentials-uid"),t.FIRST_PARTY=new t("first-party-uid"),t}(),bi="SharedClientState",wi="firestore_clients",_i="firestore_mutations",Ei="firestore_targets",Ci="firestore_online_state",Si="firestore_sequence_number",xi=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r,y(void 0!==r==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new _(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(d(bi,"Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ti=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n,y(void 0!==n==("rejected"===e),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new _(r.error.code,r.error.message)),i?new t(e,r.state,o):(d(bi,"Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ai=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.fromWebStorageEntry=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=De(),s=0;i&&s<r.activeTargetIds.length;++s)i=Vt(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(d(bi,"Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Di=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.fromWebStorageEntry=function(e){var n=JSON.parse(e);return"object"==typeof n&&void 0!==$r[n.onlineState]&&"string"==typeof n.clientId?new t(n.clientId,$r[n.onlineState]):(d(bi,"Failed to parse online state: "+e),null)},t}(),Ii=function(){function t(){this.activeTargetIds=De()}return t.prototype.addQueryTarget=function(t){y(!this.activeTargetIds.has(t),"Target with ID '"+t+"' already active."),this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.removeQueryTarget=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.toWebStorageJSON=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Ni=function(){function t(e,n,r,i,o){if(this.queue=e,this.platform=n,this.persistenceKey=r,this.localClientId=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!t.isAvailable(this.platform))throw new _(w.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey=Si+"_"+r,this.activeClients[this.localClientId]=new Ii,this.clientStateKeyRe=new RegExp("^"+wi+"_"+s+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+_i+"_"+s+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+Ei+"_"+s+"_(\\d+)$"),this.onlineStateKey=Ci+"_"+r,this.platform.window.addEventListener("storage",this.storageListener)}return t.isAvailable=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return a.__awaiter(this,void 0,void 0,function(){var t,e,n,r,i,o,s,u,c,l,h,p=this;return a.__generator(this,function(a){switch(a.label){case 0:return y(!this.started,"WebStorageSharedClientState already started"),y(null!==this.syncEngine,"syncEngine property must be set before calling start()"),y(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(t=a.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.localClientId&&(i=this.getItem(this.toWebStorageClientStateKey(r)))&&(o=Ai.fromWebStorageEntry(r,i))&&(this.activeClients[o.clientId]=o);for(this.persistClientState(),(s=this.storage.getItem(this.onlineStateKey))&&(u=this.fromWebStorageOnlineState(s))&&this.handleOnlineStateEvent(u),c=0,l=this.earlyEvents;c<l.length;c++)h=l[c],this.handleWebStorageEvent(h);return this.earlyEvents=[],this.platform.window.addEventListener("unload",function(){return p.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.sequenceNumberKey,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){var t=De();return T(this.activeClients,function(e,n){t=t.unionWith(n.activeTargetIds)}),t},t.prototype.isActiveQueryTarget=function(t){for(var e in this.activeClients)if(this.activeClients.hasOwnProperty(e)&&this.activeClients[e].activeTargetIds.has(t))return!0;return!1},t.prototype.addPendingMutation=function(t){this.persistMutationState(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.persistMutationState(t,e,n),this.removeMutationState(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(t));if(n){var r=Ti.fromWebStorageEntry(t,n);r&&(e=r.state)}}return this.localClientState.addQueryTarget(t),this.persistClientState(),e},t.prototype.removeLocalQueryTarget=function(t){this.localClientState.removeQueryTarget(t),this.persistClientState()},t.prototype.isLocalQueryTarget=function(t){return this.localClientState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(this.toWebStorageQueryTargetMetadataKey(t))},t.prototype.updateQueryState=function(t,e,n){this.persistQueryTargetState(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.removeMutationState(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.persistOnlineState(t)},t.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return f(bi,"READ",t,e),e},t.prototype.setItem=function(t,e){f(bi,"SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){f(bi,"REMOVE",t),this.storage.removeItem(t)},t.prototype.handleWebStorageEvent=function(t){var e=this;if(t.storageArea===this.storage){if(f(bi,"EVENT",t.key,t.newValue),t.key===this.localClientStorageKey)return void d("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget(function(){return a.__awaiter(e,void 0,void 0,function(){var e,n,r,i,o,s;return a.__generator(this,function(a){if(!this.started)return this.earlyEvents.push(t),[2];if(null===t.key)return[2];if(this.clientStateKeyRe.test(t.key)){if(null==t.newValue)return n=this.fromWebStorageClientStateKey(t.key),[2,this.handleClientStateEvent(n,null)];if(e=this.fromWebStorageClientState(t.key,t.newValue))return[2,this.handleClientStateEvent(e.clientId,e)]}else if(this.mutationBatchKeyRe.test(t.key)){if(null!==t.newValue&&(r=this.fromWebStorageMutationMetadata(t.key,t.newValue)))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(t.key)){if(null!==t.newValue&&(i=this.fromWebStorageQueryTargetMetadata(t.key,t.newValue)))return[2,this.handleQueryTargetEvent(i)]}else if(t.key===this.onlineStateKey){if(null!==t.newValue&&(o=this.fromWebStorageOnlineState(t.newValue)))return[2,this.handleOnlineStateEvent(o)]}else t.key===this.sequenceNumberKey&&(y(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(s=function(t){var e=hn.INVALID;if(null!=t)try{var n=JSON.parse(t);y("number"==typeof n,"Found non-numeric sequence number"),e=n}catch(t){d(bi,"Failed to read sequence number from WebStorage",t)}return e}(t.newValue))!==hn.INVALID&&this.sequenceNumberHandler(s));return[2]})})})}},Object.defineProperty(t.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),t.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},t.prototype.persistMutationState=function(t,e,n){var r=new xi(this.currentUser,t,e,n),i=this.toWebStorageMutationBatchKey(t);this.setItem(i,r.toWebStorageJSON())},t.prototype.removeMutationState=function(t){var e=this.toWebStorageMutationBatchKey(t);this.removeItem(e)},t.prototype.persistOnlineState=function(t){var e={clientId:this.localClientId,onlineState:$r[t]};this.storage.setItem(this.onlineStateKey,JSON.stringify(e))},t.prototype.persistQueryTargetState=function(t,e,n){var r=this.toWebStorageQueryTargetMetadataKey(t),i=new Ti(t,e,n);this.setItem(r,i.toWebStorageJSON())},t.prototype.toWebStorageClientStateKey=function(t){return y(-1===t.indexOf("_"),"Client key cannot contain '_', but was '"+t+"'"),wi+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageQueryTargetMetadataKey=function(t){return Ei+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageMutationBatchKey=function(t){var e=_i+"_"+this.persistenceKey+"_"+t;return this.currentUser.isAuthenticated()&&(e+="_"+this.currentUser.uid),e},t.prototype.fromWebStorageClientStateKey=function(t){var e=this.clientStateKeyRe.exec(t);return e?e[1]:null},t.prototype.fromWebStorageClientState=function(t,e){var n=this.fromWebStorageClientStateKey(t);return y(null!==n,"Cannot parse client state key '"+t+"'"),Ai.fromWebStorageEntry(n,e)},t.prototype.fromWebStorageMutationMetadata=function(t,e){var n=this.mutationBatchKeyRe.exec(t);y(null!==n,"Cannot parse mutation batch key '"+t+"'");var r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return xi.fromWebStorageEntry(new gi(i),r,e)},t.prototype.fromWebStorageQueryTargetMetadata=function(t,e){var n=this.queryTargetKeyRe.exec(t);y(null!==n,"Cannot parse query target key '"+t+"'");var r=Number(n[1]);return Ti.fromWebStorageEntry(r,e)},t.prototype.fromWebStorageOnlineState=function(t){return Di.fromWebStorageEntry(t)},t.prototype.handleMutationBatchEvent=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){return t.user.uid!==this.currentUser.uid?(f(bi,"Ignoring mutation for non-active user "+t.user.uid),[2]):[2,this.syncEngine.applyBatchState(t.batchId,t.state,t.error)]})})},t.prototype.handleQueryTargetEvent=function(t){return this.syncEngine.applyTargetState(t.targetId,t.state,t.error)},t.prototype.handleClientStateEvent=function(t,e){var n=this,r=this.getAllActiveQueryTargets();e?this.activeClients[t]=e:delete this.activeClients[t];var i=this.getAllActiveQueryTargets(),o=[],s=[];return i.forEach(function(t){return a.__awaiter(n,void 0,void 0,function(){return a.__generator(this,function(e){return r.has(t)||o.push(t),[2]})})}),r.forEach(function(t){return a.__awaiter(n,void 0,void 0,function(){return a.__generator(this,function(e){return i.has(t)||s.push(t),[2]})})}),this.syncEngine.applyActiveTargetsChange(o,s)},t.prototype.handleOnlineStateEvent=function(t){this.activeClients[t.clientId]&&this.onlineStateHandler(t.onlineState)},t}();var ki=function(){function t(){this.localState=new Ii,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.localState.addQueryTarget(t),this.queryState[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.queryState[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.localState.removeQueryTarget(t)},t.prototype.isLocalQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.queryState[t]},t.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.start=function(){return this.localState=new Ii,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t}(),Pi=function(){function t(t,e,n,r){this.platform=t,this.databaseInfo=e,this.credentials=n,this.asyncQueue=r,this.clientId=z.newId()}return t.prototype.start=function(t){var e=this,n=new pn,r=new pn,i=!1;return this.credentials.setChangeListener(function(o){i?e.asyncQueue.enqueueAndForget(function(){return e.handleCredentialChange(o)}):(i=!0,e.initializePersistence(t,r,o).then(function(){return e.initializeRest(o)}).then(n.resolve,n.reject))}),this.asyncQueue.enqueueAndForget(function(){return n.promise}),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.asyncQueue.enqueue(function(){return t.syncEngine.enableNetwork()})},t.prototype.initializePersistence=function(t,e,n){var r=this;return t.enabled?this.startIndexedDbPersistence(n,t).then(e.resolve).catch(function(t){return e.reject(t),r.canFallback(t)?(console.warn("Error enabling offline storage. Falling back to storage disabled: "+t),r.startMemoryPersistence()):Promise.reject(t)}):(e.resolve(),this.startMemoryPersistence())},t.prototype.canFallback=function(t){return t instanceof _?t.code===w.FAILED_PRECONDITION||t.code===w.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||(22===t.code||20===t.code)},t.prototype.startIndexedDbPersistence=function(t,e){var n=this;y(e.enabled,"Should only start IndexedDb persitence with offline persistence enabled.");var r=Nr.buildStoragePrefix(this.databaseInfo),i=new Ye(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then(function(){return a.__awaiter(n,void 0,void 0,function(){var n,o;return a.__generator(this,function(s){switch(s.label){case 0:if(e.experimentalTabSynchronization&&!Ni.isAvailable(this.platform))throw new _(w.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return e.experimentalTabSynchronization?(this.sharedClientState=new Ni(this.asyncQueue,this.platform,r,this.clientId,t),n=this,[4,Nr.createMultiClientIndexedDbPersistence(r,this.clientId,this.platform,this.asyncQueue,i,{sequenceNumberSyncer:this.sharedClientState})]):[3,2];case 1:return n.persistence=s.sent(),[3,4];case 2:return this.sharedClientState=new ki,o=this,[4,Nr.createIndexedDbPersistence(r,this.clientId,this.platform,this.asyncQueue,i)];case 3:o.persistence=s.sent(),s.label=4;case 4:return[2]}})})})},t.prototype.startMemoryPersistence=function(){var t=new Ye(this.databaseInfo.databaseId,{useProto3Json:!0});return this.persistence=zr.createEagerPersistence(this.clientId,t),this.sharedClientState=new ki,Promise.resolve()},t.prototype.initializeRest=function(t){var e=this;return f("FirestoreClient","Initializing. user=",t.uid),this.platform.loadConnection(this.databaseInfo).then(function(n){return a.__awaiter(e,void 0,void 0,function(){var e,r,i,o,s=this;return a.__generator(this,function(a){switch(a.label){case 0:return this.localStore=new Vr(this.persistence,t),e=this.platform.newSerializer(this.databaseInfo.databaseId),r=new ii(this.asyncQueue,n,this.credentials,e),i=function(t){return s.syncEngine.applyOnlineStateChange(t,Yr.RemoteStore)},o=function(t){return s.syncEngine.applyOnlineStateChange(t,Yr.SharedClientState)},this.remoteStore=new ai(this.localStore,r,this.asyncQueue,i),this.syncEngine=new yi(this.localStore,this.remoteStore,this.sharedClientState,t),this.sharedClientState.onlineStateHandler=o,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new ci(this.syncEngine),[4,this.sharedClientState.start()];case 1:return a.sent(),[4,this.remoteStore.start()];case 2:return a.sent(),[4,this.persistence.setPrimaryStateListener(function(t){return s.syncEngine.applyPrimaryState(t)})];case 3:return a.sent(),[2]}})})})},t.prototype.handleCredentialChange=function(t){return this.asyncQueue.verifyOperationInProgress(),f("FirestoreClient","Credential Changed. Current user: "+t.uid),this.syncEngine.handleCredentialChange(t)},t.prototype.disableNetwork=function(){var t=this;return this.asyncQueue.enqueue(function(){return t.syncEngine.disableNetwork()})},t.prototype.shutdown=function(t){var e=this;return this.asyncQueue.enqueue(function(){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:return[4,this.remoteStore.shutdown()];case 1:return e.sent(),[4,this.sharedClientState.shutdown()];case 2:return e.sent(),[4,this.persistence.shutdown(t&&t.purgePersistenceWithDataLoss)];case 3:return e.sent(),this.credentials.removeChangeListener(),[2]}})})})},t.prototype.listen=function(t,e,n){var r=this,i=new li(t,e,n);return this.asyncQueue.enqueueAndForget(function(){return r.eventMgr.listen(i)}),i},t.prototype.unlisten=function(t){var e=this;this.asyncQueue.enqueueAndForget(function(){return e.eventMgr.unlisten(t)})},t.prototype.getDocumentFromLocalCache=function(t){var e=this;return this.asyncQueue.enqueue(function(){return e.localStore.readDocument(t)}).then(function(t){if(t instanceof ht)return t;if(t instanceof pt)return null;throw new _(w.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")})},t.prototype.getDocumentsFromLocalCache=function(t){var e=this;return this.asyncQueue.enqueue(function(){return e.localStore.executeQuery(t)}).then(function(e){var n=Te(),r=new di(t,n),i=r.computeDocChanges(e);return r.applyChanges(i,!1).snapshot})},t.prototype.write=function(t){var e=this,n=new pn;return this.asyncQueue.enqueueAndForget(function(){return e.syncEngine.write(t,n)}),n.promise},t.prototype.databaseId=function(){return this.databaseInfo.databaseId},t.prototype.transaction=function(t){var e=this;return this.asyncQueue.enqueue(function(){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(t){return[2]})})}).then(function(){return e.syncEngine.runTransaction(t)})},t}(),Oi=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.scheduleEvent(this.observer.next,t)},t.prototype.error=function(t){this.scheduleEvent(this.observer.error,t)},t.prototype.mute=function(){this.muted=!0},t.prototype.scheduleEvent=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Mi=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(t,e,n,r){if(!(e instanceof Array)||e.length<r)throw new _(w.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" argument to be an array with at least "+W(r,"element")+".")}("FieldPath",t,"fieldNames",1);for(var n=0;n<t.length;++n)if(k("FieldPath","string",n,t[n]),0===t[n].length)throw new _(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(t)}return t.documentId=function(){return t._DOCUMENT_ID},t.prototype.isEqual=function(e){if(!(e instanceof t))throw q("isEqual","FieldPath",1,e);return this._internalPath.isEqual(e._internalPath)},t._DOCUMENT_ID=new t(ut.keyField().canonicalString()),t}(),Ri=new RegExp("[~\\*/\\[\\]]");var Fi=function(){return function(t,e){this.user=e,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+t}}}(),Li=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){y(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,t(gi.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){y(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},t}(),ji=function(){function t(t){var e=this;this.app=t,this.tokenListener=null,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){e.tokenCounter++,e.currentUser=e.getUser(),e.changeListener&&e.changeListener(e.currentUser)},this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return t.prototype.getToken=function(){var t=this;y(null!=this.tokenListener,"getToken cannot be called after listener removed.");var e=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then(function(n){if(t.tokenCounter!==e)throw new _(w.ABORTED,"getToken aborted due to token change.");return n?(y("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new Fi(n.accessToken,t.currentUser)):null})},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){y(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,this.currentUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){y(null!=this.tokenListener,"removeChangeListener() called twice"),y(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},t.prototype.getUser=function(){var t=this.app.INTERNAL.getUid();return y(null===t||"string"==typeof t,"Received invalid UID: "+t),new gi(t)},t}(),Vi=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,this.type="FirstParty",this.user=gi.FIRST_PARTY,y(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,"unexpected gapi interface")}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){return{Authorization:this.gapi.auth.getAuthHeaderValueForFirstParty([]),"X-Goog-AuthUser":this.sessionIndex}},enumerable:!0,configurable:!0}),t}(),Bi=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,y(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,"unexpected gapi interface")}return t.prototype.getToken=function(){return Promise.resolve(new Vi(this.gapi,this.sessionIndex))},t.prototype.setChangeListener=function(t){t(gi.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Ui(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=e;r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t,["next","error","complete"])}var qi,Hi=function(){function t(t){this._methodName=t}return t.delete=function(){return Wi.instance},t.serverTimestamp=function(){return zi.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return I("FieldValue.arrayUnion",arguments,1),new Ki(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return I("FieldValue.arrayRemove",arguments,1),new Gi(t)},t.prototype.isEqual=function(t){return this===t},t}(),Wi=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return a.__extends(e,t),e.instance=new e,e}(Hi),zi=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return a.__extends(e,t),e.instance=new e,e}(Hi),Ki=function(t){function e(e){var n=t.call(this,"FieldValue.arrayUnion")||this;return n._elements=e,n}return a.__extends(e,t),e}(Hi),Gi=function(t){function e(e){var n=t.call(this,"FieldValue.arrayRemove")||this;return n._elements=e,n}return a.__extends(e,t),e}(Hi),Qi=E(Hi,"Use FieldValue.<field>() instead."),Xi=/^__.*__$/,$i=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[];return null!==this.fieldMask?n.push(new ae(t,this.data,this.fieldMask,e)):n.push(new se(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new ue(t,this.fieldTransforms)),n},t}(),Yi=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[new ae(t,this.data,this.fieldMask,e)];return this.fieldTransforms.length>0&&n.push(new ue(t,this.fieldTransforms)),n},t}();function Ji(t){switch(t){case qi.Set:case qi.MergeSet:case qi.Update:return!0;case qi.Argument:return!1;default:throw m("Unexpected case for UserDataSource: "+t)}}!function(t){t[t.Set=0]="Set",t[t.Update=1]="Update",t[t.MergeSet=2]="MergeSet",t[t.Argument=3]="Argument"}(qi||(qi={}));var Zi=function(){function t(t,e,n,r,i,o){this.dataSource=t,this.methodName=e,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=o||[]}return t.prototype.childContextForField=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(e),r},t.prototype.childContextForFieldPath=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},t.prototype.childContextForArray=function(e){return new t(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},t.prototype.createError=function(t){var e=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new _(w.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.validatePath=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))},t.prototype.validatePathSegment=function(t){if(Ji(this.dataSource)&&Xi.test(t))throw this.createError("Document fields cannot begin and end with __")},t}(),to=function(){return function(t,e){this.databaseId=t,this.key=e}}(),eo=function(){function t(t){this.preConverter=t}return t.prototype.parseSetData=function(t,e){var n=new Zi(qi.Set,t,ut.EMPTY_PATH);ro("Data must be an object, but it was:",n,e);var r=this.parseData(e,n);return new $i(r,null,n.fieldTransforms)},t.prototype.parseMergeData=function(t,e,n){var r=new Zi(qi.MergeSet,t,ut.EMPTY_PATH);ro("Data must be an object, but it was:",r,e);var i,o,s=this.parseData(e,r);if(n){for(var a=[],u=0,c=n;u<c.length;u++){var l=c[u],h=void 0;if(l instanceof Mi)h=l._internalPath;else{if("string"!=typeof l)throw m("Expected stringOrFieldPath to be a string or a FieldPath");h=oo(t,l)}if(!r.contains(h))throw new _(w.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");a.push(h)}i=new ee(a),o=r.fieldTransforms.filter(function(t){return i.covers(t.field)})}else i=new ee(r.fieldMask),o=r.fieldTransforms;return new $i(s,i,o)},t.prototype.parseUpdateData=function(t,e){var n=this,r=new Zi(qi.Update,t,ut.EMPTY_PATH);ro("Data must be an object, but it was:",r,e);var i=[],o=Pt.EMPTY;T(e,function(e,s){var a=oo(t,e),u=r.childContextForFieldPath(a);if((s=n.runPreConverter(s,u))instanceof Wi)i.push(a);else{var c=n.parseData(s,u);null!=c&&(i.push(a),o=o.set(a,c))}});var s=new ee(i);return new Yi(o,s,r.fieldTransforms)},t.prototype.parseUpdateVarargs=function(t,e,n,r){var i=new Zi(qi.Update,t,ut.EMPTY_PATH),o=[io(t,e)],s=[n];if(r.length%2!=0)throw new _(w.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var a=0;a<r.length;a+=2)o.push(io(t,r[a])),s.push(r[a+1]);var u=[],c=Pt.EMPTY;for(a=0;a<o.length;++a){var l=o[a],h=i.childContextForFieldPath(l),p=this.runPreConverter(s[a],h);if(p instanceof Wi)u.push(l);else{var f=this.parseData(p,h);null!=f&&(u.push(l),c=c.set(l,f))}}var d=new ee(u);return new Yi(c,d,i.fieldTransforms)},t.prototype.parseQueryValue=function(t,e){var n=new Zi(qi.Argument,t,ut.EMPTY_PATH),r=this.parseData(e,n);return y(null!=r,"Parsed data should not be null."),y(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},t.prototype.runPreConverter=function(t,e){try{return this.preConverter(t)}catch(t){var n=so(t);throw e.createError(n)}},t.prototype.parseData=function(t,e){if(no(t=this.runPreConverter(t,e)))return ro("Unsupported field value:",e,t),this.parseObject(t,e);if(t instanceof Hi)return this.parseSentinelFieldValue(t,e),null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.arrayElement)throw e.createError("Nested arrays are not supported");return this.parseArray(t,e)}return this.parseScalarValue(t,e)},t.prototype.parseObject=function(t,e){var n=this,r=new dt(K);return A(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):T(t,function(t,i){var o=n.parseData(i,e.childContextForField(t));null!=o&&(r=r.insert(t,o))}),new Pt(r)},t.prototype.parseArray=function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=o[i],a=this.parseData(s,e.childContextForArray(r));null==a&&(a=wt.INSTANCE),n.push(a),r++}return new Ot(n)},t.prototype.parseSentinelFieldValue=function(t,e){if(!Ji(e.dataSource))throw e.createError(t._methodName+"() can only be used with update() and set()");if(null===e.path)throw e.createError(t._methodName+"() is not currently supported inside arrays");if(t instanceof Wi){if(e.dataSource!==qi.MergeSet)throw e.dataSource===qi.Update?(y(e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.createError("FieldValue.delete() can only appear at the top level of your update data")):e.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.fieldMask.push(e.path)}else if(t instanceof zi)e.fieldTransforms.push(new ne(e.path,le.instance));else if(t instanceof Ki){var n=this.parseArrayTransformElements(t._methodName,t._elements),r=new he(n);e.fieldTransforms.push(new ne(e.path,r))}else if(t instanceof Gi){n=this.parseArrayTransformElements(t._methodName,t._elements);var i=new pe(n);e.fieldTransforms.push(new ne(e.path,i))}else m("Unknown FieldValue type: "+t)},t.prototype.parseScalarValue=function(t,e){if(null===t)return wt.INSTANCE;if("number"==typeof t)return Vt(t)?new St(t):new xt(t);if("boolean"==typeof t)return _t.of(t);if("string"==typeof t)return new Tt(t);if(t instanceof Date)return new At(et.fromDate(t));if(t instanceof et)return new At(new et(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)));if(t instanceof tt)return new kt(t);if(t instanceof J)return new It(t);if(t instanceof to)return new Nt(t.databaseId,t.key);throw e.createError("Unsupported field value: "+V(t))},t.prototype.parseArrayTransformElements=function(t,e){var n=this;return e.map(function(e,r){var i=new Zi(qi.Argument,t,ut.EMPTY_PATH);return n.parseData(e,i.childContextForArray(r))})},t}();function no(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof et||t instanceof tt||t instanceof J||t instanceof to||t instanceof Hi)}function ro(t,e,n){if(!no(n)||!j(n)){var r=V(n);throw"an object"===r?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function io(t,e){if(e instanceof Mi)return e._internalPath;if("string"==typeof e)return oo(t,e);throw new _(w.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function oo(t,e){try{return function(t){if(t.search(Ri)>=0)throw new _(w.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Mi.bind.apply(Mi,[void 0].concat(t.split("."))))}catch(e){throw new _(w.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e)._internalPath}catch(e){var n=so(e);throw new _(w.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function so(t){return t instanceof Error?t.message:t.toString()}var ao="firestore.googleapis.com",uo=!0,co=!1,lo=!1,ho=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new _(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ao,this.ssl=uo}else O("settings","non-empty string","host",t.host),this.host=t.host,M("settings","boolean","ssl",t.ssl),this.ssl=S(t.ssl,uo);U("settings",t,["host","ssl","credentials","timestampsInSnapshots"]),M("settings","object","credentials",t.credentials),this.credentials=t.credentials,M("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),this.timestampsInSnapshots=S(t.timestampsInSnapshots,co)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials},t}(),po=function(){return function(){}}(),fo=function(){function t(t,e){this.enabled=t,y(t||!e,"Can only provide PersistenceSettings with persistence enabled"),e=e||{},this.experimentalTabSynchronization=S(e.experimentalTabSynchronization,lo)}return t.prototype.isEqual=function(t){return this.enabled===t.enabled&&this.experimentalTabSynchronization===t.experimentalTabSynchronization},t}(),vo=function(){function t(e){var n=this;this._queue=new dn,this.INTERNAL={delete:function(t){return a.__awaiter(n,void 0,void 0,function(){return a.__generator(this,function(e){return this._firestoreClient?[2,this._firestoreClient.shutdown(t)]:[2]})})}};var r=new po;if("object"==typeof e.options){var i=e;r.firebaseApp=i,r.databaseId=t.databaseIdFromApp(i),r.persistenceKey=r.firebaseApp.name,r.credentials=new ji(i)}else{var o=e;if(!o.projectId)throw new _(w.INVALID_ARGUMENT,"Must provide projectId");r.databaseId=new it(o.projectId,o.database),r.persistenceKey="[DEFAULT]",r.credentials=new Li}r.settings=new ho({}),this._config=r,this._databaseId=r.databaseId}return t.prototype.settings=function(t){if(D("Firestore.settings",arguments,1),k("Firestore.settings","object",1,t),C(t,"persistence"))throw new _(w.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new ho(t);if(this._firestoreClient&&!this._config.settings.isEqual(e))throw new _(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._config.settings=e,void 0!==e.credentials&&(this._config.credentials=function(t){if(!t)return new Li;switch(t.type){case"gapi":return new Bi(t.client,t.sessionIndex||"0");case"provider":return t.client;default:throw new _(w.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},t.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},t.prototype.enablePersistence=function(t){if(this._firestoreClient)throw new _(w.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");return this.configureClient(new fo(!0,t))},t.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new fo(!1)),this._firestoreClient},t.prototype.configureClient=function(t){var e=this;y(!!this._config.settings.host,"FirestoreSettings.host cannot be falsey"),this._config.settings.timestampsInSnapshots||d("\nThe behavior for Date objects stored in Firestore is going to change\nAND YOUR APP MAY BREAK.\nTo hide this warning and ensure your app does not break, you need to add the\nfollowing code to your app before calling any other Cloud Firestore methods:\n\n  const firestore = firebase.firestore();\n  const settings = {/* your settings... */ timestampsInSnapshots: true};\n  firestore.settings(settings);\n\nWith this change, timestamps stored in Cloud Firestore will be read back as\nFirebase Timestamp objects instead of as system Date objects. So you will also\nneed to update code expecting a Date to instead expect a Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at');\n  const date = timestamp.toDate();\n\nPlease audit all existing usages of Date when you enable the new behavior. In a\nfuture release, the behavior will change to the new behavior, so if you do not\nfollow these steps, YOUR APP MAY BREAK."),y(!this._firestoreClient,"configureClient() called multiple times");var n=new nt(this._config.databaseId,this._config.persistenceKey,this._config.settings.host,this._config.settings.ssl);return this._dataConverter=new eo(function(t){if(t instanceof go){var n=e._config.databaseId,r=t.firestore._config.databaseId;if(!r.isEqual(n))throw new _(w.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new to(e._config.databaseId,t._key)}return t}),this._firestoreClient=new Pi(g.getPlatform(),n,this._config.credentials,this._queue),this._firestoreClient.start(t)},t.databaseIdFromApp=function(t){var e=t.options;if(!C(e,"projectId"))throw new _(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=e.projectId;if(!n||"string"!=typeof n)throw new _(w.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new it(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this._config.firebaseApp)throw new _(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._config.firebaseApp},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(D("Firestore.collection",arguments,1),k("Firestore.collection","non-empty string",1,t),!t)throw new _(w.INVALID_ARGUMENT,"Must provide a non-empty collection path to collection()");return this.ensureClientConfigured(),new So(st.fromString(t),this)},t.prototype.doc=function(t){if(D("Firestore.doc",arguments,1),k("Firestore.doc","non-empty string",1,t),!t)throw new _(w.INVALID_ARGUMENT,"Must provide a non-empty document path to doc()");return this.ensureClientConfigured(),go.forPath(st.fromString(t),this)},t.prototype.runTransaction=function(t){var e=this;return D("Firestore.runTransaction",arguments,1),k("Firestore.runTransaction","function",1,t),this.ensureClientConfigured().transaction(function(n){return t(new mo(e,n))})},t.prototype.batch=function(){return this.ensureClientConfigured(),new yo(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(h()){case i.DEBUG:return"debug";case i.ERROR:return"error";case i.SILENT:return"silent";default:return m("Unknown log level: "+h())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(D("Firestore.setLogLevel",arguments,1),k("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":p(i.DEBUG);break;case"error":p(i.ERROR);break;case"silent":p(i.SILENT);break;default:throw new _(w.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype._areTimestampsInSnapshotsEnabled=function(){return this._config.settings.timestampsInSnapshots},t}(),mo=function(){function t(t,e){this._firestore=t,this._transaction=e}return t.prototype.get=function(t){var e=this;D("Transaction.get",arguments,1);var n=Do("Transaction.get",t,this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return m("Mismatch in docs returned from document lookup.");var r=t[0];if(r instanceof pt)return new wo(e._firestore,n._key,null,!1,!1);if(r instanceof ht)return new wo(e._firestore,n._key,r,!1,!1);throw m("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)})},t.prototype.set=function(t,e,n){N("Transaction.set",arguments,2,3);var r=Do("Transaction.set",t,this._firestore),i=(n=xo("Transaction.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",e);return this._transaction.set(r._key,i),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return"string"==typeof e||e instanceof Mi?(I("Transaction.update",arguments,3),r=Do("Transaction.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",e,n,o)):(D("Transaction.update",arguments,2),r=Do("Transaction.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData("Transaction.update",e)),this._transaction.update(r._key,i),this},t.prototype.delete=function(t){D("Transaction.delete",arguments,1);var e=Do("Transaction.delete",t,this._firestore);return this._transaction.delete(e._key),this},t}(),yo=function(){function t(t){this._firestore=t,this._mutations=[],this._committed=!1}return t.prototype.set=function(t,e,n){N("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=Do("WriteBatch.set",t,this._firestore),i=(n=xo("WriteBatch.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",e);return this._mutations=this._mutations.concat(i.toMutations(r._key,ie.NONE)),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this.verifyNotCommitted(),"string"==typeof e||e instanceof Mi?(I("WriteBatch.update",arguments,3),r=Do("WriteBatch.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",e,n,o)):(D("WriteBatch.update",arguments,2),r=Do("WriteBatch.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",e)),this._mutations=this._mutations.concat(i.toMutations(r._key,ie.exists(!0))),this},t.prototype.delete=function(t){D("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var e=Do("WriteBatch.delete",t,this._firestore);return this._mutations=this._mutations.concat(new ce(e._key,ie.NONE)),this},t.prototype.commit=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]})})},t.prototype.verifyNotCommitted=function(){if(this._committed)throw new _(w.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),go=function(){function t(t,e){this._key=t,this.firestore=e,this._firestoreClient=this.firestore.ensureClientConfigured()}return t.forPath=function(e,n){if(e.length%2!=0)throw new _(w.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(new ct(e),n)},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new So(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(D("DocumentReference.collection",arguments,1),k("DocumentReference.collection","non-empty string",1,t),!t)throw new _(w.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=st.fromString(t);return new So(this._key.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw q("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this._key.isEqual(e._key)},t.prototype.set=function(t,e){N("DocumentReference.set",arguments,1,2);var n=(e=xo("DocumentReference.set",e)).merge||e.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",t,e.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",t);return this._firestoreClient.write(n.toMutations(this._key,ie.NONE))},t.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof Mi?(I("DocumentReference.update",arguments,2),n=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",t,e,r)):(D("DocumentReference.update",arguments,1),n=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",t)),this._firestoreClient.write(n.toMutations(this._key,ie.exists(!0)))},t.prototype.delete=function(){return D("DocumentReference.delete",arguments,0),this._firestoreClient.write([new ce(this._key,ie.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];N("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||Ui(t[i])||(U("DocumentReference.onSnapshot",r=t[i],["includeMetadataChanges"]),M("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return Ui(t[i])?n=t[i]:(k("DocumentReference.onSnapshot","function",i,t[i]),P("DocumentReference.onSnapshot","function",i+1,t[i+1]),P("DocumentReference.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(o,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Oi({next:function(t){if(e.next){y(t.docs.size<=1,"Too many documents returned on a document query");var r=t.docs.get(n._key);e.next(new wo(n.firestore,n._key,r,t.fromCache,t.hasPendingWrites))}},error:r}),o=this._firestoreClient.listen(Ut.atPath(this._key.path),i,t);return function(){i.mute(),n._firestoreClient.unlisten(o)}},t.prototype.get=function(t){var e=this;return N("DocumentReference.get",arguments,0,1),Ao("DocumentReference.get",t),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentFromLocalCache(e._key).then(function(t){n(new wo(e.firestore,e._key,t,!0,t instanceof ht&&t.hasLocalMutations))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new _(w.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?e(new _(w.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(i)},error:e})},t}(),bo=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),wo=function(){function t(t,e,n,r,i){this._firestore=t,this._key=e,this._document=n,this._fromCache=r,this._hasPendingWrites=i}return t.prototype.data=function(t){return N("DocumentSnapshot.data",arguments,0,1),t=To("DocumentSnapshot.data",t),this._document?this.convertObject(this._document.data,gt.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},t.prototype.get=function(t,e){if(N("DocumentSnapshot.get",arguments,1,2),e=To("DocumentSnapshot.get",e),this._document){var n=this._document.data.field(io("DocumentSnapshot.get",t));if(void 0!==n)return this.convertValue(n,gt.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new go(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new bo(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw q("isEqual","DocumentSnapshot",1,e);return this._firestore===e._firestore&&this._fromCache===e._fromCache&&this._key.isEqual(e._key)&&(null===this._document?null===e._document:this._document.isEqual(e._document))},t.prototype.convertObject=function(t,e){var n=this,r={};return t.forEach(function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertValue=function(t,e){if(t instanceof Pt)return this.convertObject(t,e);if(t instanceof Ot)return this.convertArray(t,e);if(t instanceof Nt){var n=t.value(e),r=this._firestore.ensureClientConfigured().databaseId();return t.databaseId.isEqual(r)||d("Document "+this._key.path+" contains a document reference within a different database ("+t.databaseId.projectId+"/"+t.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new go(n,this._firestore)}return t.value(e)},t.prototype.convertArray=function(t,e){var n=this;return t.internalValue.map(function(t){return n.convertValue(t,e)})},t}(),_o=function(t){function e(e,n,r,i,o){return t.call(this,e,n,r,i,o)||this}return a.__extends(e,t),e.prototype.data=function(e){var n=t.prototype.data.call(this,e);return y("object"==typeof n,"Document in a QueryDocumentSnapshot should exist"),n},e}(wo),Eo=function(){function t(t,e){this._query=t,this.firestore=e}return t.prototype.where=function(e,n,r){var i;D("Query.where",arguments,3),k("Query.where","non-empty string",2,n),B("Query.where",3,r);var o=io("Query.where",e),s=Ht.fromString(n);if(o.isKeyField()){if(s===Ht.ARRAY_CONTAINS)throw new _(w.INVALID_ARGUMENT,"Invalid Query. You can't perform array-contains queries on FieldPath.documentId() since document IDs are not arrays.");if("string"==typeof r){if(-1!==r.indexOf("/"))throw new _(w.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it contains a slash.");if(""===r)throw new _(w.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it was an empty string.");var a=this._query.path.child(new st([r]));y(a.length%2==0,"Path should be a document key"),i=new Nt(this.firestore._databaseId,new ct(a))}else{if(!(r instanceof go))throw new _(w.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a string or a DocumentReference if the first parameter is FieldPath.documentId(), but it was: "+V(r)+".");var u=r;i=new Nt(this.firestore._databaseId,u._key)}}else i=this.firestore._dataConverter.parseQueryValue("Query.where",r);var c=qt.create(o,s,i);return this.validateNewFilter(c),new t(this._query.addFilter(c),this.firestore)},t.prototype.orderBy=function(e,n){var r;if(N("Query.orderBy",arguments,1,2),P("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r=Gt.ASCENDING;else{if("desc"!==n)throw new _(w.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=Gt.DESCENDING}if(null!==this._query.startAt)throw new _(w.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new _(w.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=io("Query.orderBy",e),o=new Xt(i,r);return this.validateNewOrderBy(o),new t(this._query.addOrderBy(o),this.firestore)},t.prototype.limit=function(e){if(D("Query.limit",arguments,1),k("Query.limit","number",1,e),e<=0)throw new _(w.INVALID_ARGUMENT,"Invalid Query. Query limit ("+e+") is invalid. Limit must be positive.");return new t(this._query.withLimit(e),this.firestore)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];I("Query.startAt",arguments,1);var i=this.boundFromDocOrFields("Query.startAt",e,n,!0);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];I("Query.startAfter",arguments,1);var i=this.boundFromDocOrFields("Query.startAfter",e,n,!1);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];I("Query.endBefore",arguments,1);var i=this.boundFromDocOrFields("Query.endBefore",e,n,!0);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];I("Query.endAt",arguments,1);var i=this.boundFromDocOrFields("Query.endAt",e,n,!1);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw q("isEqual","Query",1,e);return this.firestore===e.firestore&&this._query.isEqual(e._query)},t.prototype.boundFromDocOrFields=function(t,e,n,r){if(B(t,1,e),e instanceof wo){if(n.length>0)throw new _(w.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var i=e;if(!i.exists)throw new _(w.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.boundFromDocument(t,i._document,r)}var o=[e].concat(n);return this.boundFromFields(t,o,r)},t.prototype.boundFromDocument=function(t,e,n){for(var r=[],i=0,o=this._query.orderBy;i<o.length;i++){var s=o[i];if(s.field.isKeyField())r.push(new Nt(this.firestore._databaseId,e.key));else{var a=e.field(s.field);if(void 0===a){var u=s.field.canonicalString();throw new _(w.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(a)}}return new Qt(r,n)},t.prototype.boundFromFields=function(t,e,n){var r=this._query.explicitOrderBy;if(e.length>r.length)throw new _(w.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var s=e[o];if(r[o].field.isKeyField()){if("string"!=typeof s)throw new _(w.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof s);if(-1!==s.indexOf("/"))throw new _(w.INVALID_ARGUMENT,"Invalid query. Document ID '"+s+"' contains a slash in "+t+"()");var a=new ct(this._query.path.child(s));i.push(new Nt(this.firestore._databaseId,a))}else{var u=this.firestore._dataConverter.parseQueryValue(t,s);i.push(u)}}return new Qt(i,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];N("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof t[i]||Ui(t[i])||(U("Query.onSnapshot",r=t[i],["includeMetadataChanges"]),M("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),Ui(t[i])?n=t[i]:(k("Query.onSnapshot","function",i,t[i]),P("Query.onSnapshot","function",i+1,t[i+1]),P("Query.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(r,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Oi({next:function(t){e.next&&e.next(new Co(n.firestore,n._query,t))},error:r}),o=this.firestore.ensureClientConfigured(),s=o.listen(this._query,i,t);return function(){i.mute(),o.unlisten(s)}},t.prototype.get=function(t){var e=this;return N("Query.get",arguments,0,1),Ao("Query.get",t),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentsFromLocalCache(e._query).then(function(t){n(new Co(e.firestore,e._query,t))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?e(new _(w.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(i)},error:e})},t.prototype.validateNewFilter=function(t){if(t instanceof Wt)if(t.isInequality()){var e=this._query.getInequalityFilterField();if(null!==e&&!e.isEqual(t.field))throw new _(w.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+e.toString()+"' and '"+t.field.toString()+"'");var n=this._query.getFirstOrderByField();null!==n&&this.validateOrderByAndInequalityMatch(t.field,n)}else if(t.op===Ht.ARRAY_CONTAINS&&this._query.hasArrayContainsFilter())throw new _(w.INVALID_ARGUMENT,"Invalid query. Queries only support a single array-contains filter.")},t.prototype.validateNewOrderBy=function(t){if(null===this._query.getFirstOrderByField()){var e=this._query.getInequalityFilterField();null!==e&&this.validateOrderByAndInequalityMatch(e,t.field)}},t.prototype.validateOrderByAndInequalityMatch=function(t,e){if(!e.isEqual(t))throw new _(w.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),Co=function(){function t(t,e,n){this._firestore=t,this._originalQuery=e,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new bo(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;N("QuerySnapshot.forEach",arguments,1,2),k("QuerySnapshot.forEach","function",1,t),this._snapshot.docs.forEach(function(r){t.call(e,n.convertToDocumentImpl(r))})},Object.defineProperty(t.prototype,"query",{get:function(){return new Eo(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(U("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),M("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this._snapshot.excludesMetadataChanges)throw new _(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e,n){if(n.oldDocs.isEmpty()){var r,i=0;return n.docChanges.map(function(e){var o=new _o(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key));return y(e.type===Ie.Added,"Invalid event type for first snapshot"),y(!r||n.query.docComparator(r,e.doc)<0,"Got added events in wrong order"),r=e.doc,{type:"added",doc:o,oldIndex:-1,newIndex:i++}})}var o=n.oldDocs;return n.docChanges.filter(function(t){return e||t.type!==Ie.Metadata}).map(function(e){var r=new _o(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key)),i=-1,s=-1;return e.type!==Ie.Added&&(y((i=o.indexOf(e.doc.key))>=0,"Index for document not found"),o=o.delete(e.doc.key)),e.type!==Ie.Removed&&(o=o.add(e.doc),s=o.indexOf(e.doc.key)),{type:function(t){switch(t){case Ie.Added:return"added";case Ie.Modified:case Ie.Metadata:return"modified";case Ie.Removed:return"removed";default:return m("Unknown change type: "+t)}}(e.type),doc:r,oldIndex:i,newIndex:s}})}(this._firestore,e,this._snapshot),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t.prototype.isEqual=function(e){if(!(e instanceof t))throw q("isEqual","QuerySnapshot",1,e);return this._firestore===e._firestore&&this._originalQuery.isEqual(e._originalQuery)&&this._snapshot.isEqual(e._snapshot)},t.prototype.convertToDocumentImpl=function(t){return new _o(this._firestore,t.key,t,this.metadata.fromCache,this._snapshot.mutatedKeys.has(t.key))},t}();["length","forEach","map"].concat("undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach(function(t){try{Object.defineProperty(Co.prototype.docChanges,t,{get:function(){return function(){throw new _(w.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(t){}});var So=function(t){function e(e,n){var r=t.call(this,Ut.atPath(e),n)||this;if(e.length%2!=1)throw new _(w.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.canonicalString()+" has "+e.length);return r}return a.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._query.path.popLast();return t.isEmpty()?null:new go(new ct(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(N("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=z.newId()),k("CollectionReference.doc","non-empty string",1,t),""===t)throw new _(w.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=st.fromString(t);return go.forPath(this._query.path.child(e),this.firestore)},e.prototype.add=function(t){D("CollectionReference.add",arguments,1),k("CollectionReference.add","object",1,t);var e=this.doc();return e.set(t).then(function(){return e})},e}(Eo);function xo(t,e){if(void 0===e)return{merge:!1};if(U(t,e,["merge","mergeFields"]),M(t,"boolean","merge",e.merge),R(t,"mergeFields","a string or a FieldPath",e.mergeFields,function(t){return"string"==typeof t||t instanceof Mi}),void 0!==e.mergeFields&&void 0!==e.merge)throw new _(w.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function To(t,e){return void 0===e?{}:(U(t,e,["serverTimestamps"]),F(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function Ao(t,e){P(t,"object",1,e),e&&(U(t,e,["source"]),F(t,0,"source",e.source,["default","server","cache"]))}function Do(t,e,n){if(e instanceof go){if(e.firestore!==n)throw new _(w.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw q(t,"DocumentReference",1,e)}var Io=E(vo,"Use firebase.firestore() instead."),No=E(mo,"Use firebase.firestore().runTransaction() instead."),ko=E(yo,"Use firebase.firestore().batch() instead."),Po=E(go,"Use firebase.firestore().doc() instead."),Oo=E(wo),Mo=E(_o),Ro=E(Eo),Fo=E(Co),Lo=E(So,"Use firebase.firestore().collection() instead."),jo={Firestore:Io,GeoPoint:tt,Timestamp:et,Blob:Z,Transaction:No,WriteBatch:ko,DocumentReference:Po,DocumentSnapshot:Oo,Query:Ro,QueryDocumentSnapshot:Mo,QuerySnapshot:Fo,CollectionReference:Lo,FieldPath:Mi,FieldValue:Qi,setLogLevel:vo.setLogLevel};function Vo(t){t.INTERNAL.registerService("firestore",function(t){return new vo(t)},function(t){y(t&&"object"==typeof t,"shallowCopy() expects object parameter.");var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}(jo))}function Bo(t){Vo(t)}Bo(o),e.registerFirestore=Bo},EVdn:function(t,e,n){var r,i;!function(e,n){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(n,o){"use strict";var s=[],a=n.document,u=Object.getPrototypeOf,c=s.slice,l=s.concat,h=s.push,p=s.indexOf,f={},d=f.toString,v=f.hasOwnProperty,m=v.toString,y=m.call(Object),g={},b=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},w=function(t){return null!=t&&t===t.window},_={type:!0,src:!0,noModule:!0};function E(t,e,n){var r,i=(e=e||a).createElement("script");if(i.text=t,n)for(r in _)n[r]&&(i[r]=n[r]);e.head.appendChild(i).parentNode.removeChild(i)}function C(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?f[d.call(t)]||"object":typeof t}var S=function(t,e){return new S.fn.init(t,e)},x=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function T(t){var e=!!t&&"length"in t&&t.length,n=C(t);return!b(t)&&!w(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}S.fn=S.prototype={jquery:"3.3.1",constructor:S,length:0,toArray:function(){return c.call(this)},get:function(t){return null==t?c.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=S.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return S.each(this,t)},map:function(t){return this.pushStack(S.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(c.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:h,sort:s.sort,splice:s.splice},S.extend=S.fn.extend=function(){var t,e,n,r,i,o,s=arguments[0]||{},a=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||b(s)||(s={}),a===u&&(s=this,a--);a<u;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],s!==(r=t[e])&&(c&&r&&(S.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,o=n&&Array.isArray(n)?n:[]):o=n&&S.isPlainObject(n)?n:{},s[e]=S.extend(c,o,r)):void 0!==r&&(s[e]=r));return s},S.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==d.call(t))&&(!(e=u(t))||"function"==typeof(n=v.call(e,"constructor")&&e.constructor)&&m.call(n)===y)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){E(t)},each:function(t,e){var n,r=0;if(T(t))for(n=t.length;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},trim:function(t){return null==t?"":(t+"").replace(x,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(T(Object(t))?S.merge(n,"string"==typeof t?[t]:t):h.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:p.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r=[],i=0,o=t.length,s=!n;i<o;i++)!e(t[i],i)!==s&&r.push(t[i]);return r},map:function(t,e,n){var r,i,o=0,s=[];if(T(t))for(r=t.length;o<r;o++)null!=(i=e(t[o],o,n))&&s.push(i);else for(o in t)null!=(i=e(t[o],o,n))&&s.push(i);return l.apply([],s)},guid:1,support:g}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=s[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){f["[object "+e+"]"]=e.toLowerCase()});var A=function(t){var e,n,r,i,o,s,a,u,c,l,h,p,f,d,v,m,y,g,b,w="sizzle"+1*new Date,_=t.document,E=0,C=0,S=st(),x=st(),T=st(),A=function(t,e){return t===e&&(h=!0),0},D={}.hasOwnProperty,I=[],N=I.pop,k=I.push,P=I.push,O=I.slice,M=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",j="\\["+F+"*("+L+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+L+"))|)"+F+"*\\]",V=":("+L+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+j+")*)|.*)\\)|)",B=new RegExp(F+"+","g"),U=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),q=new RegExp("^"+F+"*,"+F+"*"),H=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),W=new RegExp("="+F+"*([^\\]'\"]*?)"+F+"*\\]","g"),z=new RegExp(V),K=new RegExp("^"+L+"$"),G={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L+"|[*])"),ATTR:new RegExp("^"+j),PSEUDO:new RegExp("^"+V),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},Q=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,Y=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,Z=new RegExp("\\\\([\\da-f]{1,6}"+F+"?|("+F+")|.)","ig"),tt=function(t,e,n){var r="0x"+e-65536;return r!=r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,nt=function(t,e){return e?"\0"===t?"\ufffd":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},rt=function(){p()},it=gt(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{P.apply(I=O.call(_.childNodes),_.childNodes),I[_.childNodes.length].nodeType}catch(t){P={apply:I.length?function(t,e){k.apply(t,O.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}function ot(t,e,r,i){var o,a,c,l,h,d,y,g=e&&e.ownerDocument,E=e?e.nodeType:9;if(r=r||[],"string"!=typeof t||!t||1!==E&&9!==E&&11!==E)return r;if(!i&&((e?e.ownerDocument||e:_)!==f&&p(e),e=e||f,v)){if(11!==E&&(h=Y.exec(t)))if(o=h[1]){if(9===E){if(!(c=e.getElementById(o)))return r;if(c.id===o)return r.push(c),r}else if(g&&(c=g.getElementById(o))&&b(e,c)&&c.id===o)return r.push(c),r}else{if(h[2])return P.apply(r,e.getElementsByTagName(t)),r;if((o=h[3])&&n.getElementsByClassName&&e.getElementsByClassName)return P.apply(r,e.getElementsByClassName(o)),r}if(n.qsa&&!T[t+" "]&&(!m||!m.test(t))){if(1!==E)g=e,y=t;else if("object"!==e.nodeName.toLowerCase()){for((l=e.getAttribute("id"))?l=l.replace(et,nt):e.setAttribute("id",l=w),a=(d=s(t)).length;a--;)d[a]="#"+l+" "+yt(d[a]);y=d.join(","),g=J.test(t)&&vt(e.parentNode)||e}if(y)try{return P.apply(r,g.querySelectorAll(y)),r}catch(t){}finally{l===w&&e.removeAttribute("id")}}}return u(t.replace(U,"$1"),e,r,i)}function st(){var t=[];return function e(n,i){return t.push(n+" ")>r.cacheLength&&delete e[t.shift()],e[n+" "]=i}}function at(t){return t[w]=!0,t}function ut(t){var e=f.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ct(t,e){for(var n=t.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=e}function lt(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ht(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function pt(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function ft(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&it(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function dt(t){return at(function(e){return e=+e,at(function(n,r){for(var i,o=t([],n.length,e),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function vt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=ot.support={},o=ot.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},p=ot.setDocument=function(t){var e,i,s=t?t.ownerDocument||t:_;return s!==f&&9===s.nodeType&&s.documentElement?(d=(f=s).documentElement,v=!o(f),_!==f&&(i=f.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",rt,!1):i.attachEvent&&i.attachEvent("onunload",rt)),n.attributes=ut(function(t){return t.className="i",!t.getAttribute("className")}),n.getElementsByTagName=ut(function(t){return t.appendChild(f.createComment("")),!t.getElementsByTagName("*").length}),n.getElementsByClassName=$.test(f.getElementsByClassName),n.getById=ut(function(t){return d.appendChild(t).id=w,!f.getElementsByName||!f.getElementsByName(w).length}),n.getById?(r.filter.ID=function(t){var e=t.replace(Z,tt);return function(t){return t.getAttribute("id")===e}},r.find.ID=function(t,e){if(void 0!==e.getElementById&&v){var n=e.getElementById(t);return n?[n]:[]}}):(r.filter.ID=function(t){var e=t.replace(Z,tt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},r.find.ID=function(t,e){if(void 0!==e.getElementById&&v){var n,r,i,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(i=e.getElementsByName(t),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&v)return e.getElementsByClassName(t)},y=[],m=[],(n.qsa=$.test(f.querySelectorAll))&&(ut(function(t){d.appendChild(t).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+F+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||m.push("\\["+F+"*(?:value|"+R+")"),t.querySelectorAll("[id~="+w+"-]").length||m.push("~="),t.querySelectorAll(":checked").length||m.push(":checked"),t.querySelectorAll("a#"+w+"+*").length||m.push(".#.+[+~]")}),ut(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=f.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&m.push("name"+F+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),d.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=$.test(g=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ut(function(t){n.disconnectedMatch=g.call(t,"*"),g.call(t,"[s!='']:x"),y.push("!=",V)}),m=m.length&&new RegExp(m.join("|")),y=y.length&&new RegExp(y.join("|")),e=$.test(d.compareDocumentPosition),b=e||$.test(d.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},A=e?function(t,e){if(t===e)return h=!0,0;var r=!t.compareDocumentPosition-!e.compareDocumentPosition;return r||(1&(r=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===r?t===f||t.ownerDocument===_&&b(_,t)?-1:e===f||e.ownerDocument===_&&b(_,e)?1:l?M(l,t)-M(l,e):0:4&r?-1:1)}:function(t,e){if(t===e)return h=!0,0;var n,r=0,i=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!i||!o)return t===f?-1:e===f?1:i?-1:o?1:l?M(l,t)-M(l,e):0;if(i===o)return lt(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[r]===a[r];)r++;return r?lt(s[r],a[r]):s[r]===_?-1:a[r]===_?1:0},f):f},ot.matches=function(t,e){return ot(t,null,null,e)},ot.matchesSelector=function(t,e){if((t.ownerDocument||t)!==f&&p(t),e=e.replace(W,"='$1']"),n.matchesSelector&&v&&!T[e+" "]&&(!y||!y.test(e))&&(!m||!m.test(e)))try{var r=g.call(t,e);if(r||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(t){}return ot(e,f,null,[t]).length>0},ot.contains=function(t,e){return(t.ownerDocument||t)!==f&&p(t),b(t,e)},ot.attr=function(t,e){(t.ownerDocument||t)!==f&&p(t);var i=r.attrHandle[e.toLowerCase()],o=i&&D.call(r.attrHandle,e.toLowerCase())?i(t,e,!v):void 0;return void 0!==o?o:n.attributes||!v?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},ot.escape=function(t){return(t+"").replace(et,nt)},ot.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},ot.uniqueSort=function(t){var e,r=[],i=0,o=0;if(h=!n.detectDuplicates,l=!n.sortStable&&t.slice(0),t.sort(A),h){for(;e=t[o++];)e===t[o]&&(i=r.push(o));for(;i--;)t.splice(r[i],1)}return l=null,t},i=ot.getText=function(t){var e,n="",r=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=i(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[r++];)n+=i(e);return n},(r=ot.selectors={cacheLength:50,createPseudo:at,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Z,tt),t[3]=(t[3]||t[4]||t[5]||"").replace(Z,tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||ot.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&ot.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return G.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&z.test(n)&&(e=s(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Z,tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=S[t+" "];return e||(e=new RegExp("(^|"+F+")"+t+"("+F+"|$)"))&&S(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(r){var i=ot.attr(r,t);return null==i?"!="===e:!e||(i+="","="===e?i===n:"!="===e?i!==n:"^="===e?n&&0===i.indexOf(n):"*="===e?n&&i.indexOf(n)>-1:"$="===e?n&&i.slice(-n.length)===n:"~="===e?(" "+i.replace(B," ")+" ").indexOf(n)>-1:"|="===e&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var c,l,h,p,f,d,v=o!==s?"nextSibling":"previousSibling",m=e.parentNode,y=a&&e.nodeName.toLowerCase(),g=!u&&!a,b=!1;if(m){if(o){for(;v;){for(p=e;p=p[v];)if(a?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;d=v="only"===t&&!d&&"nextSibling"}return!0}if(d=[s?m.firstChild:m.lastChild],s&&g){for(b=(f=(c=(l=(h=(p=m)[w]||(p[w]={}))[p.uniqueID]||(h[p.uniqueID]={}))[t]||[])[0]===E&&c[1])&&c[2],p=f&&m.childNodes[f];p=++f&&p&&p[v]||(b=f=0)||d.pop();)if(1===p.nodeType&&++b&&p===e){l[t]=[E,f,b];break}}else if(g&&(b=f=(c=(l=(h=(p=e)[w]||(p[w]={}))[p.uniqueID]||(h[p.uniqueID]={}))[t]||[])[0]===E&&c[1]),!1===b)for(;(p=++f&&p&&p[v]||(b=f=0)||d.pop())&&((a?p.nodeName.toLowerCase()!==y:1!==p.nodeType)||!++b||(g&&((l=(h=p[w]||(p[w]={}))[p.uniqueID]||(h[p.uniqueID]={}))[t]=[E,b]),p!==e)););return(b-=i)===r||b%r==0&&b/r>=0}}},PSEUDO:function(t,e){var n,i=r.pseudos[t]||r.setFilters[t.toLowerCase()]||ot.error("unsupported pseudo: "+t);return i[w]?i(e):i.length>1?(n=[t,t,"",e],r.setFilters.hasOwnProperty(t.toLowerCase())?at(function(t,n){for(var r,o=i(t,e),s=o.length;s--;)t[r=M(t,o[s])]=!(n[r]=o[s])}):function(t){return i(t,0,n)}):i}},pseudos:{not:at(function(t){var e=[],n=[],r=a(t.replace(U,"$1"));return r[w]?at(function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:at(function(t){return function(e){return ot(t,e).length>0}}),contains:at(function(t){return t=t.replace(Z,tt),function(e){return(e.textContent||e.innerText||i(e)).indexOf(t)>-1}}),lang:at(function(t){return K.test(t||"")||ot.error("unsupported lang: "+t),t=t.replace(Z,tt).toLowerCase(),function(e){var n;do{if(n=v?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===d},focus:function(t){return t===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:ft(!1),disabled:ft(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!r.pseudos.empty(t)},header:function(t){return X.test(t.nodeName)},input:function(t){return Q.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:dt(function(){return[0]}),last:dt(function(t,e){return[e-1]}),eq:dt(function(t,e,n){return[n<0?n+e:n]}),even:dt(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:dt(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:dt(function(t,e,n){for(var r=n<0?n+e:n;--r>=0;)t.push(r);return t}),gt:dt(function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[e]=ht(e);for(e in{submit:!0,reset:!0})r.pseudos[e]=pt(e);function mt(){}function yt(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function gt(t,e,n){var r=e.dir,i=e.next,o=i||r,s=n&&"parentNode"===o,a=C++;return e.first?function(e,n,i){for(;e=e[r];)if(1===e.nodeType||s)return t(e,n,i);return!1}:function(e,n,u){var c,l,h,p=[E,a];if(u){for(;e=e[r];)if((1===e.nodeType||s)&&t(e,n,u))return!0}else for(;e=e[r];)if(1===e.nodeType||s)if(l=(h=e[w]||(e[w]={}))[e.uniqueID]||(h[e.uniqueID]={}),i&&i===e.nodeName.toLowerCase())e=e[r]||e;else{if((c=l[o])&&c[0]===E&&c[1]===a)return p[2]=c[2];if(l[o]=p,p[2]=t(e,n,u))return!0}return!1}}function bt(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function wt(t,e,n,r,i){for(var o,s=[],a=0,u=t.length,c=null!=e;a<u;a++)(o=t[a])&&(n&&!n(o,r,i)||(s.push(o),c&&e.push(a)));return s}function _t(t,e,n,r,i,o){return r&&!r[w]&&(r=_t(r)),i&&!i[w]&&(i=_t(i,o)),at(function(o,s,a,u){var c,l,h,p=[],f=[],d=s.length,v=o||function(t,e,n){for(var r=0,i=e.length;r<i;r++)ot(t,e[r],n);return n}(e||"*",a.nodeType?[a]:a,[]),m=!t||!o&&e?v:wt(v,p,t,a,u),y=n?i||(o?t:d||r)?[]:s:m;if(n&&n(m,y,a,u),r)for(c=wt(y,f),r(c,[],a,u),l=c.length;l--;)(h=c[l])&&(y[f[l]]=!(m[f[l]]=h));if(o){if(i||t){if(i){for(c=[],l=y.length;l--;)(h=y[l])&&c.push(m[l]=h);i(null,y=[],c,u)}for(l=y.length;l--;)(h=y[l])&&(c=i?M(o,h):p[l])>-1&&(o[c]=!(s[c]=h))}}else y=wt(y===s?y.splice(d,y.length):y),i?i(null,s,y,u):P.apply(s,y)})}function Et(t){for(var e,n,i,o=t.length,s=r.relative[t[0].type],a=s||r.relative[" "],u=s?1:0,l=gt(function(t){return t===e},a,!0),h=gt(function(t){return M(e,t)>-1},a,!0),p=[function(t,n,r){var i=!s&&(r||n!==c)||((e=n).nodeType?l(t,n,r):h(t,n,r));return e=null,i}];u<o;u++)if(n=r.relative[t[u].type])p=[gt(bt(p),n)];else{if((n=r.filter[t[u].type].apply(null,t[u].matches))[w]){for(i=++u;i<o&&!r.relative[t[i].type];i++);return _t(u>1&&bt(p),u>1&&yt(t.slice(0,u-1).concat({value:" "===t[u-2].type?"*":""})).replace(U,"$1"),n,u<i&&Et(t.slice(u,i)),i<o&&Et(t=t.slice(i)),i<o&&yt(t))}p.push(n)}return bt(p)}return mt.prototype=r.filters=r.pseudos,r.setFilters=new mt,s=ot.tokenize=function(t,e){var n,i,o,s,a,u,c,l=x[t+" "];if(l)return e?0:l.slice(0);for(a=t,u=[],c=r.preFilter;a;){for(s in n&&!(i=q.exec(a))||(i&&(a=a.slice(i[0].length)||a),u.push(o=[])),n=!1,(i=H.exec(a))&&(n=i.shift(),o.push({value:n,type:i[0].replace(U," ")}),a=a.slice(n.length)),r.filter)!(i=G[s].exec(a))||c[s]&&!(i=c[s](i))||(n=i.shift(),o.push({value:n,type:s,matches:i}),a=a.slice(n.length));if(!n)break}return e?a.length:a?ot.error(t):x(t,u).slice(0)},a=ot.compile=function(t,e){var n,i=[],o=[],a=T[t+" "];if(!a){for(e||(e=s(t)),n=e.length;n--;)(a=Et(e[n]))[w]?i.push(a):o.push(a);(a=T(t,function(t,e){var n=e.length>0,i=t.length>0,o=function(o,s,a,u,l){var h,d,m,y=0,g="0",b=o&&[],w=[],_=c,C=o||i&&r.find.TAG("*",l),S=E+=null==_?1:Math.random()||.1,x=C.length;for(l&&(c=s===f||s||l);g!==x&&null!=(h=C[g]);g++){if(i&&h){for(d=0,s||h.ownerDocument===f||(p(h),a=!v);m=t[d++];)if(m(h,s||f,a)){u.push(h);break}l&&(E=S)}n&&((h=!m&&h)&&y--,o&&b.push(h))}if(y+=g,n&&g!==y){for(d=0;m=e[d++];)m(b,w,s,a);if(o){if(y>0)for(;g--;)b[g]||w[g]||(w[g]=N.call(u));w=wt(w)}P.apply(u,w),l&&!o&&w.length>0&&y+e.length>1&&ot.uniqueSort(u)}return l&&(E=S,c=_),b};return n?at(o):o}(o,i))).selector=t}return a},u=ot.select=function(t,e,n,i){var o,u,c,l,h,p="function"==typeof t&&t,f=!i&&s(t=p.selector||t);if(n=n||[],1===f.length){if((u=f[0]=f[0].slice(0)).length>2&&"ID"===(c=u[0]).type&&9===e.nodeType&&v&&r.relative[u[1].type]){if(!(e=(r.find.ID(c.matches[0].replace(Z,tt),e)||[])[0]))return n;p&&(e=e.parentNode),t=t.slice(u.shift().value.length)}for(o=G.needsContext.test(t)?0:u.length;o--&&(c=u[o],!r.relative[l=c.type]);)if((h=r.find[l])&&(i=h(c.matches[0].replace(Z,tt),J.test(u[0].type)&&vt(e.parentNode)||e))){if(u.splice(o,1),!(t=i.length&&yt(u)))return P.apply(n,i),n;break}}return(p||a(t,f))(i,e,!v,n,!e||J.test(t)&&vt(e.parentNode)||e),n},n.sortStable=w.split("").sort(A).join("")===w,n.detectDuplicates=!!h,p(),n.sortDetached=ut(function(t){return 1&t.compareDocumentPosition(f.createElement("fieldset"))}),ut(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ct("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),n.attributes&&ut(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ct("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ut(function(t){return null==t.getAttribute("disabled")})||ct(R,function(t,e,n){var r;if(!n)return!0===t[e]?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),ot}(n);S.find=A,S.expr=A.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=A.uniqueSort,S.text=A.getText,S.isXMLDoc=A.isXML,S.contains=A.contains,S.escapeSelector=A.escape;var D=function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&S(t).is(n))break;r.push(t)}return r},I=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},N=S.expr.match.needsContext;function k(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var P=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function O(t,e,n){return b(e)?S.grep(t,function(t,r){return!!e.call(t,r,t)!==n}):e.nodeType?S.grep(t,function(t){return t===e!==n}):"string"!=typeof e?S.grep(t,function(t){return p.call(e,t)>-1!==n}):S.filter(e,t,n)}S.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?S.find.matchesSelector(r,t)?[r]:[]:S.find.matches(t,S.grep(e,function(t){return 1===t.nodeType}))},S.fn.extend({find:function(t){var e,n,r=this.length,i=this;if("string"!=typeof t)return this.pushStack(S(t).filter(function(){for(e=0;e<r;e++)if(S.contains(i[e],this))return!0}));for(n=this.pushStack([]),e=0;e<r;e++)S.find(t,i[e],n);return r>1?S.uniqueSort(n):n},filter:function(t){return this.pushStack(O(this,t||[],!1))},not:function(t){return this.pushStack(O(this,t||[],!0))},is:function(t){return!!O(this,"string"==typeof t&&N.test(t)?S(t):t||[],!1).length}});var M,R=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(t,e,n){var r,i;if(!t)return this;if(n=n||M,"string"==typeof t){if(!(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:R.exec(t))||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof S?e[0]:e,S.merge(this,S.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:a,!0)),P.test(r[1])&&S.isPlainObject(e))for(r in e)b(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(i=a.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):b(t)?void 0!==n.ready?n.ready(t):t(S):S.makeArray(t,this)}).prototype=S.fn,M=S(a);var F=/^(?:parents|prev(?:Until|All))/,L={children:!0,contents:!0,next:!0,prev:!0};function j(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}S.fn.extend({has:function(t){var e=S(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(S.contains(this,e[t]))return!0})},closest:function(t,e){var n,r=0,i=this.length,o=[],s="string"!=typeof t&&S(t);if(!N.test(t))for(;r<i;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&S.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?S.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?p.call(S(t),this[0]):p.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),S.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return D(t,"parentNode")},parentsUntil:function(t,e,n){return D(t,"parentNode",n)},next:function(t){return j(t,"nextSibling")},prev:function(t){return j(t,"previousSibling")},nextAll:function(t){return D(t,"nextSibling")},prevAll:function(t){return D(t,"previousSibling")},nextUntil:function(t,e,n){return D(t,"nextSibling",n)},prevUntil:function(t,e,n){return D(t,"previousSibling",n)},siblings:function(t){return I((t.parentNode||{}).firstChild,t)},children:function(t){return I(t.firstChild)},contents:function(t){return k(t,"iframe")?t.contentDocument:(k(t,"template")&&(t=t.content||t),S.merge([],t.childNodes))}},function(t,e){S.fn[t]=function(n,r){var i=S.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=S.filter(r,i)),this.length>1&&(L[t]||S.uniqueSort(i),F.test(t)&&i.reverse()),this.pushStack(i)}});var V=/[^\x20\t\r\n\f]+/g;function B(t){return t}function U(t){throw t}function q(t,e,n,r){var i;try{t&&b(i=t.promise)?i.call(t).done(e).fail(n):t&&b(i=t.then)?i.call(t,e,n):e.apply(void 0,[t].slice(r))}catch(t){n.apply(void 0,[t])}}S.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return S.each(t.match(V)||[],function(t,n){e[n]=!0}),e}(t):S.extend({},t);var e,n,r,i,o=[],s=[],a=-1,u=function(){for(i=i||t.once,r=e=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&t.stopOnFalse&&(a=o.length,n=!1);t.memory||(n=!1),e=!1,i&&(o=n?[]:"")},c={add:function(){return o&&(n&&!e&&(a=o.length-1,s.push(n)),function e(n){S.each(n,function(n,r){b(r)?t.unique&&c.has(r)||o.push(r):r&&r.length&&"string"!==C(r)&&e(r)})}(arguments),n&&!e&&u()),this},remove:function(){return S.each(arguments,function(t,e){for(var n;(n=S.inArray(e,o,n))>-1;)o.splice(n,1),n<=a&&a--}),this},has:function(t){return t?S.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=s=[],n||e||(o=n=""),this},locked:function(){return!!i},fireWith:function(t,n){return i||(n=[t,(n=n||[]).slice?n.slice():n],s.push(n),e||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},S.extend({Deferred:function(t){var e=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return i.then(null,t)},pipe:function(){var t=arguments;return S.Deferred(function(n){S.each(e,function(e,r){var i=b(t[r[4]])&&t[r[4]];o[r[1]](function(){var t=i&&i.apply(this,arguments);t&&b(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[t]:arguments)})}),t=null}).promise()},then:function(t,r,i){var o=0;function s(t,e,r,i){return function(){var a=this,u=arguments,c=function(){var n,c;if(!(t<o)){if((n=r.apply(a,u))===e.promise())throw new TypeError("Thenable self-resolution");c=n&&("object"==typeof n||"function"==typeof n)&&n.then,b(c)?i?c.call(n,s(o,e,B,i),s(o,e,U,i)):(o++,c.call(n,s(o,e,B,i),s(o,e,U,i),s(o,e,B,e.notifyWith))):(r!==B&&(a=void 0,u=[n]),(i||e.resolveWith)(a,u))}},l=i?c:function(){try{c()}catch(n){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(n,l.stackTrace),t+1>=o&&(r!==U&&(a=void 0,u=[n]),e.rejectWith(a,u))}};t?l():(S.Deferred.getStackHook&&(l.stackTrace=S.Deferred.getStackHook()),n.setTimeout(l))}}return S.Deferred(function(n){e[0][3].add(s(0,n,b(i)?i:B,n.notifyWith)),e[1][3].add(s(0,n,b(t)?t:B)),e[2][3].add(s(0,n,b(r)?r:U))}).promise()},promise:function(t){return null!=t?S.extend(t,i):i}},o={};return S.each(e,function(t,n){var s=n[2],a=n[5];i[n[1]]=s.add,a&&s.add(function(){r=a},e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),s.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=s.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,r=Array(n),i=c.call(arguments),o=S.Deferred(),s=function(t){return function(n){r[t]=this,i[t]=arguments.length>1?c.call(arguments):n,--e||o.resolveWith(r,i)}};if(e<=1&&(q(t,o.done(s(n)).resolve,o.reject,!e),"pending"===o.state()||b(i[n]&&i[n].then)))return o.then();for(;n--;)q(i[n],s(n),o.reject);return o.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&H.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},S.readyException=function(t){n.setTimeout(function(){throw t})};var W=S.Deferred();function z(){a.removeEventListener("DOMContentLoaded",z),n.removeEventListener("load",z),S.ready()}S.fn.ready=function(t){return W.then(t).catch(function(t){S.readyException(t)}),this},S.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--S.readyWait:S.isReady)||(S.isReady=!0,!0!==t&&--S.readyWait>0||W.resolveWith(a,[S]))}}),S.ready.then=W.then,"complete"===a.readyState||"loading"!==a.readyState&&!a.documentElement.doScroll?n.setTimeout(S.ready):(a.addEventListener("DOMContentLoaded",z),n.addEventListener("load",z));var K=function(t,e,n,r,i,o,s){var a=0,u=t.length,c=null==n;if("object"===C(n))for(a in i=!0,n)K(t,e,a,n[a],!0,o,s);else if(void 0!==r&&(i=!0,b(r)||(s=!0),c&&(s?(e.call(t,r),e=null):(c=e,e=function(t,e,n){return c.call(S(t),n)})),e))for(;a<u;a++)e(t[a],n,s?r:r.call(t[a],a,e(t[a],n)));return i?t:c?e.call(t):u?e(t[0],n):o},G=/^-ms-/,Q=/-([a-z])/g;function X(t,e){return e.toUpperCase()}function $(t){return t.replace(G,"ms-").replace(Q,X)}var Y=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function J(){this.expando=S.expando+J.uid++}J.uid=1,J.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Y(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,i=this.cache(t);if("string"==typeof e)i[$(e)]=n;else for(r in e)i[$(r)]=e[r];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][$(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r=t[this.expando];if(void 0!==r){if(void 0!==e){n=(e=Array.isArray(e)?e.map($):(e=$(e))in r?[e]:e.match(V)||[]).length;for(;n--;)delete r[e[n]]}(void 0===e||S.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!S.isEmptyObject(e)}};var Z=new J,tt=new J,et=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,nt=/[A-Z]/g;function rt(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(nt,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(r))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:et.test(t)?JSON.parse(t):t)}(n)}catch(t){}tt.set(t,e,n)}else n=void 0;return n}S.extend({hasData:function(t){return tt.hasData(t)||Z.hasData(t)},data:function(t,e,n){return tt.access(t,e,n)},removeData:function(t,e){tt.remove(t,e)},_data:function(t,e,n){return Z.access(t,e,n)},_removeData:function(t,e){Z.remove(t,e)}}),S.fn.extend({data:function(t,e){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(i=tt.get(o),1===o.nodeType&&!Z.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(r=s[n].name).indexOf("data-")&&(r=$(r.slice(5)),rt(o,r,i[r]));Z.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){tt.set(this,t)}):K(this,function(e){var n;if(o&&void 0===e)return void 0!==(n=tt.get(o,t))?n:void 0!==(n=rt(o,t))?n:void 0;this.each(function(){tt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){tt.remove(this,t)})}}),S.extend({queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=Z.get(t,e),n&&(!r||Array.isArray(n)?r=Z.access(t,e,S.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){e=e||"fx";var n=S.queue(t,e),r=n.length,i=n.shift(),o=S._queueHooks(t,e);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,function(){S.dequeue(t,e)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Z.get(t,n)||Z.access(t,n,{empty:S.Callbacks("once memory").add(function(){Z.remove(t,[e+"queue",n])})})}}),S.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?S.queue(this[0],t):void 0===e?this:this.each(function(){var n=S.queue(this,t,e);S._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&S.dequeue(this,t)})},dequeue:function(t){return this.each(function(){S.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=S.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=Z.get(o[s],t+"queueHooks"))&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(e)}});var it=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ot=new RegExp("^(?:([+-])=|)("+it+")([a-z%]*)$","i"),st=["Top","Right","Bottom","Left"],at=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&S.contains(t.ownerDocument,t)&&"none"===S.css(t,"display")},ut=function(t,e,n,r){var i,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in i=n.apply(t,r||[]),e)t.style[o]=s[o];return i};function ct(t,e,n,r){var i,o,s=20,a=r?function(){return r.cur()}:function(){return S.css(t,e,"")},u=a(),c=n&&n[3]||(S.cssNumber[e]?"":"px"),l=(S.cssNumber[e]||"px"!==c&&+u)&&ot.exec(S.css(t,e));if(l&&l[3]!==c){for(u/=2,c=c||l[3],l=+u||1;s--;)S.style(t,e,l+c),(1-o)*(1-(o=a()/u||.5))<=0&&(s=0),l/=o;l*=2,S.style(t,e,l+c),n=n||[]}return n&&(l=+l||+u||0,i=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=i)),i}var lt={};function ht(t){var e,n=t.ownerDocument,r=t.nodeName,i=lt[r];return i||(e=n.body.appendChild(n.createElement(r)),i=S.css(e,"display"),e.parentNode.removeChild(e),"none"===i&&(i="block"),lt[r]=i,i)}function pt(t,e){for(var n,r,i=[],o=0,s=t.length;o<s;o++)(r=t[o]).style&&(n=r.style.display,e?("none"===n&&(i[o]=Z.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&at(r)&&(i[o]=ht(r))):"none"!==n&&(i[o]="none",Z.set(r,"display",n)));for(o=0;o<s;o++)null!=i[o]&&(t[o].style.display=i[o]);return t}S.fn.extend({show:function(){return pt(this,!0)},hide:function(){return pt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){at(this)?S(this).show():S(this).hide()})}});var ft=/^(?:checkbox|radio)$/i,dt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,vt=/^$|^module$|\/(?:java|ecma)script/i,mt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function yt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&k(t,e)?S.merge([t],n):n}function gt(t,e){for(var n=0,r=t.length;n<r;n++)Z.set(t[n],"globalEval",!e||Z.get(e[n],"globalEval"))}mt.optgroup=mt.option,mt.tbody=mt.tfoot=mt.colgroup=mt.caption=mt.thead,mt.th=mt.td;var bt,wt,_t=/<|&#?\w+;/;function Et(t,e,n,r,i){for(var o,s,a,u,c,l,h=e.createDocumentFragment(),p=[],f=0,d=t.length;f<d;f++)if((o=t[f])||0===o)if("object"===C(o))S.merge(p,o.nodeType?[o]:o);else if(_t.test(o)){for(s=s||h.appendChild(e.createElement("div")),a=(dt.exec(o)||["",""])[1].toLowerCase(),u=mt[a]||mt._default,s.innerHTML=u[1]+S.htmlPrefilter(o)+u[2],l=u[0];l--;)s=s.lastChild;S.merge(p,s.childNodes),(s=h.firstChild).textContent=""}else p.push(e.createTextNode(o));for(h.textContent="",f=0;o=p[f++];)if(r&&S.inArray(o,r)>-1)i&&i.push(o);else if(c=S.contains(o.ownerDocument,o),s=yt(h.appendChild(o),"script"),c&&gt(s),n)for(l=0;o=s[l++];)vt.test(o.type||"")&&n.push(o);return h}bt=a.createDocumentFragment().appendChild(a.createElement("div")),(wt=a.createElement("input")).setAttribute("type","radio"),wt.setAttribute("checked","checked"),wt.setAttribute("name","t"),bt.appendChild(wt),g.checkClone=bt.cloneNode(!0).cloneNode(!0).lastChild.checked,bt.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!bt.cloneNode(!0).lastChild.defaultValue;var Ct=a.documentElement,St=/^key/,xt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Tt=/^([^.]*)(?:\.(.+)|)/;function At(){return!0}function Dt(){return!1}function It(){try{return a.activeElement}catch(t){}}function Nt(t,e,n,r,i,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(r=r||n,n=void 0),e)Nt(t,a,n,r,e[a],o);return t}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Dt;else if(!i)return t;return 1===o&&(s=i,(i=function(t){return S().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=S.guid++)),t.each(function(){S.event.add(this,e,i,r,n)})}S.event={global:{},add:function(t,e,n,r,i){var o,s,a,u,c,l,h,p,f,d,v,m=Z.get(t);if(m)for(n.handler&&(n=(o=n).handler,i=o.selector),i&&S.find.matchesSelector(Ct,i),n.guid||(n.guid=S.guid++),(u=m.events)||(u=m.events={}),(s=m.handle)||(s=m.handle=function(e){return void 0!==S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(V)||[""]).length;c--;)f=v=(a=Tt.exec(e[c])||[])[1],d=(a[2]||"").split(".").sort(),f&&(h=S.event.special[f]||{},f=(i?h.delegateType:h.bindType)||f,h=S.event.special[f]||{},l=S.extend({type:f,origType:v,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&S.expr.match.needsContext.test(i),namespace:d.join(".")},o),(p=u[f])||((p=u[f]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,r,d,s)||t.addEventListener&&t.addEventListener(f,s)),h.add&&(h.add.call(t,l),l.handler.guid||(l.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,l):p.push(l),S.event.global[f]=!0)},remove:function(t,e,n,r,i){var o,s,a,u,c,l,h,p,f,d,v,m=Z.hasData(t)&&Z.get(t);if(m&&(u=m.events)){for(c=(e=(e||"").match(V)||[""]).length;c--;)if(f=v=(a=Tt.exec(e[c])||[])[1],d=(a[2]||"").split(".").sort(),f){for(h=S.event.special[f]||{},p=u[f=(r?h.delegateType:h.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=p.length;o--;)l=p[o],!i&&v!==l.origType||n&&n.guid!==l.guid||a&&!a.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(p.splice(o,1),l.selector&&p.delegateCount--,h.remove&&h.remove.call(t,l));s&&!p.length&&(h.teardown&&!1!==h.teardown.call(t,d,m.handle)||S.removeEvent(t,f,m.handle),delete u[f])}else for(f in u)S.event.remove(t,f+e[c],n,r,!0);S.isEmptyObject(u)&&Z.remove(t,"handle events")}},dispatch:function(t){var e,n,r,i,o,s,a=S.event.fix(t),u=new Array(arguments.length),c=(Z.get(this,"events")||{})[a.type]||[],l=S.event.special[a.type]||{};for(u[0]=a,e=1;e<arguments.length;e++)u[e]=arguments[e];if(a.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,a)){for(s=S.event.handlers.call(this,a,c),e=0;(i=s[e++])&&!a.isPropagationStopped();)for(a.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(r=((S.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u))&&!1===(a.result=r)&&(a.preventDefault(),a.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,a),a.result}},handlers:function(t,e){var n,r,i,o,s,a=[],u=e.delegateCount,c=t.target;if(u&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(o=[],s={},n=0;n<u;n++)void 0===s[i=(r=e[n]).selector+" "]&&(s[i]=r.needsContext?S(i,this).index(c)>-1:S.find(i,this,null,[c]).length),s[i]&&o.push(r);o.length&&a.push({elem:c,handlers:o})}return c=this,u<e.length&&a.push({elem:c,handlers:e.slice(u)}),a},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:b(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[S.expando]?t:new S.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==It()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===It()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&k(this,"input"))return this.click(),!1},_default:function(t){return k(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},S.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},S.Event=function(t,e){if(!(this instanceof S.Event))return new S.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?At:Dt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&S.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:Dt,isPropagationStopped:Dt,isImmediatePropagationStopped:Dt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=At,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=At,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=At,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&St.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&xt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},S.event.addProp),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){S.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=t.relatedTarget,i=t.handleObj;return r&&(r===this||S.contains(this,r))||(t.type=i.origType,n=i.handler.apply(this,arguments),t.type=e),n}}}),S.fn.extend({on:function(t,e,n,r){return Nt(this,t,e,n,r)},one:function(t,e,n,r){return Nt(this,t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,S(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=Dt),this.each(function(){S.event.remove(this,t,n,e)})}});var kt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Pt=/<script|<style|<link/i,Ot=/checked\s*(?:[^=]|=\s*.checked.)/i,Mt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Rt(t,e){return k(t,"table")&&k(11!==e.nodeType?e:e.firstChild,"tr")&&S(t).children("tbody")[0]||t}function Ft(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Lt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function jt(t,e){var n,r,i,o,s,a,u,c;if(1===e.nodeType){if(Z.hasData(t)&&(o=Z.access(t),s=Z.set(e,o),c=o.events))for(i in delete s.handle,s.events={},c)for(n=0,r=c[i].length;n<r;n++)S.event.add(e,i,c[i][n]);tt.hasData(t)&&(a=tt.access(t),u=S.extend({},a),tt.set(e,u))}}function Vt(t,e,n,r){e=l.apply([],e);var i,o,s,a,u,c,h=0,p=t.length,f=p-1,d=e[0],v=b(d);if(v||p>1&&"string"==typeof d&&!g.checkClone&&Ot.test(d))return t.each(function(i){var o=t.eq(i);v&&(e[0]=d.call(this,i,o.html())),Vt(o,e,n,r)});if(p&&(o=(i=Et(e,t[0].ownerDocument,!1,t,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(a=(s=S.map(yt(i,"script"),Ft)).length;h<p;h++)u=i,h!==f&&(u=S.clone(u,!0,!0),a&&S.merge(s,yt(u,"script"))),n.call(t[h],u,h);if(a)for(c=s[s.length-1].ownerDocument,S.map(s,Lt),h=0;h<a;h++)u=s[h],vt.test(u.type||"")&&!Z.access(u,"globalEval")&&S.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?S._evalUrl&&S._evalUrl(u.src):E(u.textContent.replace(Mt,""),c,u))}return t}function Bt(t,e,n){for(var r,i=e?S.filter(e,t):t,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||S.cleanData(yt(r)),r.parentNode&&(n&&S.contains(r.ownerDocument,r)&&gt(yt(r,"script")),r.parentNode.removeChild(r));return t}S.extend({htmlPrefilter:function(t){return t.replace(kt,"<$1></$2>")},clone:function(t,e,n){var r,i,o,s,a,u,c,l=t.cloneNode(!0),h=S.contains(t.ownerDocument,t);if(!(g.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||S.isXMLDoc(t)))for(s=yt(l),r=0,i=(o=yt(t)).length;r<i;r++)a=o[r],u=s[r],void 0,"input"===(c=u.nodeName.toLowerCase())&&ft.test(a.type)?u.checked=a.checked:"input"!==c&&"textarea"!==c||(u.defaultValue=a.defaultValue);if(e)if(n)for(o=o||yt(t),s=s||yt(l),r=0,i=o.length;r<i;r++)jt(o[r],s[r]);else jt(t,l);return(s=yt(l,"script")).length>0&&gt(s,!h&&yt(t,"script")),l},cleanData:function(t){for(var e,n,r,i=S.event.special,o=0;void 0!==(n=t[o]);o++)if(Y(n)){if(e=n[Z.expando]){if(e.events)for(r in e.events)i[r]?S.event.remove(n,r):S.removeEvent(n,r,e.handle);n[Z.expando]=void 0}n[tt.expando]&&(n[tt.expando]=void 0)}}}),S.fn.extend({detach:function(t){return Bt(this,t,!0)},remove:function(t){return Bt(this,t)},text:function(t){return K(this,function(t){return void 0===t?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Vt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Rt(this,t).appendChild(t)})},prepend:function(){return Vt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Rt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Vt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Vt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(S.cleanData(yt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return S.clone(this,t,e)})},html:function(t){return K(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Pt.test(t)&&!mt[(dt.exec(t)||["",""])[1].toLowerCase()]){t=S.htmlPrefilter(t);try{for(;n<r;n++)1===(e=this[n]||{}).nodeType&&(S.cleanData(yt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return Vt(this,arguments,function(e){var n=this.parentNode;S.inArray(this,t)<0&&(S.cleanData(yt(this)),n&&n.replaceChild(e,this))},t)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){S.fn[t]=function(t){for(var n,r=[],i=S(t),o=i.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),S(i[s])[e](n),h.apply(r,n.get());return this.pushStack(r)}});var Ut=new RegExp("^("+it+")(?!px)[a-z%]+$","i"),qt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},Ht=new RegExp(st.join("|"),"i");function Wt(t,e,n){var r,i,o,s,a=t.style;return(n=n||qt(t))&&(""!==(s=n.getPropertyValue(e)||n[e])||S.contains(t.ownerDocument,t)||(s=S.style(t,e)),!g.pixelBoxStyles()&&Ut.test(s)&&Ht.test(e)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o)),void 0!==s?s+"":s}function zt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(l){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Ct.appendChild(c).appendChild(l);var t=n.getComputedStyle(l);r="1%"!==t.top,u=12===e(t.marginLeft),l.style.right="60%",s=36===e(t.right),i=36===e(t.width),l.style.position="absolute",o=36===l.offsetWidth||"absolute",Ct.removeChild(c),l=null}}function e(t){return Math.round(parseFloat(t))}var r,i,o,s,u,c=a.createElement("div"),l=a.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===l.style.backgroundClip,S.extend(g,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),u},scrollboxSize:function(){return t(),o}}))}();var Kt=/^(none|table(?!-c[ea]).+)/,Gt=/^--/,Qt={position:"absolute",visibility:"hidden",display:"block"},Xt={letterSpacing:"0",fontWeight:"400"},$t=["Webkit","Moz","ms"],Yt=a.createElement("div").style;function Jt(t){var e=S.cssProps[t];return e||(e=S.cssProps[t]=function(t){if(t in Yt)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=$t.length;n--;)if((t=$t[n]+e)in Yt)return t}(t)||t),e}function Zt(t,e,n){var r=ot.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function te(t,e,n,r,i,o){var s="width"===e?1:0,a=0,u=0;if(n===(r?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(u+=S.css(t,n+st[s],!0,i)),r?("content"===n&&(u-=S.css(t,"padding"+st[s],!0,i)),"margin"!==n&&(u-=S.css(t,"border"+st[s]+"Width",!0,i))):(u+=S.css(t,"padding"+st[s],!0,i),"padding"!==n?u+=S.css(t,"border"+st[s]+"Width",!0,i):a+=S.css(t,"border"+st[s]+"Width",!0,i));return!r&&o>=0&&(u+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-u-a-.5))),u}function ee(t,e,n){var r=qt(t),i=Wt(t,e,r),o="border-box"===S.css(t,"boxSizing",!1,r),s=o;if(Ut.test(i)){if(!n)return i;i="auto"}return s=s&&(g.boxSizingReliable()||i===t.style[e]),("auto"===i||!parseFloat(i)&&"inline"===S.css(t,"display",!1,r))&&(i=t["offset"+e[0].toUpperCase()+e.slice(1)],s=!0),(i=parseFloat(i)||0)+te(t,e,n||(o?"border":"content"),s,r,i)+"px"}function ne(t,e,n,r,i){return new ne.prototype.init(t,e,n,r,i)}S.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Wt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,s,a=$(e),u=Gt.test(e),c=t.style;if(u||(e=Jt(a)),s=S.cssHooks[e]||S.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(i=s.get(t,!1,r))?i:c[e];"string"===(o=typeof n)&&(i=ot.exec(n))&&i[1]&&(n=ct(t,e,i),o="number"),null!=n&&n==n&&("number"===o&&(n+=i&&i[3]||(S.cssNumber[a]?"":"px")),g.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,r))||(u?c.setProperty(e,n):c[e]=n))}},css:function(t,e,n,r){var i,o,s,a=$(e);return Gt.test(e)||(e=Jt(a)),(s=S.cssHooks[e]||S.cssHooks[a])&&"get"in s&&(i=s.get(t,!0,n)),void 0===i&&(i=Wt(t,e,r)),"normal"===i&&e in Xt&&(i=Xt[e]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),S.each(["height","width"],function(t,e){S.cssHooks[e]={get:function(t,n,r){if(n)return!Kt.test(S.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?ee(t,e,r):ut(t,Qt,function(){return ee(t,e,r)})},set:function(t,n,r){var i,o=qt(t),s="border-box"===S.css(t,"boxSizing",!1,o),a=r&&te(t,e,r,s,o);return s&&g.scrollboxSize()===o.position&&(a-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-te(t,e,"border",!1,o)-.5)),a&&(i=ot.exec(n))&&"px"!==(i[3]||"px")&&(t.style[e]=n,n=S.css(t,e)),Zt(0,n,a)}}}),S.cssHooks.marginLeft=zt(g.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Wt(t,"marginLeft"))||t.getBoundingClientRect().left-ut(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(t,e){S.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[t+st[r]+e]=o[r]||o[r-2]||o[0];return i}},"margin"!==t&&(S.cssHooks[t+e].set=Zt)}),S.fn.extend({css:function(t,e){return K(this,function(t,e,n){var r,i,o={},s=0;if(Array.isArray(e)){for(r=qt(t),i=e.length;s<i;s++)o[e[s]]=S.css(t,e[s],!1,r);return o}return void 0!==n?S.style(t,e,n):S.css(t,e)},t,e,arguments.length>1)}}),S.Tween=ne,ne.prototype={constructor:ne,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||S.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(S.cssNumber[n]?"":"px")},cur:function(){var t=ne.propHooks[this.prop];return t&&t.get?t.get(this):ne.propHooks._default.get(this)},run:function(t){var e,n=ne.propHooks[this.prop];return this.options.duration?this.pos=e=S.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ne.propHooks._default.set(this),this}},ne.prototype.init.prototype=ne.prototype,ne.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=S.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){S.fx.step[t.prop]?S.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[S.cssProps[t.prop]]&&!S.cssHooks[t.prop]?t.elem[t.prop]=t.now:S.style(t.elem,t.prop,t.now+t.unit)}}},ne.propHooks.scrollTop=ne.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},S.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},S.fx=ne.prototype.init,S.fx.step={};var re,ie,oe=/^(?:toggle|show|hide)$/,se=/queueHooks$/;function ae(){ie&&(!1===a.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(ae):n.setTimeout(ae,S.fx.interval),S.fx.tick())}function ue(){return n.setTimeout(function(){re=void 0}),re=Date.now()}function ce(t,e){var n,r=0,i={height:t};for(e=e?1:0;r<4;r+=2-e)i["margin"+(n=st[r])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function le(t,e,n){for(var r,i=(he.tweeners[e]||[]).concat(he.tweeners["*"]),o=0,s=i.length;o<s;o++)if(r=i[o].call(n,e,t))return r}function he(t,e,n){var r,i,o=0,s=he.prefilters.length,a=S.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var e=re||ue(),n=Math.max(0,c.startTime+c.duration-e),r=1-(n/c.duration||0),o=0,s=c.tweens.length;o<s;o++)c.tweens[o].run(r);return a.notifyWith(t,[c,r,n]),r<1&&s?n:(s||a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},n),originalProperties:e,originalOptions:n,startTime:re||ue(),duration:n.duration,tweens:[],createTween:function(e,n){var r=S.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(r),r},stop:function(e){var n=0,r=e?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return e?(a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c,e])):a.rejectWith(t,[c,e]),this}}),l=c.props;for(!function(t,e){var n,r,i,o,s;for(n in t)if(i=e[r=$(n)],o=t[n],Array.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),(s=S.cssHooks[r])&&"expand"in s)for(n in o=s.expand(o),delete t[r],o)n in t||(t[n]=o[n],e[n]=i);else e[r]=i}(l,c.opts.specialEasing);o<s;o++)if(r=he.prefilters[o].call(c,t,l,c.opts))return b(r.stop)&&(S._queueHooks(c.elem,c.opts.queue).stop=r.stop.bind(r)),r;return S.map(l,le,c),b(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),S.fx.timer(S.extend(u,{elem:t,anim:c,queue:c.opts.queue})),c}S.Animation=S.extend(he,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return ct(n.elem,t,ot.exec(e),n),n}]},tweener:function(t,e){b(t)?(e=t,t=["*"]):t=t.match(V);for(var n,r=0,i=t.length;r<i;r++)n=t[r],he.tweeners[n]=he.tweeners[n]||[],he.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var r,i,o,s,a,u,c,l,h="width"in e||"height"in e,p=this,f={},d=t.style,v=t.nodeType&&at(t),m=Z.get(t,"fxshow");for(r in n.queue||(null==(s=S._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,p.always(function(){p.always(function(){s.unqueued--,S.queue(t,"fx").length||s.empty.fire()})})),e)if(i=e[r],oe.test(i)){if(delete e[r],o=o||"toggle"===i,i===(v?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;v=!0}f[r]=m&&m[r]||S.style(t,r)}if((u=!S.isEmptyObject(e))||!S.isEmptyObject(f))for(r in h&&1===t.nodeType&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],null==(c=m&&m.display)&&(c=Z.get(t,"display")),"none"===(l=S.css(t,"display"))&&(c?l=c:(pt([t],!0),c=t.style.display||c,l=S.css(t,"display"),pt([t]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===S.css(t,"float")&&(u||(p.done(function(){d.display=c}),null==c&&(l=d.display,c="none"===l?"":l)),d.display="inline-block")),n.overflow&&(d.overflow="hidden",p.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),u=!1,f)u||(m?"hidden"in m&&(v=m.hidden):m=Z.access(t,"fxshow",{display:c}),o&&(m.hidden=!v),v&&pt([t],!0),p.done(function(){for(r in v||pt([t]),Z.remove(t,"fxshow"),f)S.style(t,r,f[r])})),u=le(v?m[r]:0,r,p),r in m||(m[r]=u.start,v&&(u.end=u.start,u.start=0))}],prefilter:function(t,e){e?he.prefilters.unshift(t):he.prefilters.push(t)}}),S.speed=function(t,e,n){var r=t&&"object"==typeof t?S.extend({},t):{complete:n||!n&&e||b(t)&&t,duration:t,easing:n&&e||e&&!b(e)&&e};return S.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in S.fx.speeds?r.duration=S.fx.speeds[r.duration]:r.duration=S.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){b(r.old)&&r.old.call(this),r.queue&&S.dequeue(this,r.queue)},r},S.fn.extend({fadeTo:function(t,e,n,r){return this.filter(at).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=S.isEmptyObject(t),o=S.speed(e,n,r),s=function(){var e=he(this,S.extend({},t),o);(i||Z.get(this,"finish"))&&e.stop(!0)};return s.finish=s,i||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=S.timers,s=Z.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&se.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));!e&&n||S.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=Z.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=S.timers,s=r?r.length:0;for(n.finish=!0,S.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),S.each(["toggle","show","hide"],function(t,e){var n=S.fn[e];S.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(ce(e,!0),t,r,i)}}),S.each({slideDown:ce("show"),slideUp:ce("hide"),slideToggle:ce("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){S.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),S.timers=[],S.fx.tick=function(){var t,e=0,n=S.timers;for(re=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||S.fx.stop(),re=void 0},S.fx.timer=function(t){S.timers.push(t),S.fx.start()},S.fx.interval=13,S.fx.start=function(){ie||(ie=!0,ae())},S.fx.stop=function(){ie=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(t,e){return t=S.fx&&S.fx.speeds[t]||t,e=e||"fx",this.queue(e,function(e,r){var i=n.setTimeout(e,t);r.stop=function(){n.clearTimeout(i)}})},function(){var t=a.createElement("input"),e=a.createElement("select").appendChild(a.createElement("option"));t.type="checkbox",g.checkOn=""!==t.value,g.optSelected=e.selected,(t=a.createElement("input")).value="t",t.type="radio",g.radioValue="t"===t.value}();var pe,fe=S.expr.attrHandle;S.fn.extend({attr:function(t,e){return K(this,S.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){S.removeAttr(this,t)})}}),S.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?S.prop(t,e,n):(1===o&&S.isXMLDoc(t)||(i=S.attrHooks[e.toLowerCase()]||(S.expr.match.bool.test(e)?pe:void 0)),void 0!==n?null===n?void S.removeAttr(t,e):i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):i&&"get"in i&&null!==(r=i.get(t,e))?r:null==(r=S.find.attr(t,e))?void 0:r)},attrHooks:{type:{set:function(t,e){if(!g.radioValue&&"radio"===e&&k(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r=0,i=e&&e.match(V);if(i&&1===t.nodeType)for(;n=i[r++];)t.removeAttribute(n)}}),pe={set:function(t,e,n){return!1===e?S.removeAttr(t,n):t.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),function(t,e){var n=fe[e]||S.find.attr;fe[e]=function(t,e,r){var i,o,s=e.toLowerCase();return r||(o=fe[s],fe[s]=i,i=null!=n(t,e,r)?s:null,fe[s]=o),i}});var de=/^(?:input|select|textarea|button)$/i,ve=/^(?:a|area)$/i;function me(t){return(t.match(V)||[]).join(" ")}function ye(t){return t.getAttribute&&t.getAttribute("class")||""}function ge(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(V)||[]}S.fn.extend({prop:function(t,e){return K(this,S.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[S.propFix[t]||t]})}}),S.extend({prop:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(t)||(e=S.propFix[e]||e,i=S.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=S.find.attr(t,"tabindex");return e?parseInt(e,10):de.test(t.nodeName)||ve.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(S.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(t){var e,n,r,i,o,s,a,u=0;if(b(t))return this.each(function(e){S(this).addClass(t.call(this,e,ye(this)))});if((e=ge(t)).length)for(;n=this[u++];)if(i=ye(n),r=1===n.nodeType&&" "+me(i)+" "){for(s=0;o=e[s++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(a=me(r))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,r,i,o,s,a,u=0;if(b(t))return this.each(function(e){S(this).removeClass(t.call(this,e,ye(this)))});if(!arguments.length)return this.attr("class","");if((e=ge(t)).length)for(;n=this[u++];)if(i=ye(n),r=1===n.nodeType&&" "+me(i)+" "){for(s=0;o=e[s++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(a=me(r))&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t,r="string"===n||Array.isArray(t);return"boolean"==typeof e&&r?e?this.addClass(t):this.removeClass(t):b(t)?this.each(function(n){S(this).toggleClass(t.call(this,n,ye(this),e),e)}):this.each(function(){var e,i,o,s;if(r)for(i=0,o=S(this),s=ge(t);e=s[i++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||((e=ye(this))&&Z.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Z.get(this,"__className__")||""))})},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&(" "+me(ye(n))+" ").indexOf(e)>-1)return!0;return!1}});var be=/\r/g;S.fn.extend({val:function(t){var e,n,r,i=this[0];return arguments.length?(r=b(t),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?t.call(this,n,S(this).val()):t)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=S.map(i,function(t){return null==t?"":t+""})),(e=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))})):i?(e=S.valHooks[i.type]||S.valHooks[i.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(be,""):null==n?"":n:void 0}}),S.extend({valHooks:{option:{get:function(t){var e=S.find.attr(t,"value");return null!=e?e:me(S.text(t))}},select:{get:function(t){var e,n,r,i=t.options,o=t.selectedIndex,s="select-one"===t.type,a=s?null:[],u=s?o+1:i.length;for(r=o<0?u:s?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!k(n.parentNode,"optgroup"))){if(e=S(n).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var n,r,i=t.options,o=S.makeArray(e),s=i.length;s--;)((r=i[s]).selected=S.inArray(S.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=S.inArray(S(t).val(),e)>-1}},g.checkOn||(S.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),g.focusin="onfocusin"in n;var we=/^(?:focusinfocus|focusoutblur)$/,_e=function(t){t.stopPropagation()};S.extend(S.event,{trigger:function(t,e,r,i){var o,s,u,c,l,h,p,f,d=[r||a],m=v.call(t,"type")?t.type:t,y=v.call(t,"namespace")?t.namespace.split("."):[];if(s=f=u=r=r||a,3!==r.nodeType&&8!==r.nodeType&&!we.test(m+S.event.triggered)&&(m.indexOf(".")>-1&&(m=(y=m.split(".")).shift(),y.sort()),l=m.indexOf(":")<0&&"on"+m,(t=t[S.expando]?t:new S.Event(m,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=y.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),e=null==e?[t]:S.makeArray(e,[t]),p=S.event.special[m]||{},i||!p.trigger||!1!==p.trigger.apply(r,e))){if(!i&&!p.noBubble&&!w(r)){for(c=p.delegateType||m,we.test(c+m)||(s=s.parentNode);s;s=s.parentNode)d.push(s),u=s;u===(r.ownerDocument||a)&&d.push(u.defaultView||u.parentWindow||n)}for(o=0;(s=d[o++])&&!t.isPropagationStopped();)f=s,t.type=o>1?c:p.bindType||m,(h=(Z.get(s,"events")||{})[t.type]&&Z.get(s,"handle"))&&h.apply(s,e),(h=l&&s[l])&&h.apply&&Y(s)&&(t.result=h.apply(s,e),!1===t.result&&t.preventDefault());return t.type=m,i||t.isDefaultPrevented()||p._default&&!1!==p._default.apply(d.pop(),e)||!Y(r)||l&&b(r[m])&&!w(r)&&((u=r[l])&&(r[l]=null),S.event.triggered=m,t.isPropagationStopped()&&f.addEventListener(m,_e),r[m](),t.isPropagationStopped()&&f.removeEventListener(m,_e),S.event.triggered=void 0,u&&(r[l]=u)),t.result}},simulate:function(t,e,n){var r=S.extend(new S.Event,n,{type:t,isSimulated:!0});S.event.trigger(r,null,e)}}),S.fn.extend({trigger:function(t,e){return this.each(function(){S.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return S.event.trigger(t,e,n,!0)}}),g.focusin||S.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){S.event.simulate(e,t.target,S.event.fix(t))};S.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=Z.access(r,e);i||r.addEventListener(t,n,!0),Z.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=Z.access(r,e)-1;i?Z.access(r,e,i):(r.removeEventListener(t,n,!0),Z.remove(r,e))}}});var Ee=n.location,Ce=Date.now(),Se=/\?/;S.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||S.error("Invalid XML: "+t),e};var xe=/\[\]$/,Te=/\r?\n/g,Ae=/^(?:submit|button|image|reset|file)$/i,De=/^(?:input|select|textarea|keygen)/i;function Ie(t,e,n,r){var i;if(Array.isArray(e))S.each(e,function(e,i){n||xe.test(t)?r(t,i):Ie(t+"["+("object"==typeof i&&null!=i?e:"")+"]",i,n,r)});else if(n||"object"!==C(e))r(t,e);else for(i in e)Ie(t+"["+i+"]",e[i],n,r)}S.param=function(t,e){var n,r=[],i=function(t,e){var n=b(e)?e():e;r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!S.isPlainObject(t))S.each(t,function(){i(this.name,this.value)});else for(n in t)Ie(n,t[n],e,i);return r.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=S.prop(this,"elements");return t?S.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!S(this).is(":disabled")&&De.test(this.nodeName)&&!Ae.test(t)&&(this.checked||!ft.test(t))}).map(function(t,e){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,function(t){return{name:e.name,value:t.replace(Te,"\r\n")}}):{name:e.name,value:n.replace(Te,"\r\n")}}).get()}});var Ne=/%20/g,ke=/#.*$/,Pe=/([?&])_=[^&]*/,Oe=/^(.*?):[ \t]*([^\r\n]*)$/gm,Me=/^(?:GET|HEAD)$/,Re=/^\/\//,Fe={},Le={},je="*/".concat("*"),Ve=a.createElement("a");function Be(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(V)||[];if(b(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function Ue(t,e,n,r){var i={},o=t===Le;function s(a){var u;return i[a]=!0,S.each(t[a]||[],function(t,a){var c=a(e,n,r);return"string"!=typeof c||o||i[c]?o?!(u=c):void 0:(e.dataTypes.unshift(c),s(c),!1)}),u}return s(e.dataTypes[0])||!i["*"]&&s("*")}function qe(t,e){var n,r,i=S.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&S.extend(!0,t,r),t}Ve.href=Ee.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ee.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ee.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":je,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?qe(qe(t,S.ajaxSettings),e):qe(S.ajaxSettings,t)},ajaxPrefilter:Be(Fe),ajaxTransport:Be(Le),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,i,o,s,u,c,l,h,p,f,d=S.ajaxSetup({},e),v=d.context||d,m=d.context&&(v.nodeType||v.jquery)?S(v):S.event,y=S.Deferred(),g=S.Callbacks("once memory"),b=d.statusCode||{},w={},_={},E="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(l){if(!s)for(s={};e=Oe.exec(o);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return l?o:null},setRequestHeader:function(t,e){return null==l&&(t=_[t.toLowerCase()]=_[t.toLowerCase()]||t,w[t]=e),this},overrideMimeType:function(t){return null==l&&(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(l)C.always(t[C.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||E;return r&&r.abort(e),x(0,e),this}};if(y.promise(C),d.url=((t||d.url||Ee.href)+"").replace(Re,Ee.protocol+"//"),d.type=e.method||e.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(V)||[""],null==d.crossDomain){c=a.createElement("a");try{c.href=d.url,c.href=c.href,d.crossDomain=Ve.protocol+"//"+Ve.host!=c.protocol+"//"+c.host}catch(t){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=S.param(d.data,d.traditional)),Ue(Fe,d,e,C),l)return C;for(p in(h=S.event&&d.global)&&0==S.active++&&S.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Me.test(d.type),i=d.url.replace(ke,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Ne,"+")):(f=d.url.slice(i.length),d.data&&(d.processData||"string"==typeof d.data)&&(i+=(Se.test(i)?"&":"?")+d.data,delete d.data),!1===d.cache&&(i=i.replace(Pe,"$1"),f=(Se.test(i)?"&":"?")+"_="+Ce+++f),d.url=i+f),d.ifModified&&(S.lastModified[i]&&C.setRequestHeader("If-Modified-Since",S.lastModified[i]),S.etag[i]&&C.setRequestHeader("If-None-Match",S.etag[i])),(d.data&&d.hasContent&&!1!==d.contentType||e.contentType)&&C.setRequestHeader("Content-Type",d.contentType),C.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+je+"; q=0.01":""):d.accepts["*"]),d.headers)C.setRequestHeader(p,d.headers[p]);if(d.beforeSend&&(!1===d.beforeSend.call(v,C,d)||l))return C.abort();if(E="abort",g.add(d.complete),C.done(d.success),C.fail(d.error),r=Ue(Le,d,e,C)){if(C.readyState=1,h&&m.trigger("ajaxSend",[C,d]),l)return C;d.async&&d.timeout>0&&(u=n.setTimeout(function(){C.abort("timeout")},d.timeout));try{l=!1,r.send(w,x)}catch(t){if(l)throw t;x(-1,t)}}else x(-1,"No Transport");function x(t,e,s,a){var c,p,f,w,_,E=e;l||(l=!0,u&&n.clearTimeout(u),r=void 0,o=a||"",C.readyState=t>0?4:0,c=t>=200&&t<300||304===t,s&&(w=function(t,e,n){for(var r,i,o,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||t.converters[i+" "+u[0]]){o=i;break}s||(s=i)}o=o||s}if(o)return o!==u[0]&&u.unshift(o),n[o]}(d,C,s)),w=function(t,e,n,r){var i,o,s,a,u,c={},l=t.dataTypes.slice();if(l[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=l.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(s=c[u+" "+o]||c["* "+o]))for(i in c)if((a=i.split(" "))[1]===o&&(s=c[u+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[i]:!0!==c[i]&&(o=a[0],l.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}(d,w,C,c),c?(d.ifModified&&((_=C.getResponseHeader("Last-Modified"))&&(S.lastModified[i]=_),(_=C.getResponseHeader("etag"))&&(S.etag[i]=_)),204===t||"HEAD"===d.type?E="nocontent":304===t?E="notmodified":(E=w.state,p=w.data,c=!(f=w.error))):(f=E,!t&&E||(E="error",t<0&&(t=0))),C.status=t,C.statusText=(e||E)+"",c?y.resolveWith(v,[p,E,C]):y.rejectWith(v,[C,E,f]),C.statusCode(b),b=void 0,h&&m.trigger(c?"ajaxSuccess":"ajaxError",[C,d,c?p:f]),g.fireWith(v,[C,E]),h&&(m.trigger("ajaxComplete",[C,d]),--S.active||S.event.trigger("ajaxStop")))}return C},getJSON:function(t,e,n){return S.get(t,e,n,"json")},getScript:function(t,e){return S.get(t,void 0,e,"script")}}),S.each(["get","post"],function(t,e){S[e]=function(t,n,r,i){return b(n)&&(i=i||r,r=n,n=void 0),S.ajax(S.extend({url:t,type:e,dataType:i,data:n,success:r},S.isPlainObject(t)&&t))}}),S._evalUrl=function(t){return S.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},S.fn.extend({wrapAll:function(t){var e;return this[0]&&(b(t)&&(t=t.call(this[0])),e=S(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return b(t)?this.each(function(e){S(this).wrapInner(t.call(this,e))}):this.each(function(){var e=S(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=b(t);return this.each(function(n){S(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(t){return!S.expr.pseudos.visible(t)},S.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var He={0:200,1223:204},We=S.ajaxSettings.xhr();g.cors=!!We&&"withCredentials"in We,g.ajax=We=!!We,S.ajaxTransport(function(t){var e,r;if(g.cors||We&&!t.crossDomain)return{send:function(i,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];for(s in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)a.setRequestHeader(s,i[s]);e=function(t){return function(){e&&(e=r=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(He[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),r=a.onerror=a.ontimeout=e("error"),void 0!==a.onabort?a.onabort=r:a.onreadystatechange=function(){4===a.readyState&&n.setTimeout(function(){e&&r()})},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),S.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return S.globalEval(t),t}}}),S.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),S.ajaxTransport("script",function(t){var e,n;if(t.crossDomain)return{send:function(r,i){e=S("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),a.head.appendChild(e[0])},abort:function(){n&&n()}}});var ze,Ke=[],Ge=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ke.pop()||S.expando+"_"+Ce++;return this[t]=!0,t}}),S.ajaxPrefilter("json jsonp",function(t,e,r){var i,o,s,a=!1!==t.jsonp&&(Ge.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ge.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=b(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Ge,"$1"+i):!1!==t.jsonp&&(t.url+=(Se.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return s||S.error(i+" was not called"),s[0]},t.dataTypes[0]="json",o=n[i],n[i]=function(){s=arguments},r.always(function(){void 0===o?S(n).removeProp(i):n[i]=o,t[i]&&(t.jsonpCallback=e.jsonpCallback,Ke.push(i)),s&&b(o)&&o(s[0]),s=o=void 0}),"script"}),g.createHTMLDocument=((ze=a.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===ze.childNodes.length),S.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(g.createHTMLDocument?((r=(e=a.implementation.createHTMLDocument("")).createElement("base")).href=a.location.href,e.head.appendChild(r)):e=a),i=P.exec(t),o=!n&&[],i?[e.createElement(i[1])]:(i=Et([t],e,o),o&&o.length&&S(o).remove(),S.merge([],i.childNodes)));var r,i,o},S.fn.load=function(t,e,n){var r,i,o,s=this,a=t.indexOf(" ");return a>-1&&(r=me(t.slice(a)),t=t.slice(0,a)),b(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),s.length>0&&S.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(r?S("<div>").append(S.parseHTML(t)).find(r):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){S.fn[e]=function(t){return this.on(e,t)}}),S.expr.pseudos.animated=function(t){return S.grep(S.timers,function(e){return t===e.elem}).length},S.offset={setOffset:function(t,e,n){var r,i,o,s,a,u,c=S.css(t,"position"),l=S(t),h={};"static"===c&&(t.style.position="relative"),a=l.offset(),o=S.css(t,"top"),u=S.css(t,"left"),("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1?(s=(r=l.position()).top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(u)||0),b(e)&&(e=e.call(t,n,S.extend({},a))),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+i),"using"in e?e.using.call(t,h):l.css(h)}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){S.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,r=this[0],i={top:0,left:0};if("fixed"===S.css(r,"position"))e=r.getBoundingClientRect();else{for(e=this.offset(),n=r.ownerDocument,t=r.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===S.css(t,"position");)t=t.parentNode;t&&t!==r&&1===t.nodeType&&((i=S(t).offset()).top+=S.css(t,"borderTopWidth",!0),i.left+=S.css(t,"borderLeftWidth",!0))}return{top:e.top-i.top-S.css(r,"marginTop",!0),left:e.left-i.left-S.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===S.css(t,"position");)t=t.offsetParent;return t||Ct})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;S.fn[t]=function(r){return K(this,function(t,r,i){var o;if(w(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===i)return o?o[e]:t[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):t[r]=i},t,r,arguments.length)}}),S.each(["top","left"],function(t,e){S.cssHooks[e]=zt(g.pixelPosition,function(t,n){if(n)return n=Wt(t,e),Ut.test(n)?S(t).position()[e]+"px":n})}),S.each({Height:"height",Width:"width"},function(t,e){S.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){S.fn[r]=function(i,o){var s=arguments.length&&(n||"boolean"!=typeof i),a=n||(!0===i||!0===o?"margin":"border");return K(this,function(e,n,i){var o;return w(e)?0===r.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===i?S.css(e,n,a):S.style(e,n,i,a)},e,s?i:void 0,s)}})}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){S.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),S.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),S.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),S.proxy=function(t,e){var n,r,i;if("string"==typeof e&&(n=t[e],e=t,t=n),b(t))return r=c.call(arguments,2),(i=function(){return t.apply(e||this,r.concat(c.call(arguments)))}).guid=t.guid=t.guid||S.guid++,i},S.holdReady=function(t){t?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=k,S.isFunction=b,S.isWindow=w,S.camelCase=$,S.type=C,S.now=Date.now,S.isNumeric=function(t){var e=S.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},r=[],void 0===(i=(function(){return S}).apply(e,r))||(t.exports=i);var Qe=n.jQuery,Xe=n.$;return S.noConflict=function(t){return n.$===S&&(n.$=Xe),t&&n.jQuery===S&&(n.jQuery=Qe),S},o||(n.jQuery=n.$=S),S})},LvDl:function(t,e,n){(function(t){var r;(function(){var i,o=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",u="__lodash_hash_undefined__",c=500,l="__lodash_placeholder__",h=1,p=2,f=4,d=1,v=2,m=1,y=2,g=4,b=8,w=16,_=32,E=64,C=128,S=256,x=512,T=30,A="...",D=800,I=16,N=1,k=2,P=1/0,O=9007199254740991,M=1.7976931348623157e308,R=NaN,F=4294967295,L=F-1,j=F>>>1,V=[["ary",C],["bind",m],["bindKey",y],["curry",b],["curryRight",w],["flip",x],["partial",_],["partialRight",E],["rearg",S]],B="[object Arguments]",U="[object Array]",q="[object AsyncFunction]",H="[object Boolean]",W="[object Date]",z="[object DOMException]",K="[object Error]",G="[object Function]",Q="[object GeneratorFunction]",X="[object Map]",$="[object Number]",Y="[object Null]",J="[object Object]",Z="[object Proxy]",tt="[object RegExp]",et="[object Set]",nt="[object String]",rt="[object Symbol]",it="[object Undefined]",ot="[object WeakMap]",st="[object WeakSet]",at="[object ArrayBuffer]",ut="[object DataView]",ct="[object Float32Array]",lt="[object Float64Array]",ht="[object Int8Array]",pt="[object Int16Array]",ft="[object Int32Array]",dt="[object Uint8Array]",vt="[object Uint8ClampedArray]",mt="[object Uint16Array]",yt="[object Uint32Array]",gt=/\b__p \+= '';/g,bt=/\b(__p \+=) '' \+/g,wt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,_t=/&(?:amp|lt|gt|quot|#39);/g,Et=/[&<>"']/g,Ct=RegExp(_t.source),St=RegExp(Et.source),xt=/<%-([\s\S]+?)%>/g,Tt=/<%([\s\S]+?)%>/g,At=/<%=([\s\S]+?)%>/g,Dt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,It=/^\w*$/,Nt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kt=/[\\^$.*+?()[\]{}|]/g,Pt=RegExp(kt.source),Ot=/^\s+|\s+$/g,Mt=/^\s+/,Rt=/\s+$/,Ft=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Lt=/\{\n\/\* \[wrapped with (.+)\] \*/,jt=/,? & /,Vt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Bt=/\\(\\)?/g,Ut=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,qt=/\w*$/,Ht=/^[-+]0x[0-9a-f]+$/i,Wt=/^0b[01]+$/i,zt=/^\[object .+?Constructor\]$/,Kt=/^0o[0-7]+$/i,Gt=/^(?:0|[1-9]\d*)$/,Qt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Xt=/($^)/,$t=/['\n\r\u2028\u2029\\]/g,Yt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Jt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Zt="[\\ud800-\\udfff]",te="["+Jt+"]",ee="["+Yt+"]",ne="\\d+",re="[\\u2700-\\u27bf]",ie="[a-z\\xdf-\\xf6\\xf8-\\xff]",oe="[^\\ud800-\\udfff"+Jt+ne+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",se="\\ud83c[\\udffb-\\udfff]",ae="[^\\ud800-\\udfff]",ue="(?:\\ud83c[\\udde6-\\uddff]){2}",ce="[\\ud800-\\udbff][\\udc00-\\udfff]",le="[A-Z\\xc0-\\xd6\\xd8-\\xde]",he="(?:"+ie+"|"+oe+")",pe="(?:"+le+"|"+oe+")",fe="(?:"+ee+"|"+se+")"+"?",de="[\\ufe0e\\ufe0f]?"+fe+("(?:\\u200d(?:"+[ae,ue,ce].join("|")+")[\\ufe0e\\ufe0f]?"+fe+")*"),ve="(?:"+[re,ue,ce].join("|")+")"+de,me="(?:"+[ae+ee+"?",ee,ue,ce,Zt].join("|")+")",ye=RegExp("['\u2019]","g"),ge=RegExp(ee,"g"),be=RegExp(se+"(?="+se+")|"+me+de,"g"),we=RegExp([le+"?"+ie+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[te,le,"$"].join("|")+")",pe+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[te,le+he,"$"].join("|")+")",le+"?"+he+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",le+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ne,ve].join("|"),"g"),_e=RegExp("[\\u200d\\ud800-\\udfff"+Yt+"\\ufe0e\\ufe0f]"),Ee=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ce=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Se=-1,xe={};xe[ct]=xe[lt]=xe[ht]=xe[pt]=xe[ft]=xe[dt]=xe[vt]=xe[mt]=xe[yt]=!0,xe[B]=xe[U]=xe[at]=xe[H]=xe[ut]=xe[W]=xe[K]=xe[G]=xe[X]=xe[$]=xe[J]=xe[tt]=xe[et]=xe[nt]=xe[ot]=!1;var Te={};Te[B]=Te[U]=Te[at]=Te[ut]=Te[H]=Te[W]=Te[ct]=Te[lt]=Te[ht]=Te[pt]=Te[ft]=Te[X]=Te[$]=Te[J]=Te[tt]=Te[et]=Te[nt]=Te[rt]=Te[dt]=Te[vt]=Te[mt]=Te[yt]=!0,Te[K]=Te[G]=Te[ot]=!1;var Ae={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},De=parseFloat,Ie=parseInt,Ne="object"==typeof global&&global&&global.Object===Object&&global,ke="object"==typeof self&&self&&self.Object===Object&&self,Pe=Ne||ke||Function("return this")(),Oe="object"==typeof e&&e&&!e.nodeType&&e,Me=Oe&&"object"==typeof t&&t&&!t.nodeType&&t,Re=Me&&Me.exports===Oe,Fe=Re&&Ne.process,Le=function(){try{var t=Me&&Me.require&&Me.require("util").types;return t||Fe&&Fe.binding&&Fe.binding("util")}catch(t){}}(),je=Le&&Le.isArrayBuffer,Ve=Le&&Le.isDate,Be=Le&&Le.isMap,Ue=Le&&Le.isRegExp,qe=Le&&Le.isSet,He=Le&&Le.isTypedArray;function We(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ze(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var s=t[i];e(r,s,n(s),t)}return r}function Ke(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Ge(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Qe(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Xe(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function $e(t,e){return!!(null==t?0:t.length)&&an(t,e,0)>-1}function Ye(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function Je(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function Ze(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function tn(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function en(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function nn(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var rn=hn("length");function on(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function sn(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function an(t,e,n){return e==e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):sn(t,cn,n)}function un(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function cn(t){return t!=t}function ln(t,e){var n=null==t?0:t.length;return n?dn(t,e)/n:R}function hn(t){return function(e){return null==e?i:e[t]}}function pn(t){return function(e){return null==t?i:t[e]}}function fn(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function dn(t,e){for(var n,r=-1,o=t.length;++r<o;){var s=e(t[r]);s!==i&&(n=n===i?s:n+s)}return n}function vn(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function mn(t){return function(e){return t(e)}}function yn(t,e){return Je(e,function(e){return t[e]})}function gn(t,e){return t.has(e)}function bn(t,e){for(var n=-1,r=t.length;++n<r&&an(e,t[n],0)>-1;);return n}function wn(t,e){for(var n=t.length;n--&&an(e,t[n],0)>-1;);return n}var _n=pn({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),En=pn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Cn(t){return"\\"+Ae[t]}function Sn(t){return _e.test(t)}function xn(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function Tn(t,e){return function(n){return t(e(n))}}function An(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n];s!==e&&s!==l||(t[n]=l,o[i++]=n)}return o}function Dn(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function In(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function Nn(t){return Sn(t)?function(t){var e=be.lastIndex=0;for(;be.test(t);)++e;return e}(t):rn(t)}function kn(t){return Sn(t)?function(t){return t.match(be)||[]}(t):function(t){return t.split("")}(t)}var Pn=pn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var On=function t(e){var n,r=(e=null==e?Pe:On.defaults(Pe.Object(),e,On.pick(Pe,Ce))).Array,Yt=e.Date,Jt=e.Error,Zt=e.Function,te=e.Math,ee=e.Object,ne=e.RegExp,re=e.String,ie=e.TypeError,oe=r.prototype,se=Zt.prototype,ae=ee.prototype,ue=e["__core-js_shared__"],ce=se.toString,le=ae.hasOwnProperty,he=0,pe=(n=/[^.]+$/.exec(ue&&ue.keys&&ue.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",fe=ae.toString,de=ce.call(ee),ve=Pe._,me=ne("^"+ce.call(le).replace(kt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),be=Re?e.Buffer:i,_e=e.Symbol,Ae=e.Uint8Array,Ne=be?be.allocUnsafe:i,ke=Tn(ee.getPrototypeOf,ee),Oe=ee.create,Me=ae.propertyIsEnumerable,Fe=oe.splice,Le=_e?_e.isConcatSpreadable:i,rn=_e?_e.iterator:i,pn=_e?_e.toStringTag:i,Mn=function(){try{var t=Vo(ee,"defineProperty");return t({},"",{}),t}catch(t){}}(),Rn=e.clearTimeout!==Pe.clearTimeout&&e.clearTimeout,Fn=Yt&&Yt.now!==Pe.Date.now&&Yt.now,Ln=e.setTimeout!==Pe.setTimeout&&e.setTimeout,jn=te.ceil,Vn=te.floor,Bn=ee.getOwnPropertySymbols,Un=be?be.isBuffer:i,qn=e.isFinite,Hn=oe.join,Wn=Tn(ee.keys,ee),zn=te.max,Kn=te.min,Gn=Yt.now,Qn=e.parseInt,Xn=te.random,$n=oe.reverse,Yn=Vo(e,"DataView"),Jn=Vo(e,"Map"),Zn=Vo(e,"Promise"),tr=Vo(e,"Set"),er=Vo(e,"WeakMap"),nr=Vo(ee,"create"),rr=er&&new er,ir={},or=hs(Yn),sr=hs(Jn),ar=hs(Zn),ur=hs(tr),cr=hs(er),lr=_e?_e.prototype:i,hr=lr?lr.valueOf:i,pr=lr?lr.toString:i;function fr(t){if(Da(t)&&!ya(t)&&!(t instanceof yr)){if(t instanceof mr)return t;if(le.call(t,"__wrapped__"))return ps(t)}return new mr(t)}var dr=function(){function t(){}return function(e){if(!Aa(e))return{};if(Oe)return Oe(e);t.prototype=e;var n=new t;return t.prototype=i,n}}();function vr(){}function mr(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}function yr(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=F,this.__views__=[]}function gr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function br(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function wr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function _r(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new wr;++e<n;)this.add(t[e])}function Er(t){var e=this.__data__=new br(t);this.size=e.size}function Cr(t,e){var n=ya(t),r=!n&&ma(t),i=!n&&!r&&_a(t),o=!n&&!r&&!i&&Fa(t),s=n||r||i||o,a=s?vn(t.length,re):[],u=a.length;for(var c in t)!e&&!le.call(t,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ko(c,u))||a.push(c);return a}function Sr(t){var e=t.length;return e?t[_i(0,e-1)]:i}function xr(t,e){return us(no(t),Mr(e,0,t.length))}function Tr(t){return us(no(t))}function Ar(t,e,n){(n===i||fa(t[e],n))&&(n!==i||e in t)||Pr(t,e,n)}function Dr(t,e,n){var r=t[e];le.call(t,e)&&fa(r,n)&&(n!==i||e in t)||Pr(t,e,n)}function Ir(t,e){for(var n=t.length;n--;)if(fa(t[n][0],e))return n;return-1}function Nr(t,e,n,r){return Vr(t,function(t,i,o){e(r,t,n(t),o)}),r}function kr(t,e){return t&&ro(e,iu(e),t)}function Pr(t,e,n){"__proto__"==e&&Mn?Mn(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Or(t,e){for(var n=-1,o=e.length,s=r(o),a=null==t;++n<o;)s[n]=a?i:Za(t,e[n]);return s}function Mr(t,e,n){return t==t&&(n!==i&&(t=t<=n?t:n),e!==i&&(t=t>=e?t:e)),t}function Rr(t,e,n,r,o,s){var a,u=e&h,c=e&p,l=e&f;if(n&&(a=o?n(t,r,o,s):n(t)),a!==i)return a;if(!Aa(t))return t;var d=ya(t);if(d){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&le.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!u)return no(t,a)}else{var v=qo(t),m=v==G||v==Q;if(_a(t))return $i(t,u);if(v==J||v==B||m&&!o){if(a=c||m?{}:Wo(t),!u)return c?function(t,e){return ro(t,Uo(t),e)}(t,function(t,e){return t&&ro(e,ou(e),t)}(a,t)):function(t,e){return ro(t,Bo(t),e)}(t,kr(a,t))}else{if(!Te[v])return o?t:{};a=function(t,e,n){var r,i,o,s=t.constructor;switch(e){case at:return Yi(t);case H:case W:return new s(+t);case ut:return function(t,e){var n=e?Yi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case ct:case lt:case ht:case pt:case ft:case dt:case vt:case mt:case yt:return Ji(t,n);case X:return new s;case $:case nt:return new s(t);case tt:return(o=new(i=t).constructor(i.source,qt.exec(i))).lastIndex=i.lastIndex,o;case et:return new s;case rt:return r=t,hr?ee(hr.call(r)):{}}}(t,v,u)}}s||(s=new Er);var y=s.get(t);if(y)return y;if(s.set(t,a),Oa(t))return t.forEach(function(r){a.add(Rr(r,e,n,r,t,s))}),a;if(Ia(t))return t.forEach(function(r,i){a.set(i,Rr(r,e,n,i,t,s))}),a;var g=d?i:(l?c?Po:ko:c?ou:iu)(t);return Ke(g||t,function(r,i){g&&(r=t[i=r]),Dr(a,i,Rr(r,e,n,i,t,s))}),a}function Fr(t,e,n){var r=n.length;if(null==t)return!r;for(t=ee(t);r--;){var o=n[r],s=e[o],a=t[o];if(a===i&&!(o in t)||!s(a))return!1}return!0}function Lr(t,e,n){if("function"!=typeof t)throw new ie(a);return is(function(){t.apply(i,n)},e)}function jr(t,e,n,r){var i=-1,s=$e,a=!0,u=t.length,c=[],l=e.length;if(!u)return c;n&&(e=Je(e,mn(n))),r?(s=Ye,a=!1):e.length>=o&&(s=gn,a=!1,e=new _r(e));t:for(;++i<u;){var h=t[i],p=null==n?h:n(h);if(h=r||0!==h?h:0,a&&p==p){for(var f=l;f--;)if(e[f]===p)continue t;c.push(h)}else s(e,p,r)||c.push(h)}return c}fr.templateSettings={escape:xt,evaluate:Tt,interpolate:At,variable:"",imports:{_:fr}},fr.prototype=vr.prototype,fr.prototype.constructor=fr,mr.prototype=dr(vr.prototype),mr.prototype.constructor=mr,yr.prototype=dr(vr.prototype),yr.prototype.constructor=yr,gr.prototype.clear=function(){this.__data__=nr?nr(null):{},this.size=0},gr.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},gr.prototype.get=function(t){var e=this.__data__;if(nr){var n=e[t];return n===u?i:n}return le.call(e,t)?e[t]:i},gr.prototype.has=function(t){var e=this.__data__;return nr?e[t]!==i:le.call(e,t)},gr.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=nr&&e===i?u:e,this},br.prototype.clear=function(){this.__data__=[],this.size=0},br.prototype.delete=function(t){var e=this.__data__,n=Ir(e,t);return!(n<0||(n==e.length-1?e.pop():Fe.call(e,n,1),--this.size,0))},br.prototype.get=function(t){var e=this.__data__,n=Ir(e,t);return n<0?i:e[n][1]},br.prototype.has=function(t){return Ir(this.__data__,t)>-1},br.prototype.set=function(t,e){var n=this.__data__,r=Ir(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},wr.prototype.clear=function(){this.size=0,this.__data__={hash:new gr,map:new(Jn||br),string:new gr}},wr.prototype.delete=function(t){var e=Lo(this,t).delete(t);return this.size-=e?1:0,e},wr.prototype.get=function(t){return Lo(this,t).get(t)},wr.prototype.has=function(t){return Lo(this,t).has(t)},wr.prototype.set=function(t,e){var n=Lo(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},_r.prototype.add=_r.prototype.push=function(t){return this.__data__.set(t,u),this},_r.prototype.has=function(t){return this.__data__.has(t)},Er.prototype.clear=function(){this.__data__=new br,this.size=0},Er.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Er.prototype.get=function(t){return this.__data__.get(t)},Er.prototype.has=function(t){return this.__data__.has(t)},Er.prototype.set=function(t,e){var n=this.__data__;if(n instanceof br){var r=n.__data__;if(!Jn||r.length<o-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new wr(r)}return n.set(t,e),this.size=n.size,this};var Vr=so(Gr),Br=so(Qr,!0);function Ur(t,e){var n=!0;return Vr(t,function(t,r,i){return n=!!e(t,r,i)}),n}function qr(t,e,n){for(var r=-1,o=t.length;++r<o;){var s=t[r],a=e(s);if(null!=a&&(u===i?a==a&&!Ra(a):n(a,u)))var u=a,c=s}return c}function Hr(t,e){var n=[];return Vr(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function Wr(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=zo),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?Wr(a,e-1,n,r,i):Ze(i,a):r||(i[i.length]=a)}return i}var zr=ao(),Kr=ao(!0);function Gr(t,e){return t&&zr(t,e,iu)}function Qr(t,e){return t&&Kr(t,e,iu)}function Xr(t,e){return Xe(e,function(e){return Sa(t[e])})}function $r(t,e){for(var n=0,r=(e=Ki(e,t)).length;null!=t&&n<r;)t=t[ls(e[n++])];return n&&n==r?t:i}function Yr(t,e,n){var r=e(t);return ya(t)?r:Ze(r,n(t))}function Jr(t){return null==t?t===i?it:Y:pn&&pn in ee(t)?function(t){var e=le.call(t,pn),n=t[pn];try{t[pn]=i;var r=!0}catch(t){}var o=fe.call(t);return r&&(e?t[pn]=n:delete t[pn]),o}(t):function(t){return fe.call(t)}(t)}function Zr(t,e){return t>e}function ti(t,e){return null!=t&&le.call(t,e)}function ei(t,e){return null!=t&&e in ee(t)}function ni(t,e,n){for(var o=n?Ye:$e,s=t[0].length,a=t.length,u=a,c=r(a),l=1/0,h=[];u--;){var p=t[u];u&&e&&(p=Je(p,mn(e))),l=Kn(p.length,l),c[u]=!n&&(e||s>=120&&p.length>=120)?new _r(u&&p):i}p=t[0];var f=-1,d=c[0];t:for(;++f<s&&h.length<l;){var v=p[f],m=e?e(v):v;if(v=n||0!==v?v:0,!(d?gn(d,m):o(h,m,n))){for(u=a;--u;){var y=c[u];if(!(y?gn(y,m):o(t[u],m,n)))continue t}d&&d.push(m),h.push(v)}}return h}function ri(t,e,n){var r=null==(t=es(t,e=Ki(e,t)))?t:t[ls(Cs(e))];return null==r?i:We(r,t,n)}function ii(t){return Da(t)&&Jr(t)==B}function oi(t,e,n,r,o){return t===e||(null==t||null==e||!Da(t)&&!Da(e)?t!=t&&e!=e:function(t,e,n,r,o,s){var a=ya(t),u=ya(e),c=a?U:qo(t),l=u?U:qo(e),h=(c=c==B?J:c)==J,p=(l=l==B?J:l)==J,f=c==l;if(f&&_a(t)){if(!_a(e))return!1;a=!0,h=!1}if(f&&!h)return s||(s=new Er),a||Fa(t)?Io(t,e,n,r,o,s):function(t,e,n,r,i,o,s){switch(n){case ut:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case at:return!(t.byteLength!=e.byteLength||!o(new Ae(t),new Ae(e)));case H:case W:case $:return fa(+t,+e);case K:return t.name==e.name&&t.message==e.message;case tt:case nt:return t==e+"";case X:var a=xn;case et:var u=r&d;if(a||(a=Dn),t.size!=e.size&&!u)return!1;var c=s.get(t);if(c)return c==e;r|=v,s.set(t,e);var l=Io(a(t),a(e),r,i,o,s);return s.delete(t),l;case rt:if(hr)return hr.call(t)==hr.call(e)}return!1}(t,e,c,n,r,o,s);if(!(n&d)){var m=h&&le.call(t,"__wrapped__"),y=p&&le.call(e,"__wrapped__");if(m||y){var g=m?t.value():t,b=y?e.value():e;return s||(s=new Er),o(g,b,n,r,s)}}return!!f&&(s||(s=new Er),function(t,e,n,r,o,s){var a=n&d,u=ko(t),c=u.length,l=ko(e).length;if(c!=l&&!a)return!1;for(var h=c;h--;){var p=u[h];if(!(a?p in e:le.call(e,p)))return!1}var f=s.get(t);if(f&&s.get(e))return f==e;var v=!0;s.set(t,e),s.set(e,t);for(var m=a;++h<c;){p=u[h];var y=t[p],g=e[p];if(r)var b=a?r(g,y,p,e,t,s):r(y,g,p,t,e,s);if(!(b===i?y===g||o(y,g,n,r,s):b)){v=!1;break}m||(m="constructor"==p)}if(v&&!m){var w=t.constructor,_=e.constructor;w!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof w&&w instanceof w&&"function"==typeof _&&_ instanceof _)&&(v=!1)}return s.delete(t),s.delete(e),v}(t,e,n,r,o,s))}(t,e,n,r,oi,o))}function si(t,e,n,r){var o=n.length,s=o,a=!r;if(null==t)return!s;for(t=ee(t);o--;){var u=n[o];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<s;){var c=(u=n[o])[0],l=t[c],h=u[1];if(a&&u[2]){if(l===i&&!(c in t))return!1}else{var p=new Er;if(r)var f=r(l,h,c,t,e,p);if(!(f===i?oi(h,l,d|v,r,p):f))return!1}}return!0}function ai(t){return!(!Aa(t)||pe&&pe in t)&&(Sa(t)?me:zt).test(hs(t))}function ui(t){return"function"==typeof t?t:null==t?Nu:"object"==typeof t?ya(t)?di(t[0],t[1]):fi(t):Vu(t)}function ci(t){if(!Yo(t))return Wn(t);var e=[];for(var n in ee(t))le.call(t,n)&&"constructor"!=n&&e.push(n);return e}function li(t){if(!Aa(t))return function(t){var e=[];if(null!=t)for(var n in ee(t))e.push(n);return e}(t);var e=Yo(t),n=[];for(var r in t)("constructor"!=r||!e&&le.call(t,r))&&n.push(r);return n}function hi(t,e){return t<e}function pi(t,e){var n=-1,i=ba(t)?r(t.length):[];return Vr(t,function(t,r,o){i[++n]=e(t,r,o)}),i}function fi(t){var e=jo(t);return 1==e.length&&e[0][2]?Zo(e[0][0],e[0][1]):function(n){return n===t||si(n,t,e)}}function di(t,e){return Qo(t)&&Jo(e)?Zo(ls(t),e):function(n){var r=Za(n,t);return r===i&&r===e?tu(n,t):oi(e,r,d|v)}}function vi(t,e,n,r,o){t!==e&&zr(e,function(s,a){if(Aa(s))o||(o=new Er),function(t,e,n,r,o,s,a){var u=ns(t,n),c=ns(e,n),l=a.get(c);if(l)Ar(t,n,l);else{var h=s?s(u,c,n+"",t,e,a):i,p=h===i;if(p){var f=ya(c),d=!f&&_a(c),v=!f&&!d&&Fa(c);h=c,f||d||v?ya(u)?h=u:wa(u)?h=no(u):d?(p=!1,h=$i(c,!0)):v?(p=!1,h=Ji(c,!0)):h=[]:ka(c)||ma(c)?(h=u,ma(u)?h=Wa(u):Aa(u)&&!Sa(u)||(h=Wo(c))):p=!1}p&&(a.set(c,h),o(h,c,r,s,a),a.delete(c)),Ar(t,n,h)}}(t,e,a,n,vi,r,o);else{var u=r?r(ns(t,a),s,a+"",t,e,o):i;u===i&&(u=s),Ar(t,a,u)}},ou)}function mi(t,e){var n=t.length;if(n)return Ko(e+=e<0?n:0,n)?t[e]:i}function yi(t,e,n){var r=-1;return e=Je(e.length?e:[Nu],mn(Fo())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(pi(t,function(t,n,i){return{criteria:Je(e,function(e){return e(t)}),index:++r,value:t}}),function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var u=Zi(i[r],o[r]);if(u){if(r>=a)return u;var c=n[r];return u*("desc"==c?-1:1)}}return t.index-e.index}(t,e,n)})}function gi(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],a=$r(t,s);n(a,s)&&Ti(o,Ki(s,t),a)}return o}function bi(t,e,n,r){var i=r?un:an,o=-1,s=e.length,a=t;for(t===e&&(e=no(e)),n&&(a=Je(t,mn(n)));++o<s;)for(var u=0,c=e[o],l=n?n(c):c;(u=i(a,l,u,r))>-1;)a!==t&&Fe.call(a,u,1),Fe.call(t,u,1);return t}function wi(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;Ko(i)?Fe.call(t,i,1):ji(t,i)}}return t}function _i(t,e){return t+Vn(Xn()*(e-t+1))}function Ei(t,e){var n="";if(!t||e<1||e>O)return n;do{e%2&&(n+=t),(e=Vn(e/2))&&(t+=t)}while(e);return n}function Ci(t,e){return os(ts(t,e,Nu),t+"")}function Si(t){return Sr(fu(t))}function xi(t,e){var n=fu(t);return us(n,Mr(e,0,n.length))}function Ti(t,e,n,r){if(!Aa(t))return t;for(var o=-1,s=(e=Ki(e,t)).length,a=s-1,u=t;null!=u&&++o<s;){var c=ls(e[o]),l=n;if(o!=a){var h=u[c];(l=r?r(h,c,u):i)===i&&(l=Aa(h)?h:Ko(e[o+1])?[]:{})}Dr(u,c,l),u=u[c]}return t}var Ai=rr?function(t,e){return rr.set(t,e),t}:Nu,Di=Mn?function(t,e){return Mn(t,"toString",{configurable:!0,enumerable:!1,value:Au(e),writable:!0})}:Nu;function Ii(t){return us(fu(t))}function Ni(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var s=r(o);++i<o;)s[i]=t[i+e];return s}function ki(t,e){var n;return Vr(t,function(t,r,i){return!(n=e(t,r,i))}),!!n}function Pi(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=j){for(;r<i;){var o=r+i>>>1,s=t[o];null!==s&&!Ra(s)&&(n?s<=e:s<e)?r=o+1:i=o}return i}return Oi(t,e,Nu,n)}function Oi(t,e,n,r){e=n(e);for(var o=0,s=null==t?0:t.length,a=e!=e,u=null===e,c=Ra(e),l=e===i;o<s;){var h=Vn((o+s)/2),p=n(t[h]),f=p!==i,d=null===p,v=p==p,m=Ra(p);if(a)var y=r||v;else y=l?v&&(r||f):u?v&&f&&(r||!d):c?v&&f&&!d&&(r||!m):!d&&!m&&(r?p<=e:p<e);y?o=h+1:s=h}return Kn(s,L)}function Mi(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n],a=e?e(s):s;if(!n||!fa(a,u)){var u=a;o[i++]=0===s?0:s}}return o}function Ri(t){return"number"==typeof t?t:Ra(t)?R:+t}function Fi(t){if("string"==typeof t)return t;if(ya(t))return Je(t,Fi)+"";if(Ra(t))return pr?pr.call(t):"";var e=t+"";return"0"==e&&1/t==-P?"-0":e}function Li(t,e,n){var r=-1,i=$e,s=t.length,a=!0,u=[],c=u;if(n)a=!1,i=Ye;else if(s>=o){var l=e?null:Co(t);if(l)return Dn(l);a=!1,i=gn,c=new _r}else c=e?[]:u;t:for(;++r<s;){var h=t[r],p=e?e(h):h;if(h=n||0!==h?h:0,a&&p==p){for(var f=c.length;f--;)if(c[f]===p)continue t;e&&c.push(p),u.push(h)}else i(c,p,n)||(c!==u&&c.push(p),u.push(h))}return u}function ji(t,e){return null==(t=es(t,e=Ki(e,t)))||delete t[ls(Cs(e))]}function Vi(t,e,n,r){return Ti(t,e,n($r(t,e)),r)}function Bi(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Ni(t,r?0:o,r?o+1:i):Ni(t,r?o+1:0,r?i:o)}function Ui(t,e){var n=t;return n instanceof yr&&(n=n.value()),tn(e,function(t,e){return e.func.apply(e.thisArg,Ze([t],e.args))},n)}function qi(t,e,n){var i=t.length;if(i<2)return i?Li(t[0]):[];for(var o=-1,s=r(i);++o<i;)for(var a=t[o],u=-1;++u<i;)u!=o&&(s[o]=jr(s[o]||a,t[u],e,n));return Li(Wr(s,1),e,n)}function Hi(t,e,n){for(var r=-1,o=t.length,s=e.length,a={};++r<o;){var u=r<s?e[r]:i;n(a,t[r],u)}return a}function Wi(t){return wa(t)?t:[]}function zi(t){return"function"==typeof t?t:Nu}function Ki(t,e){return ya(t)?t:Qo(t,e)?[t]:cs(za(t))}var Gi=Ci;function Qi(t,e,n){var r=t.length;return n=n===i?r:n,!e&&n>=r?t:Ni(t,e,n)}var Xi=Rn||function(t){return Pe.clearTimeout(t)};function $i(t,e){if(e)return t.slice();var n=t.length,r=Ne?Ne(n):new t.constructor(n);return t.copy(r),r}function Yi(t){var e=new t.constructor(t.byteLength);return new Ae(e).set(new Ae(t)),e}function Ji(t,e){var n=e?Yi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Zi(t,e){if(t!==e){var n=t!==i,r=null===t,o=t==t,s=Ra(t),a=e!==i,u=null===e,c=e==e,l=Ra(e);if(!u&&!l&&!s&&t>e||s&&a&&c&&!u&&!l||r&&a&&c||!n&&c||!o)return 1;if(!r&&!s&&!l&&t<e||l&&n&&o&&!r&&!s||u&&n&&o||!a&&o||!c)return-1}return 0}function to(t,e,n,i){for(var o=-1,s=t.length,a=n.length,u=-1,c=e.length,l=zn(s-a,0),h=r(c+l),p=!i;++u<c;)h[u]=e[u];for(;++o<a;)(p||o<s)&&(h[n[o]]=t[o]);for(;l--;)h[u++]=t[o++];return h}function eo(t,e,n,i){for(var o=-1,s=t.length,a=-1,u=n.length,c=-1,l=e.length,h=zn(s-u,0),p=r(h+l),f=!i;++o<h;)p[o]=t[o];for(var d=o;++c<l;)p[d+c]=e[c];for(;++a<u;)(f||o<s)&&(p[d+n[a]]=t[o++]);return p}function no(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function ro(t,e,n,r){var o=!n;n||(n={});for(var s=-1,a=e.length;++s<a;){var u=e[s],c=r?r(n[u],t[u],u,n,t):i;c===i&&(c=t[u]),o?Pr(n,u,c):Dr(n,u,c)}return n}function io(t,e){return function(n,r){var i=ya(n)?ze:Nr,o=e?e():{};return i(n,t,Fo(r,2),o)}}function oo(t){return Ci(function(e,n){var r=-1,o=n.length,s=o>1?n[o-1]:i,a=o>2?n[2]:i;for(s=t.length>3&&"function"==typeof s?(o--,s):i,a&&Go(n[0],n[1],a)&&(s=o<3?i:s,o=1),e=ee(e);++r<o;){var u=n[r];u&&t(e,u,r,s)}return e})}function so(t,e){return function(n,r){if(null==n)return n;if(!ba(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=ee(n);(e?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function ao(t){return function(e,n,r){for(var i=-1,o=ee(e),s=r(e),a=s.length;a--;){var u=s[t?a:++i];if(!1===n(o[u],u,o))break}return e}}function uo(t){return function(e){var n=Sn(e=za(e))?kn(e):i,r=n?n[0]:e.charAt(0),o=n?Qi(n,1).join(""):e.slice(1);return r[t]()+o}}function co(t){return function(e){return tn(Su(mu(e).replace(ye,"")),t,"")}}function lo(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=dr(t.prototype),r=t.apply(n,e);return Aa(r)?r:n}}function ho(t){return function(e,n,r){var o=ee(e);if(!ba(e)){var s=Fo(n,3);e=iu(e),n=function(t){return s(o[t],t,o)}}var a=t(e,n,r);return a>-1?o[s?e[a]:a]:i}}function po(t){return No(function(e){var n=e.length,r=n,o=mr.prototype.thru;for(t&&e.reverse();r--;){var s=e[r];if("function"!=typeof s)throw new ie(a);if(o&&!u&&"wrapper"==Mo(s))var u=new mr([],!0)}for(r=u?r:n;++r<n;){var c=Mo(s=e[r]),l="wrapper"==c?Oo(s):i;u=l&&Xo(l[0])&&l[1]==(C|b|_|S)&&!l[4].length&&1==l[9]?u[Mo(l[0])].apply(u,l[3]):1==s.length&&Xo(s)?u[c]():u.thru(s)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&ya(r))return u.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}})}function fo(t,e,n,o,s,a,u,c,l,h){var p=e&C,f=e&m,d=e&y,v=e&(b|w),g=e&x,_=d?i:lo(t);return function m(){for(var y=arguments.length,b=r(y),w=y;w--;)b[w]=arguments[w];if(v)var E=Ro(m),C=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(b,E);if(o&&(b=to(b,o,s,v)),a&&(b=eo(b,a,u,v)),y-=C,v&&y<h){var S=An(b,E);return _o(t,e,fo,m.placeholder,n,b,S,c,l,h-y)}var x=f?n:this,T=d?x[t]:t;return y=b.length,c?b=function(t,e){for(var n=t.length,r=Kn(e.length,n),o=no(t);r--;){var s=e[r];t[r]=Ko(s,n)?o[s]:i}return t}(b,c):g&&y>1&&b.reverse(),p&&l<y&&(b.length=l),this&&this!==Pe&&this instanceof m&&(T=_||lo(T)),T.apply(x,b)}}function vo(t,e){return function(n,r){return function(t,e,n,r){return Gr(t,function(t,i,o){e(r,n(t),i,o)}),r}(n,t,e(r),{})}}function mo(t,e){return function(n,r){var o;if(n===i&&r===i)return e;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=Fi(n),r=Fi(r)):(n=Ri(n),r=Ri(r)),o=t(n,r)}return o}}function yo(t){return No(function(e){return e=Je(e,mn(Fo())),Ci(function(n){var r=this;return t(e,function(t){return We(t,r,n)})})})}function go(t,e){var n=(e=e===i?" ":Fi(e)).length;if(n<2)return n?Ei(e,t):e;var r=Ei(e,jn(t/Nn(e)));return Sn(e)?Qi(kn(r),0,t).join(""):r.slice(0,t)}function bo(t){return function(e,n,o){return o&&"number"!=typeof o&&Go(e,n,o)&&(n=o=i),e=Ba(e),n===i?(n=e,e=0):n=Ba(n),function(t,e,n,i){for(var o=-1,s=zn(jn((e-t)/(n||1)),0),a=r(s);s--;)a[i?s:++o]=t,t+=n;return a}(e,n,o=o===i?e<n?1:-1:Ba(o),t)}}function wo(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Ha(e),n=Ha(n)),t(e,n)}}function _o(t,e,n,r,o,s,a,u,c,l){var h=e&b;e|=h?_:E,(e&=~(h?E:_))&g||(e&=~(m|y));var p=[t,e,o,h?s:i,h?a:i,h?i:s,h?i:a,u,c,l],f=n.apply(i,p);return Xo(t)&&rs(f,p),f.placeholder=r,ss(f,t,e)}function Eo(t){var e=te[t];return function(t,n){if(t=Ha(t),n=null==n?0:Kn(Ua(n),292)){var r=(za(t)+"e").split("e");return+((r=(za(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Co=tr&&1/Dn(new tr([,-0]))[1]==P?function(t){return new tr(t)}:Ru;function So(t){return function(e){var n=qo(e);return n==X?xn(e):n==et?In(e):function(t,e){return Je(e,function(e){return[e,t[e]]})}(e,t(e))}}function xo(t,e,n,o,s,u,c,h){var p=e&y;if(!p&&"function"!=typeof t)throw new ie(a);var f=o?o.length:0;if(f||(e&=~(_|E),o=s=i),c=c===i?c:zn(Ua(c),0),h=h===i?h:Ua(h),f-=s?s.length:0,e&E){var d=o,v=s;o=s=i}var x=p?i:Oo(t),T=[t,e,n,o,s,d,v,u,c,h];if(x&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<(m|y|C),s=r==C&&n==b||r==C&&n==S&&t[7].length<=e[8]||r==(C|S)&&e[7].length<=e[8]&&n==b;if(!o&&!s)return t;r&m&&(t[2]=e[2],i|=n&m?0:g);var a=e[3];if(a){var u=t[3];t[3]=u?to(u,a,e[4]):a,t[4]=u?An(t[3],l):e[4]}(a=e[5])&&(u=t[5],t[5]=u?eo(u,a,e[6]):a,t[6]=u?An(t[5],l):e[6]),(a=e[7])&&(t[7]=a),r&C&&(t[8]=null==t[8]?e[8]:Kn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(T,x),t=T[0],e=T[1],n=T[2],o=T[3],s=T[4],!(h=T[9]=T[9]===i?p?0:t.length:zn(T[9]-f,0))&&e&(b|w)&&(e&=~(b|w)),e&&e!=m)A=e==b||e==w?function(t,e,n){var o=lo(t);return function s(){for(var a=arguments.length,u=r(a),c=a,l=Ro(s);c--;)u[c]=arguments[c];var h=a<3&&u[0]!==l&&u[a-1]!==l?[]:An(u,l);return(a-=h.length)<n?_o(t,e,fo,s.placeholder,i,u,h,i,i,n-a):We(this&&this!==Pe&&this instanceof s?o:t,this,u)}}(t,e,h):e!=_&&e!=(m|_)||s.length?fo.apply(i,T):function(t,e,n,i){var o=e&m,s=lo(t);return function e(){for(var a=-1,u=arguments.length,c=-1,l=i.length,h=r(l+u),p=this&&this!==Pe&&this instanceof e?s:t;++c<l;)h[c]=i[c];for(;u--;)h[c++]=arguments[++a];return We(p,o?n:this,h)}}(t,e,n,o);else var A=function(t,e,n){var r=e&m,i=lo(t);return function e(){return(this&&this!==Pe&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,n);return ss((x?Ai:rs)(A,T),t,e)}function To(t,e,n,r){return t===i||fa(t,ae[n])&&!le.call(r,n)?e:t}function Ao(t,e,n,r,o,s){return Aa(t)&&Aa(e)&&(s.set(e,t),vi(t,e,i,Ao,s),s.delete(e)),t}function Do(t){return ka(t)?i:t}function Io(t,e,n,r,o,s){var a=n&d,u=t.length,c=e.length;if(u!=c&&!(a&&c>u))return!1;var l=s.get(t);if(l&&s.get(e))return l==e;var h=-1,p=!0,f=n&v?new _r:i;for(s.set(t,e),s.set(e,t);++h<u;){var m=t[h],y=e[h];if(r)var g=a?r(y,m,h,e,t,s):r(m,y,h,t,e,s);if(g!==i){if(g)continue;p=!1;break}if(f){if(!nn(e,function(t,e){if(!gn(f,e)&&(m===t||o(m,t,n,r,s)))return f.push(e)})){p=!1;break}}else if(m!==y&&!o(m,y,n,r,s)){p=!1;break}}return s.delete(t),s.delete(e),p}function No(t){return os(ts(t,i,gs),t+"")}function ko(t){return Yr(t,iu,Bo)}function Po(t){return Yr(t,ou,Uo)}var Oo=rr?function(t){return rr.get(t)}:Ru;function Mo(t){for(var e=t.name+"",n=ir[e],r=le.call(ir,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Ro(t){return(le.call(fr,"placeholder")?fr:t).placeholder}function Fo(){var t=fr.iteratee||ku;return t=t===ku?ui:t,arguments.length?t(arguments[0],arguments[1]):t}function Lo(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function jo(t){for(var e=iu(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Jo(i)]}return e}function Vo(t,e){var n=function(t,e){return null==t?i:t[e]}(t,e);return ai(n)?n:i}var Bo=Bn?function(t){return null==t?[]:(t=ee(t),Xe(Bn(t),function(e){return Me.call(t,e)}))}:qu,Uo=Bn?function(t){for(var e=[];t;)Ze(e,Bo(t)),t=ke(t);return e}:qu,qo=Jr;function Ho(t,e,n){for(var r=-1,i=(e=Ki(e,t)).length,o=!1;++r<i;){var s=ls(e[r]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Ta(i)&&Ko(s,i)&&(ya(t)||ma(t))}function Wo(t){return"function"!=typeof t.constructor||Yo(t)?{}:dr(ke(t))}function zo(t){return ya(t)||ma(t)||!!(Le&&t&&t[Le])}function Ko(t,e){var n=typeof t;return!!(e=null==e?O:e)&&("number"==n||"symbol"!=n&&Gt.test(t))&&t>-1&&t%1==0&&t<e}function Go(t,e,n){if(!Aa(n))return!1;var r=typeof e;return!!("number"==r?ba(n)&&Ko(e,n.length):"string"==r&&e in n)&&fa(n[e],t)}function Qo(t,e){if(ya(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Ra(t))||It.test(t)||!Dt.test(t)||null!=e&&t in ee(e)}function Xo(t){var e=Mo(t),n=fr[e];if("function"!=typeof n||!(e in yr.prototype))return!1;if(t===n)return!0;var r=Oo(n);return!!r&&t===r[0]}(Yn&&qo(new Yn(new ArrayBuffer(1)))!=ut||Jn&&qo(new Jn)!=X||Zn&&"[object Promise]"!=qo(Zn.resolve())||tr&&qo(new tr)!=et||er&&qo(new er)!=ot)&&(qo=function(t){var e=Jr(t),n=e==J?t.constructor:i,r=n?hs(n):"";if(r)switch(r){case or:return ut;case sr:return X;case ar:return"[object Promise]";case ur:return et;case cr:return ot}return e});var $o=ue?Sa:Hu;function Yo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ae)}function Jo(t){return t==t&&!Aa(t)}function Zo(t,e){return function(n){return null!=n&&n[t]===e&&(e!==i||t in ee(n))}}function ts(t,e,n){return e=zn(e===i?t.length-1:e,0),function(){for(var i=arguments,o=-1,s=zn(i.length-e,0),a=r(s);++o<s;)a[o]=i[e+o];o=-1;for(var u=r(e+1);++o<e;)u[o]=i[o];return u[e]=n(a),We(t,this,u)}}function es(t,e){return e.length<2?t:$r(t,Ni(e,0,-1))}function ns(t,e){if("__proto__"!=e)return t[e]}var rs=as(Ai),is=Ln||function(t,e){return Pe.setTimeout(t,e)},os=as(Di);function ss(t,e,n){var r=e+"";return os(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Ft,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return Ke(V,function(n){var r="_."+n[0];e&n[1]&&!$e(t,r)&&t.push(r)}),t.sort()}(function(t){var e=t.match(Lt);return e?e[1].split(jt):[]}(r),n)))}function as(t){var e=0,n=0;return function(){var r=Gn(),o=I-(r-n);if(n=r,o>0){if(++e>=D)return arguments[0]}else e=0;return t.apply(i,arguments)}}function us(t,e){var n=-1,r=t.length,o=r-1;for(e=e===i?r:e;++n<e;){var s=_i(n,o),a=t[s];t[s]=t[n],t[n]=a}return t.length=e,t}var cs=function(t){var e=aa(t,function(t){return n.size===c&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Nt,function(t,n,r,i){e.push(r?i.replace(Bt,"$1"):n||t)}),e});function ls(t){if("string"==typeof t||Ra(t))return t;var e=t+"";return"0"==e&&1/t==-P?"-0":e}function hs(t){if(null!=t){try{return ce.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function ps(t){if(t instanceof yr)return t.clone();var e=new mr(t.__wrapped__,t.__chain__);return e.__actions__=no(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var fs=Ci(function(t,e){return wa(t)?jr(t,Wr(e,1,wa,!0)):[]}),ds=Ci(function(t,e){var n=Cs(e);return wa(n)&&(n=i),wa(t)?jr(t,Wr(e,1,wa,!0),Fo(n,2)):[]}),vs=Ci(function(t,e){var n=Cs(e);return wa(n)&&(n=i),wa(t)?jr(t,Wr(e,1,wa,!0),i,n):[]});function ms(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Ua(n);return i<0&&(i=zn(r+i,0)),sn(t,Fo(e,3),i)}function ys(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r-1;return n!==i&&(o=Ua(n),o=n<0?zn(r+o,0):Kn(o,r-1)),sn(t,Fo(e,3),o,!0)}function gs(t){return null!=t&&t.length?Wr(t,1):[]}function bs(t){return t&&t.length?t[0]:i}var ws=Ci(function(t){var e=Je(t,Wi);return e.length&&e[0]===t[0]?ni(e):[]}),_s=Ci(function(t){var e=Cs(t),n=Je(t,Wi);return e===Cs(n)?e=i:n.pop(),n.length&&n[0]===t[0]?ni(n,Fo(e,2)):[]}),Es=Ci(function(t){var e=Cs(t),n=Je(t,Wi);return(e="function"==typeof e?e:i)&&n.pop(),n.length&&n[0]===t[0]?ni(n,i,e):[]});function Cs(t){var e=null==t?0:t.length;return e?t[e-1]:i}var Ss=Ci(xs);function xs(t,e){return t&&t.length&&e&&e.length?bi(t,e):t}var Ts=No(function(t,e){var n=null==t?0:t.length,r=Or(t,e);return wi(t,Je(e,function(t){return Ko(t,n)?+t:t}).sort(Zi)),r});function As(t){return null==t?t:$n.call(t)}var Ds=Ci(function(t){return Li(Wr(t,1,wa,!0))}),Is=Ci(function(t){var e=Cs(t);return wa(e)&&(e=i),Li(Wr(t,1,wa,!0),Fo(e,2))}),Ns=Ci(function(t){var e=Cs(t);return e="function"==typeof e?e:i,Li(Wr(t,1,wa,!0),i,e)});function ks(t){if(!t||!t.length)return[];var e=0;return t=Xe(t,function(t){if(wa(t))return e=zn(t.length,e),!0}),vn(e,function(e){return Je(t,hn(e))})}function Ps(t,e){if(!t||!t.length)return[];var n=ks(t);return null==e?n:Je(n,function(t){return We(e,i,t)})}var Os=Ci(function(t,e){return wa(t)?jr(t,e):[]}),Ms=Ci(function(t){return qi(Xe(t,wa))}),Rs=Ci(function(t){var e=Cs(t);return wa(e)&&(e=i),qi(Xe(t,wa),Fo(e,2))}),Fs=Ci(function(t){var e=Cs(t);return e="function"==typeof e?e:i,qi(Xe(t,wa),i,e)}),Ls=Ci(ks);var js=Ci(function(t){var e=t.length,n=e>1?t[e-1]:i;return Ps(t,n="function"==typeof n?(t.pop(),n):i)});function Vs(t){var e=fr(t);return e.__chain__=!0,e}function Bs(t,e){return e(t)}var Us=No(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(e){return Or(e,t)};return!(e>1||this.__actions__.length)&&r instanceof yr&&Ko(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:Bs,args:[o],thisArg:i}),new mr(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(i),t})):this.thru(o)});var qs=io(function(t,e,n){le.call(t,n)?++t[n]:Pr(t,n,1)});var Hs=ho(ms),Ws=ho(ys);function zs(t,e){return(ya(t)?Ke:Vr)(t,Fo(e,3))}function Ks(t,e){return(ya(t)?Ge:Br)(t,Fo(e,3))}var Gs=io(function(t,e,n){le.call(t,n)?t[n].push(e):Pr(t,n,[e])});var Qs=Ci(function(t,e,n){var i=-1,o="function"==typeof e,s=ba(t)?r(t.length):[];return Vr(t,function(t){s[++i]=o?We(e,t,n):ri(t,e,n)}),s}),Xs=io(function(t,e,n){Pr(t,n,e)});function $s(t,e){return(ya(t)?Je:pi)(t,Fo(e,3))}var Ys=io(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]});var Js=Ci(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Go(t,e[0],e[1])?e=[]:n>2&&Go(e[0],e[1],e[2])&&(e=[e[0]]),yi(t,Wr(e,1),[])}),Zs=Fn||function(){return Pe.Date.now()};function ta(t,e,n){return e=n?i:e,e=t&&null==e?t.length:e,xo(t,C,i,i,i,i,e)}function ea(t,e){var n;if("function"!=typeof e)throw new ie(a);return t=Ua(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=i),n}}var na=Ci(function(t,e,n){var r=m;if(n.length){var i=An(n,Ro(na));r|=_}return xo(t,r,e,n,i)}),ra=Ci(function(t,e,n){var r=m|y;if(n.length){var i=An(n,Ro(ra));r|=_}return xo(e,r,t,n,i)});function ia(t,e,n){var r,o,s,u,c,l,h=0,p=!1,f=!1,d=!0;if("function"!=typeof t)throw new ie(a);function v(e){var n=r,s=o;return r=o=i,h=e,u=t.apply(s,n)}function m(t){var n=t-l;return l===i||n>=e||n<0||f&&t-h>=s}function y(){var t=Zs();if(m(t))return g(t);c=is(y,function(t){var n=e-(t-l);return f?Kn(n,s-(t-h)):n}(t))}function g(t){return c=i,d&&r?v(t):(r=o=i,u)}function b(){var t=Zs(),n=m(t);if(r=arguments,o=this,l=t,n){if(c===i)return function(t){return h=t,c=is(y,e),p?v(t):u}(l);if(f)return c=is(y,e),v(l)}return c===i&&(c=is(y,e)),u}return e=Ha(e)||0,Aa(n)&&(p=!!n.leading,s=(f="maxWait"in n)?zn(Ha(n.maxWait)||0,e):s,d="trailing"in n?!!n.trailing:d),b.cancel=function(){c!==i&&Xi(c),h=0,r=l=o=c=i},b.flush=function(){return c===i?u:g(Zs())},b}var oa=Ci(function(t,e){return Lr(t,1,e)}),sa=Ci(function(t,e,n){return Lr(t,Ha(e)||0,n)});function aa(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new ie(a);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(aa.Cache||wr),n}function ua(t){if("function"!=typeof t)throw new ie(a);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}aa.Cache=wr;var ca=Gi(function(t,e){var n=(e=1==e.length&&ya(e[0])?Je(e[0],mn(Fo())):Je(Wr(e,1),mn(Fo()))).length;return Ci(function(r){for(var i=-1,o=Kn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return We(t,this,r)})}),la=Ci(function(t,e){var n=An(e,Ro(la));return xo(t,_,i,e,n)}),ha=Ci(function(t,e){var n=An(e,Ro(ha));return xo(t,E,i,e,n)}),pa=No(function(t,e){return xo(t,S,i,i,i,e)});function fa(t,e){return t===e||t!=t&&e!=e}var da=wo(Zr),va=wo(function(t,e){return t>=e}),ma=ii(function(){return arguments}())?ii:function(t){return Da(t)&&le.call(t,"callee")&&!Me.call(t,"callee")},ya=r.isArray,ga=je?mn(je):function(t){return Da(t)&&Jr(t)==at};function ba(t){return null!=t&&Ta(t.length)&&!Sa(t)}function wa(t){return Da(t)&&ba(t)}var _a=Un||Hu,Ea=Ve?mn(Ve):function(t){return Da(t)&&Jr(t)==W};function Ca(t){if(!Da(t))return!1;var e=Jr(t);return e==K||e==z||"string"==typeof t.message&&"string"==typeof t.name&&!ka(t)}function Sa(t){if(!Aa(t))return!1;var e=Jr(t);return e==G||e==Q||e==q||e==Z}function xa(t){return"number"==typeof t&&t==Ua(t)}function Ta(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=O}function Aa(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Da(t){return null!=t&&"object"==typeof t}var Ia=Be?mn(Be):function(t){return Da(t)&&qo(t)==X};function Na(t){return"number"==typeof t||Da(t)&&Jr(t)==$}function ka(t){if(!Da(t)||Jr(t)!=J)return!1;var e=ke(t);if(null===e)return!0;var n=le.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&ce.call(n)==de}var Pa=Ue?mn(Ue):function(t){return Da(t)&&Jr(t)==tt};var Oa=qe?mn(qe):function(t){return Da(t)&&qo(t)==et};function Ma(t){return"string"==typeof t||!ya(t)&&Da(t)&&Jr(t)==nt}function Ra(t){return"symbol"==typeof t||Da(t)&&Jr(t)==rt}var Fa=He?mn(He):function(t){return Da(t)&&Ta(t.length)&&!!xe[Jr(t)]};var La=wo(hi),ja=wo(function(t,e){return t<=e});function Va(t){if(!t)return[];if(ba(t))return Ma(t)?kn(t):no(t);if(rn&&t[rn])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[rn]());var e=qo(t);return(e==X?xn:e==et?Dn:fu)(t)}function Ba(t){return t?(t=Ha(t))===P||t===-P?(t<0?-1:1)*M:t==t?t:0:0===t?t:0}function Ua(t){var e=Ba(t),n=e%1;return e==e?n?e-n:e:0}function qa(t){return t?Mr(Ua(t),0,F):0}function Ha(t){if("number"==typeof t)return t;if(Ra(t))return R;if(Aa(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Aa(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Ot,"");var n=Wt.test(t);return n||Kt.test(t)?Ie(t.slice(2),n?2:8):Ht.test(t)?R:+t}function Wa(t){return ro(t,ou(t))}function za(t){return null==t?"":Fi(t)}var Ka=oo(function(t,e){if(Yo(e)||ba(e))ro(e,iu(e),t);else for(var n in e)le.call(e,n)&&Dr(t,n,e[n])}),Ga=oo(function(t,e){ro(e,ou(e),t)}),Qa=oo(function(t,e,n,r){ro(e,ou(e),t,r)}),Xa=oo(function(t,e,n,r){ro(e,iu(e),t,r)}),$a=No(Or);var Ya=Ci(function(t,e){t=ee(t);var n=-1,r=e.length,o=r>2?e[2]:i;for(o&&Go(e[0],e[1],o)&&(r=1);++n<r;)for(var s=e[n],a=ou(s),u=-1,c=a.length;++u<c;){var l=a[u],h=t[l];(h===i||fa(h,ae[l])&&!le.call(t,l))&&(t[l]=s[l])}return t}),Ja=Ci(function(t){return t.push(i,Ao),We(au,i,t)});function Za(t,e,n){var r=null==t?i:$r(t,e);return r===i?n:r}function tu(t,e){return null!=t&&Ho(t,e,ei)}var eu=vo(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=fe.call(e)),t[e]=n},Au(Nu)),nu=vo(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=fe.call(e)),le.call(t,e)?t[e].push(n):t[e]=[n]},Fo),ru=Ci(ri);function iu(t){return ba(t)?Cr(t):ci(t)}function ou(t){return ba(t)?Cr(t,!0):li(t)}var su=oo(function(t,e,n){vi(t,e,n)}),au=oo(function(t,e,n,r){vi(t,e,n,r)}),uu=No(function(t,e){var n={};if(null==t)return n;var r=!1;e=Je(e,function(e){return e=Ki(e,t),r||(r=e.length>1),e}),ro(t,Po(t),n),r&&(n=Rr(n,h|p|f,Do));for(var i=e.length;i--;)ji(n,e[i]);return n});var cu=No(function(t,e){return null==t?{}:function(t,e){return gi(t,e,function(e,n){return tu(t,n)})}(t,e)});function lu(t,e){if(null==t)return{};var n=Je(Po(t),function(t){return[t]});return e=Fo(e),gi(t,n,function(t,n){return e(t,n[0])})}var hu=So(iu),pu=So(ou);function fu(t){return null==t?[]:yn(t,iu(t))}var du=co(function(t,e,n){return e=e.toLowerCase(),t+(n?vu(e):e)});function vu(t){return Cu(za(t).toLowerCase())}function mu(t){return(t=za(t))&&t.replace(Qt,_n).replace(ge,"")}var yu=co(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),gu=co(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),bu=uo("toLowerCase");var wu=co(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()});var _u=co(function(t,e,n){return t+(n?" ":"")+Cu(e)});var Eu=co(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Cu=uo("toUpperCase");function Su(t,e,n){return t=za(t),(e=n?i:e)===i?function(t){return Ee.test(t)}(t)?function(t){return t.match(we)||[]}(t):function(t){return t.match(Vt)||[]}(t):t.match(e)||[]}var xu=Ci(function(t,e){try{return We(t,i,e)}catch(t){return Ca(t)?t:new Jt(t)}}),Tu=No(function(t,e){return Ke(e,function(e){e=ls(e),Pr(t,e,na(t[e],t))}),t});function Au(t){return function(){return t}}var Du=po(),Iu=po(!0);function Nu(t){return t}function ku(t){return ui("function"==typeof t?t:Rr(t,h))}var Pu=Ci(function(t,e){return function(n){return ri(n,t,e)}}),Ou=Ci(function(t,e){return function(n){return ri(t,n,e)}});function Mu(t,e,n){var r=iu(e),i=Xr(e,r);null!=n||Aa(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=Xr(e,iu(e)));var o=!(Aa(n)&&"chain"in n&&!n.chain),s=Sa(t);return Ke(i,function(n){var r=e[n];t[n]=r,s&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=no(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,Ze([this.value()],arguments))})}),t}function Ru(){}var Fu=yo(Je),Lu=yo(Qe),ju=yo(nn);function Vu(t){return Qo(t)?hn(ls(t)):function(t){return function(e){return $r(e,t)}}(t)}var Bu=bo(),Uu=bo(!0);function qu(){return[]}function Hu(){return!1}var Wu=mo(function(t,e){return t+e},0),zu=Eo("ceil"),Ku=mo(function(t,e){return t/e},1),Gu=Eo("floor");var Qu,Xu=mo(function(t,e){return t*e},1),$u=Eo("round"),Yu=mo(function(t,e){return t-e},0);return fr.after=function(t,e){if("function"!=typeof e)throw new ie(a);return t=Ua(t),function(){if(--t<1)return e.apply(this,arguments)}},fr.ary=ta,fr.assign=Ka,fr.assignIn=Ga,fr.assignInWith=Qa,fr.assignWith=Xa,fr.at=$a,fr.before=ea,fr.bind=na,fr.bindAll=Tu,fr.bindKey=ra,fr.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return ya(t)?t:[t]},fr.chain=Vs,fr.chunk=function(t,e,n){e=(n?Go(t,e,n):e===i)?1:zn(Ua(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var s=0,a=0,u=r(jn(o/e));s<o;)u[a++]=Ni(t,s,s+=e);return u},fr.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},fr.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return Ze(ya(n)?no(n):[n],Wr(e,1))},fr.cond=function(t){var e=null==t?0:t.length,n=Fo();return t=e?Je(t,function(t){if("function"!=typeof t[1])throw new ie(a);return[n(t[0]),t[1]]}):[],Ci(function(n){for(var r=-1;++r<e;){var i=t[r];if(We(i[0],this,n))return We(i[1],this,n)}})},fr.conforms=function(t){return function(t){var e=iu(t);return function(n){return Fr(n,t,e)}}(Rr(t,h))},fr.constant=Au,fr.countBy=qs,fr.create=function(t,e){var n=dr(t);return null==e?n:kr(n,e)},fr.curry=function t(e,n,r){var o=xo(e,b,i,i,i,i,i,n=r?i:n);return o.placeholder=t.placeholder,o},fr.curryRight=function t(e,n,r){var o=xo(e,w,i,i,i,i,i,n=r?i:n);return o.placeholder=t.placeholder,o},fr.debounce=ia,fr.defaults=Ya,fr.defaultsDeep=Ja,fr.defer=oa,fr.delay=sa,fr.difference=fs,fr.differenceBy=ds,fr.differenceWith=vs,fr.drop=function(t,e,n){var r=null==t?0:t.length;return r?Ni(t,(e=n||e===i?1:Ua(e))<0?0:e,r):[]},fr.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?Ni(t,0,(e=r-(e=n||e===i?1:Ua(e)))<0?0:e):[]},fr.dropRightWhile=function(t,e){return t&&t.length?Bi(t,Fo(e,3),!0,!0):[]},fr.dropWhile=function(t,e){return t&&t.length?Bi(t,Fo(e,3),!0):[]},fr.fill=function(t,e,n,r){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&Go(t,e,n)&&(n=0,r=o),function(t,e,n,r){var o=t.length;for((n=Ua(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:Ua(r))<0&&(r+=o),r=n>r?0:qa(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},fr.filter=function(t,e){return(ya(t)?Xe:Hr)(t,Fo(e,3))},fr.flatMap=function(t,e){return Wr($s(t,e),1)},fr.flatMapDeep=function(t,e){return Wr($s(t,e),P)},fr.flatMapDepth=function(t,e,n){return n=n===i?1:Ua(n),Wr($s(t,e),n)},fr.flatten=gs,fr.flattenDeep=function(t){return null!=t&&t.length?Wr(t,P):[]},fr.flattenDepth=function(t,e){return null!=t&&t.length?Wr(t,e=e===i?1:Ua(e)):[]},fr.flip=function(t){return xo(t,x)},fr.flow=Du,fr.flowRight=Iu,fr.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},fr.functions=function(t){return null==t?[]:Xr(t,iu(t))},fr.functionsIn=function(t){return null==t?[]:Xr(t,ou(t))},fr.groupBy=Gs,fr.initial=function(t){return null!=t&&t.length?Ni(t,0,-1):[]},fr.intersection=ws,fr.intersectionBy=_s,fr.intersectionWith=Es,fr.invert=eu,fr.invertBy=nu,fr.invokeMap=Qs,fr.iteratee=ku,fr.keyBy=Xs,fr.keys=iu,fr.keysIn=ou,fr.map=$s,fr.mapKeys=function(t,e){var n={};return e=Fo(e,3),Gr(t,function(t,r,i){Pr(n,e(t,r,i),t)}),n},fr.mapValues=function(t,e){var n={};return e=Fo(e,3),Gr(t,function(t,r,i){Pr(n,r,e(t,r,i))}),n},fr.matches=function(t){return fi(Rr(t,h))},fr.matchesProperty=function(t,e){return di(t,Rr(e,h))},fr.memoize=aa,fr.merge=su,fr.mergeWith=au,fr.method=Pu,fr.methodOf=Ou,fr.mixin=Mu,fr.negate=ua,fr.nthArg=function(t){return t=Ua(t),Ci(function(e){return mi(e,t)})},fr.omit=uu,fr.omitBy=function(t,e){return lu(t,ua(Fo(e)))},fr.once=function(t){return ea(2,t)},fr.orderBy=function(t,e,n,r){return null==t?[]:(ya(e)||(e=null==e?[]:[e]),ya(n=r?i:n)||(n=null==n?[]:[n]),yi(t,e,n))},fr.over=Fu,fr.overArgs=ca,fr.overEvery=Lu,fr.overSome=ju,fr.partial=la,fr.partialRight=ha,fr.partition=Ys,fr.pick=cu,fr.pickBy=lu,fr.property=Vu,fr.propertyOf=function(t){return function(e){return null==t?i:$r(t,e)}},fr.pull=Ss,fr.pullAll=xs,fr.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?bi(t,e,Fo(n,2)):t},fr.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?bi(t,e,i,n):t},fr.pullAt=Ts,fr.range=Bu,fr.rangeRight=Uu,fr.rearg=pa,fr.reject=function(t,e){return(ya(t)?Xe:Hr)(t,ua(Fo(e,3)))},fr.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=Fo(e,3);++r<o;){var s=t[r];e(s,r,t)&&(n.push(s),i.push(r))}return wi(t,i),n},fr.rest=function(t,e){if("function"!=typeof t)throw new ie(a);return Ci(t,e=e===i?e:Ua(e))},fr.reverse=As,fr.sampleSize=function(t,e,n){return e=(n?Go(t,e,n):e===i)?1:Ua(e),(ya(t)?xr:xi)(t,e)},fr.set=function(t,e,n){return null==t?t:Ti(t,e,n)},fr.setWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:Ti(t,e,n,r)},fr.shuffle=function(t){return(ya(t)?Tr:Ii)(t)},fr.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Go(t,e,n)?(e=0,n=r):(e=null==e?0:Ua(e),n=n===i?r:Ua(n)),Ni(t,e,n)):[]},fr.sortBy=Js,fr.sortedUniq=function(t){return t&&t.length?Mi(t):[]},fr.sortedUniqBy=function(t,e){return t&&t.length?Mi(t,Fo(e,2)):[]},fr.split=function(t,e,n){return n&&"number"!=typeof n&&Go(t,e,n)&&(e=n=i),(n=n===i?F:n>>>0)?(t=za(t))&&("string"==typeof e||null!=e&&!Pa(e))&&!(e=Fi(e))&&Sn(t)?Qi(kn(t),0,n):t.split(e,n):[]},fr.spread=function(t,e){if("function"!=typeof t)throw new ie(a);return e=null==e?0:zn(Ua(e),0),Ci(function(n){var r=n[e],i=Qi(n,0,e);return r&&Ze(i,r),We(t,this,i)})},fr.tail=function(t){var e=null==t?0:t.length;return e?Ni(t,1,e):[]},fr.take=function(t,e,n){return t&&t.length?Ni(t,0,(e=n||e===i?1:Ua(e))<0?0:e):[]},fr.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?Ni(t,(e=r-(e=n||e===i?1:Ua(e)))<0?0:e,r):[]},fr.takeRightWhile=function(t,e){return t&&t.length?Bi(t,Fo(e,3),!1,!0):[]},fr.takeWhile=function(t,e){return t&&t.length?Bi(t,Fo(e,3)):[]},fr.tap=function(t,e){return e(t),t},fr.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new ie(a);return Aa(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ia(t,e,{leading:r,maxWait:e,trailing:i})},fr.thru=Bs,fr.toArray=Va,fr.toPairs=hu,fr.toPairsIn=pu,fr.toPath=function(t){return ya(t)?Je(t,ls):Ra(t)?[t]:no(cs(za(t)))},fr.toPlainObject=Wa,fr.transform=function(t,e,n){var r=ya(t),i=r||_a(t)||Fa(t);if(e=Fo(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:Aa(t)&&Sa(o)?dr(ke(t)):{}}return(i?Ke:Gr)(t,function(t,r,i){return e(n,t,r,i)}),n},fr.unary=function(t){return ta(t,1)},fr.union=Ds,fr.unionBy=Is,fr.unionWith=Ns,fr.uniq=function(t){return t&&t.length?Li(t):[]},fr.uniqBy=function(t,e){return t&&t.length?Li(t,Fo(e,2)):[]},fr.uniqWith=function(t,e){return e="function"==typeof e?e:i,t&&t.length?Li(t,i,e):[]},fr.unset=function(t,e){return null==t||ji(t,e)},fr.unzip=ks,fr.unzipWith=Ps,fr.update=function(t,e,n){return null==t?t:Vi(t,e,zi(n))},fr.updateWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:Vi(t,e,zi(n),r)},fr.values=fu,fr.valuesIn=function(t){return null==t?[]:yn(t,ou(t))},fr.without=Os,fr.words=Su,fr.wrap=function(t,e){return la(zi(e),t)},fr.xor=Ms,fr.xorBy=Rs,fr.xorWith=Fs,fr.zip=Ls,fr.zipObject=function(t,e){return Hi(t||[],e||[],Dr)},fr.zipObjectDeep=function(t,e){return Hi(t||[],e||[],Ti)},fr.zipWith=js,fr.entries=hu,fr.entriesIn=pu,fr.extend=Ga,fr.extendWith=Qa,Mu(fr,fr),fr.add=Wu,fr.attempt=xu,fr.camelCase=du,fr.capitalize=vu,fr.ceil=zu,fr.clamp=function(t,e,n){return n===i&&(n=e,e=i),n!==i&&(n=(n=Ha(n))==n?n:0),e!==i&&(e=(e=Ha(e))==e?e:0),Mr(Ha(t),e,n)},fr.clone=function(t){return Rr(t,f)},fr.cloneDeep=function(t){return Rr(t,h|f)},fr.cloneDeepWith=function(t,e){return Rr(t,h|f,e="function"==typeof e?e:i)},fr.cloneWith=function(t,e){return Rr(t,f,e="function"==typeof e?e:i)},fr.conformsTo=function(t,e){return null==e||Fr(t,e,iu(e))},fr.deburr=mu,fr.defaultTo=function(t,e){return null==t||t!=t?e:t},fr.divide=Ku,fr.endsWith=function(t,e,n){t=za(t),e=Fi(e);var r=t.length,o=n=n===i?r:Mr(Ua(n),0,r);return(n-=e.length)>=0&&t.slice(n,o)==e},fr.eq=fa,fr.escape=function(t){return(t=za(t))&&St.test(t)?t.replace(Et,En):t},fr.escapeRegExp=function(t){return(t=za(t))&&Pt.test(t)?t.replace(kt,"\\$&"):t},fr.every=function(t,e,n){var r=ya(t)?Qe:Ur;return n&&Go(t,e,n)&&(e=i),r(t,Fo(e,3))},fr.find=Hs,fr.findIndex=ms,fr.findKey=function(t,e){return on(t,Fo(e,3),Gr)},fr.findLast=Ws,fr.findLastIndex=ys,fr.findLastKey=function(t,e){return on(t,Fo(e,3),Qr)},fr.floor=Gu,fr.forEach=zs,fr.forEachRight=Ks,fr.forIn=function(t,e){return null==t?t:zr(t,Fo(e,3),ou)},fr.forInRight=function(t,e){return null==t?t:Kr(t,Fo(e,3),ou)},fr.forOwn=function(t,e){return t&&Gr(t,Fo(e,3))},fr.forOwnRight=function(t,e){return t&&Qr(t,Fo(e,3))},fr.get=Za,fr.gt=da,fr.gte=va,fr.has=function(t,e){return null!=t&&Ho(t,e,ti)},fr.hasIn=tu,fr.head=bs,fr.identity=Nu,fr.includes=function(t,e,n,r){t=ba(t)?t:fu(t),n=n&&!r?Ua(n):0;var i=t.length;return n<0&&(n=zn(i+n,0)),Ma(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&an(t,e,n)>-1},fr.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Ua(n);return i<0&&(i=zn(r+i,0)),an(t,e,i)},fr.inRange=function(t,e,n){return e=Ba(e),n===i?(n=e,e=0):n=Ba(n),function(t,e,n){return t>=Kn(e,n)&&t<zn(e,n)}(t=Ha(t),e,n)},fr.invoke=ru,fr.isArguments=ma,fr.isArray=ya,fr.isArrayBuffer=ga,fr.isArrayLike=ba,fr.isArrayLikeObject=wa,fr.isBoolean=function(t){return!0===t||!1===t||Da(t)&&Jr(t)==H},fr.isBuffer=_a,fr.isDate=Ea,fr.isElement=function(t){return Da(t)&&1===t.nodeType&&!ka(t)},fr.isEmpty=function(t){if(null==t)return!0;if(ba(t)&&(ya(t)||"string"==typeof t||"function"==typeof t.splice||_a(t)||Fa(t)||ma(t)))return!t.length;var e=qo(t);if(e==X||e==et)return!t.size;if(Yo(t))return!ci(t).length;for(var n in t)if(le.call(t,n))return!1;return!0},fr.isEqual=function(t,e){return oi(t,e)},fr.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:i)?n(t,e):i;return r===i?oi(t,e,i,n):!!r},fr.isError=Ca,fr.isFinite=function(t){return"number"==typeof t&&qn(t)},fr.isFunction=Sa,fr.isInteger=xa,fr.isLength=Ta,fr.isMap=Ia,fr.isMatch=function(t,e){return t===e||si(t,e,jo(e))},fr.isMatchWith=function(t,e,n){return n="function"==typeof n?n:i,si(t,e,jo(e),n)},fr.isNaN=function(t){return Na(t)&&t!=+t},fr.isNative=function(t){if($o(t))throw new Jt(s);return ai(t)},fr.isNil=function(t){return null==t},fr.isNull=function(t){return null===t},fr.isNumber=Na,fr.isObject=Aa,fr.isObjectLike=Da,fr.isPlainObject=ka,fr.isRegExp=Pa,fr.isSafeInteger=function(t){return xa(t)&&t>=-O&&t<=O},fr.isSet=Oa,fr.isString=Ma,fr.isSymbol=Ra,fr.isTypedArray=Fa,fr.isUndefined=function(t){return t===i},fr.isWeakMap=function(t){return Da(t)&&qo(t)==ot},fr.isWeakSet=function(t){return Da(t)&&Jr(t)==st},fr.join=function(t,e){return null==t?"":Hn.call(t,e)},fr.kebabCase=yu,fr.last=Cs,fr.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=Ua(n))<0?zn(r+o,0):Kn(o,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,o):sn(t,cn,o,!0)},fr.lowerCase=gu,fr.lowerFirst=bu,fr.lt=La,fr.lte=ja,fr.max=function(t){return t&&t.length?qr(t,Nu,Zr):i},fr.maxBy=function(t,e){return t&&t.length?qr(t,Fo(e,2),Zr):i},fr.mean=function(t){return ln(t,Nu)},fr.meanBy=function(t,e){return ln(t,Fo(e,2))},fr.min=function(t){return t&&t.length?qr(t,Nu,hi):i},fr.minBy=function(t,e){return t&&t.length?qr(t,Fo(e,2),hi):i},fr.stubArray=qu,fr.stubFalse=Hu,fr.stubObject=function(){return{}},fr.stubString=function(){return""},fr.stubTrue=function(){return!0},fr.multiply=Xu,fr.nth=function(t,e){return t&&t.length?mi(t,Ua(e)):i},fr.noConflict=function(){return Pe._===this&&(Pe._=ve),this},fr.noop=Ru,fr.now=Zs,fr.pad=function(t,e,n){t=za(t);var r=(e=Ua(e))?Nn(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return go(Vn(i),n)+t+go(jn(i),n)},fr.padEnd=function(t,e,n){t=za(t);var r=(e=Ua(e))?Nn(t):0;return e&&r<e?t+go(e-r,n):t},fr.padStart=function(t,e,n){t=za(t);var r=(e=Ua(e))?Nn(t):0;return e&&r<e?go(e-r,n)+t:t},fr.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),Qn(za(t).replace(Mt,""),e||0)},fr.random=function(t,e,n){if(n&&"boolean"!=typeof n&&Go(t,e,n)&&(e=n=i),n===i&&("boolean"==typeof e?(n=e,e=i):"boolean"==typeof t&&(n=t,t=i)),t===i&&e===i?(t=0,e=1):(t=Ba(t),e===i?(e=t,t=0):e=Ba(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var o=Xn();return Kn(t+o*(e-t+De("1e-"+((o+"").length-1))),e)}return _i(t,e)},fr.reduce=function(t,e,n){var r=ya(t)?tn:fn,i=arguments.length<3;return r(t,Fo(e,4),n,i,Vr)},fr.reduceRight=function(t,e,n){var r=ya(t)?en:fn,i=arguments.length<3;return r(t,Fo(e,4),n,i,Br)},fr.repeat=function(t,e,n){return e=(n?Go(t,e,n):e===i)?1:Ua(e),Ei(za(t),e)},fr.replace=function(){var t=arguments,e=za(t[0]);return t.length<3?e:e.replace(t[1],t[2])},fr.result=function(t,e,n){var r=-1,o=(e=Ki(e,t)).length;for(o||(o=1,t=i);++r<o;){var s=null==t?i:t[ls(e[r])];s===i&&(r=o,s=n),t=Sa(s)?s.call(t):s}return t},fr.round=$u,fr.runInContext=t,fr.sample=function(t){return(ya(t)?Sr:Si)(t)},fr.size=function(t){if(null==t)return 0;if(ba(t))return Ma(t)?Nn(t):t.length;var e=qo(t);return e==X||e==et?t.size:ci(t).length},fr.snakeCase=wu,fr.some=function(t,e,n){var r=ya(t)?nn:ki;return n&&Go(t,e,n)&&(e=i),r(t,Fo(e,3))},fr.sortedIndex=function(t,e){return Pi(t,e)},fr.sortedIndexBy=function(t,e,n){return Oi(t,e,Fo(n,2))},fr.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Pi(t,e);if(r<n&&fa(t[r],e))return r}return-1},fr.sortedLastIndex=function(t,e){return Pi(t,e,!0)},fr.sortedLastIndexBy=function(t,e,n){return Oi(t,e,Fo(n,2),!0)},fr.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=Pi(t,e,!0)-1;if(fa(t[n],e))return n}return-1},fr.startCase=_u,fr.startsWith=function(t,e,n){return t=za(t),n=null==n?0:Mr(Ua(n),0,t.length),e=Fi(e),t.slice(n,n+e.length)==e},fr.subtract=Yu,fr.sum=function(t){return t&&t.length?dn(t,Nu):0},fr.sumBy=function(t,e){return t&&t.length?dn(t,Fo(e,2)):0},fr.template=function(t,e,n){var r=fr.templateSettings;n&&Go(t,e,n)&&(e=i),t=za(t),e=Qa({},e,r,To);var o,s,a=Qa({},e.imports,r.imports,To),u=iu(a),c=yn(a,u),l=0,h=e.interpolate||Xt,p="__p += '",f=ne((e.escape||Xt).source+"|"+h.source+"|"+(h===At?Ut:Xt).source+"|"+(e.evaluate||Xt).source+"|$","g"),d="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Se+"]")+"\n";t.replace(f,function(e,n,r,i,a,u){return r||(r=i),p+=t.slice(l,u).replace($t,Cn),n&&(o=!0,p+="' +\n__e("+n+") +\n'"),a&&(s=!0,p+="';\n"+a+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+e.length,e}),p+="';\n";var v=e.variable;v||(p="with (obj) {\n"+p+"\n}\n"),p=(s?p.replace(gt,""):p).replace(bt,"$1").replace(wt,"$1;"),p="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var m=xu(function(){return Zt(u,d+"return "+p).apply(i,c)});if(m.source=p,Ca(m))throw m;return m},fr.times=function(t,e){if((t=Ua(t))<1||t>O)return[];var n=F,r=Kn(t,F);e=Fo(e),t-=F;for(var i=vn(r,e);++n<t;)e(n);return i},fr.toFinite=Ba,fr.toInteger=Ua,fr.toLength=qa,fr.toLower=function(t){return za(t).toLowerCase()},fr.toNumber=Ha,fr.toSafeInteger=function(t){return t?Mr(Ua(t),-O,O):0===t?t:0},fr.toString=za,fr.toUpper=function(t){return za(t).toUpperCase()},fr.trim=function(t,e,n){if((t=za(t))&&(n||e===i))return t.replace(Ot,"");if(!t||!(e=Fi(e)))return t;var r=kn(t),o=kn(e);return Qi(r,bn(r,o),wn(r,o)+1).join("")},fr.trimEnd=function(t,e,n){if((t=za(t))&&(n||e===i))return t.replace(Rt,"");if(!t||!(e=Fi(e)))return t;var r=kn(t);return Qi(r,0,wn(r,kn(e))+1).join("")},fr.trimStart=function(t,e,n){if((t=za(t))&&(n||e===i))return t.replace(Mt,"");if(!t||!(e=Fi(e)))return t;var r=kn(t);return Qi(r,bn(r,kn(e))).join("")},fr.truncate=function(t,e){var n=T,r=A;if(Aa(e)){var o="separator"in e?e.separator:o;n="length"in e?Ua(e.length):n,r="omission"in e?Fi(e.omission):r}var s=(t=za(t)).length;if(Sn(t)){var a=kn(t);s=a.length}if(n>=s)return t;var u=n-Nn(r);if(u<1)return r;var c=a?Qi(a,0,u).join(""):t.slice(0,u);if(o===i)return c+r;if(a&&(u+=c.length-u),Pa(o)){if(t.slice(u).search(o)){var l,h=c;for(o.global||(o=ne(o.source,za(qt.exec(o))+"g")),o.lastIndex=0;l=o.exec(h);)var p=l.index;c=c.slice(0,p===i?u:p)}}else if(t.indexOf(Fi(o),u)!=u){var f=c.lastIndexOf(o);f>-1&&(c=c.slice(0,f))}return c+r},fr.unescape=function(t){return(t=za(t))&&Ct.test(t)?t.replace(_t,Pn):t},fr.uniqueId=function(t){var e=++he;return za(t)+e},fr.upperCase=Eu,fr.upperFirst=Cu,fr.each=zs,fr.eachRight=Ks,fr.first=bs,Mu(fr,(Qu={},Gr(fr,function(t,e){le.call(fr.prototype,e)||(Qu[e]=t)}),Qu),{chain:!1}),fr.VERSION="4.17.11",Ke(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){fr[t].placeholder=fr}),Ke(["drop","take"],function(t,e){yr.prototype[t]=function(n){n=n===i?1:zn(Ua(n),0);var r=this.__filtered__&&!e?new yr(this):this.clone();return r.__filtered__?r.__takeCount__=Kn(n,r.__takeCount__):r.__views__.push({size:Kn(n,F),type:t+(r.__dir__<0?"Right":"")}),r},yr.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),Ke(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==N||3==n;yr.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Fo(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),Ke(["head","last"],function(t,e){var n="take"+(e?"Right":"");yr.prototype[t]=function(){return this[n](1).value()[0]}}),Ke(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");yr.prototype[t]=function(){return this.__filtered__?new yr(this):this[n](1)}}),yr.prototype.compact=function(){return this.filter(Nu)},yr.prototype.find=function(t){return this.filter(t).head()},yr.prototype.findLast=function(t){return this.reverse().find(t)},yr.prototype.invokeMap=Ci(function(t,e){return"function"==typeof t?new yr(this):this.map(function(n){return ri(n,t,e)})}),yr.prototype.reject=function(t){return this.filter(ua(Fo(t)))},yr.prototype.slice=function(t,e){t=Ua(t);var n=this;return n.__filtered__&&(t>0||e<0)?new yr(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==i&&(n=(e=Ua(e))<0?n.dropRight(-e):n.take(e-t)),n)},yr.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},yr.prototype.toArray=function(){return this.take(F)},Gr(yr.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),o=fr[r?"take"+("last"==e?"Right":""):e],s=r||/^find/.test(e);o&&(fr.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,u=e instanceof yr,c=a[0],l=u||ya(e),h=function(t){var e=o.apply(fr,Ze([t],a));return r&&p?e[0]:e};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var p=this.__chain__,f=!!this.__actions__.length,d=s&&!p,v=u&&!f;if(!s&&l){e=v?e:new yr(this);var m=t.apply(e,a);return m.__actions__.push({func:Bs,args:[h],thisArg:i}),new mr(m,p)}return d&&v?t.apply(this,a):(m=this.thru(h),d?r?m.value()[0]:m.value():m)})}),Ke(["pop","push","shift","sort","splice","unshift"],function(t){var e=oe[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);fr.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(ya(i)?i:[],t)}return this[n](function(n){return e.apply(ya(n)?n:[],t)})}}),Gr(yr.prototype,function(t,e){var n=fr[e];if(n){var r=n.name+"";(ir[r]||(ir[r]=[])).push({name:e,func:n})}}),ir[fo(i,y).name]=[{name:"wrapper",func:i}],yr.prototype.clone=function(){var t=new yr(this.__wrapped__);return t.__actions__=no(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=no(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=no(this.__views__),t},yr.prototype.reverse=function(){if(this.__filtered__){var t=new yr(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},yr.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=ya(t),r=e<0,i=n?t.length:0,o=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=Kn(e,t+s);break;case"takeRight":t=zn(t,e-s)}}return{start:t,end:e}}(0,i,this.__views__),s=o.start,a=o.end,u=a-s,c=r?a:s-1,l=this.__iteratees__,h=l.length,p=0,f=Kn(u,this.__takeCount__);if(!n||!r&&i==u&&f==u)return Ui(t,this.__actions__);var d=[];t:for(;u--&&p<f;){for(var v=-1,m=t[c+=e];++v<h;){var y=l[v],g=y.iteratee,b=y.type,w=g(m);if(b==k)m=w;else if(!w){if(b==N)continue t;break t}}d[p++]=m}return d},fr.prototype.at=Us,fr.prototype.chain=function(){return Vs(this)},fr.prototype.commit=function(){return new mr(this.value(),this.__chain__)},fr.prototype.next=function(){this.__values__===i&&(this.__values__=Va(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?i:this.__values__[this.__index__++]}},fr.prototype.plant=function(t){for(var e,n=this;n instanceof vr;){var r=ps(n);r.__index__=0,r.__values__=i,e?o.__wrapped__=r:e=r;var o=r;n=n.__wrapped__}return o.__wrapped__=t,e},fr.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof yr){var e=t;return this.__actions__.length&&(e=new yr(this)),(e=e.reverse()).__actions__.push({func:Bs,args:[As],thisArg:i}),new mr(e,this.__chain__)}return this.thru(As)},fr.prototype.toJSON=fr.prototype.valueOf=fr.prototype.value=function(){return Ui(this.__wrapped__,this.__actions__)},fr.prototype.first=fr.prototype.head,rn&&(fr.prototype[rn]=function(){return this}),fr}();Pe._=On,(r=(function(){return On}).call(e,n,e,t))===i||(t.exports=r)}).call(this)}).call(this,n("YuTi")(t))},Uv6z:function(t,e){!function(t){"use strict";if(!t.fetch){var e={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(e.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(t){return t&&DataView.prototype.isPrototypeOf(t)},i=ArrayBuffer.isView||function(t){return t&&n.indexOf(Object.prototype.toString.call(t))>-1};l.prototype.append=function(t,e){t=a(t),e=u(e);var n=this.map[t];this.map[t]=n?n+","+e:e},l.prototype.delete=function(t){delete this.map[a(t)]},l.prototype.get=function(t){return t=a(t),this.has(t)?this.map[t]:null},l.prototype.has=function(t){return this.map.hasOwnProperty(a(t))},l.prototype.set=function(t,e){this.map[a(t)]=u(e)},l.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},l.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),c(t)},l.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),c(t)},l.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),c(t)},e.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},v.call(m.prototype),v.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},g.error=function(){var t=new g(null,{status:0,statusText:""});return t.type="error",t};var s=[301,302,303,307,308];g.redirect=function(t,e){if(-1===s.indexOf(e))throw new RangeError("Invalid status code");return new g(null,{status:e,headers:{location:t}})},t.Headers=l,t.Request=m,t.Response=g,t.fetch=function(t,n){return new Promise(function(r,i){var o=new m(t,n),s=new XMLHttpRequest;s.onload=function(){var t,e,n={status:s.status,statusText:s.statusText,headers:(t=s.getAllResponseHeaders()||"",e=new l,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}}),e)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;r(new g(i,n))},s.onerror=function(){i(new TypeError("Network request failed"))},s.ontimeout=function(){i(new TypeError("Network request failed"))},s.open(o.method,o.url,!0),"include"===o.credentials?s.withCredentials=!0:"omit"===o.credentials&&(s.withCredentials=!1),"responseType"in s&&e.blob&&(s.responseType="blob"),o.headers.forEach(function(t,e){s.setRequestHeader(e,t)}),s.send(void 0===o._bodyInit?null:o._bodyInit)})},t.fetch.polyfill=!0}function a(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function u(t){return"string"!=typeof t&&(t=String(t)),t}function c(t){var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e.iterable&&(n[Symbol.iterator]=function(){return n}),n}function l(t){this.map={},t instanceof l?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function h(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function f(t){var e=new FileReader,n=p(e);return e.readAsArrayBuffer(t),n}function d(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(e.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(e.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(e.arrayBuffer&&e.blob&&r(t))this._bodyArrayBuffer=d(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!e.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!i(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=d(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},e.blob&&(this.blob=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(f)}),this.text=function(){var t,e,n,r=h(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,n=p(e),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},e.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}function m(t,e){var n,r,i=(e=e||{}).body;if(t instanceof m){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new l(t.headers)),this.method=t.method,this.mode=t.mode,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new l(e.headers)),this.method=(n=e.method||this.method||"GET",r=n.toUpperCase(),o.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function y(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function g(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new l(e.headers),this.url=e.url||"",this._initBody(t)}}("undefined"!=typeof self?self:this)},Wcq6:function(t,e,n){"use strict";n("lcbw");var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;t.exports=i},YuTi:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},crnd:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="crnd"},lcbw:function(t,e,n){"use strict";n.r(e);n("Uv6z");var r=setTimeout;function i(){}function o(t){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(t,this)}function s(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,o._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void u(e.promise,t)}a(e.promise,r)}else(1===t._state?a:u)(e.promise,t._value)})):t._deferreds.push(e)}function a(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof o)return t._state=3,t._value=e,void c(t);if("function"==typeof n)return void l((r=n,i=e,function(){r.apply(i,arguments)}),t)}t._state=1,t._value=e,c(t)}catch(e){u(t,e)}var r,i}function u(t,e){t._state=2,t._value=e,c(t)}function c(t){2===t._state&&0===t._deferreds.length&&o._immediateFn(function(){t._handled||o._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)s(t,t._deferreds[e]);t._deferreds=null}function l(t,e){var n=!1;try{t(function(t){n||(n=!0,a(e,t))},function(t){n||(n=!0,u(e,t))})}catch(t){if(n)return;n=!0,u(e,t)}}o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var n=new this.constructor(i);return s(this,new function(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}(t,e,n)),n},o.prototype.finally=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})},o.all=function(t){return new o(function(e,n){if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var i=r.length;function o(t,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,function(e){o(t,e)},n)}r[t]=s,0==--i&&e(r)}catch(t){n(t)}}for(var s=0;s<r.length;s++)o(s,r[s])})},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(t){return new o(function(e,n){n(t)})},o.race=function(t){return new o(function(e,n){for(var r=0,i=t.length;r<i;r++)t[r].then(e,n)})},o._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){r(t,0)},o._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var h=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();function p(t,e){return t(e={exports:{}},e.exports),e.exports}h.Promise||(h.Promise=o);var f=p(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),d=p(function(t){var e=t.exports={version:"2.5.5"};"number"==typeof __e&&(__e=e)}),v=(d.version,function(t){return"object"==typeof t?null!==t:"function"==typeof t}),m=function(t){if(!v(t))throw TypeError(t+" is not an object!");return t},y=function(t){try{return!!t()}catch(t){return!0}},g=!y(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),b=f.document,w=v(b)&&v(b.createElement),_=function(t){return w?b.createElement(t):{}},E=!g&&!y(function(){return 7!=Object.defineProperty(_("div"),"a",{get:function(){return 7}}).a}),C=function(t,e){if(!v(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!v(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!v(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!v(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},S=Object.defineProperty,x={f:g?Object.defineProperty:function(t,e,n){if(m(t),e=C(e,!0),m(n),E)try{return S(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},T=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},A=g?function(t,e,n){return x.f(t,e,T(1,n))}:function(t,e,n){return t[e]=n,t},D={}.hasOwnProperty,I=function(t,e){return D.call(t,e)},N=0,k=Math.random(),P=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++N+k).toString(36))},O=p(function(t){var e=P("src"),n=Function.toString,r=(""+n).split("toString");d.inspectSource=function(t){return n.call(t)},(t.exports=function(t,n,i,o){var s="function"==typeof i;s&&(I(i,"name")||A(i,"name",n)),t[n]!==i&&(s&&(I(i,e)||A(i,e,t[n]?""+t[n]:r.join(String(n)))),t===f?t[n]=i:o?t[n]?t[n]=i:A(t,n,i):(delete t[n],A(t,n,i)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[e]||n.call(this)})}),M=function(t,e,n){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},R=function(t,e,n){var r,i,o,s,a=t&R.F,u=t&R.G,c=t&R.S,l=t&R.P,h=t&R.B,p=u?f:c?f[e]||(f[e]={}):(f[e]||{}).prototype,v=u?d:d[e]||(d[e]={}),m=v.prototype||(v.prototype={});for(r in u&&(n=e),n)o=((i=!a&&p&&void 0!==p[r])?p:n)[r],s=h&&i?M(o,f):l&&"function"==typeof o?M(Function.call,o):o,p&&O(p,r,o,t&R.U),v[r]!=o&&A(v,r,s),l&&m[r]!=o&&(m[r]=o)};f.core=d,R.F=1,R.G=2,R.S=4,R.P=8,R.B=16,R.W=32,R.U=64,R.R=128;var F=R,L={}.toString,j=function(t){return L.call(t).slice(8,-1)},V=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==j(t)?t.split(""):Object(t)},B=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t},U=function(t){return Object(B(t))},q=Math.ceil,H=Math.floor,W=function(t){return isNaN(t=+t)?0:(t>0?H:q)(t)},z=Math.min,K=function(t){return t>0?z(W(t),9007199254740991):0},G=Array.isArray||function(t){return"Array"==j(t)},Q=f["__core-js_shared__"]||(f["__core-js_shared__"]={}),X=function(t){return Q[t]||(Q[t]={})},$=p(function(t){var e=X("wks"),n=f.Symbol,r="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=r&&n[t]||(r?n:P)("Symbol."+t))}).store=e}),Y=$("species"),J=function(t,e){return new(function(t){var e;return G(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!G(e.prototype)||(e=void 0),v(e)&&null===(e=e[Y])&&(e=void 0)),void 0===e?Array:e}(t))(e)},Z=function(t,e){var n=1==t,r=2==t,i=3==t,o=4==t,s=6==t,a=5==t||s,u=e||J;return function(e,c,l){for(var h,p,f=U(e),d=V(f),v=M(c,l,3),m=K(d.length),y=0,g=n?u(e,m):r?u(e,0):void 0;m>y;y++)if((a||y in d)&&(p=v(h=d[y],y,f),t))if(n)g[y]=p;else if(p)switch(t){case 3:return!0;case 5:return h;case 6:return y;case 2:g.push(h)}else if(o)return!1;return s?-1:i||o?o:g}},tt=$("unscopables"),et=Array.prototype;void 0==et[tt]&&A(et,tt,{});var nt=function(t){et[tt][t]=!0},rt=Z(5),it=!0;"find"in[]&&Array(1).find(function(){it=!1}),F(F.P+F.F*it,"Array",{find:function(t){return rt(this,t,arguments.length>1?arguments[1]:void 0)}}),nt("find");d.Array.find;var ot=Z(6),st=!0;"findIndex"in[]&&Array(1).findIndex(function(){st=!1}),F(F.P+F.F*st,"Array",{findIndex:function(t){return ot(this,t,arguments.length>1?arguments[1]:void 0)}}),nt("findIndex");d.Array.findIndex;var at,ut=function(t){return V(B(t))},ct=Math.max,lt=Math.min,ht=X("keys"),pt=function(t){return ht[t]||(ht[t]=P(t))},ft=(at=!1,function(t,e,n){var r,i=ut(t),o=K(i.length),s=function(t,e){return(t=W(t))<0?ct(t+e,0):lt(t,e)}(n,o);if(at&&e!=e){for(;o>s;)if((r=i[s++])!=r)return!0}else for(;o>s;s++)if((at||s in i)&&i[s]===e)return at||s||0;return!at&&-1}),dt=pt("IE_PROTO"),vt=function(t,e){var n,r=ut(t),i=0,o=[];for(n in r)n!=dt&&I(r,n)&&o.push(n);for(;e.length>i;)I(r,n=e[i++])&&(~ft(o,n)||o.push(n));return o},mt="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),yt=Object.keys||function(t){return vt(t,mt)},gt={f:Object.getOwnPropertySymbols},bt={f:{}.propertyIsEnumerable},wt=Object.assign,_t=!wt||y(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=wt({},t)[n]||Object.keys(wt({},e)).join("")!=r})?function(t,e){for(var n=U(t),r=arguments.length,i=1,o=gt.f,s=bt.f;r>i;)for(var a,u=V(arguments[i++]),c=o?yt(u).concat(o(u)):yt(u),l=c.length,h=0;l>h;)s.call(u,a=c[h++])&&(n[a]=u[a]);return n}:wt;F(F.S+F.F,"Object",{assign:_t});d.Object.assign;var Et=$("match"),Ct=function(t,e,n){if(v(r=e)&&(void 0!==(i=r[Et])?i:"RegExp"==j(r)))throw TypeError("String#"+n+" doesn't accept regex!");var r,i;return String(B(t))},St=$("match"),xt="".startsWith;F(F.P+F.F*function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[St]=!1,!"/./"[t](e)}catch(t){}}return!0}("startsWith"),"String",{startsWith:function(t){var e=Ct(this,t,"startsWith"),n=K(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return xt?xt.call(e,r,n):e.slice(n,n+r.length)===r}});d.String.startsWith;F(F.P,"String",{repeat:function(t){var e=String(B(this)),n="",r=W(t);if(r<0||r==1/0)throw RangeError("Count can't be negative");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n}});d.String.repeat;var Tt=p(function(t){var e=P("meta"),n=x.f,r=0,i=Object.isExtensible||function(){return!0},o=!y(function(){return i(Object.preventExtensions({}))}),s=function(t){n(t,e,{value:{i:"O"+ ++r,w:{}}})},a=t.exports={KEY:e,NEED:!1,fastKey:function(t,n){if(!v(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!I(t,e)){if(!i(t))return"F";if(!n)return"E";s(t)}return t[e].i},getWeak:function(t,n){if(!I(t,e)){if(!i(t))return!0;if(!n)return!1;s(t)}return t[e].w},onFreeze:function(t){return o&&a.NEED&&i(t)&&!I(t,e)&&s(t),t}}}),At=(Tt.KEY,Tt.NEED,Tt.fastKey,Tt.getWeak,Tt.onFreeze,x.f),Dt=$("toStringTag"),It=function(t,e,n){t&&!I(t=n?t:t.prototype,Dt)&&At(t,Dt,{configurable:!0,value:e})},Nt={f:$},kt=x.f,Pt=function(t){var e=d.Symbol||(d.Symbol=f.Symbol||{});"_"==t.charAt(0)||t in e||kt(e,t,{value:Nt.f(t)})},Ot=g?Object.defineProperties:function(t,e){m(t);for(var n,r=yt(e),i=r.length,o=0;i>o;)x.f(t,n=r[o++],e[n]);return t},Mt=f.document,Rt=Mt&&Mt.documentElement,Ft=pt("IE_PROTO"),Lt=function(){},jt=function(){var t,e=_("iframe"),n=mt.length;for(e.style.display="none",Rt.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),jt=t.F;n--;)delete jt.prototype[mt[n]];return jt()},Vt=Object.create||function(t,e){var n;return null!==t?(Lt.prototype=m(t),n=new Lt,Lt.prototype=null,n[Ft]=t):n=jt(),void 0===e?n:Ot(n,e)},Bt=mt.concat("length","prototype"),Ut={f:Object.getOwnPropertyNames||function(t){return vt(t,Bt)}},qt=Ut.f,Ht={}.toString,Wt="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],zt={f:function(t){return Wt&&"[object Window]"==Ht.call(t)?function(t){try{return qt(t)}catch(t){return Wt.slice()}}(t):qt(ut(t))}},Kt=Object.getOwnPropertyDescriptor,Gt={f:g?Kt:function(t,e){if(t=ut(t),e=C(e,!0),E)try{return Kt(t,e)}catch(t){}if(I(t,e))return T(!bt.f.call(t,e),t[e])}},Qt=Tt.KEY,Xt=Gt.f,$t=x.f,Yt=zt.f,Jt=f.Symbol,Zt=f.JSON,te=Zt&&Zt.stringify,ee=$("_hidden"),ne=$("toPrimitive"),re={}.propertyIsEnumerable,ie=X("symbol-registry"),oe=X("symbols"),se=X("op-symbols"),ae=Object.prototype,ue="function"==typeof Jt,ce=f.QObject,le=!ce||!ce.prototype||!ce.prototype.findChild,he=g&&y(function(){return 7!=Vt($t({},"a",{get:function(){return $t(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=Xt(ae,e);r&&delete ae[e],$t(t,e,n),r&&t!==ae&&$t(ae,e,r)}:$t,pe=function(t){var e=oe[t]=Vt(Jt.prototype);return e._k=t,e},fe=ue&&"symbol"==typeof Jt.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof Jt},de=function(t,e,n){return t===ae&&de(se,e,n),m(t),e=C(e,!0),m(n),I(oe,e)?(n.enumerable?(I(t,ee)&&t[ee][e]&&(t[ee][e]=!1),n=Vt(n,{enumerable:T(0,!1)})):(I(t,ee)||$t(t,ee,T(1,{})),t[ee][e]=!0),he(t,e,n)):$t(t,e,n)},ve=function(t,e){m(t);for(var n,r=function(t){var e=yt(t),n=gt.f;if(n)for(var r,i=n(t),o=bt.f,s=0;i.length>s;)o.call(t,r=i[s++])&&e.push(r);return e}(e=ut(e)),i=0,o=r.length;o>i;)de(t,n=r[i++],e[n]);return t},me=function(t){var e=re.call(this,t=C(t,!0));return!(this===ae&&I(oe,t)&&!I(se,t))&&(!(e||!I(this,t)||!I(oe,t)||I(this,ee)&&this[ee][t])||e)},ye=function(t,e){if(t=ut(t),e=C(e,!0),t!==ae||!I(oe,e)||I(se,e)){var n=Xt(t,e);return!n||!I(oe,e)||I(t,ee)&&t[ee][e]||(n.enumerable=!0),n}},ge=function(t){for(var e,n=Yt(ut(t)),r=[],i=0;n.length>i;)I(oe,e=n[i++])||e==ee||e==Qt||r.push(e);return r},be=function(t){for(var e,n=t===ae,r=Yt(n?se:ut(t)),i=[],o=0;r.length>o;)!I(oe,e=r[o++])||n&&!I(ae,e)||i.push(oe[e]);return i};ue||(O((Jt=function(){if(this instanceof Jt)throw TypeError("Symbol is not a constructor!");var t=P(arguments.length>0?arguments[0]:void 0),e=function(n){this===ae&&e.call(se,n),I(this,ee)&&I(this[ee],t)&&(this[ee][t]=!1),he(this,t,T(1,n))};return g&&le&&he(ae,t,{configurable:!0,set:e}),pe(t)}).prototype,"toString",function(){return this._k}),Gt.f=ye,x.f=de,Ut.f=zt.f=ge,bt.f=me,gt.f=be,g&&O(ae,"propertyIsEnumerable",me,!0),Nt.f=function(t){return pe($(t))}),F(F.G+F.W+F.F*!ue,{Symbol:Jt});for(var we="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),_e=0;we.length>_e;)$(we[_e++]);for(var Ee=yt($.store),Ce=0;Ee.length>Ce;)Pt(Ee[Ce++]);F(F.S+F.F*!ue,"Symbol",{for:function(t){return I(ie,t+="")?ie[t]:ie[t]=Jt(t)},keyFor:function(t){if(!fe(t))throw TypeError(t+" is not a symbol!");for(var e in ie)if(ie[e]===t)return e},useSetter:function(){le=!0},useSimple:function(){le=!1}}),F(F.S+F.F*!ue,"Object",{create:function(t,e){return void 0===e?Vt(t):ve(Vt(t),e)},defineProperty:de,defineProperties:ve,getOwnPropertyDescriptor:ye,getOwnPropertyNames:ge,getOwnPropertySymbols:be}),Zt&&F(F.S+F.F*(!ue||y(function(){var t=Jt();return"[null]"!=te([t])||"{}"!=te({a:t})||"{}"!=te(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(v(e)||void 0!==t)&&!fe(t))return G(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!fe(e))return e}),r[1]=e,te.apply(Zt,r)}}),Jt.prototype[ne]||A(Jt.prototype,ne,Jt.prototype.valueOf),It(Jt,"Symbol"),It(Math,"Math",!0),It(f.JSON,"JSON",!0);var Se=$("toStringTag"),xe="Arguments"==j(function(){return arguments}()),Te={};Te[$("toStringTag")]="z",Te+""!="[object z]"&&O(Object.prototype,"toString",function(){return"[object "+(void 0===(t=this)?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Se))?n:xe?j(e):"Object"==(r=j(e))&&"function"==typeof e.callee?"Arguments":r)+"]";var t,e,n,r},!0),Pt("asyncIterator"),Pt("observable");d.Symbol;var Ae={},De={};A(De,$("iterator"),function(){return this});var Ie,Ne=function(t,e,n){t.prototype=Vt(De,{next:T(1,n)}),It(t,e+" Iterator")},ke=pt("IE_PROTO"),Pe=Object.prototype,Oe=Object.getPrototypeOf||function(t){return t=U(t),I(t,ke)?t[ke]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Pe:null},Me=$("iterator"),Re=!([].keys&&"next"in[].keys()),Fe=function(){return this},Le=function(t,e,n,r,i,o,s){Ne(n,e,r);var a,u,c,l=function(t){if(!Re&&t in d)return d[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},h=e+" Iterator",p="values"==i,f=!1,d=t.prototype,v=d[Me]||d["@@iterator"]||i&&d[i],m=v||l(i),y=i?p?l("entries"):m:void 0,g="Array"==e&&d.entries||v;if(g&&(c=Oe(g.call(new t)))!==Object.prototype&&c.next&&(It(c,h,!0),"function"!=typeof c[Me]&&A(c,Me,Fe)),p&&v&&"values"!==v.name&&(f=!0,m=function(){return v.call(this)}),(Re||f||!d[Me])&&A(d,Me,m),Ae[e]=m,Ae[h]=Fe,i)if(a={values:p?m:l("values"),keys:o?m:l("keys"),entries:y},s)for(u in a)u in d||O(d,u,a[u]);else F(F.P+F.F*(Re||f),e,a);return a},je=(Ie=!0,function(t,e){var n,r,i=String(B(t)),o=W(e),s=i.length;return o<0||o>=s?Ie?"":void 0:(n=i.charCodeAt(o))<55296||n>56319||o+1===s||(r=i.charCodeAt(o+1))<56320||r>57343?Ie?i.charAt(o):n:Ie?i.slice(o,o+2):r-56320+(n-55296<<10)+65536});Le(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=je(e,n),this._i+=t.length,{value:t,done:!1})});var Ve=function(t,e){return{value:e,done:!!t}},Be=Le(Array,"Array",function(t,e){this._t=ut(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,Ve(1)):Ve(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values");Ae.Arguments=Ae.Array,nt("keys"),nt("values"),nt("entries");for(var Ue=$("iterator"),qe=$("toStringTag"),He=Ae.Array,We={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},ze=yt(We),Ke=0;Ke<ze.length;Ke++){var Ge,Qe=ze[Ke],Xe=We[Qe],$e=f[Qe],Ye=$e&&$e.prototype;if(Ye&&(Ye[Ue]||A(Ye,Ue,He),Ye[qe]||A(Ye,qe,Qe),Ae[Qe]=He,Xe))for(Ge in Be)Ye[Ge]||O(Ye,Ge,Be[Ge],!0)}Nt.f("iterator")},os0x:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return i}),n.d(e,"__assign",function(){return o}),n.d(e,"__rest",function(){return s}),n.d(e,"__decorate",function(){return a}),n.d(e,"__param",function(){return u}),n.d(e,"__metadata",function(){return c}),n.d(e,"__awaiter",function(){return l}),n.d(e,"__generator",function(){return h}),n.d(e,"__exportStar",function(){return p}),n.d(e,"__values",function(){return f}),n.d(e,"__read",function(){return d}),n.d(e,"__spread",function(){return v}),n.d(e,"__await",function(){return m}),n.d(e,"__asyncGenerator",function(){return y}),n.d(e,"__asyncDelegator",function(){return g}),n.d(e,"__asyncValues",function(){return b}),n.d(e,"__makeTemplateObject",function(){return w}),n.d(e,"__importStar",function(){return _}),n.d(e,"__importDefault",function(){return E});var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})}function h(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function p(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function f(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function d(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function y(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||a(t,e)})})}function a(t,e){try{(n=i[t](e)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(t){l(o[0][3],t)}var n}function u(t){a("next",t)}function c(t){a("throw",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function g(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){t[r]&&(e[r]=function(e){return(n=!n)?{value:m(t[r](e)),done:"return"===r}:i?i(e):e})}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator];return e?e.call(t):f(t)}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function _(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}},"q/0M":function(t,e,n){"use strict";n.r(e),n.d(e,"setLogLevel",function(){return u}),n.d(e,"Logger",function(){return a}),n.d(e,"LogLevel",function(){return r});var r,i=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(r||(r={}));var o=r.INFO,s=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString();switch(e){case r.DEBUG:case r.VERBOSE:console.log.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case r.INFO:console.info.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case r.WARN:console.warn.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case r.ERROR:console.error.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},a=function(){function t(t){this.name=t,this._logLevel=o,this._logHandler=s,i.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in r))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.DEBUG].concat(t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.VERBOSE].concat(t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.INFO].concat(t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.WARN].concat(t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,r.ERROR].concat(t))},t}();function u(t){i.forEach(function(e){e.logLevel=t})}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("zVF4"),i=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o="[DEFAULT]",s=[],a=function(){function t(t,e,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled||!1,this.options_=r.deepCopy(t),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){s.push(t),setTimeout(function(){return t(null)},0)},removeAuthTokenListener:function(t){s=s.filter(function(e){return e!==t})}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this._automaticDataCollectionEnabled},set:function(t){this.checkDestroyed_(),this._automaticDataCollectionEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){t.firebase_.INTERNAL.removeApp(t.name_);var e=[];return Object.keys(t.services_).forEach(function(n){Object.keys(t.services_[n]).forEach(function(r){e.push(t.services_[n][r])})}),Promise.all(e.map(function(t){return t.INTERNAL.delete()}))}).then(function(){t.isDeleted_=!0,t.services_={}})},t.prototype._getService=function(t,e){if(void 0===e&&(e=o),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var n=e!==o?e:void 0,r=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),n);this.services_[t][e]=r}return this.services_[t][e]},t.prototype.extendApp=function(t){var e=this;r.deepExtend(this,t),t.INTERNAL&&t.INTERNAL.addAuthTokenListener&&(s.forEach(function(t){e.INTERNAL.addAuthTokenListener(t)}),s=[])},t.prototype.checkDestroyed_=function(){this.isDeleted_&&u("app-deleted",{name:this.name_})},t}();function u(t,e){throw c.create(t,e)}a.prototype.name&&a.prototype.options||a.prototype.delete||console.log("dc");var c=new r.ErrorFactory("app","Firebase",{"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."}),l=function t(){var e={},n={},s={},c={__esModule:!0,initializeApp:function(t,n){if(void 0===n&&(n={}),"object"!=typeof n||null===n){var r=n;n={name:r}}var s=n;void 0===s.name&&(s.name=o);var l=s.name;"string"==typeof l&&l||u("bad-app-name",{name:l+""}),i(e,l)&&u("duplicate-app",{name:l});var h=new a(t,s,c);return e[l]=h,p(h,"create"),h},app:l,apps:null,Promise:Promise,SDK_VERSION:"5.5.0",INTERNAL:{registerService:function(t,e,i,o,p){n[t]&&u("duplicate-service",{name:t}),n[t]=e,o&&(s[t]=o,h().forEach(function(t){o("create",t)}));var f=function(e){return void 0===e&&(e=l()),"function"!=typeof e[t]&&u("invalid-app-argument",{name:t}),e[t]()};return void 0!==i&&r.deepExtend(f,i),c[t]=f,a.prototype[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._getService.bind(this,t).apply(this,p?e:[])},f},createFirebaseNamespace:t,extendNamespace:function(t){r.deepExtend(c,t)},createSubscribe:r.createSubscribe,ErrorFactory:r.ErrorFactory,removeApp:function(t){p(e[t],"delete"),delete e[t]},factories:n,useAsService:f,Promise:Promise,deepExtend:r.deepExtend}};function l(t){return i(e,t=t||o)||u("no-app",{name:t}),e[t]}function h(){return Object.keys(e).map(function(t){return e[t]})}function p(t,e){Object.keys(n).forEach(function(n){var r=f(t,n);null!==r&&s[r]&&s[r](e,t)})}function f(t,e){if("serverAuth"===e)return null;var n=e;return t.options,n}return r.patchProperty(c,"default",c),Object.defineProperty(c,"apps",{get:h}),r.patchProperty(l,"App",a),c}();e.firebase=l,e.default=l},x7I3:function(t,e,n){"use strict";n.r(e),n.d(e,"createWebChannelTransport",function(){return kn}),n.d(e,"ErrorCode",function(){return Pn}),n.d(e,"EventType",function(){return On}),n.d(e,"WebChannel",function(){return Mn}),n.d(e,"XhrIoPool",function(){return Rn});var r,i="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},o=o||{},s=i;function a(t){return"string"==typeof t}function u(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function c(){}function l(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function h(t){return"array"==l(t)}function p(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){return"function"==l(t)}function d(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var v="closure_uid_"+(1e9*Math.random()>>>0),m=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function g(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:g).apply(null,arguments)}function w(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var _=Date.now||function(){return+new Date};function E(t,e){function n(){}n.prototype=e.prototype,t.L=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.mh=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function C(t){if(Error.captureStackTrace)Error.captureStackTrace(this,C);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function S(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");C.call(this,n+t[r])}function x(){0!=T&&(A[this[v]||(this[v]=++m)]=this),this.Ka=this.Ka,this.Qa=this.Qa}E(C,Error),C.prototype.name="CustomError",E(S,C),S.prototype.name="AssertionError";var T=0,A={};x.prototype.Ka=!1,x.prototype.bb=function(){if(!this.Ka&&(this.Ka=!0,this.F(),0!=T)){var t=this[v]||(this[v]=++m);if(0!=T&&this.Qa&&0<this.Qa.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete A[t]}},x.prototype.F=function(){if(this.Qa)for(;this.Qa.length;)this.Qa.shift()()};var D=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(a(t))return a(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},I=Array.prototype.lastIndexOf?function(t,e){return Array.prototype.lastIndexOf.call(t,e,t.length-1)}:function(t,e){var n=t.length-1;if(0>n&&(n=Math.max(0,t.length+n)),a(t))return a(e)&&1==e.length?t.lastIndexOf(e,n):-1;for(;0<=n;n--)if(n in t&&t[n]===e)return n;return-1},N=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=a(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},k=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=a(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function P(t){if(!h(t))for(var e=t.length-1;0<=e;e--)delete t[e];t.length=0}function O(t,e){var n;return(n=0<=(e=D(t,e)))&&Array.prototype.splice.call(t,e,1),n}function M(t){return Array.prototype.concat.apply([],arguments)}function R(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function F(t){return/^[\s\xa0]*$/.test(t)}var L,j=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function V(t,e){return t<e?-1:t>e?1:0}t:{var B=s.navigator;if(B){var U=B.userAgent;if(U){L=U;break t}}L=""}function q(t){return-1!=L.indexOf(t)}function H(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function W(t){var e,n=[],r=0;for(e in t)n[r++]=t[e];return n}function z(t){var e,n=[],r=0;for(e in t)n[r++]=e;return n}function K(t){var e,n={};for(e in t)n[e]=t[e];return n}var G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Q(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<G.length;o++)n=G[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function X(t){return X[" "](t),t}X[" "]=c;var $,Y,J=q("Opera"),Z=q("Trident")||q("MSIE"),tt=q("Edge"),et=tt||Z,nt=q("Gecko")&&!(-1!=L.toLowerCase().indexOf("webkit")&&!q("Edge"))&&!(q("Trident")||q("MSIE"))&&!q("Edge"),rt=-1!=L.toLowerCase().indexOf("webkit")&&!q("Edge");function it(){var t=s.document;return t?t.documentMode:void 0}t:{var ot="",st=(Y=L,nt?/rv:([^\);]+)(\)|;)/.exec(Y):tt?/Edge\/([\d\.]+)/.exec(Y):Z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Y):rt?/WebKit\/(\S+)/.exec(Y):J?/(?:Version)[ \/]?(\S+)/.exec(Y):void 0);if(st&&(ot=st?st[1]:""),Z){var at=it();if(null!=at&&at>parseFloat(ot)){$=String(at);break t}}$=ot}var ut,ct={};function lt(t){return function(t,e){var n=ct;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(){for(var e=0,n=j(String($)).split("."),r=j(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=V(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||V(0==s[2].length,0==a[2].length)||V(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var ht=s.document;ut=ht&&Z?it()||("CSS1Compat"==ht.compatMode?parseInt($,10):5):void 0;var pt=Object.freeze||function(t){return t},ft=!Z||9<=Number(ut),dt=Z&&!lt("9"),vt=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",c,e),s.removeEventListener("test",c,e)}catch(t){}return t}();function mt(t,e){this.type=t,this.currentTarget=this.target=e,this.defaultPrevented=this.Ea=!1,this.Be=!0}function yt(t,e){mt.call(this,t?t.type:""),this.relatedTarget=this.currentTarget=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0,this.key="",this.charCode=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.fb=null,t&&this.Kf(t,e)}mt.prototype.stopPropagation=function(){this.Ea=!0},mt.prototype.preventDefault=function(){this.defaultPrevented=!0,this.Be=!1},E(yt,mt);var gt=pt({2:"touch",3:"pen",4:"mouse"});yt.prototype.Kf=function(t,e){var n=this.type=t.type,r=t.changedTouches?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.currentTarget=e,e=t.relatedTarget){if(nt){t:{try{X(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,null===r?(this.offsetX=rt||void 0!==t.offsetX?t.offsetX:t.layerX,this.offsetY=rt||void 0!==t.offsetY?t.offsetY:t.layerY,this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=t.button,this.keyCode=t.keyCode||0,this.key=t.key||"",this.charCode=t.charCode||("keypress"==n?t.keyCode:0),this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=a(t.pointerType)?t.pointerType:gt[t.pointerType]||"",this.state=t.state,this.fb=t,t.defaultPrevented&&this.preventDefault()},yt.prototype.stopPropagation=function(){yt.L.stopPropagation.call(this),this.fb.stopPropagation?this.fb.stopPropagation():this.fb.cancelBubble=!0},yt.prototype.preventDefault=function(){yt.L.preventDefault.call(this);var t=this.fb;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,dt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var bt="closure_listenable_"+(1e6*Math.random()|0);function wt(t){return!(!t||!t[bt])}var _t=0;function Et(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ob=i,this.key=++_t,this.Sa=this.Eb=!1}function Ct(t){this.src=t,this.J={},this.xb=0}function St(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Sa&&o.listener==e&&o.capture==!!n&&o.Ob==r)return i}return-1}Et.prototype.Vb=function(){this.Sa=!0,this.Ob=this.src=this.proxy=this.listener=null},(r=Ct.prototype).add=function(t,e,n,r,i){var o=t.toString();(t=this.J[o])||(t=this.J[o]=[],this.xb++);var s=St(t,e,r,i);return-1<s?(e=t[s],n||(e.Eb=!1)):((e=new Et(e,this.src,o,!!r,i)).Eb=n,t.push(e)),e},r.remove=function(t,e,n,r){if(!((t=t.toString())in this.J))return!1;var i=this.J[t];return-1<(e=St(i,e,n,r))&&(i[e].Vb(),Array.prototype.splice.call(i,e,1),0==i.length&&(delete this.J[t],this.xb--),!0)},r.ye=function(t){var e=t.type;e in this.J&&O(this.J[e],t)&&(t.Vb(),0==this.J[e].length&&(delete this.J[e],this.xb--))},r.pb=function(t){var e;for(e in t=t&&t.toString(),this.J)if(!t||e==t){for(var n=this.J[e],r=0;r<n.length;r++)n[r].Vb();delete this.J[e],this.xb--}},r.jb=function(t,e,n,r){var i=-1;return(t=this.J[t.toString()])&&(i=St(t,e,n,r)),-1<i?t[i]:null};var xt="closure_lm_"+(1e6*Math.random()|0),Tt={};function At(t,e,n,r,i){if(r&&r.once)return It(t,e,n,r,i);if(h(e)){for(var o=0;o<e.length;o++)At(t,e[o],n,r,i);return null}return n=Lt(n),wt(t)?t.nb(e,n,d(r)?!!r.capture:!!r,i):Dt(t,e,n,!1,r,i)}function Dt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=d(i)?!!i.capture:!!i,a=Rt(t);if(a||(t[xt]=a=new Ct(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Mt,e=ft?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)vt||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(kt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function It(t,e,n,r,i){if(h(e)){for(var o=0;o<e.length;o++)It(t,e[o],n,r,i);return null}return n=Lt(n),wt(t)?t.Oc(e,n,d(r)?!!r.capture:!!r,i):Dt(t,e,n,!0,r,i)}function Nt(t){if("number"!=typeof t&&t&&!t.Sa){var e=t.src;if(wt(e))e.Le(t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(kt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Rt(e))?(n.ye(t),0==n.xb&&(n.src=null,e[xt]=null)):t.Vb()}}}function kt(t){return t in Tt?Tt[t]:Tt[t]="on"+t}function Pt(t,e,n,r){var i=!0;if((t=Rt(t))&&(e=t.J[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.Sa&&(o=Ot(o,r),i=i&&!1!==o)}return i}function Ot(t,e){var n=t.listener,r=t.Ob||t.src;return t.Eb&&Nt(t),n.call(r,e)}function Mt(t,e){if(t.Sa)return!0;if(!ft){var n=e||u("window.event");e=new yt(n,this);var r=!0;if(!(0>n.keyCode||void 0!=n.returnValue)){t:{var i=!1;if(0==n.keyCode)try{n.keyCode=-1;break t}catch(t){i=!0}(i||void 0==n.returnValue)&&(n.returnValue=!0)}for(n=[],i=e.currentTarget;i;i=i.parentNode)n.push(i);for(t=t.type,i=n.length-1;!e.Ea&&0<=i;i--){e.currentTarget=n[i];var o=Pt(n[i],t,!0,e);r=r&&o}for(i=0;!e.Ea&&i<n.length;i++)e.currentTarget=n[i],o=Pt(n[i],t,!1,e),r=r&&o}return r}return Ot(t,new yt(e,this))}function Rt(t){return(t=t[xt])instanceof Ct?t:null}var Ft="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lt(t){return f(t)?t:(t[Ft]||(t[Ft]=function(e){return t.handleEvent(e)}),t[Ft])}function jt(){x.call(this),this.ka=new Ct(this),this.Pe=this,this.Uc=null}E(jt,x),jt.prototype[bt]=!0,(r=jt.prototype).addEventListener=function(t,e,n,r){At(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(h(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=d(i)?!!i.capture:!!i,r=Lt(r),wt(e)?e.ed(n,r,i,o):e&&(e=Rt(e))&&(n=e.jb(n,r,i,o))&&Nt(n)}(this,t,e,n,r)},r.dispatchEvent=function(t){var e,n=this.Uc;if(n)for(e=[];n;n=n.Uc)e.push(n);n=this.Pe;var r=t.type||t;if(a(t))t=new mt(t,n);else if(t instanceof mt)t.target=t.target||n;else{var i=t;Q(t=new mt(r,n),i)}if(i=!0,e)for(var o=e.length-1;!t.Ea&&0<=o;o--){var s=t.currentTarget=e[o];i=s.Lb(r,!0,t)&&i}if(t.Ea||(i=(s=t.currentTarget=n).Lb(r,!0,t)&&i,t.Ea||(i=s.Lb(r,!1,t)&&i)),e)for(o=0;!t.Ea&&o<e.length;o++)i=(s=t.currentTarget=e[o]).Lb(r,!1,t)&&i;return i},r.F=function(){jt.L.F.call(this),this.pg(),this.Uc=null},r.nb=function(t,e,n,r){return this.ka.add(String(t),e,!1,n,r)},r.Oc=function(t,e,n,r){return this.ka.add(String(t),e,!0,n,r)},r.ed=function(t,e,n,r){this.ka.remove(String(t),e,n,r)},r.Le=function(t){this.ka.ye(t)},r.pg=function(){this.ka&&this.ka.pb(void 0)},r.Lb=function(t,e,n){if(!(t=this.ka.J[String(t)]))return!0;t=t.concat();for(var r=!0,i=0;i<t.length;++i){var o=t[i];if(o&&!o.Sa&&o.capture==e){var s=o.listener,a=o.Ob||o.src;o.Eb&&this.Le(o),r=!1!==s.call(a,n)&&r}}return r&&0!=n.Be},r.jb=function(t,e,n,r){return this.ka.jb(String(t),e,n,r)};var Vt=s.JSON.stringify;function Bt(t,e){this.Sf=100,this.ef=t,this.ug=e,this.Zb=0,this.Pb=null}function Ut(){this.lc=this.Va=null}Bt.prototype.get=function(){if(0<this.Zb){this.Zb--;var t=this.Pb;this.Pb=t.next,t.next=null}else t=this.ef();return t},Bt.prototype.put=function(t){this.ug(t),this.Zb<this.Sf&&(this.Zb++,t.next=this.Pb,this.Pb=t)};var qt,Ht,Wt=new Bt(function(){return new zt},function(t){t.reset()});function zt(){this.next=this.scope=this.Gc=null}function Kt(t){s.setTimeout(function(){throw t},0)}function Gt(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);Ht=function(){t.then($t)}}else Ht=function(){var t=$t;!f(s.setImmediate)||s.Window&&s.Window.prototype&&!q("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(qt||(qt=function(){var t=s.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!q("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(""),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=b(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!q("Trident")&&!q("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).rd;n.rd=null,t()}},function(t){r.next={rd:t},r=r.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){s.setTimeout(t,0)}}()),qt(t)):s.setImmediate(t)}}Ut.prototype.add=function(t,e){var n=this.Af();n.set(t,e),this.lc?this.lc.next=n:this.Va=n,this.lc=n},Ut.prototype.remove=function(){var t=null;return this.Va&&(t=this.Va,this.Va=this.Va.next,this.Va||(this.lc=null),t.next=null),t},Ut.prototype.wg=function(t){Wt.put(t)},Ut.prototype.Af=function(){return Wt.get()},zt.prototype.set=function(t,e){this.Gc=t,this.scope=e,this.next=null},zt.prototype.reset=function(){this.next=this.scope=this.Gc=null};var Qt=!1,Xt=new Ut;function $t(){for(var t;t=Xt.remove();){try{t.Gc.call(t.scope)}catch(t){Kt(t)}Xt.wg(t)}Qt=!1}function Yt(t,e){jt.call(this),this.Na=t||1,this.wb=e||s,this.nd=b(this.Rg,this),this.ie=_()}function Jt(t,e,n){if(f(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function Zt(t,e,n){x.call(this),this.Uf=null!=n?b(t,n):t,this.Na=e,this.Xe=b(this.fg,this),this.qc=[]}function te(t){x.call(this),this.i=t,this.o={}}E(Yt,jt),(r=Yt.prototype).enabled=!1,r.B=null,r.setInterval=function(t){this.Na=t,this.B&&this.enabled?(this.stop(),this.start()):this.B&&this.stop()},r.Rg=function(){if(this.enabled){var t=_()-this.ie;0<t&&t<.8*this.Na?this.B=this.wb.setTimeout(this.nd,this.Na-t):(this.B&&(this.wb.clearTimeout(this.B),this.B=null),this.ff(),this.enabled&&(this.stop(),this.start()))}},r.ff=function(){this.dispatchEvent("tick")},r.start=function(){this.enabled=!0,this.B||(this.B=this.wb.setTimeout(this.nd,this.Na),this.ie=_())},r.stop=function(){this.enabled=!1,this.B&&(this.wb.clearTimeout(this.B),this.B=null)},r.F=function(){Yt.L.F.call(this),this.stop(),delete this.wb},E(Zt,x),(r=Zt.prototype).Ta=!1,r.ob=0,r.B=null,r.mf=function(t){this.qc=arguments,this.B||this.ob?this.Ta=!0:this.Cc()},r.stop=function(){this.B&&(s.clearTimeout(this.B),this.B=null,this.Ta=!1,this.qc=[])},r.pause=function(){this.ob++},r.resume=function(){this.ob--,this.ob||!this.Ta||this.B||(this.Ta=!1,this.Cc())},r.F=function(){Zt.L.F.call(this),this.stop()},r.fg=function(){this.B=null,this.Ta&&!this.ob&&(this.Ta=!1,this.Cc())},r.Cc=function(){this.B=Jt(this.Xe,this.Na),this.Uf.apply(null,this.qc)},E(te,x);var ee=[];function ne(t,e,n){this.reset(t,e,n,void 0,void 0)}function re(t){this.pe=t,this.Zd=this.uc=this.mb=this.$b=null}function ie(t,e){this.name=t,this.value=e}(r=te.prototype).nb=function(t,e,n,r){return this.Tf(t,e,n,r)},r.Tf=function(t,e,n,r){h(e)||(e&&(ee[0]=e.toString()),e=ee);for(var i=0;i<e.length;i++){var o=At(t,e[i],n||this.handleEvent,r||!1,this.i||this);if(!o)break;this.o[o.key]=o}return this},r.Oc=function(t,e,n,r){return this.je(t,e,n,r)},r.je=function(t,e,n,r,i){if(h(e))for(var o=0;o<e.length;o++)this.je(t,e[o],n,r,i);else{if(!(t=It(t,e,n||this.handleEvent,r,i||this.i||this)))return this;this.o[t.key]=t}return this},r.ed=function(t,e,n,r,i){if(h(e))for(var o=0;o<e.length;o++)this.ed(t,e[o],n,r,i);else n=n||this.handleEvent,r=d(r)?!!r.capture:!!r,i=i||this.i||this,n=Lt(n),r=!!r,(e=wt(t)?t.jb(e,n,r,i):t&&(t=Rt(t))?t.jb(e,n,r,i):null)&&(Nt(e),delete this.o[e.key])},r.pb=function(){H(this.o,function(t,e){this.o.hasOwnProperty(e)&&Nt(t)},this),this.o={}},r.F=function(){te.L.F.call(this),this.pb()},r.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ne.prototype.Md=null,ne.prototype.reset=function(t,e,n,r,i){this.mb=t,delete this.Md},ne.prototype.Bg=function(t){this.Md=t},ne.prototype.Ge=function(t){this.mb=t},ie.prototype.toString=function(){return this.name};var oe=new ie("SEVERE",1e3),se=new ie("WARNING",900),ae=new ie("INFO",800),ue=new ie("CONFIG",700),ce=new ie("FINE",500);(r=re.prototype).getName=function(){return this.pe},r.getParent=function(){return this.$b},r.pf=function(){return this.uc||(this.uc={}),this.uc},r.Ge=function(t){this.mb=t},r.Qd=function(){return this.mb?this.mb:this.$b?this.$b.Qd():(function(t,e){throw new S("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}("Root logger has no level set."),null)},r.Pf=function(t){return t.value>=this.Qd().value},r.log=function(t,e,n){this.Pf(t)&&(f(e)&&(e=e()),this.gf(this.uf(t,e,n)))},r.uf=function(t,e,n){return t=new ne(t,String(e),this.pe),n&&t.Bg(n),t},r.ca=function(t,e){this.log(oe,t,e)},r.T=function(t,e){this.log(se,t,e)},r.info=function(t,e){this.log(ae,t,e)},r.lf=function(t){this.log(ce,t,void 0)},r.gf=function(t){for(var e=this;e;)e.We(t),e=e.getParent()},r.We=function(t){if(this.Zd)for(var e,n=0;e=this.Zd[n];n++)e(t)},r.Fg=function(t){this.$b=t},r.Qe=function(t,e){this.pf()[t]=e};var le={},he=null;function pe(t){var e;if(he||(he=new re(""),le[""]=he,he.Ge(ue)),!(e=le[t])){e=new re(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=pe(t.substr(0,n))).Qe(r,e),e.Fg(n),le[t]=e}return e}function fe(t,e){t&&t.info(e,void 0)}function de(t,e){t&&t.lf(e)}function ve(){this.s=pe("goog.labs.net.webChannel.WebChannelDebug"),this.Wc=!0}(r=ve.prototype).Id=function(){this.Wc=!1},r.Tg=function(t,e,n,r,i){var o=this;this.info(function(){return"XMLHTTP REQ ("+n+") [attempt "+r+"]: "+t+"\n"+e+"\n"+o.Xf(i)})},r.Ug=function(t,e,n,r,i,o){this.info(function(){return"XMLHTTP RESP ("+n+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+i+" "+o})},r.Wa=function(t,e,n){var r=this;this.info(function(){return"XMLHTTP TEXT ("+t+"): "+r.ng(e)+(n?" "+n:"")})},r.Sg=function(t){this.info(function(){return"TIMEOUT: "+t})},r.debug=function(t){de(this.s,t)},r.cb=function(t,e){var n=this.s;n&&n.ca(e||"Exception",t)},r.info=function(t){fe(this.s,t)},r.T=function(t){var e=this.s;e&&e.T(t,void 0)},r.ca=function(t){var e=this.s;e&&e.ca(t,void 0)},r.ng=function(t){if(!this.Wc)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(var n=0;n<e.length;n++)h(e[n])&&this.Wf(e[n]);return Vt(e)}catch(e){return this.debug("Exception parsing expected JS array - probably was not JS"),t}},r.Wf=function(t){if(!(2>t.length||(t=t[1],!h(t)||1>t.length))){var e=t[0];if("noop"!=e&&"stop"!=e&&"close"!=e)for(e=1;e<t.length;e++)t[e]=""}},r.Xf=function(t){if(!this.Wc)return t;if(!t)return null;var e="";t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].split("=");if(1<r.length){var i=r[0];r=r[1];var o=i.split("_");e=2<=o.length&&"type"==o[1]?e+(i+"=")+r+"&":e+(i+"=redacted&")}}return e};var me=new jt;function ye(t){mt.call(this,"serverreachability",t)}function ge(t){me.dispatchEvent(new ye(me,t))}function be(t,e){mt.call(this,"statevent",t),this.stat=e}function we(t){me.dispatchEvent(new be(me,t))}function _e(t,e,n){mt.call(this,"timingevent",t),this.size=e,this.rtt=n}function Ee(t,e){if(!f(t))throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){t()},e)}E(ye,mt),E(be,mt),E(_e,mt);var Ce={NO_ERROR:0,Vg:1,bh:2,ah:3,Yg:4,$g:5,dh:6,Ne:7,TIMEOUT:8,gh:9},Se={Xg:"complete",kh:"success",Oe:"error",Ne:"abort",ih:"ready",jh:"readystatechange",TIMEOUT:"timeout",eh:"incrementaldata",hh:"progress",Zg:"downloadprogress",lh:"uploadprogress"};function xe(){}function Te(){}xe.prototype.pd=null,xe.prototype.Vd=function(){return this.pd||(this.pd=this.Mf())};var Ae,De={OPEN:"a",Wg:"b",Oe:"c",fh:"d"};function Ie(){mt.call(this,"d")}function Ne(){mt.call(this,"c")}function ke(){}function Pe(t,e,n,r,i){this.b=t,this.a=e,this.ra=n,this.R=r,this.Xc=i||1,this.Fc=new te(this),this.Ua=Oe,t=et?125:void 0,this.Vc=new Yt(t),this.A=null,this.S=!1,this.Da=this.pa=this.ua=this.ic=this.qb=this.hd=this.Ga=null,this.ba=[],this.h=null,this.Bb=0,this.I=this.Fa=null,this.w=-1,this.Za=!1,this.Ra=0,this.ac=null,this.lb=this.Ed=this.yc=!1}E(Ie,mt),E(Ne,mt),E(ke,xe),ke.prototype.Dd=function(){var t=this.Wd();return t?new ActiveXObject(t):new XMLHttpRequest},ke.prototype.Mf=function(){var t={};return this.Wd()&&(t[0]=!0,t[1]=!0),t},ke.prototype.Wd=function(){if(!this.be&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],e=0;e<t.length;e++){var n=t[e];try{return new ActiveXObject(n),this.be=n}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return this.be},Ae=new ke;var Oe=45e3;var Me={},Re={};function Fe(t){if(t.H&&"function"==typeof t.H)return t.H();if(a(t))return t.split("");if(p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}return W(t)}function Le(t,e,n){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,n);else if(p(t)||a(t))N(t,e,n);else{if(t.W&&"function"==typeof t.W)var r=t.W();else if(t.H&&"function"==typeof t.H)r=void 0;else if(p(t)||a(t)){r=[];for(var i=t.length,o=0;o<i;o++)r.push(o)}else r=z(t);o=(i=Fe(t)).length;for(var s=0;s<o;s++)e.call(n,i[s],r&&r[s],t)}}function je(t,e){this.D={},this.o=[],this.j=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else t&&this.addAll(t)}function Ve(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(r=Pe.prototype).ga=function(t){this.A=t},r.setTimeout=function(t){this.Ua=t},r.He=function(t){this.Ra=t},r.Gg=function(t){this.ba=t},r.la=function(){return this.ba},r.kd=function(t,e){this.ic=1,this.ua=t.clone().Ub(),this.Da=e,this.yc=!0,this.Ce(null)},r.jd=function(t,e,n){this.ic=1,this.ua=t.clone().Ub(),this.Da=null,this.yc=e,this.Ce(n)},r.Ce=function(t){this.qb=_(),this.eb(),this.pa=this.ua.clone(),this.pa.dc("t",this.Xc),this.Bb=0,this.h=this.b.Jb(this.b.fc()?t:null),0<this.Ra&&(this.ac=new Zt(b(this.Me,this,this.h),this.Ra)),this.Fc.nb(this.h,"readystatechange",this.mg),t=this.A?K(this.A):{},this.Da?(this.Fa||(this.Fa="POST"),t["Content-Type"]="application/x-www-form-urlencoded",this.h.send(this.pa,this.Fa,this.Da,t)):(this.Fa="GET",this.h.send(this.pa,this.Fa,null,t)),ge(1),this.a.Tg(this.Fa,this.pa,this.R,this.Xc,this.Da)},r.mg=function(t){t=t.target;var e=this.ac;e&&3==t.ma()?(this.a.debug("Throttling readystatechange."),e.mf()):this.Me(t)},r.Me=function(t){try{t==this.h?this.hg():this.a.T("Called back with an unexpected xmlhttp")}catch(t){if(this.a.debug("Failed call to OnXmlHttpReadyStateChanged_"),this.h&&this.h.ya()){var e=this;this.a.cb(t,function(){return"ResponseText: "+e.h.ya()})}else this.a.cb(t,"No response text")}},r.hg=function(){var t=this.h.ma(),e=this.h.Ud(),n=this.h.za();if(!(3>t||3==t&&!et&&!this.h.ya())){this.Za||4!=t||7==e||ge(8==e||0>=n?3:2),this.Fb();var r=this.h.za();if(this.w=r,!(e=this.h.ya())){var i=this;this.a.debug(function(){return"No response text for uri "+i.pa+" status "+r})}if(this.S=200==r,this.a.Ug(this.Fa,this.pa,this.R,this.Xc,t,r),this.S){if(this.Ig()){if(!(n=this.sf()))return this.S=!1,this.I=3,we(12),this.a.T("XMLHTTP Missing X_HTTP_INITIAL_RESPONSE ("+this.R+")"),this.Ia(),void this.Kb();this.a.Wa(this.R,n,"Initial handshake response via X-HTTP-Initial-Response"),this.lb=!0,this.Yc(n)}this.yc?(this.Fd(t,e),et&&this.S&&3==t&&this.Ng()):(this.a.Wa(this.R,e,null),this.Yc(e)),4==t&&this.Ia(),this.S&&!this.Za&&(4==t?this.b.Tc(this):(this.S=!1,this.eb()))}else 400==r&&0<e.indexOf("Unknown SID")?(this.I=3,we(12),this.a.T("XMLHTTP Unknown SID ("+this.R+")")):(this.I=0,we(13),this.a.T("XMLHTTP Bad status "+r+" ("+this.R+")")),this.Ia(),this.Kb()}},r.Ig=function(){return this.Ed&&!this.lb},r.sf=function(){if(this.h){var t=this.h.kb("X-HTTP-Initial-Response");if(t&&!F(t))return t}return null},r.Ag=function(){this.Ed=!0},r.Fd=function(t,e){for(var n=!0;!this.Za&&this.Bb<e.length;){var r=this.vf(e);if(r==Re){4==t&&(this.I=4,we(14),n=!1),this.a.Wa(this.R,null,"[Incomplete Response]");break}if(r==Me){this.I=4,we(15),this.a.Wa(this.R,e,"[Invalid Chunk]"),n=!1;break}this.a.Wa(this.R,r,null),this.Yc(r)}4==t&&0==e.length&&(this.I=1,we(16),n=!1),this.S=this.S&&n,n||(this.a.Wa(this.R,e,"[Invalid Chunked Response]"),this.Ia(),this.Kb())},r.kg=function(){if(this.h){var t=this.h.ma(),e=this.h.ya();this.Bb<e.length&&(this.Fb(),this.Fd(t,e),this.S&&4!=t&&this.eb())}},r.Ng=function(){this.Fc.nb(this.Vc,"tick",this.kg),this.Vc.start()},r.vf=function(t){var e=this.Bb,n=t.indexOf("\n",e);return-1==n?Re:(e=Number(t.substring(e,n)),isNaN(e)?Me:(n+=1)+e>t.length?Re:(t=t.substr(n,e),this.Bb=n+e,t))},r.yg=function(t){this.ic=2,this.ua=t.clone().Ub(),t=!1,s.navigator&&s.navigator.sendBeacon&&(t=s.navigator.sendBeacon(this.ua.toString(),"")),!t&&s.Image&&((new Image).src=this.ua,t=!0),t||(this.h=this.b.Jb(null),this.h.send(this.ua)),this.qb=_(),this.eb()},r.cancel=function(){this.Za=!0,this.Ia()},r.tg=function(t){t&&this.setTimeout(t),this.Ga&&(this.Fb(),this.eb())},r.eb=function(){this.hd=_()+this.Ua,this.Ke(this.Ua)},r.Ke=function(t){if(null!=this.Ga)throw Error("WatchDog timer not null");this.Ga=Ee(b(this.gg,this),t)},r.Fb=function(){this.Ga&&(s.clearTimeout(this.Ga),this.Ga=null)},r.gg=function(){this.Ga=null;var t=_();0<=t-this.hd?this.Df():(this.a.T("WatchDog timer called too early"),this.Ke(this.hd-t))},r.Df=function(){this.S&&this.a.ca("Received watchdog timeout even though request loaded successfully"),this.a.Sg(this.pa),2!=this.ic&&(ge(3),we(17)),this.Ia(),this.I=2,this.Kb()},r.Kb=function(){this.b.de()||this.Za||this.b.Tc(this)},r.Ia=function(){this.Fb();var t=this.ac;t&&"function"==typeof t.bb&&t.bb(),this.ac=null,this.Vc.stop(),this.Fc.pb(),this.h&&(t=this.h,this.h=null,t.abort(),t.bb())},r.Hc=function(){return this.I},r.Yc=function(t){try{this.b.ue(this,t),ge(4)}catch(t){this.a.cb(t,"Error in httprequest callback")}},(r=je.prototype).C=function(){return this.j},r.H=function(){this.wc();for(var t=[],e=0;e<this.o.length;e++)t.push(this.D[this.o[e]]);return t},r.W=function(){return this.wc(),this.o.concat()},r.va=function(t){return Ve(this.D,t)},r.X=function(){return 0==this.j},r.clear=function(){this.D={},this.j=this.o.length=0},r.remove=function(t){return!!Ve(this.D,t)&&(delete this.D[t],this.j--,this.o.length>2*this.j&&this.wc(),!0)},r.wc=function(){if(this.j!=this.o.length){for(var t=0,e=0;t<this.o.length;){var n=this.o[t];Ve(this.D,n)&&(this.o[e++]=n),t++}this.o.length=e}if(this.j!=this.o.length){var r={};for(e=t=0;t<this.o.length;)Ve(r,n=this.o[t])||(this.o[e++]=n,r[n]=1),t++;this.o.length=e}},r.get=function(t,e){return Ve(this.D,t)?this.D[t]:e},r.set=function(t,e){Ve(this.D,t)||(this.j++,this.o.push(t)),this.D[t]=e},r.addAll=function(t){if(t instanceof je)for(var e=t.W(),n=0;n<e.length;n++)this.set(e[n],t.get(e[n]));else for(e in t)this.set(e,t[e])},r.forEach=function(t,e){for(var n=this.W(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}},r.clone=function(){return new je(this)};var Be=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ue(t,e){var n;this.xa=this.zb=this.qa="",this.Ca=null,this.ib=this.K="",this.O=this.Qf=!1,t instanceof Ue?(this.O=void 0!==e?e:t.O,this.tb(t.qa),this.cd(t.zb),this.rb(t.xa),this.sb(t.Ca),this.ec(t.K),this.bd(t.P.clone()),this.$c(t.ib)):t&&(n=String(t).match(Be))?(this.O=!!e,this.tb(n[1]||"",!0),this.cd(n[2]||"",!0),this.rb(n[3]||"",!0),this.sb(n[4]),this.ec(n[5]||"",!0),this.bd(n[6]||"",!0),this.$c(n[7]||"",!0)):(this.O=!!e,this.P=new $e(null,this.O))}function qe(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function He(t,e,n){return a(t)?(t=encodeURI(t).replace(e,We),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function We(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}(r=Ue.prototype).toString=function(){var t=[],e=this.qa;e&&t.push(He(e,ze,!0),":");var n=this.xa;return(n||"file"==e)&&(t.push("//"),(e=this.zb)&&t.push(He(e,ze,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.Ca)&&t.push(":",String(n))),(n=this.K)&&(this.Ic()&&"/"!=n.charAt(0)&&t.push("/"),t.push(He(n,"/"==n.charAt(0)?Ge:Ke,!0))),(n=this.Rd())&&t.push("?",n),(n=this.ib)&&t.push("#",He(n,Xe)),t.join("")},r.resolve=function(t){var e=this.clone(),n=t.Hf();n?e.tb(t.qa):n=t.If(),n?e.cd(t.zb):n=t.Ic(),n?e.rb(t.xa):n=t.Ff();var r=t.K;if(n)e.sb(t.Ca);else if(n=t.ae()){if("/"!=r.charAt(0))if(this.Ic()&&!this.ae())r="/"+r;else{var i=e.K.lastIndexOf("/");-1!=i&&(r=e.K.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.ec(r):n=t.Gf(),n?e.bd(t.P.clone()):n=t.Ef(),n&&e.$c(t.ib),e},r.clone=function(){return new Ue(this)},r.tb=function(t,e){this.U(),(this.qa=e?qe(t,!0):t)&&(this.qa=this.qa.replace(/:$/,""))},r.Hf=function(){return!!this.qa},r.cd=function(t,e){this.U(),this.zb=e?qe(t):t},r.If=function(){return!!this.zb},r.rb=function(t,e){this.U(),this.xa=e?qe(t,!0):t},r.Ic=function(){return!!this.xa},r.sb=function(t){if(this.U(),t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);this.Ca=t}else this.Ca=null},r.Ff=function(){return null!=this.Ca},r.ec=function(t,e){this.U(),this.K=e?qe(t,!0):t},r.ae=function(){return!!this.K},r.Gf=function(){return""!==this.P.toString()},r.bd=function(t,e){this.U(),t instanceof $e?(this.P=t,this.P.ad(this.O)):(e||(t=He(t,Qe)),this.P=new $e(t,this.O))},r.Rd=function(){return this.P.toString()},r.getQuery=function(){return this.Rd()},r.l=function(t,e){this.U(),this.P.set(t,e)},r.dc=function(t,e){this.U(),h(e)||(e=[String(e)]),this.P.Ie(t,e)},r.$c=function(t,e){this.U(),this.ib=e?qe(t):t},r.Ef=function(){return!!this.ib},r.Ub=function(){return this.U(),this.l("zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^_()).toString(36)),this},r.removeParameter=function(t){return this.U(),this.P.remove(t),this},r.U=function(){if(this.Qf)throw Error("Tried to modify a read-only Uri")},r.ad=function(t){this.O=t,this.P&&this.P.ad(t)};var ze=/[#\/\?@]/g,Ke=/[#\?:]/g,Ge=/[#\?]/g,Qe=/[#\?@]/g,Xe=/#/g;function $e(t,e){this.j=this.m=null,this.ja=t||null,this.O=!!e}function Ye(t,e){this.b=t,this.a=e,this.f=this.A=null,this.bc=!1,this.K=null,this.w=-1,this.Ad=this.na=null}function Je(t){this.D=new je,t&&this.addAll(t)}function Ze(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[v]||(t[v]=++m)):e.substr(0,1)+t}function tn(t){this.me=t||en,s.PerformanceNavigationTiming?t=0<(t=s.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(s.vc&&s.vc.ke&&s.vc.ke()&&s.vc.ke().nh),this.Xb=t?this.me:1,this.v=null,1<this.Xb&&(this.v=new Je),this.f=null,this.ba=[]}(r=$e.prototype).$=function(){if(!this.m&&(this.m=new je,this.j=0,this.ja)){var t=this;!function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(this.ja,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})}},r.C=function(){return this.$(),this.j},r.add=function(t,e){this.$(),this.Oa(),t=this.Ma(t);var n=this.m.get(t);return n||this.m.set(t,n=[]),n.push(e),this.j+=1,this},r.remove=function(t){return this.$(),t=this.Ma(t),!!this.m.va(t)&&(this.Oa(),this.j-=this.m.get(t).length,this.m.remove(t))},r.clear=function(){this.Oa(),this.m=null,this.j=0},r.X=function(){return this.$(),0==this.j},r.va=function(t){return this.$(),t=this.Ma(t),this.m.va(t)},r.forEach=function(t,e){this.$(),this.m.forEach(function(n,r){N(n,function(n){t.call(e,n,r,this)},this)},this)},r.W=function(){this.$();for(var t=this.m.H(),e=this.m.W(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},r.H=function(t){this.$();var e=[];if(a(t))this.va(t)&&(e=M(e,this.m.get(this.Ma(t))));else{t=this.m.H();for(var n=0;n<t.length;n++)e=M(e,t[n])}return e},r.set=function(t,e){return this.$(),this.Oa(),t=this.Ma(t),this.va(t)&&(this.j-=this.m.get(t).length),this.m.set(t,[e]),this.j+=1,this},r.get=function(t,e){return t&&0<(t=this.H(t)).length?String(t[0]):e},r.Ie=function(t,e){this.remove(t),0<e.length&&(this.Oa(),this.m.set(this.Ma(t),R(e)),this.j+=e.length)},r.toString=function(){if(this.ja)return this.ja;if(!this.m)return"";for(var t=[],e=this.m.W(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.H(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.ja=t.join("&")},r.Oa=function(){this.ja=null},r.clone=function(){var t=new $e;return t.ja=this.ja,this.m&&(t.m=this.m.clone(),t.j=this.j),t},r.Ma=function(t){return t=String(t),this.O&&(t=t.toLowerCase()),t},r.ad=function(t){t&&!this.O&&(this.$(),this.Oa(),this.m.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(this.remove(e),this.Ie(n,t))},this)),this.O=t},r.extend=function(t){for(var e=0;e<arguments.length;e++)Le(arguments[e],function(t,e){this.add(e,t)},this)},E(function(){},function(){}),(r=Ye.prototype).g=null,r.ga=function(t){this.A=t},r.connect=function(t){this.K=t,t=this.b.Sd(this.K),we(3);var e=this.b.Ib.$d;null!=e?(this.na=this.b.$a(e[0]),this.g=1,this.xd()):(t.dc("MODE","init"),!this.b.ta&&this.b.aa&&t.dc("X-HTTP-Session-Id",this.b.aa),this.f=new Pe(this,this.a,void 0,void 0,void 0),this.f.ga(this.A),this.f.jd(t,!1,null),this.g=0)},r.xd=function(){this.a.debug("TestConnection: starting stage 2");var t=this.b.Ib.od;if(null!=t)this.a.debug(function(){return"Buffered"}),we(4),t?(we(10),this.b.ub(this,!1)):(we(11),this.b.ub(this,!0));else{this.f=new Pe(this,this.a,void 0,void 0,void 0),this.f.ga(this.A);var e=this.b.Pd(this.na,this.K);we(4),e.dc("TYPE","xmlhttp");var n=this.b.aa,r=this.b.Kc;n&&r&&e.l(n,r),this.f.jd(e,!1,this.na)}},r.Jb=function(t){return this.b.Jb(t)},r.abort=function(){this.f&&(this.f.cancel(),this.f=null),this.w=-1},r.de=function(){return!1},r.ue=function(t,e){if(this.w=t.w,0==this.g)if(this.a.debug("TestConnection: Got data for stage 1"),this.pc(t),e){try{var n=this.b.kc.zc(e)}catch(t){return this.a.cb(t),void this.b.dd(this)}this.na=this.b.$a(n[0])}else this.a.debug("TestConnection: Null responseText"),this.b.dd(this);else 1==this.g&&(this.bc?we(6):"11111"==e?(we(5),this.bc=!0,this.Ze()&&(this.w=200,this.f.cancel(),this.a.debug("Test connection succeeded; using streaming connection"),we(11),this.b.ub(this,!0))):(we(7),this.bc=!1))},r.Tc=function(){this.w=this.f.w,this.f.S?0==this.g?(this.g=1,this.a.debug("TestConnection: request complete for initial check"),this.xd()):1==this.g&&(this.a.debug("TestConnection: request complete for stage 2"),this.bc?(this.a.debug("Test connection succeeded; using streaming connection"),we(11),this.b.ub(this,!0)):(this.a.debug("Test connection failed; not using streaming"),we(10),this.b.ub(this,!1))):(this.a.debug("TestConnection: request failed, in state "+this.g),0==this.g?we(8):1==this.g&&we(9),this.b.dd(this))},r.pc=function(t){if(!this.b.ta&&(t=t.h)){var e=t.kb("X-Client-Wire-Protocol");this.Ad=e||null,this.b.aa&&((t=t.kb("X-HTTP-Session-Id"))?this.b.Fe(t):this.a.T("Missing X_HTTP_SESSION_ID in the handshake response"))}},r.fc=function(){return this.b.fc()},r.Ba=function(){return this.b.Ba()},r.Ze=function(){return!Z||10<=Number(ut)},(r=Je.prototype).C=function(){return this.D.C()},r.add=function(t){this.D.set(Ze(t),t)},r.addAll=function(t){for(var e=(t=Fe(t)).length,n=0;n<e;n++)this.add(t[n])},r.pb=function(t){for(var e=(t=Fe(t)).length,n=0;n<e;n++)this.remove(t[n])},r.remove=function(t){return this.D.remove(Ze(t))},r.clear=function(){this.D.clear()},r.X=function(){return this.D.X()},r.contains=function(t){return this.D.va(Ze(t))},r.H=function(){return this.D.H()},r.clone=function(){return new Je(this)};var en=10;function nn(){this.xg=this.rg=void 0}function rn(){this.jg=new nn}function on(t,e,n,r,i){try{t.debug(n),e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(e){t.cb(e)}}(r=tn.prototype).ld=function(t){this.v||-1==t.indexOf("spdy")&&-1==t.indexOf("quic")&&-1==t.indexOf("h2")||(this.Xb=this.me,this.v=new Je,this.f&&(this.oc(this.f),this.f=null))},r.ee=function(){return!!this.f||!!this.v&&this.v.C()>=this.Xb},r.xf=function(){return this.f?1:this.v?this.v.C():0},r.Jc=function(t){return this.f?this.f==t:!!this.v&&this.v.contains(t)},r.oc=function(t){this.v?this.v.add(t):this.f=t},r.ze=function(t){this.f&&this.f==t?this.f=null:this.v&&this.v.contains(t)&&this.v.remove(t)},r.cancel=function(){this.ba=this.la(),this.f?(this.f.cancel(),this.f=null):this.v&&!this.v.X()&&(N(this.v.H(),function(t){t.cancel()}),this.v.clear())},r.la=function(){if(null!=this.f)return this.ba.concat(this.f.la());if(null!=this.v&&!this.v.X()){var t=this.ba;return N(this.v.H(),function(e){t=t.concat(e.la())}),t}return R(this.ba)},r.Re=function(t){this.ba=this.ba.concat(t)},r.$e=function(){this.ba.length=0},nn.prototype.stringify=function(t){return s.JSON.stringify(t,this.rg)},nn.prototype.parse=function(t){return s.JSON.parse(t,this.xg)},rn.prototype.hf=function(t,e,n){var r=n||"";try{Le(t,function(t,n){var i=t;d(t)&&(i=Vt(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}},rn.prototype.jf=function(t,e,n){for(var r=-1;;){var i=["count="+e];-1==r?0<e?(r=t[0].Pc,i.push("ofs="+r)):r=0:i.push("ofs="+r);for(var o=!0,s=0;s<e;s++){var a=t[s].Pc,u=t[s].map;if(0>(a-=r))r=Math.max(0,t[s].Pc-100),o=!1;else try{this.hf(u,i,"req"+a+"_")}catch(t){n&&n(u)}}if(o)return i.join("&")}},rn.prototype.zc=function(t){return this.jg.parse(t)};var sn=s.JSON.parse;function an(t){jt.call(this),this.headers=new je,this.Xa=t||null,this.ha=!1,this.mc=this.c=null,this.ge=this.Tb="",this.Pa=0,this.I="",this.Aa=this.Lc=this.Qb=this.Ec=!1,this.vb=0,this.hc=null,this.Ae=un,this.jc=this.lg=this.Ab=!1}E(an,jt);var un="";an.prototype.s=pe("goog.net.XhrIo");var cn=/^https?$/i,ln=["POST","PUT"];function hn(t){return"content-type"==t.toLowerCase()}function pn(t,e){return{type:e,lengthComputable:t.lengthComputable,loaded:t.loaded,total:t.total}}function fn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=function(t){var e="";return H(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),a(t)){if(e=encodeURIComponent(String(e)),e+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=t.indexOf("#"))&&(n=t.length),0>(r=t.indexOf("?"))||r>n){r=n;var i=""}else i=t.substring(r+1,n);n=(t=[t.substr(0,r),i,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return t.l(e,n),t}function dn(t){this.Bd=22,this.De=0,this.M=[],this.a=new ve,this.Ib=new function(){this.od=this.$d=null},this.na=this.md=this.hb=this.K=this.u=this.Kc=this.aa=this.gb=this.N=this.Rb=this.A=null,this.Te=!0,this.ag=this.Yb=0,this.kf=!!u("internalChannelParams.failFast",t),this.fd=this.Ja=this.wa=this.ia=this.ea=this.i=null,this.Se=!0,this.w=this.he=this.Sb=-1,this.rc=this.Ha=this.La=0,this.Ve=u("internalChannelParams.baseRetryDelayMs",t)||5e3,this.vg=u("internalChannelParams.retryDelaySeedMs",t)||1e4,this.nf=u("internalChannelParams.forwardChannelMaxRetries",t)||2,this.Od=u("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.Xa=t&&t.oh||void 0,this.Db=void 0,this.Ra=0,this.gc=t&&t.supportsCrossDomainXhr||!1,this.ra="",this.G=new tn(t&&t.concurrentRequestLimit),this.kc=new rn,this.ta=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.Nd=t&&t.fastHandshake||!1)&&!this.ta&&(this.a.T("Force backgroundChannelTest when fastHandshake is enabled."),this.ta=!0),t&&t.Id&&this.a.Id()}function vn(){}function mn(){if(Z&&!(10<=Number(ut)))throw Error("Environmental error: no available transport.")}function yn(t,e){jt.call(this),this.b=new dn(e),this.yb=t,this.Qg=e&&e.testUrl?e.testUrl:function(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var r,i=arguments[n];0==i.lastIndexOf("/",0)?e=i:((r=""==e)||(r=0<=(r=e.length-1)&&e.indexOf("/",r)==r),e=r?e+i:e+"/"+i)}return e}(this.yb,"test"),this.s=pe("goog.labs.net.webChannel.WebChannelBaseTransport"),this.Rc=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.b.ga(t),t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.zd&&(t?t["X-WebChannel-Client-Profile"]=e.zd:t={"X-WebChannel-Client-Profile":e.zd}),this.b.Eg(t),(t=e&&e.httpHeadersOverwriteParam)&&!F(t)&&this.b.Cg(t),this.Og=e&&e.supportsCrossDomainXhr||!1,this.zg=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!F(e)&&(this.b.Dg(e),null!==(t=this.Rc)&&e in t&&(e in(t=this.Rc)&&delete t[e],(t=this.s)&&t.T("Ignore httpSessionIdParam also specified with messageUrlParams: "+e,void 0))),this.vd=new wn(this)}function gn(t){Ie.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.ne=t)&&(t=this.ne,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function bn(t){Ne.call(this),this.status=1,this.errorCode=t}function wn(t){this.b=t}(r=an.prototype).Je=function(t){this.Ab=t},r.send=function(t,e,n,r){if(this.c)throw Error("[goog.net.XhrIo] Object is active with another request="+this.Tb+"; newUri="+t);e=e?e.toUpperCase():"GET",this.Tb=t,this.I="",this.Pa=0,this.ge=e,this.Ec=!1,this.ha=!0,this.c=this.df(),this.mc=this.Xa?this.Xa.Vd():Ae.Vd(),this.c.onreadystatechange=b(this.te,this),this.lg&&"onprogress"in this.c&&(this.c.onprogress=b(function(t){this.re(t,!0)},this),this.c.upload&&(this.c.upload.onprogress=b(this.re,this)));try{de(this.s,this.da("Opening Xhr")),this.Lc=!0,this.c.open(e,String(t),!0),this.Lc=!1}catch(t){return de(this.s,this.da("Error opening Xhr: "+t.message)),void this.Ld(t)}t=n||"";var i=this.headers.clone();r&&Le(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=hn,n=t.length,r=a(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:a(t)?t.charAt(e):t[e]}(i.W()),n=s.FormData&&t instanceof s.FormData,!(0<=D(ln,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.c.setRequestHeader(e,t)},this),this.Ae&&(this.c.responseType=this.Ae),"withCredentials"in this.c&&this.c.withCredentials!==this.Ab&&(this.c.withCredentials=this.Ab);try{this.yd(),0<this.vb&&(this.jc=function(t){return Z&&lt(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.c),de(this.s,this.da("Will abort after "+this.vb+"ms if incomplete, xhr2 "+this.jc)),this.jc?(this.c.timeout=this.vb,this.c.ontimeout=b(this.Ua,this)):this.hc=Jt(this.Ua,this.vb,this)),de(this.s,this.da("Sending request")),this.Qb=!0,this.c.send(t),this.Qb=!1}catch(t){de(this.s,this.da("Send error: "+t.message)),this.Ld(t)}},r.df=function(){return this.Xa?this.Xa.Dd():Ae.Dd()},r.Ua=function(){void 0!==o&&this.c&&(this.I="Timed out after "+this.vb+"ms, aborting",this.Pa=8,de(this.s,this.da(this.I)),this.dispatchEvent("timeout"),this.abort(8))},r.Ld=function(t){this.ha=!1,this.c&&(this.Aa=!0,this.c.abort(),this.Aa=!1),this.I=t,this.Pa=5,this.Jd(),this.Gb()},r.Jd=function(){this.Ec||(this.Ec=!0,this.dispatchEvent("complete"),this.dispatchEvent("error"))},r.abort=function(t){this.c&&this.ha&&(de(this.s,this.da("Aborting")),this.ha=!1,this.Aa=!0,this.c.abort(),this.Aa=!1,this.Pa=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),this.Gb())},r.F=function(){this.c&&(this.ha&&(this.ha=!1,this.Aa=!0,this.c.abort(),this.Aa=!1),this.Gb(!0)),an.L.F.call(this)},r.te=function(){this.Ka||(this.Lc||this.Qb||this.Aa?this.se():this.eg())},r.eg=function(){this.se()},r.se=function(){if(this.ha&&void 0!==o)if(this.mc[1]&&4==this.ma()&&2==this.za())de(this.s,this.da("Local request error detected and ignored"));else if(this.Qb&&4==this.ma())Jt(this.te,0,this);else if(this.dispatchEvent("readystatechange"),this.Mc()){de(this.s,this.da("Request complete")),this.ha=!1;try{this.Rf()?(this.dispatchEvent("complete"),this.dispatchEvent("success")):(this.Pa=6,this.I=this.Yd()+" ["+this.za()+"]",this.Jd())}finally{this.Gb()}}},r.re=function(t,e){this.dispatchEvent(pn(t,"progress")),this.dispatchEvent(pn(t,e?"downloadprogress":"uploadprogress"))},r.Gb=function(t){if(this.c){this.yd();var e=this.c,n=this.mc[0]?c:null;this.mc=this.c=null,t||this.dispatchEvent("ready");try{e.onreadystatechange=n}catch(e){(t=this.s)&&t.ca("Problem encountered resetting onreadystatechange: "+e.message,void 0)}}},r.yd=function(){this.c&&this.jc&&(this.c.ontimeout=null),this.hc&&(s.clearTimeout(this.hc),this.hc=null)},r.Ba=function(){return!!this.c},r.Mc=function(){return 4==this.ma()},r.Rf=function(){var t=this.za();t:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}return e||0===t&&!this.Of()},r.Of=function(){var t=String(this.Tb).match(Be)[1]||null;return!t&&s.self&&s.self.location&&(t=(t=s.self.location.protocol).substr(0,t.length-1)),cn.test(t?t.toLowerCase():"")},r.ma=function(){return this.c?this.c.readyState:0},r.za=function(){try{return 2<this.ma()?this.c.status:-1}catch(t){return-1}},r.Yd=function(){try{return 2<this.ma()?this.c.statusText:""}catch(t){return de(this.s,"Can not get status: "+t.message),""}},r.ya=function(){try{return this.c?this.c.responseText:""}catch(t){return de(this.s,"Can not get responseText: "+t.message),""}},r.yf=function(t){if(this.c){var e=this.c.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),sn(e)}},r.getResponseHeader=function(t){if(this.c&&this.Mc())return null===(t=this.c.getResponseHeader(t))?void 0:t},r.getAllResponseHeaders=function(){return this.c&&this.Mc()&&this.c.getAllResponseHeaders()||""},r.kb=function(t){return this.c?this.c.getResponseHeader(t):null},r.Ud=function(){return this.Pa},r.Hc=function(){return a(this.I)?this.I:String(this.I)},r.da=function(t){return t+" ["+this.ge+" "+this.Tb+" "+this.za()+"]"},(r=dn.prototype).tc=8,r.g=1,r.connect=function(t,e,n,r,i){this.a.debug("connect()"),we(0),this.K=e,this.gb=n||{},r&&void 0!==i&&(this.gb.OSID=r,this.gb.OAID=i),this.ta&&(this.a.debug("connect() bypassed channel-test."),this.Ib.$d=[],this.Ib.od=!1),this.bf(t)},r.disconnect=function(){if(this.a.debug("disconnect()"),this.qd(),3==this.g){var t=this.Yb++,e=this.hb.clone();e.l("SID",this.ra),e.l("RID",t),e.l("TYPE","terminate"),this.Ya(e),new Pe(this,this.a,this.ra,t,void 0).yg(e)}this.qe()},r.bf=function(t){this.a.debug("connectTest_()"),this.Ja=new Ye(this,this.a),null===this.N&&this.Ja.ga(this.A);var e=t;this.N&&this.A&&(e=fn(t,this.N,this.A)),this.Ja.connect(e)},r.af=function(){this.a.debug("connectChannel_()"),this.hb=this.Sd(this.K),this.Dc()},r.qd=function(){this.Ja&&(this.Ja.abort(),this.Ja=null),this.u&&(this.u.cancel(),this.u=null),this.ia&&(s.clearTimeout(this.ia),this.ia=null),this.Hb(),this.G.cancel(),this.ea&&(s.clearTimeout(this.ea),this.ea=null)},r.ga=function(t){this.A=t},r.Eg=function(t){this.Rb=t},r.Cg=function(t){this.N=t},r.Dg=function(t){this.aa=t},r.Fe=function(t){this.Kc=t},r.He=function(t){this.Ra=t},r.Hg=function(){this.gc=!0},r.Ee=function(t){this.i=t},r.Nf=function(){return!this.fd},r.Zc=function(t){1e3==this.M.length&&this.a.ca(function(){return"Already have 1000 queued maps upon queueing "+Vt(t)}),this.M.push(new function(t,e){this.Pc=t,this.map=e,this.context=null}(this.ag++,t)),3==this.g&&this.Dc()},r.qf=function(){return this.kf?0:this.nf},r.de=function(){return 0==this.g},r.getState=function(){return this.g},r.Dc=function(){this.G.ee()||this.ea||(this.ea=Ee(b(this.we,this),0),this.La=0)},r.Yf=function(t){return this.G.xf()>=this.G.Xb-(this.ea?1:0)?(this.a.ca("Unexpected retry request is scheduled."),!1):this.ea?(this.a.debug("Use the retry request that is already scheduled."),this.M=t.la().concat(this.M),!0):!(1==this.g||2==this.g||this.La>=this.qf())&&(this.a.debug("Going to retry POST"),this.ea=Ee(b(this.we,this,t),this.Xd(this.La)),this.La++,!0)},r.we=function(t){this.ea=null,this.Mg(t)},r.Mg=function(t){this.a.debug("startForwardChannel_"),1==this.g?t?this.a.ca("Not supposed to retry the open"):(this.ig(),this.g=2):3==this.g&&(t?this.le(t):0==this.M.length?this.a.debug("startForwardChannel_ returned: nothing to send"):this.G.ee()?this.a.ca("startForwardChannel_ returned: connection already in progress"):(this.le(),this.a.debug("startForwardChannel_ finished, sent request")))},r.ig=function(){this.a.debug("open_()"),this.Yb=Math.floor(1e5*Math.random());var t=this.Yb++,e=new Pe(this,this.a,"",t,void 0),n=this.A;this.Rb&&(n?Q(n=K(n),this.Rb):n=this.Rb),null===this.N&&e.ga(n);var r=this.Hd(e),i=this.hb.clone();i.l("RID",t),0<this.Bd&&i.l("CVER",this.Bd),this.ta&&this.aa&&i.l("X-HTTP-Session-Id",this.aa),this.Ya(i),this.N&&n&&fn(i,this.N,n),this.G.oc(e),this.Nd?(i.l("$req",r),i.l("SID","null"),e.Ag(),e.kd(i,null)):e.kd(i,r)},r.le=function(t){var e=t?t.R:this.Yb++,n=this.hb.clone();n.l("SID",this.ra),n.l("RID",e),n.l("AID",this.Sb),this.Ya(n),this.N&&this.A&&fn(n,this.N,this.A),e=new Pe(this,this.a,this.ra,e,this.La+1),null===this.N&&e.ga(this.A),t&&this.sg(t),t=this.Hd(e),e.setTimeout(Math.round(.5*this.Od)+Math.round(.5*this.Od*Math.random())),this.G.oc(e),e.kd(n,t)},r.Ya=function(t){this.i&&Le({},function(e,n){t.l(n,e)})},r.Hd=function(t){var e=Math.min(this.M.length,1e3),n=this.i?b(this.i.Ue,this.i,this):null;return n=this.kc.jf(this.M,e,n),t.Gg(this.M.splice(0,e)),n},r.sg=function(t){this.M=t.la().concat(this.M)},r.Kd=function(){if(!this.u&&!this.ia){this.rc=1;var t=this.ve;Ht||Gt(),Qt||(Ht(),Qt=!0),Xt.add(t,this),this.Ha=0}},r.Qc=function(){return this.u||this.ia?(this.a.ca("Request already in progress"),!1):!(3<=this.Ha)&&(this.a.debug("Going to retry GET"),this.rc++,this.ia=Ee(b(this.ve,this),this.Xd(this.Ha)),this.Ha++,!0)},r.ve=function(){this.ia=null,this.Kg()},r.Kg=function(){this.a.debug("Creating new HttpRequest"),this.u=new Pe(this,this.a,this.ra,"rpc",this.rc),null===this.N&&this.u.ga(this.A),this.u.He(this.Ra);var t=this.md.clone();t.l("RID","rpc"),t.l("SID",this.ra),t.l("CI",this.fd?"0":"1"),t.l("AID",this.Sb),this.Ya(t),t.l("TYPE","xmlhttp"),this.N&&this.A&&fn(t,this.N,this.A),this.Db&&this.u.setTimeout(this.Db),this.u.jd(t,!0,this.na),this.a.debug("New Request created")},r.ub=function(t,e){this.a.debug("Test Connection Finished");var n=t.Ad;n&&this.G.ld(n),this.fd=this.Se&&e,this.w=t.w,this.af()},r.dd=function(t){this.a.debug("Test Connection Failed"),this.w=t.w,this.sa(2)},r.ue=function(t,e){if(0!=this.g&&(this.u==t||this.G.Jc(t)))if(this.w=t.w,!t.lb&&this.G.Jc(t)&&3==this.g){try{var n=this.kc.zc(e)}catch(t){n=null}h(n)&&3==n.length?this.Cf(n,t):(this.a.debug("Bad POST response data returned"),this.sa(11))}else(t.lb||this.u==t)&&this.Hb(),F(e)||(n=this.kc.zc(e),this.dg(n,t))},r.Cf=function(t,e){0==t[0]?this.Bf(e):(this.he=t[1],0<(e=this.he-this.Sb)&&(t=t[2],this.a.debug(t+" bytes (in "+e+" arrays) are outstanding on the BackChannel"),this.Jg(t)&&!this.wa&&(this.wa=Ee(b(this.bg,this),6e3))))},r.Bf=function(t){if(this.a.debug("Server claims our backchannel is missing."),this.ia)this.a.debug("But we are currently starting the request.");else{if(this.u){if(!(this.u.qb+3e3<t.qb))return;this.Hb(),this.u.cancel(),this.u=null}else this.a.T("We do not have a BackChannel established");this.Qc(),we(18)}},r.Jg=function(t){return 37500>t&&!this.Nf()&&0==this.Ha},r.$a=function(t){return this.Te?this.i?this.i.$a(t):t:null},r.bg=function(){null!=this.wa&&(this.wa=null,this.u.cancel(),this.u=null,this.Qc(),we(19))},r.Hb=function(){null!=this.wa&&(s.clearTimeout(this.wa),this.wa=null)},r.Tc=function(t){this.a.debug("Request complete");var e=null;if(this.u==t){this.Hb(),this.u=null;var n=2}else{if(!this.G.Jc(t))return;e=t.la(),this.G.ze(t),n=1}if(this.w=t.w,0!=this.g)if(t.S)1==n?(function(t,e,n){me.dispatchEvent(new _e(me,t,e,n))}(t.Da?t.Da.length:0,_()-t.qb,this.La),this.Dc()):this.Kd();else{var r=t.Hc();if(3==r||0==r&&0<this.w)this.a.debug("Not retrying due to error type");else{var i=this;if(this.a.debug(function(){return"Maybe retrying, last error: "+function(t,e){switch(t){case 0:return"Non-200 return code ("+e+")";case 1:return"XMLHTTP failure (no data)";case 2:return"HttpConnection timeout";default:return"Unknown error"}}(r,i.w)}),1==n&&this.Yf(t)||2==n&&this.Qc())return;this.a.debug("Exceeded max number of retries")}switch(e&&0<e.length&&this.G.Re(e),this.a.debug("Error: HTTP request failed"),r){case 1:this.sa(5);break;case 4:this.sa(10);break;case 3:this.sa(6);break;default:this.sa(2)}}},r.Xd=function(t){var e=this.Ve+Math.floor(Math.random()*this.vg);return this.Ba()||(this.a.debug("Inactive channel"),e*=2),e*t},r.pc=function(t){if(this.ta&&(t=t.h)){var e=t.kb("X-Client-Wire-Protocol");e&&this.G.ld(e),this.aa&&((t=t.kb("X-HTTP-Session-Id"))?(this.Fe(t),this.hb.l(this.aa,t)):this.a.T("Missing X_HTTP_SESSION_ID in the handshake response"))}},r.dg=function(t,e){for(var n=this.i&&this.i.sc?[]:null,r=0;r<t.length;r++){var i=t[r];if(this.Sb=i[0],i=i[1],2==this.g)if("c"==i[0]){this.ra=i[1],this.na=this.$a(i[2]);var o=i[3];null!=o&&(this.tc=o,this.a.info("VER="+this.tc)),null!=(o=i[4])&&(this.De=o,this.a.info("SVER="+this.De)),null!=(i=i[5])&&"number"==typeof i&&0<i&&(this.Db=i*=1.5,this.a.info("backChannelRequestTimeoutMs_="+i)),this.pc(e),this.g=3,this.i&&this.i.wd(),this.Lg(e)}else"stop"!=i[0]&&"close"!=i[0]||this.sa(7);else 3==this.g&&("stop"==i[0]||"close"==i[0]?(n&&0!=n.length&&(this.i.sc(this,n),n.length=0),"stop"==i[0]?this.sa(7):this.disconnect()):"noop"!=i[0]&&(n?n.push(i):this.i&&this.i.ud(i)),this.Ha=0)}n&&0!=n.length&&this.i.sc(this,n)},r.Lg=function(t){this.md=this.Pd(this.na,this.K),t.lb?(this.a.debug("Upgrade the handshake request to a backchannel."),this.G.ze(t),t.tg(this.Db),this.u=t):this.Kd()},r.sa=function(t){if(this.a.info("Error code "+t),2==t){var e=null;this.i&&(e=null);var n=b(this.Pg,this);e||(e=new Ue("//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||e.tb("https"),e.Ub()),function(t,e){var n=new ve;n.debug("TestLoadImage: loading "+t);var r=new Image;r.onload=w(on,n,r,"TestLoadImage: loaded",!0,e),r.onerror=w(on,n,r,"TestLoadImage: error",!1,e),r.onabort=w(on,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=w(on,n,r,"TestLoadImage: timeout",!1,e),s.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}(e.toString(),n)}else we(2);this.cg(t)},r.Pg=function(t){t?(this.a.info("Successfully pinged google.com"),we(2)):(this.a.info("Failed to ping google.com"),we(1))},r.cg=function(t){this.a.debug("HttpChannel: error - "+t),this.g=0,this.i&&this.i.td(t),this.qe(),this.qd()},r.qe=function(){if(this.g=0,this.w=-1,this.i){var t=this.G.la();if(0!=t.length||0!=this.M.length){var e=this;this.a.debug(function(){return"Number of undelivered maps, pending: "+t.length+", outgoing: "+e.M.length}),this.G.$e(),R(this.M),this.M.length=0}this.i.sd()}},r.Sd=function(t){return t=this.Cd(null,t),this.a.debug("GetForwardChannelUri: "+t),t},r.Pd=function(t,e){return t=this.Cd(this.fc()?t:null,e),this.a.debug("GetBackChannelUri: "+t),t},r.Cd=function(t,e){var n=function(t){return t instanceof Ue?t.clone():new Ue(t,void 0)}(e);if(""!=n.xa)t&&n.rb(t+"."+n.xa),n.sb(n.Ca);else{var r=s.location;n=function(t,e,n,r){var i=new Ue(null,void 0);return t&&i.tb(t),e&&i.rb(e),n&&i.sb(n),r&&i.ec(r),i}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return this.gb&&H(this.gb,function(t,e){n.l(e,t)}),t=this.aa,e=this.Kc,t&&e&&n.l(t,e),n.l("VER",this.tc),this.Ya(n),n},r.Jb=function(t){if(t&&!this.gc)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new an(this.Xa)).Je(this.gc),t},r.Ba=function(){return!!this.i&&this.i.Ba()},r.fc=function(){return this.gc},(r=vn.prototype).sc=null,r.wd=function(){},r.ud=function(){},r.td=function(){},r.sd=function(){},r.Ba=function(){return!0},r.Ue=function(){},r.$a=function(t){return t},mn.prototype.cf=function(t,e){return new yn(t,e)},E(yn,jt),(r=yn.prototype).addEventListener=function(t,e,n,r){yn.L.addEventListener.call(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){yn.L.removeEventListener.call(this,t,e,n,r)},r.open=function(){this.b.Ee(this.vd),this.Og&&this.b.Hg(),this.b.connect(this.Qg,this.yb,this.Rc||void 0)},r.close=function(){this.b.disconnect()},r.send=function(t){if(a(t)){var e={};e.__data__=t,this.b.Zc(e)}else this.zg?((e={}).__data__=Vt(t),this.b.Zc(e)):this.b.Zc(t)},r.F=function(){this.b.Ee(null),delete this.vd,this.b.disconnect(),delete this.b,yn.L.F.call(this)},E(gn,Ie),E(bn,Ne),E(wn,vn),wn.prototype.wd=function(){fe(this.b.s,"WebChannel opened on "+this.b.yb),this.b.dispatchEvent("a")},wn.prototype.ud=function(t){this.b.dispatchEvent(new gn(t))},wn.prototype.td=function(t){fe(this.b.s,"WebChannel aborted on "+this.b.yb+" due to channel error: "+t),this.b.dispatchEvent(new bn(t))},wn.prototype.sd=function(){fe(this.b.s,"WebChannel closed on "+this.b.yb),this.b.dispatchEvent("b")};var _n=w(function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r},mn);function En(){this.V=[],this.Z=[]}function Cn(t,e){if(x.call(this),this.oe=t||0,this.Wb=e||10,this.oe>this.Wb)throw Error(Sn);this.fa=new En,this.oa=new Je,this.Ac=0,this.Nc=null,this.Cb()}(r=En.prototype).Vf=function(){0==this.V.length&&(this.V=this.Z,this.V.reverse(),this.Z=[])},r.enqueue=function(t){this.Z.push(t)},r.ab=function(){return this.Vf(),this.V.pop()},r.C=function(){return this.V.length+this.Z.length},r.X=function(){return 0==this.V.length&&0==this.Z.length},r.clear=function(){this.V=[],this.Z=[]},r.contains=function(t){return 0<=D(this.V,t)||0<=D(this.Z,t)},r.remove=function(t){var e=this.V,n=I(e,t);return 0<=n?(Array.prototype.splice.call(e,n,1),e=!0):e=!1,e||O(this.Z,t)},r.H=function(){for(var t=[],e=this.V.length-1;0<=e;--e)t.push(this.V[e]);var n=this.Z.length;for(e=0;e<n;++e)t.push(this.Z[e]);return t},E(Cn,x);var Sn="[goog.structs.Pool] Min can not be greater than max";function xn(t,e){this.fe=t,this.gd=e}function Tn(t){this.Y=[],t&&this.Lf(t)}function An(){Tn.call(this)}function Dn(t,e){this.Gd=void 0,this.cc=new An,Cn.call(this,t,e)}function In(t,e,n,r){this.Jf=t,this.Ab=!!r,Dn.call(this,e,n)}(r=Cn.prototype).Mb=function(){var t=_();if(!(null!=this.Nc&&t-this.Nc<this.Ac)){var e=this.qg();return e&&(this.Nc=t,this.oa.add(e)),e}},r.og=function(t){return!!this.oa.remove(t)&&(this.nc(t),!0)},r.qg=function(){for(var t;0<this.Td()&&(t=this.fa.ab(),!this.Sc(t));)this.Cb();return!t&&this.C()<this.Wb&&(t=this.xc()),t},r.nc=function(t){this.oa.remove(t),this.Sc(t)&&this.C()<this.Wb?this.fa.enqueue(t):this.Bc(t)},r.Cb=function(){for(var t=this.fa;this.C()<this.oe;)t.enqueue(this.xc());for(;this.C()>this.Wb&&0<this.Td();)this.Bc(t.ab())},r.xc=function(){return{}},r.Bc=function(t){if("function"==typeof t.bb)t.bb();else for(var e in t)t[e]=null},r.Sc=function(t){return"function"!=typeof t.Ye||t.Ye()},r.contains=function(t){return this.fa.contains(t)||this.oa.contains(t)},r.C=function(){return this.fa.C()+this.oa.C()},r.rf=function(){return this.oa.C()},r.Td=function(){return this.fa.C()},r.X=function(){return this.fa.X()&&this.oa.X()},r.F=function(){if(Cn.L.F.call(this),0<this.rf())throw Error("[goog.structs.Pool] Objects not released");delete this.oa;for(var t=this.fa;!t.X();)this.Bc(t.ab());delete this.fa},xn.prototype.getKey=function(){return this.fe},xn.prototype.clone=function(){return new xn(this.fe,this.gd)},(r=Tn.prototype).ce=function(t,e){var n=this.Y;n.push(new xn(t,e)),this.$f(n.length-1)},r.Lf=function(t){if(t instanceof Tn){var e=t.W();if(t=t.H(),0>=this.C()){for(var n=this.Y,r=0;r<e.length;r++)n.push(new xn(e[r],t[r]));return}}else e=z(t),t=W(t);for(r=0;r<e.length;r++)this.ce(e[r],t[r])},r.remove=function(){var t=this.Y,e=t.length,n=t[0];if(!(0>=e))return 1==e?P(t):(t[0]=t.pop(),this.Zf()),n.gd},r.Zf=function(){for(var t=0,e=this.Y,n=e.length,r=e[t];t<n>>1;){var i=this.tf(t),o=this.zf(t);if(e[i=o<n&&e[o].getKey()<e[i].getKey()?o:i].getKey()>r.getKey())break;e[t]=e[i],t=i}e[t]=r},r.$f=function(t){for(var e=this.Y,n=e[t];0<t;){var r=this.wf(t);if(!(e[r].getKey()>n.getKey()))break;e[t]=e[r],t=r}e[t]=n},r.tf=function(t){return 2*t+1},r.zf=function(t){return 2*t+2},r.wf=function(t){return t-1>>1},r.H=function(){for(var t=this.Y,e=[],n=t.length,r=0;r<n;r++)e.push(t[r].gd);return e},r.W=function(){for(var t=this.Y,e=[],n=t.length,r=0;r<n;r++)e.push(t[r].getKey());return e},r.va=function(t){return k(this.Y,function(e){return e.getKey()==t})},r.clone=function(){return new Tn(this)},r.C=function(){return this.Y.length},r.X=function(){return 0==this.Y.length},r.clear=function(){P(this.Y)},E(An,Tn),An.prototype.enqueue=function(t,e){this.ce(t,e)},An.prototype.ab=function(){return this.remove()},E(Dn,Cn),(r=Dn.prototype).Mb=function(t,e){if(!t)return(t=Dn.L.Mb.call(this))&&this.Ac&&(this.Gd=s.setTimeout(b(this.Nb,this),this.Ac)),t;this.cc.enqueue(void 0!==e?e:100,t),this.Nb()},r.Nb=function(){for(var t=this.cc;0<t.C();){var e=this.Mb();if(!e)break;t.ab().apply(this,[e])}},r.nc=function(t){Dn.L.nc.call(this,t),this.Nb()},r.Cb=function(){Dn.L.Cb.call(this),this.Nb()},r.F=function(){Dn.L.F.call(this),s.clearTimeout(this.Gd),this.cc.clear(),this.cc=null},E(In,Dn),In.prototype.xc=function(){var t=new an,e=this.Jf;return e&&e.forEach(function(e,n){t.headers.set(n,e)}),this.Ab&&t.Je(!0),t},In.prototype.Sc=function(t){return!t.Ka&&!t.Ba()},mn.prototype.createWebChannel=mn.prototype.cf,yn.prototype.send=yn.prototype.send,yn.prototype.open=yn.prototype.open,yn.prototype.close=yn.prototype.close,Ce.NO_ERROR=0,Ce.TIMEOUT=8,Ce.HTTP_ERROR=6,Se.COMPLETE="complete",Te.EventType=De,De.OPEN="a",De.CLOSE="b",De.ERROR="c",De.MESSAGE="d",jt.prototype.listen=jt.prototype.nb,In.prototype.getObject=In.prototype.Mb,In.prototype.releaseObject=In.prototype.og,an.prototype.listenOnce=an.prototype.Oc,an.prototype.getLastError=an.prototype.Hc,an.prototype.getLastErrorCode=an.prototype.Ud,an.prototype.getStatus=an.prototype.za,an.prototype.getStatusText=an.prototype.Yd,an.prototype.getResponseJson=an.prototype.yf,an.prototype.getResponseText=an.prototype.ya,an.prototype.getResponseText=an.prototype.ya,an.prototype.send=an.prototype.send;var Nn={createWebChannelTransport:_n,ErrorCode:Ce,EventType:Se,WebChannel:Te,XhrIoPool:In},kn=Nn.createWebChannelTransport,Pn=Nn.ErrorCode,On=Nn.EventType,Mn=Nn.WebChannel,Rn=Nn.XhrIoPool;e.default=Nn},zUnb:function(t,e,n){"use strict";n.r(e);var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function a(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function l(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function h(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(l(arguments[e]));return t}var p=Array.isArray||function(t){return t&&"number"==typeof t.length};function f(t){return null!=t&&"object"==typeof t}function d(t){return"function"==typeof t}var v,m={e:{}};function y(){try{return v.apply(this,arguments)}catch(t){return m.e=t,m}}function g(t){return v=t,y}var b=function(t){function e(n){var r=t.call(this,n?n.length+" errors occurred during unsubscription:\n  "+n.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"")||this;return r.errors=n,r.name="UnsubscriptionError",Object.setPrototypeOf(r,e.prototype),r}return i(e,t),e}(Error),w=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this._parent,r=this._parents,i=this._unsubscribe,o=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var s=-1,a=r?r.length:0;n;)n.remove(this),n=++s<a&&r[s]||null;if(d(i))g(i).call(this)===m&&(e=!0,t=t||(m.e instanceof b?_(m.e.errors):[m.e]));if(p(o))for(s=-1,a=o.length;++s<a;){var u=o[s];if(f(u))if(g(u.unsubscribe).call(u)===m){e=!0,t=t||[];var c=m.e;c instanceof b?t=t.concat(_(c.errors)):t.push(c)}}if(e)throw new b(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this._parent,n=this._parents;e&&e!==t?n?-1===n.indexOf(t)&&n.push(t):this._parents=[t]:this._parent=t},t.EMPTY=((e=new t).closed=!0,e),t}();function _(t){return t.reduce(function(t,e){return t.concat(e instanceof b?e.errors:e)},[])}var E=!1,C={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;E=t},get useDeprecatedSynchronousErrorHandling(){return E}};function S(t){setTimeout(function(){throw t})}var x={closed:!0,next:function(t){},error:function(t){if(C.useDeprecatedSynchronousErrorHandling)throw t;S(t)},complete:function(){}},T="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("rxSubscriber"):"@@rxSubscriber",A=function(t){function e(e,n,r){var i,o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=x;break;case 1:if(!e){o.destination=x;break}if("object"==typeof e){if((i=e)instanceof A||"syncErrorThrowable"in i&&i[T]){var s=e[T]();o.syncErrorThrowable=s.syncErrorThrowable,o.destination=s,s.add(o)}else o.syncErrorThrowable=!0,o.destination=new D(o,e);break}default:o.syncErrorThrowable=!0,o.destination=new D(o,e,n,r)}return o}return i(e,t),e.prototype[T]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this},e}(w),D=function(t){function e(e,n,r,i){var o,s=t.call(this)||this;s._parentSubscriber=e;var a=s;return d(n)?o=n:n&&(o=n.next,r=n.error,i=n.complete,n!==x&&(d((a=Object.create(n)).unsubscribe)&&s.add(a.unsubscribe.bind(a)),a.unsubscribe=s.unsubscribe.bind(s))),s._context=a,s._next=o,s._error=r,s._complete=i,s}return i(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;C.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=C.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):S(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;S(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};C.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),C.useDeprecatedSynchronousErrorHandling)throw t;S(t)}},e.prototype.__tryOrSetError=function(t,e,n){if(!C.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return C.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(S(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(A);var I="function"==typeof Symbol&&Symbol.observable||"@@observable";function N(){}function k(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return P(t)}function P(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:N}var O=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,i=function(t,e,n){if(t){if(t instanceof A)return t;if(t[T])return t[T]()}return t||e||n?new A(t,e,n):new A(x)}(t,e,n);if(r?r.call(i,this.source):i.add(this.source||C.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),C.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){C.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=M(e))(function(e,r){var i;i=n.subscribe(function(e){try{t(e)}catch(t){r(t),i&&i.unsubscribe()}},r,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[I]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:P(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=M(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}();function M(t){if(t||(t=C.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var R=function(t){function e(){var n=t.call(this,"object unsubscribed")||this;return n.name="ObjectUnsubscribedError",Object.setPrototypeOf(n,e.prototype),n}return i(e,t),e}(Error),F=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return i(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(w),L=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return i(e,t),e}(A),j=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return i(e,t),e.prototype[T]=function(){return new L(this)},e.prototype.lift=function(t){var e=new V(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new R;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new R;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new R;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new R;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new R;return this.hasError?(t.error(this.thrownError),w.EMPTY):this.isStopped?(t.complete(),w.EMPTY):(this.observers.push(t),new F(this,t))},e.prototype.asObservable=function(){var t=new O;return t.source=this,t},e.create=function(t,e){return new V(t,e)},e}(O),V=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return i(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):w.EMPTY},e}(j);function B(t){return t&&"function"==typeof t.schedule}var U=function(t){function e(e,n,r){var i=t.call(this)||this;return i.parent=e,i.outerValue=n,i.outerIndex=r,i.index=0,i}return i(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(A),q=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()}},H=function(t){return function(e){return t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,S),e}};var W=function(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}(),z=function(t){return function(e){for(var n=t[W]();;){var r=n.next();if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add(function(){n.return&&n.return()}),e}},K=function(t){return function(e){var n=t[I]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}},G=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function Q(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var X=function(t){if(t instanceof O)return function(e){return t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e)};if(t&&"function"==typeof t[I])return K(t);if(G(t))return q(t);if(Q(t))return H(t);if(t&&"function"==typeof t[W])return z(t);var e=f(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function $(t,e,n,r){var i=new U(t,n,r);return X(e)(i)}var Y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(A);function J(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new Z(t,e))}}var Z=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new tt(t,this.project,this.thisArg))},t}(),tt=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return i(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(A);function et(t,e){return new O(e?function(n){var r=new w,i=0;return r.add(e.schedule(function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()})),r}:q(t))}function nt(t,e){if(!e)return t instanceof O?t:new O(X(t));if(null!=t){if(function(t){return t&&"function"==typeof t[I]}(t))return function(t,e){return new O(e?function(n){var r=new w;return r.add(e.schedule(function(){var i=t[I]();r.add(i.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r}:K(t))}(t,e);if(Q(t))return function(t,e){return new O(e?function(n){var r=new w;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r}:H(t))}(t,e);if(G(t))return et(t,e);if(function(t){return t&&"function"==typeof t[W]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new O(e?function(n){var r,i=new w;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(function(){r=t[W](),i.add(e.schedule(function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(t){return void n.error(t)}e?n.complete():(n.next(t),this.schedule())}}))})),i}:z(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function rt(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?function(r){return r.pipe(rt(function(n,r){return nt(t(n,r)).pipe(J(function(t,i){return e(n,t,r,i)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new it(t,n))})}var it=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new ot(t,this.project,this.concurrent))},t}(),ot=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this,e)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return i(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){this.add($(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(Y);function st(t){return t}function at(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),rt(st,t)}function ut(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,r=null,i=t[t.length-1];return B(i)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof i&&(n=t.pop()),null===r&&1===t.length&&t[0]instanceof O?t[0]:at(n)(et(t,r))}function ct(){return function(t){return t.lift(new lt(t))}}var lt=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new ht(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),ht=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return i(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(A),pt=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return i(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new w).add(this.source.subscribe(new dt(this.getSubject(),this))),t.closed?(this._connection=null,t=w.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return ct()(this)},e}(O).prototype,ft={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:pt._subscribe},_isComplete:{value:pt._isComplete,writable:!0},getSubject:{value:pt.getSubject},connect:{value:pt.connect},refCount:{value:pt.refCount}},dt=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return i(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(L);function vt(t,e){return function(n){var r;if(r="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new mt(r,e));var i=Object.create(n,ft);return i.source=n,i.subjectFactory=r,i}}var mt=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(t);return i.add(e.subscribe(r)),i},t}();function yt(){return new j}function gt(){return function(t){return ct()(vt(yt)(t))}}function bt(t){return{providedIn:t.providedIn||null,factory:t.factory,value:void 0}}var wt=function(){function t(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0!==e?bt({providedIn:e.providedIn||"root",factory:e.factory}):void 0}return t.prototype.toString=function(){return"InjectionToken "+this._desc},t}(),_t="__annotations__",Et="__parameters__",Ct="__prop__metadata__";function St(t,e,n,r,i){var o=xt(e);function s(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof s)return o.call.apply(o,h([this],e)),this;var a=new((t=s).bind.apply(t,h([void 0],e))),u=function(t){return i&&i.apply(void 0,h([t],e)),(t.hasOwnProperty(_t)?t[_t]:Object.defineProperty(t,_t,{value:[]})[_t]).push(a),t};return r&&r(u),u}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=t,s.annotationCls=s,s}function xt(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t){var r=t.apply(void 0,h(e));for(var i in r)this[i]=r[i]}}}function Tt(t,e,n){var r=xt(e);function i(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=new((t=i).bind.apply(t,h([void 0],e)));return s.annotation=o,s;function s(t,e,n){for(var r=t.hasOwnProperty(Et)?t[Et]:Object.defineProperty(t,Et,{value:[]})[Et];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}function At(t,e,n){var r=xt(e);function i(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=new((t=i).bind.apply(t,h([void 0],e)));return function(t,e){var n=t.constructor,r=n.hasOwnProperty(Ct)?n[Ct]:Object.defineProperty(n,Ct,{value:{}})[Ct];r[e]=r.hasOwnProperty(e)&&r[e]||[],r[e].unshift(o)}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}var Dt,It,Nt=new wt("AnalyzeForEntryComponents"),kt=Tt("Attribute",function(t){return{attributeName:t}}),Pt=function(){return function(){}}(),Ot=At("ContentChildren",function(t,e){return void 0===e&&(e={}),o({selector:t,first:!1,isViewQuery:!1,descendants:!1},e)},Pt);At("ContentChild",function(t,e){return void 0===e&&(e={}),o({selector:t,first:!0,isViewQuery:!1,descendants:!0},e)},Pt),At("ViewChildren",function(t,e){return void 0===e&&(e={}),o({selector:t,first:!1,isViewQuery:!0,descendants:!0},e)},Pt),At("ViewChild",function(t,e){return o({selector:t,first:!0,isViewQuery:!0,descendants:!0},e)},Pt);!function(t){t[t.OnPush=0]="OnPush",t[t.Default=1]="Default"}(Dt||(Dt={})),function(t){t[t.CheckOnce=0]="CheckOnce",t[t.Checked=1]="Checked",t[t.CheckAlways=2]="CheckAlways",t[t.Detached=3]="Detached",t[t.Errored=4]="Errored",t[t.Destroyed=5]="Destroyed"}(It||(It={}));var Mt=St("Directive",function(t){return void 0===t&&(t={}),t},void 0,void 0,function(t,e){}),Rt=St("Component",function(t){return void 0===t&&(t={}),o({changeDetection:Dt.Default},t)},Mt,void 0,function(t,e){}),Ft=St("Pipe",function(t){return o({pure:!0},t)},void 0,void 0,function(t,e){}),Lt=At("Input",function(t){return{bindingPropertyName:t}}),jt=At("Output",function(t){return{bindingPropertyName:t}}),Vt=At("HostBinding",function(t){return{hostPropertyName:t}}),Bt=At("HostListener",function(t,e){return{eventName:t,args:e}}),Ut=Function;function qt(t){return"function"==typeof t}var Ht="undefined"!=typeof window&&window,Wt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,zt="undefined"!=typeof global&&global||Ht||Wt,Kt=Promise.resolve(0),Gt=null;function Qt(){if(!Gt){var t=zt.Symbol;if(t&&t.iterator)Gt=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Gt=r)}}return Gt}function Xt(t){"undefined"==typeof Zone?Kt.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function $t(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function Yt(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(Yt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}var Jt=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,Zt=/^class\s+[A-Za-z\d$_]*\s*extends\s+[A-Za-z\d$_]+\s*{/,te=/^class\s+[A-Za-z\d$_]*\s*extends\s+[A-Za-z\d$_]+\s*{[\s\S]*constructor\s*\(/,ee=function(){function t(t){this._reflect=t||zt.Reflect}return t.prototype.isReflectionEnabled=function(){return!0},t.prototype.factory=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new(t.bind.apply(t,h([void 0],e)))}},t.prototype._zipTypesAndAnnotations=function(t,e){var n;n=void 0===t?new Array(e.length):new Array(t.length);for(var r=0;r<n.length;r++)void 0===t?n[r]=[]:t[r]!=Object?n[r]=[t[r]]:n[r]=[],e&&null!=e[r]&&(n[r]=n[r].concat(e[r]));return n},t.prototype._ownParameters=function(t,e){var n=t.toString();if(Jt.exec(n)||Zt.exec(n)&&!te.exec(n))return null;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;var r=t.ctorParameters;if(r&&r!==e.ctorParameters){var i="function"==typeof r?r():r,o=i.map(function(t){return t&&t.type}),s=i.map(function(t){return t&&ne(t.decorators)});return this._zipTypesAndAnnotations(o,s)}var a=t.hasOwnProperty(Et)&&t[Et],u=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return u||a?this._zipTypesAndAnnotations(u,a):new Array(t.length).fill(void 0)},t.prototype.parameters=function(t){if(!qt(t))return[];var e=re(t),n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]},t.prototype._ownAnnotations=function(t,e){if(t.annotations&&t.annotations!==e.annotations){var n=t.annotations;return"function"==typeof n&&n.annotations&&(n=n.annotations),n}return t.decorators&&t.decorators!==e.decorators?ne(t.decorators):t.hasOwnProperty(_t)?t[_t]:null},t.prototype.annotations=function(t){if(!qt(t))return[];var e=re(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)},t.prototype._ownPropMetadata=function(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){var n=t.propMetadata;return"function"==typeof n&&n.propMetadata&&(n=n.propMetadata),n}if(t.propDecorators&&t.propDecorators!==e.propDecorators){var r=t.propDecorators,i={};return Object.keys(r).forEach(function(t){i[t]=ne(r[t])}),i}return t.hasOwnProperty(Ct)?t[Ct]:null},t.prototype.propMetadata=function(t){if(!qt(t))return{};var e=re(t),n={};if(e!==Object){var r=this.propMetadata(e);Object.keys(r).forEach(function(t){n[t]=r[t]})}var i=this._ownPropMetadata(t,e);return i&&Object.keys(i).forEach(function(t){var e=[];n.hasOwnProperty(t)&&e.push.apply(e,h(n[t])),e.push.apply(e,h(i[t])),n[t]=e}),n},t.prototype.hasLifecycleHook=function(t,e){return t instanceof Ut&&e in t.prototype},t.prototype.guards=function(t){return{}},t.prototype.getter=function(t){return new Function("o","return o."+t+";")},t.prototype.setter=function(t){return new Function("o","v","return o."+t+" = v;")},t.prototype.method=function(t){return new Function("o","args","if (!o."+t+") throw new Error('\""+t+"\" is undefined');\n        return o."+t+".apply(o, args);")},t.prototype.importUri=function(t){return"object"==typeof t&&t.filePath?t.filePath:"./"+Yt(t)},t.prototype.resourceUri=function(t){return"./"+Yt(t)},t.prototype.resolveIdentifier=function(t,e,n,r){return r},t.prototype.resolveEnum=function(t,e){return t[e]},t}();function ne(t){return t?t.map(function(t){var e=t.type.annotationCls,n=t.args?t.args:[];return new(e.bind.apply(e,h([void 0],n)))}):[]}function re(t){var e=t.prototype?Object.getPrototypeOf(t.prototype):null;return(e?e.constructor:null)||Object}function ie(t){return t.__forward_ref__=ie,t.toString=function(){return Yt(this())},t}function oe(t){return"function"==typeof t&&t.hasOwnProperty("__forward_ref__")&&t.__forward_ref__===ie?t():t}var se=Tt("Inject",function(t){return{token:t}}),ae=Tt("Optional"),ue=Tt("Self"),ce=Tt("SkipSelf"),le=Tt("Host"),he="__source",pe=new Object,fe=pe,de=new wt("INJECTOR"),ve=function(){function t(){}return t.prototype.get=function(t,e){if(void 0===e&&(e=pe),e===pe)throw new Error("NullInjectorError: No provider for "+Yt(t)+"!");return e},t}(),me=function(){function t(){}return t.create=function(t,e){return Array.isArray(t)?new Ae(t,e):new Ae(t.providers,t.parent,t.name||null)},t.THROW_IF_NOT_FOUND=pe,t.NULL=new ve,t.ngInjectableDef=bt({providedIn:"any",factory:function(){return Me(de)}}),t}(),ye=function(t){return t},ge=[],be=ye,we=function(){return Array.prototype.slice.call(arguments)},_e={},Ee=function(t){for(var e in t)if(t[e]===_e)return e;throw Error("!prop")}({provide:String,useValue:_e}),Ce="ngTempTokenPath",Se=me.NULL,xe=/\n/gm,Te="\u0275",Ae=function(){function t(t,e,n){void 0===e&&(e=Se),void 0===n&&(n=null),this.parent=e,this.source=n;var r=this._records=new Map;r.set(me,{token:me,fn:ye,deps:ge,value:this,useNew:!1}),r.set(de,{token:de,fn:ye,deps:ge,value:this,useNew:!1}),function t(e,n){if(n)if((n=oe(n))instanceof Array)for(var r=0;r<n.length;r++)t(e,n[r]);else{if("function"==typeof n)throw ke("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw ke("Unexpected provider",n);var i=oe(n.provide),o=function(t){var e=function(t){var e=ge,n=t.deps;if(n&&n.length){e=[];for(var r=0;r<n.length;r++){var i=6,o=oe(n[r]);if(o instanceof Array)for(var s=0,a=o;s<a.length;s++){var u=a[s];u instanceof ae||u==ae?i|=1:u instanceof ce||u==ce?i&=-3:u instanceof ue||u==ue?i&=-5:o=u instanceof se?u.token:oe(u)}e.push({token:o,options:i})}}else if(t.useExisting){var o=oe(t.useExisting);e=[{token:o,options:6}]}else if(!(n||Ee in t))throw ke("'deps' required",t);return e}(t),n=ye,r=ge,i=!1,o=oe(t.provide);if(Ee in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=oe(t.useClass);else{if("function"!=typeof o)throw ke("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=o}return{deps:e,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){var s=e.get(i);if(s){if(s.fn!==we)throw De(i)}else e.set(i,s={token:n.provide,deps:[],useNew:!1,fn:we,value:ge});i=n,s.deps.push({token:i,options:6})}var a=e.get(i);if(a&&a.fn==we)throw De(i);e.set(i,o)}}(r,t)}return t.prototype.get=function(t,e,n){void 0===n&&(n=0);var r=this._records.get(t);try{return Ie(t,r,this._records,this.parent,e,n)}catch(e){var i=e[Ce];throw t[he]&&i.unshift(t[he]),e.message=Ne("\n"+e.message,i,this.source),e.ngTokenPath=i,e[Ce]=null,e}},t.prototype.toString=function(){var t=[];return this._records.forEach(function(e,n){return t.push(Yt(n))}),"StaticInjector["+t.join(", ")+"]"},t}();function De(t){return ke("Cannot mix multi providers and regular providers",t)}function Ie(t,e,n,r,i,o){try{return function(t,e,n,r,i,o){var s,a;if(!e||4&o)2&o||(a=r.get(t,i,0));else{if((a=e.value)==be)throw Error(Te+"Circular dependency");if(a===ge){e.value=be;var u=void 0,c=e.useNew,l=e.fn,p=e.deps,f=ge;if(p.length){f=[];for(var d=0;d<p.length;d++){var v=p[d],m=v.options,y=2&m?n.get(v.token):void 0;f.push(Ie(v.token,y,n,y||4&m?r:Se,1&m?null:me.THROW_IF_NOT_FOUND,0))}}e.value=a=c?new((s=l).bind.apply(s,h([void 0],f))):l.apply(u,f)}}return a}(t,e,n,r,i,o)}catch(n){throw n instanceof Error||(n=new Error(n)),(n[Ce]=n[Ce]||[]).unshift(t),e&&e.value==be&&(e.value=ge),n}}function Ne(t,e,n){void 0===n&&(n=null),t=t&&"\n"===t.charAt(0)&&t.charAt(1)==Te?t.substr(2):t;var r=Yt(e);if(e instanceof Array)r=e.map(Yt).join(" -> ");else if("object"==typeof e){var i=[];for(var o in e)if(e.hasOwnProperty(o)){var s=e[o];i.push(o+":"+("string"==typeof s?JSON.stringify(s):Yt(s)))}r="{"+i.join(", ")+"}"}return"StaticInjectorError"+(n?"("+n+")":"")+"["+r+"]: "+t.replace(xe,"\n  ")}function ke(t,e){return new Error(Ne(t,e))}var Pe=void 0;function Oe(t){var e=Pe;return Pe=t,e}function Me(t,e){if(void 0===e&&(e=0),void 0===Pe)throw new Error("inject() must be called from an injection context");if(null===Pe){var n=t.ngInjectableDef;if(n&&"root"==n.providedIn)return void 0===n.value?n.value=n.factory():n.value;if(8&e)return null;throw new Error("Injector: NOT_FOUND ["+Yt(t)+"]")}return Pe.get(t,8&e?null:void 0,e)}function Re(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=0,s=0;s<r.length;s++){var a=r[s];a instanceof ae||"Optional"===a.ngMetadataName?o|=8:a instanceof ce||"SkipSelf"===a.ngMetadataName?o|=4:a instanceof ue||"Self"===a.ngMetadataName?o|=2:i=a instanceof se?a.token:a}e.push(Me(i,o))}else e.push(Me(r))}return e}var Fe={},Le=function(t,e){for(var n in t)if(t[n]===e)return n;throw Error("Could not find renamed property on target object.")}({provide:String,useValue:Fe},Fe),je=[];function Ve(t,e){if(!e){var n=(u=new ee).parameters(t);return function(){return new(t.bind.apply(t,h([void 0],Re(n))))}}if(Le in e){var r=e;return function(){return r.useValue}}if(e.useExisting){var i=e;return function(){return Me(i.useExisting)}}if(e.useFactory){var o=e;return function(){return o.useFactory.apply(o,h(Re(o.deps||je)))}}if(e.useClass){var s=e,a=e.deps;if(!a){var u=new ee;a=u.parameters(t)}return function(){var t;return new((t=s.useClass).bind.apply(t,h([void 0],Re(a))))}}var c=e.deps;if(!c){u=new ee;c=u.parameters(t)}return function(){return new(t.bind.apply(t,h([void 0],Re(c))))}}var Be=St("Injectable",void 0,void 0,void 0,function(t,e){return n=t,void((r=e)&&void 0!==r.providedIn&&void 0===n.ngInjectableDef&&(n.ngInjectableDef=bt({providedIn:r.providedIn,factory:Ve(n,r)})));var n,r});var Ue,qe=St("NgModule",function(t){return t},void 0,void 0,function(t,e){return n=t,o=(r=e)&&r.imports||[],r&&r.exports&&(o=h(o,[r.exports])),void(n.ngInjectorDef={factory:(i={factory:Ve(n,{useClass:n}),providers:r&&r.providers,imports:o}).factory,providers:i.providers||[],imports:i.imports||[]});var n,r,i,o});!function(t){t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom"}(Ue||(Ue={}));var He=function(){return function(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}(),We=new He("6.1.10"),ze="ngDebugContext",Ke="ngOriginalError",Ge="ngErrorLogger";function Qe(t){return t[ze]}function Xe(t){return t[Ke]}function $e(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t.error.apply(t,h(e))}var Ye=function(){function t(){this._console=console}return t.prototype.handleError=function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t[Ge]||$e}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)},t.prototype._findContext=function(t){return t?Qe(t)?Qe(t):this._findContext(Xe(t)):null},t.prototype._findOriginalError=function(t){for(var e=Xe(t);e&&Xe(e);)e=Xe(e);return e},t}();function Je(t){return t.length>1?" ("+function(t){for(var e=[],n=0;n<t.length;++n){if(e.indexOf(t[n])>-1)return e.push(t[n]),e;e.push(t[n])}return e}(t.slice().reverse()).map(function(t){return Yt(t.token)}).join(" -> ")+")":""}function Ze(t,e,n,r){var i=[e],o=n(i),s=r?function(t,e){var n=t+" caused by: "+(e instanceof Error?e.message:e),r=Error(n);return r[Ke]=e,r}(o,r):Error(o);return s.addKey=tn,s.keys=i,s.injectors=[t],s.constructResolvingMessage=n,s[Ke]=r,s}function tn(t,e){this.injectors.push(t),this.keys.push(e),this.message=this.constructResolvingMessage(this.keys)}function en(t,e){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];o&&0!=o.length?n.push(o.map(Yt).join(" ")):n.push("?")}return Error("Cannot resolve all parameters for '"+Yt(t)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+Yt(t)+"' is decorated with Injectable.")}var nn=function(){function t(t,e){if(this.token=t,this.id=e,!t)throw new Error("Token must be defined!");this.displayName=Yt(this.token)}return t.get=function(t){return rn.get(oe(t))},Object.defineProperty(t,"numberOfKeys",{get:function(){return rn.numberOfKeys},enumerable:!0,configurable:!0}),t}(),rn=new(function(){function t(){this._allKeys=new Map}return t.prototype.get=function(t){if(t instanceof nn)return t;if(this._allKeys.has(t))return this._allKeys.get(t);var e=new nn(t,nn.numberOfKeys);return this._allKeys.set(t,e),e},Object.defineProperty(t.prototype,"numberOfKeys",{get:function(){return this._allKeys.size},enumerable:!0,configurable:!0}),t}()),on=new(function(){function t(t){this.reflectionCapabilities=t}return t.prototype.updateCapabilities=function(t){this.reflectionCapabilities=t},t.prototype.factory=function(t){return this.reflectionCapabilities.factory(t)},t.prototype.parameters=function(t){return this.reflectionCapabilities.parameters(t)},t.prototype.annotations=function(t){return this.reflectionCapabilities.annotations(t)},t.prototype.propMetadata=function(t){return this.reflectionCapabilities.propMetadata(t)},t.prototype.hasLifecycleHook=function(t,e){return this.reflectionCapabilities.hasLifecycleHook(t,e)},t.prototype.getter=function(t){return this.reflectionCapabilities.getter(t)},t.prototype.setter=function(t){return this.reflectionCapabilities.setter(t)},t.prototype.method=function(t){return this.reflectionCapabilities.method(t)},t.prototype.importUri=function(t){return this.reflectionCapabilities.importUri(t)},t.prototype.resourceUri=function(t){return this.reflectionCapabilities.resourceUri(t)},t.prototype.resolveIdentifier=function(t,e,n,r){return this.reflectionCapabilities.resolveIdentifier(t,e,n,r)},t.prototype.resolveEnum=function(t,e){return this.reflectionCapabilities.resolveEnum(t,e)},t}())(new ee),sn=function(){function t(t,e,n){this.key=t,this.optional=e,this.visibility=n}return t.fromKey=function(e){return new t(e,!1,null)},t}(),an=[],un=function(){return function(t,e,n){this.key=t,this.resolvedFactories=e,this.multiProvider=n,this.resolvedFactory=this.resolvedFactories[0]}}(),cn=function(){return function(t,e){this.factory=t,this.dependencies=e}}();function ln(t){var e,n;if(t.useClass){var r=oe(t.useClass);e=on.factory(r),n=fn(r)}else t.useExisting?(e=function(t){return t},n=[sn.fromKey(nn.get(t.useExisting))]):t.useFactory?(e=t.useFactory,n=function(t,e){if(e){var n=e.map(function(t){return[t]});return e.map(function(e){return dn(t,e,n)})}return fn(t)}(t.useFactory,t.deps)):(e=function(){return t.useValue},n=an);return new cn(e,n)}function hn(t){return new un(nn.get(t.provide),[ln(t)],t.multi||!1)}function pn(t){var e=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=e.get(r.key.id);if(i){if(r.multiProvider!==i.multiProvider)throw Error("Cannot mix multi providers and regular providers, got: "+i+" "+r);if(r.multiProvider)for(var o=0;o<r.resolvedFactories.length;o++)i.resolvedFactories.push(r.resolvedFactories[o]);else e.set(r.key.id,r)}else{var s=void 0;s=r.multiProvider?new un(r.key,r.resolvedFactories.slice(),r.multiProvider):r,e.set(r.key.id,s)}}return e}(function t(e,n){e.forEach(function(e){if(e instanceof Ut)n.push({provide:e,useClass:e});else if(e&&"object"==typeof e&&void 0!==e.provide)n.push(e);else{if(!(e instanceof Array))throw Error("Invalid provider - only instances of Provider and Type are allowed, got: "+e);t(e,n)}});return n}(t,[]).map(hn),new Map);return Array.from(e.values())}function fn(t){var e=on.parameters(t);if(!e)return[];if(e.some(function(t){return null==t}))throw en(t,e);return e.map(function(n){return dn(t,n,e)})}function dn(t,e,n){var r=null,i=!1;if(!Array.isArray(e))return vn(e instanceof se?e.token:e,i,null);for(var o=null,s=0;s<e.length;++s){var a=e[s];a instanceof Ut?r=a:a instanceof se?r=a.token:a instanceof ae?i=!0:a instanceof ue||a instanceof ce?o=a:a instanceof wt&&(r=a)}if(null!=(r=oe(r)))return vn(r,i,o);throw en(t,n)}function vn(t,e,n){return new sn(nn.get(t),e,n)}var mn=new Object,yn=function(){function t(){}return t.resolve=function(t){return pn(t)},t.resolveAndCreate=function(e,n){var r=t.resolve(e);return t.fromResolvedProviders(r,n)},t.fromResolvedProviders=function(t,e){return new gn(t,e)},t}(),gn=function(){function t(t,e){this._constructionCounter=0,this._providers=t,this.parent=e||null;var n=t.length;this.keyIds=new Array(n),this.objs=new Array(n);for(var r=0;r<n;r++)this.keyIds[r]=t[r].key.id,this.objs[r]=mn}return t.prototype.get=function(t,e){return void 0===e&&(e=fe),this._getByKey(nn.get(t),null,e)},t.prototype.resolveAndCreateChild=function(t){var e=yn.resolve(t);return this.createChildFromResolved(e)},t.prototype.createChildFromResolved=function(e){var n=new t(e);return n.parent=this,n},t.prototype.resolveAndInstantiate=function(t){return this.instantiateResolved(yn.resolve([t])[0])},t.prototype.instantiateResolved=function(t){return this._instantiateProvider(t)},t.prototype.getProviderAtIndex=function(t){if(t<0||t>=this._providers.length)throw function(t){return Error("Index "+t+" is out-of-bounds.")}(t);return this._providers[t]},t.prototype._new=function(t){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw e=this,n=t.key,Ze(e,n,function(t){return"Cannot instantiate cyclic dependency!"+Je(t)});var e,n;return this._instantiateProvider(t)},t.prototype._getMaxNumberOfObjects=function(){return this.objs.length},t.prototype._instantiateProvider=function(t){if(t.multiProvider){for(var e=new Array(t.resolvedFactories.length),n=0;n<t.resolvedFactories.length;++n)e[n]=this._instantiate(t,t.resolvedFactories[n]);return e}return this._instantiate(t,t.resolvedFactories[0])},t.prototype._instantiate=function(t,e){var n,r,i,o,s,a=this,u=e.factory;try{n=e.dependencies.map(function(t){return a._getByReflectiveDependency(t)})}catch(e){throw e.addKey&&e.addKey(this,t.key),e}try{r=u.apply(void 0,h(n))}catch(e){throw i=this,o=e,e.stack,s=t.key,Ze(i,s,function(t){var e=Yt(t[0].token);return o.message+": Error during instantiation of "+e+"!"+Je(t)+"."},o)}return r},t.prototype._getByReflectiveDependency=function(t){return this._getByKey(t.key,t.visibility,t.optional?null:fe)},t.prototype._getByKey=function(e,n,r){return e===t.INJECTOR_KEY?this:n instanceof ue?this._getByKeySelf(e,r):this._getByKeyDefault(e,r,n)},t.prototype._getObjByKeyId=function(t){for(var e=0;e<this.keyIds.length;e++)if(this.keyIds[e]===t)return this.objs[e]===mn&&(this.objs[e]=this._new(this._providers[e])),this.objs[e];return mn},t.prototype._throwOrNull=function(t,e){if(e!==fe)return e;throw function(t,e){return Ze(t,e,function(t){return"No provider for "+Yt(t[0].token)+"!"+Je(t)})}(this,t)},t.prototype._getByKeySelf=function(t,e){var n=this._getObjByKeyId(t.id);return n!==mn?n:this._throwOrNull(t,e)},t.prototype._getByKeyDefault=function(e,n,r){var i;for(i=r instanceof ce?this.parent:this;i instanceof t;){var o=i,s=o._getObjByKeyId(e.id);if(s!==mn)return s;i=o.parent}return null!==i?i.get(e.token,n):this._throwOrNull(e,n)},Object.defineProperty(t.prototype,"displayName",{get:function(){return"ReflectiveInjector(providers: ["+function(t,e){for(var n=new Array(t._providers.length),r=0;r<t._providers.length;++r)n[r]=e(t.getProviderAtIndex(r));return n}(this,function(t){return' "'+t.key.displayName+'" '}).join(", ")+"])"},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.displayName},t.INJECTOR_KEY=nn.get(me),t}();var bn=new wt("The presence of this token marks an injector as being the root injector."),wn={},_n={},En=[],Cn=void 0;function Sn(){return void 0===Cn&&(Cn=new ve),Cn}var xn=function(){function t(t,e,n){var r=this;this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this.destroyed=!1,Dn([t],function(t){return r.processInjectorType(t,new Set)}),e&&Dn(e,function(t){return r.processProvider(t)}),this.records.set(de,An(void 0,this)),this.isRootInjector=this.records.has(bn),this.injectorDefTypes.forEach(function(t){return r.get(t)})}return t.prototype.destroy=function(){this.assertNotDestroyed(),this.destroyed=!0;try{this.onDestroy.forEach(function(t){return t.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}},t.prototype.get=function(t,e,n){void 0===e&&(e=fe),void 0===n&&(n=0),this.assertNotDestroyed();var r,i=Oe(this);try{if(!(4&n)){var o=this.records.get(t);if(void 0===o){var s=("function"==typeof(r=t)||"object"==typeof r&&r instanceof wt)&&t.ngInjectableDef||void 0;void 0!==s&&this.injectableDefInScope(s)&&(o=Tn(t),this.records.set(t,o))}if(void 0!==o)return this.hydrate(t,o)}2&n?Sn():this.parent;return this.parent.get(t,e)}finally{Oe(i)}},t.prototype.assertNotDestroyed=function(){if(this.destroyed)throw new Error("Injector has already been destroyed.")},t.prototype.processInjectorType=function(t,e){var n=this,r=(t=oe(t)).ngInjectorDef,i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=void 0!==i&&t.providers||En;if(void 0!==i&&(r=i.ngInjectorDef),null!=r){if(e.has(o))throw new Error("Circular dependency: type "+Yt(o)+" ends up importing itself.");if(this.injectorDefTypes.add(o),this.records.set(o,An(r.factory)),null!=r.imports){e.add(o);try{Dn(r.imports,function(t){return n.processInjectorType(t,e)})}finally{e.delete(o)}}null!=r.providers&&Dn(r.providers,function(t){return n.processProvider(t)}),Dn(s,function(t){return n.processProvider(t)})}},t.prototype.processProvider=function(t){var e=In(t=oe(t))?t:oe(t.provide),n=function(t){var e=oe(t),n=wn,r=void 0;if(In(t))return Tn(t);if(e=oe(t.provide),function(t){return Ee in t}(t))n=t.useValue;else if(function(t){return!!t.useExisting}(t))r=function(){return Me(t.useExisting)};else if(function(t){return!!t.useFactory}(t))r=function(){return t.useFactory.apply(t,h(Re(t.deps||[])))};else{var i=t.useClass||e;if(!function(t){return!!t.deps}(t))return Tn(i);r=function(){return new(i.bind.apply(i,h([void 0],Re(t.deps))))}}return An(r,n)}(t);if(In(t)||!0!==t.multi){var r=this.records.get(e);if(r&&void 0!==r.multi)throw new Error("Mixed multi-provider for "+Yt(e))}else{var i=this.records.get(e);if(i){if(void 0===i.multi)throw new Error("Mixed multi-provider for "+e+".")}else(i=An(void 0,wn,!0)).factory=function(){return Re(i.multi)},this.records.set(e,i);e=t,i.multi.push(t)}this.records.set(e,n)},t.prototype.hydrate=function(t,e){if(e.value===_n)throw new Error("Circular dep for "+Yt(t));var n;return e.value===wn&&(e.value=_n,e.value=e.factory()),"object"==typeof e.value&&e.value&&("object"==typeof(n=e.value)&&null!=n&&n.ngOnDestroy&&"function"==typeof n.ngOnDestroy)&&this.onDestroy.add(e.value),e.value},t.prototype.injectableDefInScope=function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||"root"===t.providedIn&&this.isRootInjector:this.injectorDefTypes.has(t.providedIn))},t}();function Tn(t){var e=t.ngInjectableDef;if(void 0===e){if(t instanceof wt)throw new Error("Token "+Yt(t)+" is missing an ngInjectableDef definition.");return An(function(){return new t})}return An(e.factory)}function An(t,e,n){return void 0===e&&(e=wn),void 0===n&&(n=!1),{factory:t,value:e,multi:n?[]:void 0}}function Dn(t,e){t.forEach(function(t){return Array.isArray(t)?Dn(t,e):e(t)})}function In(t){return"function"==typeof t}function Nn(t){return!!t&&"function"==typeof t.then}function kn(t){return!!t&&"function"==typeof t.subscribe}var Pn=new wt("Application Initializer"),On=function(){function t(t){var e=this;this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return t.prototype.runInitializers=function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();Nn(i)&&e.push(i)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}},t=s([Be(),a(0,se(Pn)),a(0,ae()),u("design:paramtypes",[Array])],t)}(),Mn=new wt("AppId");function Rn(){return""+Ln()+Ln()+Ln()}var Fn={provide:Mn,useFactory:Rn,deps:[]};function Ln(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var jn=new wt("Platform Initializer"),Vn=new wt("Platform ID"),Bn=new wt("appBootstrapListener"),Un=new wt("Application Packages Root URL"),qn=function(){function t(){}return t.prototype.log=function(t){console.log(t)},t.prototype.warn=function(t){console.warn(t)},t=s([Be()],t)}();function Hn(){throw new Error("Runtime compiler is not loaded")}var Wn=function(){function t(){}return t.prototype.compileModuleSync=function(t){throw Hn()},t.prototype.compileModuleAsync=function(t){throw Hn()},t.prototype.compileModuleAndAllComponentsSync=function(t){throw Hn()},t.prototype.compileModuleAndAllComponentsAsync=function(t){throw Hn()},t.prototype.clearCache=function(){},t.prototype.clearCacheFor=function(t){},t.prototype.getModuleId=function(t){},t=s([Be()],t)}(),zn=new wt("compilerOptions"),Kn=function(){return function(){}}(),Gn=function(){return function(){}}(),Qn=function(){return function(){}}();function Xn(t){var e=Error("No component factory found for "+Yt(t)+". Did you add it to @NgModule.entryComponents?");return e[Jn]=t,e}var $n,Yn,Jn="ngComponent",Zn=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){throw Xn(t)},t}(),tr=function(){function t(){}return t.NULL=new Zn,t}(),er=function(){function t(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(var r=0;r<t.length;r++){var i=t[r];this._factories.set(i.componentType,i)}}return t.prototype.resolveComponentFactory=function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw Xn(t);return new nr(e,this._ngModule)},t}(),nr=function(t){function e(e,n){var r=t.call(this)||this;return r.factory=e,r.ngModule=n,r.selector=e.selector,r.componentType=e.componentType,r.ngContentSelectors=e.ngContentSelectors,r.inputs=e.inputs,r.outputs=e.outputs,r}return i(e,t),e.prototype.create=function(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)},e}(Qn),rr=function(){return function(){}}(),ir=function(){return function(){}}();var or,sr=!(!(or=zt.wtf)||!($n=or.trace)||(Yn=$n.events,0));function ar(t,e){return null}var ur=sr?function(t,e){return void 0===e&&(e=null),Yn.createScope(t,e)}:function(t,e){return ar},cr=sr?function(t,e){return $n.leaveScope(t,e),e}:function(t,e){return e},lr=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.__isAsync=e,n}return i(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,r){var i,o=function(t){return null},s=function(){return null};e&&"object"==typeof e?(i=this.__isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(o=this.__isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(s=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(i=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},n&&(o=this.__isAsync?function(t){setTimeout(function(){return n(t)})}:function(t){n(t)}),r&&(s=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()}));var a=t.prototype.subscribe.call(this,i,o,s);return e instanceof w&&e.add(a),a},e}(j),hr=function(){function t(t){var e=t.enableLongStackTrace,n=void 0!==e&&e;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new lr(!1),this.onMicrotaskEmpty=new lr(!1),this.onStable=new lr(!1),this.onError=new lr(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();var r;this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(r=this)._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,e,n,i,o,s){try{return vr(r),t.invokeTask(n,i,o,s)}finally{mr(r)}},onInvoke:function(t,e,n,i,o,s,a){try{return vr(r),t.invoke(n,i,o,s,a)}finally{mr(r)}},onHasTask:function(t,e,n,i){t.hasTask(n,i),e===n&&("microTask"==i.change?(r.hasPendingMicrotasks=i.microTask,dr(r)):"macroTask"==i.change&&(r.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,e,n,i){return t.handleError(n,i),r.runOutsideAngular(function(){return r.onError.emit(i)}),!1}})}return t.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},t.assertInAngularZone=function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},t.assertNotInAngularZone=function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},t.prototype.run=function(t,e,n){return this._inner.run(t,e,n)},t.prototype.runTask=function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,fr,pr,pr);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}},t.prototype.runGuarded=function(t,e,n){return this._inner.runGuarded(t,e,n)},t.prototype.runOutsideAngular=function(t){return this._outer.run(t)},t}();function pr(){}var fr={};function dr(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function vr(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function mr(t){t._nesting--,dr(t)}var yr=function(){function t(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new lr,this.onMicrotaskEmpty=new lr,this.onStable=new lr,this.onError=new lr}return t.prototype.run=function(t){return t()},t.prototype.runGuarded=function(t){return t()},t.prototype.runOutsideAngular=function(t){return t()},t.prototype.runTask=function(t){return t()},t}(),gr=function(){function t(t){var e=this;this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents(),t.run(function(){e.taskTrackingZone=Zone.current.get("TaskTrackingZone")})}return t.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){hr.assertNotInAngularZone(),Xt(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;if(this.isStable())Xt(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}},t.prototype.getPendingTasks=function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,isPeriodic:t.data.isPeriodic,delay:t.data.delay,creationLocation:t.creationLocation,xhr:t.data.target}}):[]},t.prototype.addCallback=function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(t){return t.timeoutId!==i}),t(r._didWork,r.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})},t.prototype.whenStable=function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findProviders=function(t,e,n){return[]},t=s([Be(),u("design:paramtypes",[hr])],t)}(),br=function(){function t(){this._applications=new Map,_r.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.unregisterApplication=function(t){this._applications.delete(t)},t.prototype.unregisterAllApplications=function(){this._applications.clear()},t.prototype.getTestability=function(t){return this._applications.get(t)||null},t.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},t.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),_r.findTestabilityInTree(this,t,e)},t=s([Be(),u("design:paramtypes",[])],t)}();var wr,_r=new(function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,n){return null},t}()),Er=!0,Cr=!1,Sr=new wt("AllowMultipleToken");function xr(){return Cr=!0,Er}var Tr=function(){return function(t,e){this.name=t,this.token=e}}();function Ar(t,e,n){void 0===n&&(n=[]);var r="Platform: "+e,i=new wt(r);return function(e){void 0===e&&(e=[]);var o=Dr();if(!o||o.injector.get(Sr,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var s=n.concat(e).concat({provide:i,useValue:!0});!function(t){if(wr&&!wr.destroyed&&!wr.injector.get(Sr,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");wr=t.get(Ir);var e=t.get(jn,null);e&&e.forEach(function(t){return t()})}(me.create({providers:s,name:r}))}return function(t){var e=Dr();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Dr(){return wr&&!wr.destroyed?wr:null}var Ir=function(){function t(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return t.prototype.bootstrapModuleFactory=function(t,e){var n=this,r=function(t){var e;e="noop"===t?new yr:("zone.js"===t?void 0:t)||new hr({enableLongStackTrace:xr()});return e}(e?e.ngZone:void 0),i=[{provide:hr,useValue:r}];return r.run(function(){var e=me.create({providers:i,parent:n.injector,name:t.moduleType.name}),o=t.create(e),s=o.injector.get(Ye,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o.onDestroy(function(){return Pr(n._modules,o)}),r.runOutsideAngular(function(){return r.onError.subscribe({next:function(t){s.handleError(t)}})}),function(t,e,n){try{var r=n();return Nn(r)?r.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):r}catch(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}}(s,r,function(){var t=o.injector.get(On);return t.runInitializers(),t.donePromise.then(function(){return n._moduleDoBootstrap(o),o})})})},t.prototype.bootstrapModule=function(t,e){var n=this;void 0===e&&(e=[]);var r=this.injector.get(Kn),i=Nr({},e);return r.createCompiler([i]).compileModuleAsync(t).then(function(t){return n.bootstrapModuleFactory(t,i)})},t.prototype._moduleDoBootstrap=function(t){var e=t.injector.get(kr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module "+Yt(t.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),t=s([Be(),u("design:paramtypes",[me])],t)}();function Nr(t,e){return t=Array.isArray(e)?e.reduce(Nr,t):o({},t,e)}var kr=function(){function t(t,e,n,r,i,o){var s=this;this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=xr(),this._zone.onMicrotaskEmpty.subscribe({next:function(){s._zone.run(function(){s.tick()})}});var a=new O(function(t){s._stable=s._zone.isStable&&!s._zone.hasPendingMacrotasks&&!s._zone.hasPendingMicrotasks,s._zone.runOutsideAngular(function(){t.next(s._stable),t.complete()})}),u=new O(function(t){var e;s._zone.runOutsideAngular(function(){e=s._zone.onStable.subscribe(function(){hr.assertNotInAngularZone(),Xt(function(){s._stable||s._zone.hasPendingMacrotasks||s._zone.hasPendingMicrotasks||(s._stable=!0,t.next(!0))})})});var n=s._zone.onUnstable.subscribe(function(){hr.assertInAngularZone(),s._stable&&(s._stable=!1,s._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=ut(a,u.pipe(gt()))}var e;return e=t,t.prototype.bootstrap=function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof Qn?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n instanceof nr?null:this._injector.get(rr),o=e||n.selector,s=n.create(me.NULL,[],o,i);s.onDestroy(function(){r._unloadComponent(s)});var a=s.injector.get(gr,null);return a&&s.injector.get(br).registerApplication(s.location.nativeElement,a),this._loadComponent(s),xr()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),s},t.prototype.tick=function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=e._tickScope();try{this._runningTick=!0,this._views.forEach(function(t){return t.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(t){return t.checkNoChanges()})}catch(e){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(e)})}finally{this._runningTick=!1,cr(n)}},t.prototype.attachView=function(t){var e=t;this._views.push(e),e.attachToAppRef(this)},t.prototype.detachView=function(t){var e=t;Pr(this._views,e),e.detachFromAppRef()},t.prototype._loadComponent=function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Bn,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})},t.prototype._unloadComponent=function(t){this.detachView(t.hostView),Pr(this.components,t)},t.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(t){return t.destroy()})},Object.defineProperty(t.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),t._tickScope=ur("ApplicationRef#tick()"),t=e=s([Be(),u("design:paramtypes",[hr,qn,me,Ye,tr,On])],t)}();function Pr(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Or,Mr=function(){return function(){}}(),Rr=(new wt("Renderer2Interceptor"),function(){}(),function(){return function(){}}());!function(t){t[t.Important=1]="Important",t[t.DashCase=2]="DashCase"}(Or||(Or={}));var Fr=function(){return function(){}}(),Lr=function(){return function(t){this.nativeElement=t}}(),jr=function(){return function(){}}(),Vr=new Map;function Br(t,e){var n=Vr.get(t);if(n)throw new Error("Duplicate module registered for "+t+" - "+n.moduleType.name+" vs "+e.moduleType.name);Vr.set(t,e)}var Ur=function(){function t(){this.dirty=!0,this._results=[],this.changes=new lr,this.length=0}return t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.find=function(t){return this._results.find(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.some=function(t){return this._results.some(t)},t.prototype.toArray=function(){return this._results.slice()},t.prototype[Qt()]=function(){return this._results[Qt()]()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=function t(e){return e.reduce(function(e,n){var r=Array.isArray(n)?t(n):n;return e.concat(r)},[])}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},t.prototype.notifyOnChanges=function(){this.changes.emit(this)},t.prototype.setDirty=function(){this.dirty=!0},t.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},t}();var qr=function(){return function(){}}(),Hr={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Wr=function(){function t(t,e){this._compiler=t,this._config=e||Hr}return t.prototype.load=function(t){return this._compiler instanceof Wn?this.loadFactory(t):this.loadAndCompile(t)},t.prototype.loadAndCompile=function(t){var e=this,r=l(t.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),n("crnd")(i).then(function(t){return t[o]}).then(function(t){return zr(t,i,o)}).then(function(t){return e._compiler.compileModuleAsync(t)})},t.prototype.loadFactory=function(t){var e=l(t.split("#"),2),r=e[0],i=e[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("crnd")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(function(t){return t[i+o]}).then(function(t){return zr(t,r,i)})},t=s([Be(),a(1,ae()),u("design:paramtypes",[Wn,qr])],t)}();function zr(t,e,n){if(!t)throw new Error("Cannot find '"+n+"' in '"+e+"'");return t}var Kr=function(){return function(){}}(),Gr=function(){return function(){}}(),Qr=function(){return function(){}}(),Xr=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}i(e,t)}(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(Qr)),function(){return function(t,e){this.name=t,this.callback=e}}()),$r=function(){function t(t,e,n){this._debugContext=n,this.nativeNode=t,e&&e instanceof Yr?e.addChild(this):this.parent=null,this.listeners=[]}return Object.defineProperty(t.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),t}(),Yr=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.properties={},i.attributes={},i.classes={},i.styles={},i.childNodes=[],i.nativeElement=e,i}return i(e,t),e.prototype.addChild=function(t){t&&(this.childNodes.push(t),t.parent=this)},e.prototype.removeChild=function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(t,e){var n,r=this,i=this.childNodes.indexOf(t);-1!==i&&((n=this.childNodes).splice.apply(n,h([i+1,0],e)),e.forEach(function(t){t.parent&&t.parent.removeChild(t),t.parent=r}))},e.prototype.insertBefore=function(t,e){var n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))},e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var e=[];return function t(e,n,r){e.childNodes.forEach(function(e){e instanceof Yr&&(n(e)&&r.push(e),t(e,n,r))})}(this,t,e),e},e.prototype.queryAllNodes=function(t){var e=[];return function t(e,n,r){e instanceof Yr&&e.childNodes.forEach(function(e){n(e)&&r.push(e),e instanceof Yr&&t(e,n,r)})}(this,t,e),e},Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes.filter(function(t){return t instanceof e})},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach(function(n){n.name==t&&n.callback(e)})},e}($r);var Jr=new Map;function Zr(t){return Jr.get(t)||null}function ti(t){Jr.set(t.nativeNode,t)}function ei(t,e){var n=ii(t),r=ii(e);return n&&r?function(t,e,n){var r=t[Qt()](),i=e[Qt()]();for(;;){var o=r.next(),s=i.next();if(o.done&&s.done)return!0;if(o.done||s.done)return!1;if(!n(o.value,s.value))return!1}}(t,e,ei):!(n||!(t&&("object"==typeof t||"function"==typeof t))||r||!(e&&("object"==typeof e||"function"==typeof e)))||$t(t,e)}var ni=function(){function t(t){this.wrapped=t}return t.wrap=function(e){return new t(e)},t.unwrap=function(e){return t.isWrapped(e)?e.wrapped:e},t.isWrapped=function(e){return e instanceof t},t}(),ri=function(){function t(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}return t.prototype.isFirstChange=function(){return this.firstChange},t}();function ii(t){return!!oi(t)&&(Array.isArray(t)||!(t instanceof Map)&&Qt()in t)}function oi(t){return null!==t&&("function"==typeof t||"object"==typeof t)}var si=function(){function t(){}return t.prototype.supports=function(t){return ii(t)},t.prototype.create=function(t){return new ui(t)},t}(),ai=function(t,e){return e},ui=function(){function t(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ai}return t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachOperation=function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<pi(n,r,i)?e:n,s=pi(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=s-r,c=a-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,p=h+l;c<=p&&p<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}s!==a&&t(o,s,a)}},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(null==t&&(t=[]),!ii(t))throw new Error("Error trying to diff '"+Yt(t)+"'. Only arrays and iterables are allowed");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n,r,i,o=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(var a=0;a<this.length;a++)r=t[a],i=this._trackByFn(a,r),null!==o&&$t(o.trackById,i)?(s&&(o=this._verifyReinsertion(o,r,i,a)),$t(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,a),s=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r=t[Qt()](),i=void 0;!(i=r.next()).done;)e(i.value)}(t,function(t){i=e._trackByFn(n,t),null!==o&&$t(o.trackById,i)?(s&&(o=e._verifyReinsertion(o,t,i,n)),$t(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),s=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t=void 0,e=void 0;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?($t(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?($t(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new ci(e,n),i,r),t},t.prototype._verifyReinsertion=function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._moveAfter=function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._addAfter=function(t,e,n){return this._insertAfter(t,e,n),null===this._additionsTail?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new hi),this._linkedRecords.put(t),t.currentIndex=n,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e?t:(null===this._movesTail?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hi),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t},t}(),ci=function(){return function(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}(),li=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&$t(n.trackById,t))return n;return null},t.prototype.remove=function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head},t}(),hi=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=t.trackById,n=this.map.get(e);n||(n=new li,this.map.set(e,n)),n.add(t)},t.prototype.get=function(t,e){var n=t,r=this.map.get(n);return r?r.get(t,e):null},t.prototype.remove=function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t}();function pi(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var fi=function(){function t(){}return t.prototype.supports=function(t){return t instanceof Map||oi(t)},t.prototype.create=function(){return new di},t}(),di=function(){function t(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(t){if(!(t instanceof Map||oi(t)))throw new Error("Error trying to diff '"+Yt(t)+"'. Only maps and objects are allowed")}else t=new Map;return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},t.prototype._insertBeforeOrAppend=function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},t.prototype._getOrCreateRecordForKey=function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new vi(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o},t.prototype._reset=function(){if(this.isDirty){var t=void 0;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},t.prototype._maybeAddToChanges=function(t,e){$t(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})},t}(),vi=function(){return function(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}(),mi=function(){function t(t){this.factories=t}return t.create=function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ce,new ae]]}},t.prototype.find=function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'")},t.ngInjectableDef=bt({providedIn:"root",factory:function(){return new t([new si])}}),t}();var yi,gi=function(){function t(t){this.factories=t}return t.create=function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ce,new ae]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '"+t+"'")},t}(),bi=[new fi],wi=[new si],_i=new mi(wi),Ei=new gi(bi),Ci=Ar(null,"core",[{provide:Vn,useValue:"unknown"},{provide:Ir,deps:[me]},{provide:br,deps:[]},{provide:qn,deps:[]}]),Si=new wt("LocaleId"),xi=new wt("Translations"),Ti=new wt("TranslationsFormat");function Ai(){return _i}function Di(){return Ei}function Ii(t){return t||"en-US"}!function(t){t[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Ignore=2]="Ignore"}(yi||(yi={}));var Ni=[{provide:kr,useClass:kr,deps:[hr,qn,me,Ye,tr,On]},{provide:On,useClass:On,deps:[[new ae,Pn]]},{provide:Wn,useClass:Wn,deps:[]},Fn,{provide:mi,useFactory:Ai,deps:[]},{provide:gi,useFactory:Di,deps:[]},{provide:Si,useFactory:Ii,deps:[[new se(Si),new ae,new ce]]}],ki=function(){function t(t){}return t=s([qe({providers:Ni}),u("design:paramtypes",[kr])],t)}();new Set;var Pi=function(){function t(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement=this.getInertBodyElement_DOMParser:this.getInertBodyElement=this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return t.prototype.getInertBodyElement_XHR=function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(t){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(null);var n=e.response.body;return n.removeChild(n.firstChild),n},t.prototype.getInertBodyElement_DOMParser=function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(t){return null}},t.prototype.getInertBodyElement_InertDocument=function(t){var e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},t.prototype.stripCustomNsAttrs=function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling},t}();var Oi=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Mi=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ri(t){return(t=String(t)).match(Oi)||t.match(Mi)?t:(xr()&&console.warn("WARNING: sanitizing unsafe URL value "+t+" (see http://g.co/ng/security#xss)"),"unsafe:"+t)}function Fi(t){var e,n,r={};try{for(var i=c(t.split(",")),o=i.next();!o.done;o=i.next()){r[o.value]=!0}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Li(){for(var t,e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i={};try{for(var o=c(n),s=o.next();!s.done;s=o.next()){var a=s.value;for(var u in a)a.hasOwnProperty(u)&&(i[u]=!0)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return i}var ji,Vi=Fi("area,br,col,hr,img,wbr"),Bi=Fi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ui=Fi("rp,rt"),qi=Li(Ui,Bi),Hi=Li(Bi,Fi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Wi=Li(Ui,Fi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),zi=Li(Vi,Hi,Wi,qi),Ki=Fi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Gi=Fi("srcset"),Qi=Fi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Xi=Li(Ki,Gi,Qi),$i=function(){function t(){this.sanitizedSomething=!1,this.buf=[]}return t.prototype.sanitizeChildren=function(t){for(var e=t.firstChild;e;)if(e.nodeType===Node.ELEMENT_NODE?this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var n=this.checkClobberedElement(e,e.nextSibling);if(n){e=n;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")},t.prototype.startElement=function(t){var e=t.nodeName.toLowerCase();if(zi.hasOwnProperty(e)){this.buf.push("<"),this.buf.push(e);for(var n,r=t.attributes,i=0;i<r.length;i++){var o=r.item(i),s=o.name,a=s.toLowerCase();if(Xi.hasOwnProperty(a)){var u=o.value;Ki[a]&&(u=Ri(u)),Gi[a]&&(n=u,u=(n=String(n)).split(",").map(function(t){return Ri(t.trim())}).join(", ")),this.buf.push(" ",s,'="',Zi(u),'"')}else this.sanitizedSomething=!0}this.buf.push(">")}else this.sanitizedSomething=!0},t.prototype.endElement=function(t){var e=t.nodeName.toLowerCase();zi.hasOwnProperty(e)&&!Vi.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},t.prototype.chars=function(t){this.buf.push(Zi(t))},t.prototype.checkClobberedElement=function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e},t}(),Yi=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ji=/([^\#-~ |!])/g;function Zi(t){return t.replace(/&/g,"&amp;").replace(Yi,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Ji,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function to(t,e){var n=null;try{ji=ji||new Pi(t);var r=e?String(e):"";n=ji.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=ji.getInertBodyElement(r)}while(r!==o);var s=new $i,a=s.sanitizeChildren(eo(n)||n);return xr()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."),a}finally{if(n)for(var u=eo(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}function eo(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var no,ro=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),io=/^url\(([^)]+)\)$/;function oo(t){if(!(t=String(t).trim()))return"";var e=t.match(io);return e&&Ri(e[1])===e[1]||t.match(ro)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(xr()&&console.warn("WARNING: sanitizing unsafe style value "+t+" (see http://g.co/ng/security#xss)."),"unsafe")}!function(t){t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL"}(no||(no={}));var so=function(){return function(){}}();function ao(t,e,n){var r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function uo(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function co(t,e){return t.nodes[e]}function lo(t,e){return t.nodes[e]}function ho(t,e){return t.nodes[e]}function po(t,e){return t.nodes[e]}function fo(t,e){return t.nodes[e]}var vo={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0};function mo(t,e,n,r){var i="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+e+"'. Current value: '"+n+"'.";return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){var n=new Error(t);return yo(n,e),n}(i,t)}function yo(t,e){t[ze]=e,t[Ge]=e.logError.bind(e)}function go(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}var bo=function(){},wo=new Map;function _o(t){var e=wo.get(t);return e||(e=Yt(t)+"_"+wo.size,wo.set(t,e)),e}function Eo(t,e,n,r){if(ni.isWrapped(r)){r=ni.unwrap(r);var i=t.def.nodes[e].bindingIndex+n,o=ni.unwrap(t.oldValues[i]);t.oldValues[i]=new ni(o)}return r}var Co="$$undefined",So="$$empty";function xo(t){return{id:Co,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}var To=0;function Ao(t){if(t&&t.id===Co){var e=null!=t.encapsulation&&t.encapsulation!==Ue.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+To++:So}return t&&t.id===So&&(t=null),t||null}function Do(t,e,n,r){var i=t.oldValues;return!(!(2&t.state)&&$t(i[e.bindingIndex+n],r))}function Io(t,e,n,r){return!!Do(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function No(t,e,n,r){var i=t.oldValues[e.bindingIndex+n];if(1&t.state||!ei(i,r)){var o=e.bindings[n].name;throw mo(vo.createDebugContext(t,e.nodeIndex),o+": "+i,o+": "+r,0!=(1&t.state))}}function ko(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function Po(t,e){for(var n=t;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function Oo(t,e,n,r){try{return ko(33554432&t.def.nodes[e].flags?lo(t,e).componentView:t),vo.handleEvent(t,e,n,r)}catch(e){t.root.errorHandler.handleError(e)}}function Mo(t){return t.parent?lo(t.parent,t.parentNodeDef.nodeIndex):null}function Ro(t){return t.parent?t.parentNodeDef.parent:null}function Fo(t,e){switch(201347067&e.flags){case 1:return lo(t,e.nodeIndex).renderElement;case 2:return co(t,e.nodeIndex).renderText}}function Lo(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function jo(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function Vo(t){return 1<<t%32}function Bo(t){var e={},n=0,r={};return t&&t.forEach(function(t){var i=l(t,2),o=i[0],s=i[1];"number"==typeof o?(e[o]=s,n|=Vo(o)):r[o]=s}),{matchedQueries:e,references:r,matchedQueryIds:n}}function Uo(t,e){return t.map(function(t){var n,r,i;return Array.isArray(t)?(i=(n=l(t,2))[0],r=n[1]):(i=0,r=t),r&&("function"==typeof r||"object"==typeof r)&&e&&Object.defineProperty(r,he,{value:e,configurable:!0}),{flags:i,token:r,tokenKey:_o(r)}})}function qo(t,e,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===Ue.Native?lo(t,n.renderParent.nodeIndex).renderElement:void 0:e}var Ho=new WeakMap;function Wo(t){var e=Ho.get(t);return e||((e=t(function(){return bo})).factory=t,Ho.set(t,e)),e}function zo(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(Fo(t,t.def.lastRenderRootNode))),Ko(t,e,0,t.def.nodes.length-1,n,r,i)}function Ko(t,e,n,r,i,o,s){for(var a=n;a<=r;a++){var u=t.def.nodes[a];11&u.flags&&Qo(t,u,e,i,o,s),a+=u.childCount}}function Go(t,e,n,r,i,o){for(var s=t;s&&!Lo(s);)s=s.parent;for(var a=s.parent,u=Ro(s),c=u.nodeIndex+1,l=u.nodeIndex+u.childCount,h=c;h<=l;h++){var p=a.def.nodes[h];p.ngContentIndex===e&&Qo(a,p,n,r,i,o),h+=p.childCount}if(!a.parent){var f=t.root.projectableNodes[e];if(f)for(h=0;h<f.length;h++)Xo(t,f[h],n,r,i,o)}}function Qo(t,e,n,r,i,o){if(8&e.flags)Go(t,e.ngContent.index,n,r,i,o);else{var s=Fo(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags){if(16&e.bindingFlags&&Xo(t,s,n,r,i,o),32&e.bindingFlags)Xo(lo(t,e.nodeIndex).componentView,s,n,r,i,o)}else Xo(t,s,n,r,i,o);if(16777216&e.flags)for(var a=lo(t,e.nodeIndex).viewContainer._embeddedViews,u=0;u<a.length;u++)zo(a[u],n,r,i,o);1&e.flags&&!e.element.name&&Ko(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,o)}}function Xo(t,e,n,r,i,o){var s=t.renderer;switch(n){case 1:s.appendChild(r,e);break;case 2:s.insertBefore(r,e,i);break;case 3:s.removeChild(r,e);break;case 0:o.push(e)}}var $o=/^:([^:]+):(.+)$/;function Yo(t){if(":"===t[0]){var e=t.match($o);return[e[1],e[2]]}return["",t]}function Jo(t){for(var e=0,n=0;n<t.length;n++)e|=t[n].flags;return e}function Zo(t,e){for(var n="",r=0;r<2*t;r+=2)n=n+e[r]+es(e[r+1]);return n+e[2*t]}function ts(t,e,n,r,i,o,s,a,u,c,l,h,p,f,d,v,m,y,g,b){switch(t){case 1:return e+es(n)+r;case 2:return e+es(n)+r+es(i)+o;case 3:return e+es(n)+r+es(i)+o+es(s)+a;case 4:return e+es(n)+r+es(i)+o+es(s)+a+es(u)+c;case 5:return e+es(n)+r+es(i)+o+es(s)+a+es(u)+c+es(l)+h;case 6:return e+es(n)+r+es(i)+o+es(s)+a+es(u)+c+es(l)+h+es(p)+f;case 7:return e+es(n)+r+es(i)+o+es(s)+a+es(u)+c+es(l)+h+es(p)+f+es(d)+v;case 8:return e+es(n)+r+es(i)+o+es(s)+a+es(u)+c+es(l)+h+es(p)+f+es(d)+v+es(m)+y;case 9:return e+es(n)+r+es(i)+o+es(s)+a+es(u)+c+es(l)+h+es(p)+f+es(d)+v+es(m)+y+es(g)+b;default:throw new Error("Does not support more than 9 expressions")}}function es(t){return null!=t?t.toString():""}var ns=[],rs={};function is(t,e,n,r,i,o){t|=1;var s=Bo(e),a=s.matchedQueries,u=s.references;return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:a,matchedQueryIds:s.matchedQueryIds,references:u,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?Wo(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||bo},provider:null,text:null,query:null,ngContent:null}}function os(t,e,n,r,i,o,s,a,u,c,h,p){var f;void 0===s&&(s=[]),c||(c=bo);var d=Bo(n),v=d.matchedQueries,m=d.references,y=d.matchedQueryIds,g=null,b=null;o&&(g=(f=l(Yo(o),2))[0],b=f[1]),a=a||[];for(var w=new Array(a.length),_=0;_<a.length;_++){var E=l(a[_],3),C=E[0],S=E[1],x=E[2],T=l(Yo(S),2),A=T[0],D=T[1],I=void 0,N=void 0;switch(15&C){case 4:N=x;break;case 1:case 8:I=x}w[_]={flags:C,ns:A,name:D,nonMinifiedName:D,securityContext:I,suffix:N}}u=u||[];var k=new Array(u.length);for(_=0;_<u.length;_++){var P=l(u[_],2),O=P[0],M=P[1];k[_]={type:0,target:O,eventName:M,propName:null}}var R=(s=s||[]).map(function(t){var e=l(t,2),n=e[0],r=e[1],i=l(Yo(n),2);return[i[0],i[1],r]});return p=Ao(p),h&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:v,matchedQueryIds:y,references:m,ngContentIndex:r,childCount:i,bindings:w,bindingFlags:Jo(w),outputs:k,element:{ns:g,name:b,attrs:R,template:null,componentProvider:null,componentView:h||null,componentRendererType:p,publicProviders:null,allProviders:null,handleEvent:c||bo},provider:null,text:null,query:null,ngContent:null}}function ss(t,e,n){var r,i=n.element,o=t.root.selectorOrNode,s=t.renderer;if(t.parent||!o){r=i.name?s.createElement(i.name,i.ns):s.createComment("");var a=qo(t,e,n);a&&s.appendChild(a,r)}else r=s.selectRootElement(o);if(i.attrs)for(var u=0;u<i.attrs.length;u++){var c=l(i.attrs[u],3),h=c[0],p=c[1],f=c[2];s.setAttribute(r,p,f,h)}return r}function as(t,e,n,r){for(var i=0;i<n.outputs.length;i++){var o=n.outputs[i],s=us(t,n.nodeIndex,(l=o.target,h=o.eventName,l?l+":"+h:h)),a=o.target,u=t;"component"===o.target&&(a=null,u=e);var c=u.renderer.listen(a||r,o.eventName,s);t.disposables[n.outputIndex+i]=c}var l,h}function us(t,e,n){return function(r){return Oo(t,e,n,r)}}function cs(t,e,n,r){if(!Io(t,e,n,r))return!1;var i=e.bindings[n],o=lo(t,e.nodeIndex),s=o.renderElement,a=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,o){var s=e.securityContext,a=s?t.root.sanitizer.sanitize(s,o):o;a=null!=a?a.toString():null;var u=t.renderer;null!=o?u.setAttribute(n,i,a,r):u.removeAttribute(n,i,r)}(t,i,s,i.ns,a,r);break;case 2:!function(t,e,n,r){var i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,s,a,r);break;case 4:!function(t,e,n,r,i){var o=t.root.sanitizer.sanitize(no.STYLE,i);if(null!=o){o=o.toString();var s=e.suffix;null!=s&&(o+=s)}else o=null;var a=t.renderer;null!=o?a.setStyle(n,r,o):a.removeStyle(n,r)}(t,i,s,a,r);break;case 8:!function(t,e,n,r,i){var o=e.securityContext,s=o?t.root.sanitizer.sanitize(o,i):i;t.renderer.setProperty(n,r,s)}(33554432&e.flags&&32&i.flags?o.componentView:t,i,s,a,r)}return!0}var ls=new Object,hs=_o(me),ps=_o(de),fs=_o(rr);function ds(t,e,n,r){return n=oe(n),{index:-1,deps:Uo(r,Yt(e)),flags:t,token:e,value:n}}function vs(t){for(var e={},n=[],r=!1,i=0;i<t.length;i++){var o=t[i];o.token===bn&&!0===o.value&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,e[_o(o.token)]=o}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:r}}function ms(t,e,n){void 0===n&&(n=me.THROW_IF_NOT_FOUND);var r,i,o=Oe(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);var s=e.tokenKey;switch(s){case hs:case ps:case fs:return t}var a=t._def.providersByKey[s];if(a){var u=t._providers[a.index];return void 0===u&&(u=t._providers[a.index]=ys(t,a)),u===ls?void 0:u}if(e.token.ngInjectableDef&&(r=t,null!=(i=e.token.ngInjectableDef).providedIn&&(function(t,e){return t._def.modules.indexOf(e)>-1}(r,i.providedIn)||"root"===i.providedIn&&r._def.isRoot))){var c=e.token.ngInjectableDef,l=t._providers.length;return t._def.providersByKey[e.tokenKey]={flags:5120,value:c.factory,deps:[],index:l,token:e.token},t._providers[l]=ls,t._providers[l]=ys(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{Oe(o)}}function ys(t,e){var n;switch(201347067&e.flags){case 512:n=function(t,e,n){var r=n.length;switch(r){case 0:return new e;case 1:return new e(ms(t,n[0]));case 2:return new e(ms(t,n[0]),ms(t,n[1]));case 3:return new e(ms(t,n[0]),ms(t,n[1]),ms(t,n[2]));default:for(var i=new Array(r),o=0;o<r;o++)i[o]=ms(t,n[o]);return new(e.bind.apply(e,h([void 0],i)))}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){var r=n.length;switch(r){case 0:return e();case 1:return e(ms(t,n[0]));case 2:return e(ms(t,n[0]),ms(t,n[1]));case 3:return e(ms(t,n[0]),ms(t,n[1]),ms(t,n[2]));default:for(var i=Array(r),o=0;o<r;o++)i[o]=ms(t,n[o]);return e.apply(void 0,h(i))}}(t,e.value,e.deps);break;case 2048:n=ms(t,e.deps[0]);break;case 256:n=e.value}return n===ls||null==n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?ls:n}function gs(t,e,n,r){var i=e.viewContainer._embeddedViews;null!==n&&void 0!==n||(n=i.length),r.viewContainerParent=t,Es(i,n,r),function(t,e){var n=Mo(e);if(!n||n===t||16&e.state)return;e.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]);r.push(e),function(t,e){if(4&e.flags)return;t.nodeFlags|=4,e.flags|=4;var n=e.parent;for(;n;)n.childFlags|=4,n=n.parent}(e.parent.def,e.parentNodeDef)}(e,r),vo.dirtyParentQueries(r),ws(e,n>0?i[n-1]:null,r)}function bs(t,e){var n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var r=n[e];return r.viewContainerParent=null,Cs(n,e),vo.dirtyParentQueries(r),_s(r),r}function ws(t,e,n){var r=e?Fo(e,e.def.lastRenderRootNode):t.renderElement;zo(n,2,n.renderer.parentNode(r),n.renderer.nextSibling(r),void 0)}function _s(t){zo(t,3,null,null,void 0)}function Es(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Cs(t,e){e>=t.length-1?t.pop():t.splice(e,1)}var Ss=new Object;function xs(t,e,n,r,i,o){return new Ts(t,e,n,r,i,o)}var Ts=function(t){function e(e,n,r,i,o,s){var a=t.call(this)||this;return a.selector=e,a.componentType=n,a._inputs=i,a._outputs=o,a.ngContentSelectors=s,a.viewDefFactory=r,a}return i(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){var t=[],e=this._inputs;for(var n in e){var r=e[n];t.push({propName:n,templateName:r})}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){var t=[];for(var e in this._outputs){var n=this._outputs[e];t.push({propName:e,templateName:n})}return t},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){if(!r)throw new Error("ngModule should be provided");var i=Wo(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,s=vo.createRootView(t,e||[],n,i,r,Ss),a=ho(s,o).instance;return n&&s.renderer.setAttribute(lo(s,0).renderElement,"ng-version",We.full),new As(s,new ks(s),a)},e}(Qn),As=function(t){function e(e,n,r){var i=t.call(this)||this;return i._view=e,i._viewRef=n,i._component=r,i._elDef=i._view.def.nodes[0],i.hostView=n,i.changeDetectorRef=n,i.instance=r,i}return i(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return new Lr(lo(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new Rs(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._viewRef.destroy()},e.prototype.onDestroy=function(t){this._viewRef.onDestroy(t)},e}(Gn);function Ds(t,e,n){return new Is(t,e,n)}var Is=function(){function t(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}return Object.defineProperty(t.prototype,"element",{get:function(){return new Lr(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new Rs(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=Ro(t),t=t.parent;return t?new Rs(t,e):new Rs(this._view,null)},enumerable:!0,configurable:!0}),t.prototype.clear=function(){for(var t=this._embeddedViews.length-1;t>=0;t--){var e=bs(this._data,t);vo.destroyView(e)}},t.prototype.get=function(t){var e=this._embeddedViews[t];if(e){var n=new ks(e);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(t.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r},t.prototype.createComponent=function(t,e,n,r,i){var o=n||this.parentInjector;i||t instanceof nr||(i=o.get(rr));var s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s},t.prototype.insert=function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n=t,r=n._view;return gs(this._view,this._data,e,r),n.attachToViewContainerRef(this),t},t.prototype.move=function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,r,i,o,s,a=this._embeddedViews.indexOf(t._view);return n=this._data,r=a,i=e,o=n.viewContainer._embeddedViews,s=o[r],Cs(o,r),null==i&&(i=o.length),Es(o,i,s),vo.dirtyParentQueries(s),_s(s),ws(n,i>0?o[i-1]:null,s),t},t.prototype.indexOf=function(t){return this._embeddedViews.indexOf(t._view)},t.prototype.remove=function(t){var e=bs(this._data,t);e&&vo.destroyView(e)},t.prototype.detach=function(t){var e=bs(this._data,t);return e?new ks(e):null},t}();function Ns(t){return new ks(t)}var ks=function(){function t(t){this._view=t,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return zo(this._view,0,void 0,void 0,t=[]),t;var t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),t.prototype.markForCheck=function(){ko(this._view)},t.prototype.detach=function(){this._view.state&=-5},t.prototype.detectChanges=function(){var t=this._view.root.rendererFactory;t.begin&&t.begin();try{vo.checkAndUpdateView(this._view)}finally{t.end&&t.end()}},t.prototype.checkNoChanges=function(){vo.checkNoChangesView(this._view)},t.prototype.reattach=function(){this._view.state|=4},t.prototype.onDestroy=function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)},t.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),vo.destroyView(this._view)},t.prototype.detachFromAppRef=function(){this._appRef=null,_s(this._view),vo.dirtyParentQueries(this._view)},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t}();function Ps(t,e){return new Os(t,e)}var Os=function(t){function e(e,n){var r=t.call(this)||this;return r._parentView=e,r._def=n,r}return i(e,t),e.prototype.createEmbeddedView=function(t){return new ks(vo.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))},Object.defineProperty(e.prototype,"elementRef",{get:function(){return new Lr(lo(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),e}(Kr);function Ms(t,e){return new Rs(t,e)}var Rs=function(){function t(t,e){this.view=t,this.elDef=e}return t.prototype.get=function(t,e){void 0===e&&(e=me.THROW_IF_NOT_FOUND);var n=!!this.elDef&&0!=(33554432&this.elDef.flags);return vo.resolveDep(this.view,this.elDef,n,{flags:0,token:t,tokenKey:_o(t)},e)},t}();function Fs(t,e){var n=t.def.nodes[e];if(1&n.flags){var r=lo(t,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return co(t,n.nodeIndex).renderText;if(20240&n.flags)return ho(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function Ls(t){return new js(t.renderer)}var js=function(){function t(t){this.delegate=t}return t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.createElement=function(t,e){var n=l(Yo(e),2),r=n[0],i=n[1],o=this.delegate.createElement(i,r);return t&&this.delegate.appendChild(t,o),o},t.prototype.createViewRoot=function(t){return t},t.prototype.createTemplateAnchor=function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e},t.prototype.createText=function(t,e){var n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n},t.prototype.projectNodes=function(t,e){for(var n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])},t.prototype.attachViewAfter=function(t,e){for(var n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t),i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)},t.prototype.detachView=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}},t.prototype.destroyView=function(t,e){for(var n=0;n<e.length;n++)this.delegate.destroyNode(e[n])},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.listenGlobal=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.setElementProperty=function(t,e,n){this.delegate.setProperty(t,e,n)},t.prototype.setElementAttribute=function(t,e,n){var r=l(Yo(e),2),i=r[0],o=r[1];null!=n?this.delegate.setAttribute(t,o,n,i):this.delegate.removeAttribute(t,o,i)},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)},t.prototype.setElementStyle=function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)},t.prototype.invokeElementMethod=function(t,e,n){t[e].apply(t,n)},t.prototype.setText=function(t,e){this.delegate.setValue(t,e)},t.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},t}();function Vs(t,e,n,r){return new Bs(t,e,n,r)}var Bs=function(){function t(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){for(var e=t._def,n=t._providers=new Array(e.providers.length),r=0;r<e.providers.length;r++){var i=e.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=ys(t,i))}}(this)}return t.prototype.get=function(t,e,n){void 0===e&&(e=me.THROW_IF_NOT_FOUND),void 0===n&&(n=0);var r=0;return 4&n?r|=1:2&n&&(r|=4),ms(this,{token:t,tokenKey:_o(t),flags:r},e)},Object.defineProperty(t.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this.get(tr)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+Yt(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(t,e){for(var n=t._def,r=new Set,i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){var o=t._providers[i];if(o&&o!==ls){var s=o.ngOnDestroy;"function"!=typeof s||r.has(o)||(s.apply(o),r.add(o))}}}(this),this._destroyListeners.forEach(function(t){return t()})},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},t}(),Us=_o(Mr),qs=_o(Fr),Hs=_o(Lr),Ws=_o(Gr),zs=_o(Kr),Ks=_o(Qr),Gs=_o(me),Qs=_o(de);function Xs(t,e,n,r,i,o,s,a){var u=[];if(s)for(var c in s){var h=l(s[c],2),p=h[0],f=h[1];u[p]={flags:8,name:c,nonMinifiedName:f,ns:null,securityContext:null,suffix:null}}var d=[];if(a)for(var v in a)d.push({type:1,propName:v,target:null,eventName:a[v]});return Js(t,e|=16384,n,r,i,i,o,u,d)}function $s(t,e,n){return Js(-1,t|=16,null,0,e,e,n)}function Ys(t,e,n,r,i){return Js(-1,t,e,0,n,r,i)}function Js(t,e,n,r,i,o,s,a,u){var c=Bo(n),l=c.matchedQueries,h=c.references,p=c.matchedQueryIds;u||(u=[]),a||(a=[]),o=oe(o);var f=Uo(s,Yt(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:l,matchedQueryIds:p,references:h,ngContentIndex:-1,childCount:r,bindings:a,bindingFlags:Jo(a),outputs:u,element:null,provider:{token:i,value:o,deps:f},text:null,query:null,ngContent:null}}function Zs(t,e){return ra(t,e)}function ta(t,e){for(var n=t;n.parent&&!Lo(n);)n=n.parent;return ia(n.parent,Ro(n),!0,e.provider.value,e.provider.deps)}function ea(t,e){var n=(32768&e.flags)>0,r=ia(t,e.parent,n,e.provider.value,e.provider.deps);if(e.outputs.length)for(var i=0;i<e.outputs.length;i++){var o=e.outputs[i],s=r[o.propName].subscribe(na(t,e.parent.nodeIndex,o.eventName));t.disposables[e.outputIndex+i]=s.unsubscribe.bind(s)}return r}function na(t,e,n){return function(r){return Oo(t,e,n,r)}}function ra(t,e){var n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return ia(t,e.parent,n,r.value,r.deps);case 1024:return function(t,e,n,r,i){var o=i.length;switch(o){case 0:return r();case 1:return r(aa(t,e,n,i[0]));case 2:return r(aa(t,e,n,i[0]),aa(t,e,n,i[1]));case 3:return r(aa(t,e,n,i[0]),aa(t,e,n,i[1]),aa(t,e,n,i[2]));default:for(var s=Array(o),a=0;a<o;a++)s[a]=aa(t,e,n,i[a]);return r.apply(void 0,h(s))}}(t,e.parent,n,r.value,r.deps);case 2048:return aa(t,e.parent,n,r.deps[0]);case 256:return r.value}}function ia(t,e,n,r,i){var o=i.length;switch(o){case 0:return new r;case 1:return new r(aa(t,e,n,i[0]));case 2:return new r(aa(t,e,n,i[0]),aa(t,e,n,i[1]));case 3:return new r(aa(t,e,n,i[0]),aa(t,e,n,i[1]),aa(t,e,n,i[2]));default:for(var s=new Array(o),a=0;a<o;a++)s[a]=aa(t,e,n,i[a]);return new(r.bind.apply(r,h([void 0],s)))}}var oa,sa={};function aa(t,e,n,r,i){if(void 0===i&&(i=me.THROW_IF_NOT_FOUND),8&r.flags)return r.token;var o=t;2&r.flags&&(i=null);var s=r.tokenKey;s===Ks&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);for(var a=t;a;){if(e)switch(s){case Us:return Ls(ua(a,e,n));case qs:return ua(a,e,n).renderer;case Hs:return new Lr(lo(a,e.nodeIndex).renderElement);case Ws:return lo(a,e.nodeIndex).viewContainer;case zs:if(e.element.template)return lo(a,e.nodeIndex).template;break;case Ks:return Ns(ua(a,e,n));case Gs:case Qs:return Ms(a,e);default:var u=(n?e.element.allProviders:e.element.publicProviders)[s];if(u){var c=ho(a,u.nodeIndex);return c||(c={instance:ra(a,u)},a.nodes[u.nodeIndex]=c),c.instance}}n=Lo(a),e=Ro(a),a=a.parent,4&r.flags&&(a=null)}var l=o.root.injector.get(r.token,sa);return l!==sa||i===sa?l:o.root.ngModule.injector.get(r.token,i)}function ua(t,e,n){var r;if(n)r=lo(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!Lo(r);)r=r.parent;return r}function ca(t,e,n,r,i,o){if(32768&n.flags){var s=lo(t,n.parent.nodeIndex).componentView;2&s.def.flags&&(s.state|=8)}var a=n.bindings[r].name;if(e.instance[a]=i,524288&n.flags){o=o||{};var u=ni.unwrap(t.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new ri(u,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}function la(t,e){if(t.def.nodeFlags&e)for(var n=t.def.nodes,r=0,i=0;i<n.length;i++){var o=n[i],s=o.parent;for(!s&&o.flags&e&&pa(t,i,o.flags&e,r++),0==(o.childFlags&e)&&(i+=o.childCount);s&&1&s.flags&&i===s.nodeIndex+s.childCount;)s.directChildFlags&e&&(r=ha(t,s,e,r)),s=s.parent}}function ha(t,e,n,r){for(var i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){var o=t.def.nodes[i];o.flags&n&&pa(t,i,o.flags&n,r++),i+=o.childCount}return r}function pa(t,e,n,r){var i=ho(t,e);if(i){var o=i.instance;o&&(vo.setCurrentNode(t,e),1048576&n&&uo(t,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&uo(t,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}}function fa(t,e,n){var r=[];for(var i in n){var o=n[i];r.push({propName:i,bindingType:o})}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:Vo(e),bindings:r},ngContent:null}}function da(t){for(var e=t.def.nodeMatchedQueries;t.parent&&jo(t);){var n=t.parentNodeDef;t=t.parent;for(var r=n.nodeIndex+n.childCount,i=0;i<=r;i++){67108864&(o=t.def.nodes[i]).flags&&536870912&o.flags&&(o.query.filterId&e)===o.query.filterId&&fo(t,i).setDirty(),!(1&o.flags&&i+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(i+=o.childCount)}}if(134217728&t.def.nodeFlags)for(i=0;i<t.def.nodes.length;i++){var o;134217728&(o=t.def.nodes[i]).flags&&536870912&o.flags&&fo(t,i).setDirty(),i+=o.childCount}}function va(t,e){var n=fo(t,e.nodeIndex);if(n.dirty){var r,i=void 0;if(67108864&e.flags){var o=e.parent.parent;i=ma(t,o.nodeIndex,o.nodeIndex+o.childCount,e.query,[]),r=ho(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=ma(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);for(var s=e.query.bindings,a=!1,u=0;u<s.length;u++){var c=s[u],l=void 0;switch(c.bindingType){case 0:l=n.first;break;case 1:l=n,a=!0}r[c.propName]=l}a&&n.notifyOnChanges()}}function ma(t,e,n,r,i){for(var o=e;o<=n;o++){var s=t.def.nodes[o],a=s.matchedQueries[r.id];if(null!=a&&i.push(ya(t,s,a)),1&s.flags&&s.element.template&&(s.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var u=lo(t,o);if((s.childMatchedQueries&r.filterId)===r.filterId&&(ma(t,o+1,o+s.childCount,r,i),o+=s.childCount),16777216&s.flags)for(var c=u.viewContainer._embeddedViews,l=0;l<c.length;l++){var h=c[l],p=Mo(h);p&&p===u&&ma(h,0,h.def.nodes.length-1,r,i)}var f=u.template._projectedViews;if(f)for(l=0;l<f.length;l++){var d=f[l];ma(d,0,d.def.nodes.length-1,r,i)}}(s.childMatchedQueries&r.filterId)!==r.filterId&&(o+=s.childCount)}return i}function ya(t,e,n){if(null!=n)switch(n){case 1:return lo(t,e.nodeIndex).renderElement;case 0:return new Lr(lo(t,e.nodeIndex).renderElement);case 2:return lo(t,e.nodeIndex).template;case 3:return lo(t,e.nodeIndex).viewContainer;case 4:return ho(t,e.nodeIndex).instance}}function ga(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function ba(t,e,n){var r=qo(t,e,n);r&&Go(t,n.ngContent.index,1,r,null,void 0)}function wa(t,e){return Ca(128,t,new Array(e+1))}function _a(t,e){return Ca(32,t,new Array(e))}function Ea(t,e){for(var n=Object.keys(e),r=n.length,i=new Array(r),o=0;o<r;o++){var s=n[o];i[e[s]]=s}return Ca(64,t,i)}function Ca(t,e,n){for(var r=new Array(n.length),i=0;i<n.length;i++){var o=n[i];r[i]={flags:8,name:o,ns:null,nonMinifiedName:o,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:Jo(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Sa(t,e,n){for(var r=new Array(n.length-1),i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function xa(t,e,n){var r,i=t.renderer;r=i.createText(n.text.prefix);var o=qo(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}function Ta(t,e){return(null!=t?t.toString():"")+e.suffix}function Aa(t,e,n,r){for(var i=0,o=0,s=0,a=0,u=0,c=null,l=null,h=!1,p=!1,f=null,d=0;d<e.length;d++){var v=e[d];if(v.nodeIndex=d,v.parent=c,v.bindingIndex=i,v.outputIndex=o,v.renderParent=l,s|=v.flags,u|=v.matchedQueryIds,v.element){var m=v.element;m.publicProviders=c?c.element.publicProviders:Object.create(null),m.allProviders=m.publicProviders,h=!1,p=!1,v.element.template&&(u|=v.element.template.nodeMatchedQueries)}if(Ia(c,v,e.length),i+=v.bindings.length,o+=v.outputs.length,!l&&3&v.flags&&(f=v),20224&v.flags){h||(h=!0,c.element.publicProviders=Object.create(c.element.publicProviders),c.element.allProviders=c.element.publicProviders);var y=0!=(8192&v.flags),g=0!=(32768&v.flags);!y||g?c.element.publicProviders[_o(v.provider.token)]=v:(p||(p=!0,c.element.allProviders=Object.create(c.element.publicProviders)),c.element.allProviders[_o(v.provider.token)]=v),g&&(c.element.componentProvider=v)}if(c?(c.childFlags|=v.flags,c.directChildFlags|=v.flags,c.childMatchedQueries|=v.matchedQueryIds,v.element&&v.element.template&&(c.childMatchedQueries|=v.element.template.nodeMatchedQueries)):a|=v.flags,v.childCount>0)c=v,Da(v)||(l=v);else for(;c&&d===c.nodeIndex+c.childCount;){var b=c.parent;b&&(b.childFlags|=c.childFlags,b.childMatchedQueries|=c.childMatchedQueries),l=(c=b)&&Da(c)?c.renderParent:c}}return{factory:null,nodeFlags:s,rootNodeFlags:a,nodeMatchedQueries:u,flags:t,nodes:e,updateDirectives:n||bo,updateRenderer:r||bo,handleEvent:function(t,n,r,i){return e[n].element.handleEvent(t,r,i)},bindingCount:i,outputCount:o,lastRenderRootNode:f}}function Da(t){return 0!=(1&t.flags)&&null===t.element.name}function Ia(t,e,n){var r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+e.nodeIndex+"!")}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+e.nodeIndex+"!");if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+e.nodeIndex+"!");if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+e.nodeIndex+"!")}if(e.childCount){var i=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=i&&e.nodeIndex+e.childCount>i)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+e.nodeIndex+"!")}}function Na(t,e,n,r){var i=Oa(t.root,t.renderer,t,e,n);return Ma(i,t.component,r),Ra(i),i}function ka(t,e,n){var r=Oa(t,t.renderer,null,null,e);return Ma(r,n,n),Ra(r),r}function Pa(t,e,n,r){var i,o=e.element.componentRendererType;return i=o?t.root.rendererFactory.createRenderer(r,o):t.root.renderer,Oa(t.root,i,t,e.element.componentProvider,n)}function Oa(t,e,n,r,i){var o=new Array(i.nodes.length),s=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:s,initIndex:-1}}function Ma(t,e,n){t.component=e,t.context=n}function Ra(t){var e;if(Lo(t)){var n=t.parentNodeDef;e=lo(t.parent,n.parent.nodeIndex).renderElement}for(var r=t.def,i=t.nodes,o=0;o<r.nodes.length;o++){var s=r.nodes[o];vo.setCurrentNode(t,o);var a=void 0;switch(201347067&s.flags){case 1:var u=ss(t,e,s),c=void 0;if(33554432&s.flags){var l=Wo(s.element.componentView);c=vo.createComponentView(t,s,l,u)}as(t,c,s,u),a={renderElement:u,componentView:c,viewContainer:null,template:s.element.template?Ps(t,s):void 0},16777216&s.flags&&(a.viewContainer=Ds(t,s,a));break;case 2:a=xa(t,e,s);break;case 512:case 1024:case 2048:case 256:if(!((a=i[o])||4096&s.flags))a={instance:Zs(t,s)};break;case 16:a={instance:ta(t,s)};break;case 16384:if(!(a=i[o]))a={instance:ea(t,s)};if(32768&s.flags)Ma(lo(t,s.parent.nodeIndex).componentView,a.instance,a.instance);break;case 32:case 64:case 128:a={value:void 0};break;case 67108864:case 134217728:a=new Ur;break;case 8:ba(t,e,s),a=void 0}i[o]=a}Ha(t,oa.CreateViewNodes),Ga(t,201326592,268435456,0)}function Fa(t){Va(t),vo.updateDirectives(t,1),Wa(t,oa.CheckNoChanges),vo.updateRenderer(t,1),Ha(t,oa.CheckNoChanges),t.state&=-97}function La(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,ao(t,0,256),Va(t),vo.updateDirectives(t,0),Wa(t,oa.CheckAndUpdate),Ga(t,67108864,536870912,0);var e=ao(t,256,512);la(t,2097152|(e?1048576:0)),vo.updateRenderer(t,0),Ha(t,oa.CheckAndUpdate),Ga(t,134217728,536870912,0),la(t,8388608|((e=ao(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,ao(t,768,1024)}function ja(t,e,n,r,i,o,s,a,u,c,l,p,f){return 0===n?function(t,e,n,r,i,o,s,a,u,c,l,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,o,s,a,u,c,l,h){var p=e.bindings.length,f=!1;return p>0&&cs(t,e,0,n)&&(f=!0),p>1&&cs(t,e,1,r)&&(f=!0),p>2&&cs(t,e,2,i)&&(f=!0),p>3&&cs(t,e,3,o)&&(f=!0),p>4&&cs(t,e,4,s)&&(f=!0),p>5&&cs(t,e,5,a)&&(f=!0),p>6&&cs(t,e,6,u)&&(f=!0),p>7&&cs(t,e,7,c)&&(f=!0),p>8&&cs(t,e,8,l)&&(f=!0),p>9&&cs(t,e,9,h)&&(f=!0),f}(t,e,n,r,i,o,s,a,u,c,l,h);case 2:return function(t,e,n,r,i,o,s,a,u,c,l,h){var p=!1,f=e.bindings,d=f.length;if(d>0&&Io(t,e,0,n)&&(p=!0),d>1&&Io(t,e,1,r)&&(p=!0),d>2&&Io(t,e,2,i)&&(p=!0),d>3&&Io(t,e,3,o)&&(p=!0),d>4&&Io(t,e,4,s)&&(p=!0),d>5&&Io(t,e,5,a)&&(p=!0),d>6&&Io(t,e,6,u)&&(p=!0),d>7&&Io(t,e,7,c)&&(p=!0),d>8&&Io(t,e,8,l)&&(p=!0),d>9&&Io(t,e,9,h)&&(p=!0),p){var v=e.text.prefix;d>0&&(v+=Ta(n,f[0])),d>1&&(v+=Ta(r,f[1])),d>2&&(v+=Ta(i,f[2])),d>3&&(v+=Ta(o,f[3])),d>4&&(v+=Ta(s,f[4])),d>5&&(v+=Ta(a,f[5])),d>6&&(v+=Ta(u,f[6])),d>7&&(v+=Ta(c,f[7])),d>8&&(v+=Ta(l,f[8])),d>9&&(v+=Ta(h,f[9]));var m=co(t,e.nodeIndex).renderText;t.renderer.setValue(m,v)}return p}(t,e,n,r,i,o,s,a,u,c,l,h);case 16384:return function(t,e,n,r,i,o,s,a,u,c,l,h){var p=ho(t,e.nodeIndex),f=p.instance,d=!1,v=void 0,m=e.bindings.length;return m>0&&Do(t,e,0,n)&&(d=!0,v=ca(t,p,e,0,n,v)),m>1&&Do(t,e,1,r)&&(d=!0,v=ca(t,p,e,1,r,v)),m>2&&Do(t,e,2,i)&&(d=!0,v=ca(t,p,e,2,i,v)),m>3&&Do(t,e,3,o)&&(d=!0,v=ca(t,p,e,3,o,v)),m>4&&Do(t,e,4,s)&&(d=!0,v=ca(t,p,e,4,s,v)),m>5&&Do(t,e,5,a)&&(d=!0,v=ca(t,p,e,5,a,v)),m>6&&Do(t,e,6,u)&&(d=!0,v=ca(t,p,e,6,u,v)),m>7&&Do(t,e,7,c)&&(d=!0,v=ca(t,p,e,7,c,v)),m>8&&Do(t,e,8,l)&&(d=!0,v=ca(t,p,e,8,l,v)),m>9&&Do(t,e,9,h)&&(d=!0,v=ca(t,p,e,9,h,v)),v&&f.ngOnChanges(v),65536&e.flags&&uo(t,256,e.nodeIndex)&&f.ngOnInit(),262144&e.flags&&f.ngDoCheck(),d}(t,e,n,r,i,o,s,a,u,c,l,h);case 32:case 64:case 128:return function(t,e,n,r,i,o,s,a,u,c,l,h){var p=e.bindings,f=!1,d=p.length;if(d>0&&Io(t,e,0,n)&&(f=!0),d>1&&Io(t,e,1,r)&&(f=!0),d>2&&Io(t,e,2,i)&&(f=!0),d>3&&Io(t,e,3,o)&&(f=!0),d>4&&Io(t,e,4,s)&&(f=!0),d>5&&Io(t,e,5,a)&&(f=!0),d>6&&Io(t,e,6,u)&&(f=!0),d>7&&Io(t,e,7,c)&&(f=!0),d>8&&Io(t,e,8,l)&&(f=!0),d>9&&Io(t,e,9,h)&&(f=!0),f){var v=po(t,e.nodeIndex),m=void 0;switch(201347067&e.flags){case 32:m=new Array(p.length),d>0&&(m[0]=n),d>1&&(m[1]=r),d>2&&(m[2]=i),d>3&&(m[3]=o),d>4&&(m[4]=s),d>5&&(m[5]=a),d>6&&(m[6]=u),d>7&&(m[7]=c),d>8&&(m[8]=l),d>9&&(m[9]=h);break;case 64:m={},d>0&&(m[p[0].name]=n),d>1&&(m[p[1].name]=r),d>2&&(m[p[2].name]=i),d>3&&(m[p[3].name]=o),d>4&&(m[p[4].name]=s),d>5&&(m[p[5].name]=a),d>6&&(m[p[6].name]=u),d>7&&(m[p[7].name]=c),d>8&&(m[p[8].name]=l),d>9&&(m[p[9].name]=h);break;case 128:var y=n;switch(d){case 1:m=y.transform(n);break;case 2:m=y.transform(r);break;case 3:m=y.transform(r,i);break;case 4:m=y.transform(r,i,o);break;case 5:m=y.transform(r,i,o,s);break;case 6:m=y.transform(r,i,o,s,a);break;case 7:m=y.transform(r,i,o,s,a,u);break;case 8:m=y.transform(r,i,o,s,a,u,c);break;case 9:m=y.transform(r,i,o,s,a,u,c,l);break;case 10:m=y.transform(r,i,o,s,a,u,c,l,h)}}v.value=m}return f}(t,e,n,r,i,o,s,a,u,c,l,h);default:throw"unreachable"}}(t,e,r,i,o,s,a,u,c,l,p,f):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){for(var r=!1,i=0;i<n.length;i++)cs(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)Io(t,e,o,n[o])&&(i=!0);if(i){var s="";for(o=0;o<n.length;o++)s+=Ta(n[o],r[o]);s=e.text.prefix+s;var a=co(t,e.nodeIndex).renderText;t.renderer.setValue(a,s)}return i}(t,e,n);case 16384:return function(t,e,n){for(var r=ho(t,e.nodeIndex),i=r.instance,o=!1,s=void 0,a=0;a<n.length;a++)Do(t,e,a,n[a])&&(o=!0,s=ca(t,r,e,a,n[a],s));return s&&i.ngOnChanges(s),65536&e.flags&&uo(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)Io(t,e,o,n[o])&&(i=!0);if(i){var s=po(t,e.nodeIndex),a=void 0;switch(201347067&e.flags){case 32:a=n;break;case 64:for(a={},o=0;o<n.length;o++)a[r[o].name]=n[o];break;case 128:var u=n[0],c=n.slice(1);a=u.transform.apply(u,h(c))}s.value=a}return i}(t,e,n);default:throw"unreachable"}}(t,e,r)}function Va(t){var e=t.def;if(4&e.nodeFlags)for(var n=0;n<e.nodes.length;n++){var r=e.nodes[n];if(4&r.flags){var i=lo(t,n).template._projectedViews;if(i)for(var o=0;o<i.length;o++){var s=i[o];s.state|=32,Po(s,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function Ba(t,e,n,r,i,o,s,a,u,c,l,h,p){return 0===n?function(t,e,n,r,i,o,s,a,u,c,l,h){var p=e.bindings.length;p>0&&No(t,e,0,n);p>1&&No(t,e,1,r);p>2&&No(t,e,2,i);p>3&&No(t,e,3,o);p>4&&No(t,e,4,s);p>5&&No(t,e,5,a);p>6&&No(t,e,6,u);p>7&&No(t,e,7,c);p>8&&No(t,e,8,l);p>9&&No(t,e,9,h)}(t,e,r,i,o,s,a,u,c,l,h,p):function(t,e,n){for(var r=0;r<n.length;r++)No(t,e,r,n[r])}(t,e,r),!1}function Ua(t,e){if(fo(t,e.nodeIndex).dirty)throw mo(vo.createDebugContext(t,e.nodeIndex),"Query "+e.query.id+" not dirty","Query "+e.query.id+" dirty",0!=(1&t.state))}function qa(t){if(!(128&t.state)){if(Wa(t,oa.Destroy),Ha(t,oa.Destroy),la(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(16&t.state){var e=Mo(t);if(e){var n=e.template._projectedViews;n&&(Cs(n,n.indexOf(t)),vo.dirtyParentQueries(t))}}}(t),t.renderer.destroyNode&&function(t){for(var e=t.def.nodes.length,n=0;n<e;n++){var r=t.def.nodes[n];1&r.flags?t.renderer.destroyNode(lo(t,n).renderElement):2&r.flags?t.renderer.destroyNode(co(t,n).renderText):(67108864&r.flags||134217728&r.flags)&&fo(t,n).destroy()}}(t),Lo(t)&&t.renderer.destroy(),t.state|=128}}function Ha(t,e){var n=t.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];33554432&i.flags?za(lo(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function Wa(t,e){var n=t.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];if(16777216&i.flags)for(var o=lo(t,r).viewContainer._embeddedViews,s=0;s<o.length;s++)za(o[s],e);else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function za(t,e){var n=t.state;switch(e){case oa.CheckNoChanges:0==(128&n)&&(12==(12&n)?Fa(t):64&n&&Ka(t,oa.CheckNoChangesProjectedViews));break;case oa.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Fa(t):64&n&&Ka(t,e));break;case oa.CheckAndUpdate:0==(128&n)&&(12==(12&n)?La(t):64&n&&Ka(t,oa.CheckAndUpdateProjectedViews));break;case oa.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?La(t):64&n&&Ka(t,e));break;case oa.Destroy:qa(t);break;case oa.CreateViewNodes:Ra(t)}}function Ka(t,e){Wa(t,e),Ha(t,e)}function Ga(t,e,n,r){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var i=t.def.nodes.length,o=0;o<i;o++){var s=t.def.nodes[o];if(s.flags&e&&s.flags&n)switch(vo.setCurrentNode(t,s.nodeIndex),r){case 0:va(t,s);break;case 1:Ua(t,s)}s.childFlags&e&&s.childFlags&n||(o+=s.childCount)}}!function(t){t[t.CreateViewNodes=0]="CreateViewNodes",t[t.CheckNoChanges=1]="CheckNoChanges",t[t.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate=3]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",t[t.Destroy=5]="Destroy"}(oa||(oa={}));var Qa=!1;function Xa(){if(!Qa){Qa=!0;var t=xr()?{setCurrentNode:gu,createRootView:Ya,createEmbeddedView:Za,createComponentView:tu,createNgModuleRef:eu,overrideProvider:cu,overrideComponentView:lu,clearOverrides:hu,checkAndUpdateView:vu,checkNoChangesView:mu,destroyView:yu,createDebugContext:function(t,e){return new Iu(t,e)},handleEvent:bu,updateDirectives:wu,updateRenderer:_u}:{setCurrentNode:function(){},createRootView:$a,createEmbeddedView:Na,createComponentView:Pa,createNgModuleRef:Vs,overrideProvider:bo,overrideComponentView:bo,clearOverrides:bo,checkAndUpdateView:La,checkNoChangesView:Fa,destroyView:qa,createDebugContext:function(t,e){return new Iu(t,e)},handleEvent:function(t,e,n,r){return t.def.handleEvent(t,e,n,r)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?fu:du,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?fu:du,t)}};vo.setCurrentNode=t.setCurrentNode,vo.createRootView=t.createRootView,vo.createEmbeddedView=t.createEmbeddedView,vo.createComponentView=t.createComponentView,vo.createNgModuleRef=t.createNgModuleRef,vo.overrideProvider=t.overrideProvider,vo.overrideComponentView=t.overrideComponentView,vo.clearOverrides=t.clearOverrides,vo.checkAndUpdateView=t.checkAndUpdateView,vo.checkNoChangesView=t.checkNoChangesView,vo.destroyView=t.destroyView,vo.resolveDep=aa,vo.createDebugContext=t.createDebugContext,vo.handleEvent=t.handleEvent,vo.updateDirectives=t.updateDirectives,vo.updateRenderer=t.updateRenderer,vo.dirtyParentQueries=da}}function $a(t,e,n,r,i,o){return ka(Ja(t,i,i.injector.get(Rr),e,n),r,o)}function Ya(t,e,n,r,i,o){var s=i.injector.get(Rr),a=Ja(t,i,new Ou(s),e,n),u=pu(r);return ku(nu.create,ka,null,[a,u,o])}function Ja(t,e,n,r,i){var o=e.injector.get(so),s=e.injector.get(Ye);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:n.createRenderer(null,null),errorHandler:s}}function Za(t,e,n,r){var i=pu(n);return ku(nu.create,Na,null,[t,e,i,r])}function tu(t,e,n,r){var i=uu.get(e.element.componentProvider.provider.token);return n=i||pu(n),ku(nu.create,Pa,null,[t,e,n,r])}function eu(t,e,n,r){return Vs(t,e,n,function(t){var e=function(t){var e=!1,n=!1;if(0===su.size)return{hasOverrides:e,hasDeprecatedOverrides:n};return t.providers.forEach(function(t){var r=su.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),t.modules.forEach(function(t){au.forEach(function(r,i){i.ngInjectableDef.providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:e,hasDeprecatedOverrides:n}}(t),n=e.hasOverrides,r=e.hasDeprecatedOverrides;if(!n)return t;return function(t){for(var e=0;e<t.providers.length;e++){var n=t.providers[e];r&&(n.flags|=4096);var i=su.get(n.token);i&&(n.flags=-3841&n.flags|i.flags,n.deps=Uo(i.deps),n.value=i.value)}if(au.size>0){var o=new Set(t.modules);au.forEach(function(e,n){if(o.has(n.ngInjectableDef.providedIn)){var i={token:n,flags:e.flags|(r?4096:0),deps:Uo(e.deps),value:e.value,index:t.providers.length};t.providers.push(i),t.providersByKey[_o(n)]=i}})}}(t=t.factory(function(){return bo})),t}(r))}var nu,ru,iu,ou,su=new Map,au=new Map,uu=new Map;function cu(t){su.set(t.token,t),"function"==typeof t.token&&t.token.ngInjectableDef&&"function"==typeof t.token.ngInjectableDef.providedIn&&au.set(t.token,t)}function lu(t,e){var n=Wo(Wo(e.viewDefFactory).nodes[0].element.componentView);uu.set(t,n)}function hu(){su.clear(),au.clear(),uu.clear()}function pu(t){if(0===su.size)return t;var e=function(t){for(var e=[],n=null,r=0;r<t.nodes.length;r++){var i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&su.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(function(){return bo});for(var n=0;n<e.length;n++)r(t,e[n]);return t;function r(t,e){for(var n=e+1;n<t.nodes.length;n++){var r=t.nodes[n];if(1&r.flags)return;if(3840&r.flags){var i=r.provider,o=su.get(i.token);o&&(r.flags=-3841&r.flags|o.flags,i.deps=Uo(o.deps),i.value=o.value)}}}}function fu(t,e,n,r,i,o,s,a,u,c,l,h,p){var f=t.def.nodes[e];return ja(t,f,n,r,i,o,s,a,u,c,l,h,p),224&f.flags?po(t,e).value:void 0}function du(t,e,n,r,i,o,s,a,u,c,l,h,p){var f=t.def.nodes[e];return Ba(t,f,n,r,i,o,s,a,u,c,l,h,p),224&f.flags?po(t,e).value:void 0}function vu(t){return ku(nu.detectChanges,La,null,[t])}function mu(t){return ku(nu.checkNoChanges,Fa,null,[t])}function yu(t){return ku(nu.destroy,qa,null,[t])}function gu(t,e){iu=t,ou=e}function bu(t,e,n,r){return gu(t,e),ku(nu.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function wu(t,e){if(128&t.state)throw go(nu[ru]);return gu(t,Au(t,0)),t.def.updateDirectives(function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=t.def.nodes[n];0===e?Eu(t,s,r,i):Cu(t,s,r,i);16384&s.flags&&gu(t,Au(t,n));return 224&s.flags?po(t,s.nodeIndex).value:void 0},t)}function _u(t,e){if(128&t.state)throw go(nu[ru]);return gu(t,Du(t,0)),t.def.updateRenderer(function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=t.def.nodes[n];0===e?Eu(t,s,r,i):Cu(t,s,r,i);3&s.flags&&gu(t,Du(t,n));return 224&s.flags?po(t,s.nodeIndex).value:void 0},t)}function Eu(t,e,n,r){if(ja.apply(void 0,h([t,e,n],r))){var i=1===n?r[0]:r;if(16384&e.flags){for(var o={},s=0;s<e.bindings.length;s++){var a=e.bindings[s],u=i[s];8&a.flags&&(o[Su(a.nonMinifiedName)]=Tu(u))}var c=e.parent,l=lo(t,c.nodeIndex).renderElement;if(c.element.name)for(var p in o){null!=(u=o[p])?t.renderer.setAttribute(l,p,u):t.renderer.removeAttribute(l,p)}else t.renderer.setValue(l,"bindings="+JSON.stringify(o,null,2))}}}function Cu(t,e,n,r){Ba.apply(void 0,h([t,e,n],r))}function Su(t){return"ng-reflect-"+(t=t.replace(/[$@]/g,"_").replace(xu,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"-"+t[1].toLowerCase()}))}!function(t){t[t.create=0]="create",t[t.detectChanges=1]="detectChanges",t[t.checkNoChanges=2]="checkNoChanges",t[t.destroy=3]="destroy",t[t.handleEvent=4]="handleEvent"}(nu||(nu={}));var xu=/([A-Z])/g;function Tu(t){try{return null!=t?t.toString().slice(0,30):t}catch(t){return"[ERROR] Exception while trying to serialize the value"}}function Au(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function Du(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}var Iu=function(){function t(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];for(var n=this.nodeDef,r=t;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=Ro(r),r=r.parent;this.elDef=n,this.elView=r}return Object.defineProperty(t.prototype,"elOrCompView",{get:function(){return lo(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return Ms(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){var t=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){var t={};if(this.elDef){Nu(this.elView,this.elDef,t);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&Nu(this.elView,n,t),e+=n.childCount}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentRenderElement",{get:function(){var t=function(t){for(;t&&!Lo(t);)t=t.parent;if(t.parent)return lo(t.parent,Ro(t).nodeIndex);return null}(this.elOrCompView);return t?t.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?Fo(this.view,this.nodeDef):Fo(this.elView,this.elDef)},enumerable:!0,configurable:!0}),t.prototype.logError=function(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];2&this.nodeDef.flags?(e=this.view.def,n=this.nodeDef.nodeIndex):(e=this.elView.def,n=this.elDef.nodeIndex);var o=function(t,e){for(var n=-1,r=0;r<=e;r++){var i=t.nodes[r];3&i.flags&&n++}return n}(e,n),s=-1;e.factory(function(){var e;return++s===o?(e=t.error).bind.apply(e,h([t],r)):bo}),s<o&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,h(r)))},t}();function Nu(t,e,n){for(var r in e.references)n[r]=ya(t,e,e.references[r])}function ku(t,e,n,r){var i=ru,o=iu,s=ou;try{ru=t;var a=e.apply(n,r);return iu=o,ou=s,ru=i,a}catch(t){if(Qe(t)||!iu)throw t;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),yo(t,e),t}(t,Pu())}}function Pu(){return iu?new Iu(iu,ou):null}var Ou=function(){function t(t){this.delegate=t}return t.prototype.createRenderer=function(t,e){return new Mu(this.delegate.createRenderer(t,e))},t.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},t.prototype.end=function(){this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},t}(),Mu=function(){function t(t){this.delegate=t,this.data=this.delegate.data}return t.prototype.destroyNode=function(t){!function(t){Jr.delete(t.nativeNode)}(Zr(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)},t.prototype.destroy=function(){this.delegate.destroy()},t.prototype.createElement=function(t,e){var n=this.delegate.createElement(t,e),r=Pu();if(r){var i=new Yr(n,null,r);i.name=t,ti(i)}return n},t.prototype.createComment=function(t){var e=this.delegate.createComment(t),n=Pu();return n&&ti(new $r(e,null,n)),e},t.prototype.createText=function(t){var e=this.delegate.createText(t),n=Pu();return n&&ti(new $r(e,null,n)),e},t.prototype.appendChild=function(t,e){var n=Zr(t),r=Zr(e);n&&r&&n instanceof Yr&&n.addChild(r),this.delegate.appendChild(t,e)},t.prototype.insertBefore=function(t,e,n){var r=Zr(t),i=Zr(e),o=Zr(n);r&&i&&r instanceof Yr&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)},t.prototype.removeChild=function(t,e){var n=Zr(t),r=Zr(e);n&&r&&n instanceof Yr&&n.removeChild(r),this.delegate.removeChild(t,e)},t.prototype.selectRootElement=function(t){var e=this.delegate.selectRootElement(t),n=Pu();return n&&ti(new Yr(e,null,n)),e},t.prototype.setAttribute=function(t,e,n,r){var i=Zr(t);if(i&&i instanceof Yr){var o=r?r+":"+e:e;i.attributes[o]=n}this.delegate.setAttribute(t,e,n,r)},t.prototype.removeAttribute=function(t,e,n){var r=Zr(t);if(r&&r instanceof Yr){var i=n?n+":"+e:e;r.attributes[i]=null}this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){var n=Zr(t);n&&n instanceof Yr&&(n.classes[e]=!0),this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){var n=Zr(t);n&&n instanceof Yr&&(n.classes[e]=!1),this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,r){var i=Zr(t);i&&i instanceof Yr&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)},t.prototype.removeStyle=function(t,e,n){var r=Zr(t);r&&r instanceof Yr&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){var r=Zr(t);r&&r instanceof Yr&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)},t.prototype.listen=function(t,e,n){if("string"!=typeof t){var r=Zr(t);r&&r.listeners.push(new Xr(e,n))}return this.delegate.listen(t,e,n)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setValue=function(t,e){return this.delegate.setValue(t,e)},t}();function Ru(t,e,n){return new Fu(t,e,n)}var Fu=function(t){function e(e,n,r){var i=t.call(this)||this;return i.moduleType=e,i._bootstrapComponents=n,i._ngModuleDefFactory=r,i}return i(e,t),e.prototype.create=function(t){Xa();var e=function(t){var e=Array.from(t.providers),n=Array.from(t.modules),r={};for(var i in t.providersByKey)r[i]=t.providersByKey[i];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:r}}(Wo(this._ngModuleDefFactory));return vo.createNgModuleRef(this.moduleType,t||me.NULL,this._bootstrapComponents,e)},e}(ir);var Lu=16,ju=0,Vu=1,Bu=2,Uu=3,qu=4,Hu=5,Wu=6,zu=7,Ku=8,Gu=9,Qu=10,Xu=11,$u=12,Yu=14;function Ju(t,e,n,r){e&&(r.initHooks||(r.initHooks=[])).push(t,e),n&&((r.initHooks||(r.initHooks=[])).push(t,n),(r.checkHooks||(r.checkHooks=[])).push(t,n))}function Zu(t,e){if(e.firstTemplatePass)for(var n=t>>14,r=n+(4095&t),i=n;i<r;i++){var o=e.directives[i];tc(o,e,i),ec(o,e,i),nc(o,e,i)}}function tc(t,e,n){t.afterContentInit&&(e.contentHooks||(e.contentHooks=[])).push(n,t.afterContentInit),t.afterContentChecked&&((e.contentHooks||(e.contentHooks=[])).push(n,t.afterContentChecked),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,t.afterContentChecked))}function ec(t,e,n){t.afterViewInit&&(e.viewHooks||(e.viewHooks=[])).push(n,t.afterViewInit),t.afterViewChecked&&((e.viewHooks||(e.viewHooks=[])).push(n,t.afterViewChecked),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,t.afterViewChecked))}function nc(t,e,n){null!=t.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(n,t.onDestroy)}function rc(t,e,n){16&t[qu]&&(ic(t[zu],e.initHooks,e.checkHooks,n),t[qu]&=-17)}function ic(t,e,n,r){var i=r?e:n;i&&oc(t,i)}function oc(t,e){for(var n=0;n<e.length;n+=2)e[n+1].call(t[e[n]])}var sc,ac=0,uc=4,cc=5,lc="ngProjectAs";function hc(t){return!!t.listen}!function(t){t[t.Important=1]="Important",t[t.DashCase=2]="DashCase"}(sc||(sc={}));var pc={createRenderer:function(t,e){return document}};function fc(t){return Array.isArray(t)?t[0]:t}function dc(t){if(2===t.tNode.type){var e=t.data;return e[Bu]?e[Bu][Hu]:null}return t.tNode.next?t.view[t.tNode.next.index]:null}function vc(t){return t.tNode.child?fc((2===t.tNode.type?t.data:t.view)[t.tNode.child.index]):null}function mc(t){if(-1===t.tNode.index&&2===t.tNode.type){var e=t.data[Yu];return-1===e?null:t.view[e].dynamicLContainerNode}var n=t.tNode.parent;return fc(n?t.view[n.index]:t.view[Hu])}var yc=[];function gc(t,e,n,r,i,o){for(var s=t,a=-1;s;){var u=null,c=i?i.native:null,l=s.tNode.type;if(3===l)wc(n,r,c,s.native,o),s.dynamicLContainerNode&&wc(n,r,c,s.dynamicLContainerNode.native,o);else if(0===l){wc(n,r,c,s.native,o);var h=s,p=h.dynamicLContainerNode?h.dynamicLContainerNode.data:h.data;i&&(p[cc]=i),(u=p[uc].length?vc(p[uc][0]):null)&&(o=h.dynamicLContainerNode?h.dynamicLContainerNode.native:h.native)}else if(1===l){var f=bc(s.view),d=f.tNode.projection[s.tNode.projection];yc[++a]=s,u=d?f.data[Vu][d.index]:null}else u=vc(s);if(null===u)for(null===(u=dc(s))&&8192&s.tNode.flags&&(u=dc(yc[a--]));s&&!u;){if(null===(s=mc(s))||s===e)return null;s.tNode.next||0!==l||(o=s.native),u=dc(s)}s=u}}function bc(t){for(var e=t[Hu];2===e.tNode.type;)e=(t=t[Vu])[Hu];return e}function wc(t,e,n,r,i){0===t?hc(e)?e.insertBefore(n,r,i):n.insertBefore(r,i,!0):1===t?hc(e)?e.removeChild(n,r):n.removeChild(r):2===t&&e.destroyNode(r)}function _c(t,e,n,r){var i=t.data[cc];if(i?i.native:null){var o=vc(e),s=t.view[Xu];gc(o,e,n?0:1,s,i,r)}}function Ec(t,e,n){var r=t.data[uc],i=e.data;return n>0&&(r[n-1].data[Bu]=i),n<r.length?(i[Bu]=r[n].data,r.splice(n,0,e)):(r.push(e),i[Bu]=null),-1===e.tNode.index&&(i[Yu]=t.tNode.parent.index,e.view=t.view),i[Uu]&&i[Uu].insertView(n),i[qu]|=8,e}function Cc(t,e){var n=t.data[uc],r=n[e];e>0&&(n[e-1].data[Bu]=r.data[Bu]),n.splice(e,1),t.tNode.detached||_c(t,r,!1);var i=r.data;return i[Uu]&&i[Uu].removeView(),i[Yu]=-1,r.view=null,r.data[qu]&=-9,r}function Sc(t,e){var n=t.data[uc][e];return Cc(t,e),Tc(n.data),n}function xc(t){if(-1===t[ju].childIndex)return null;var e=t[t[ju].childIndex];return e.data?e.data:e.dynamicLContainerNode.data}function Tc(t){var e=t[Xu];hc(e)&&e.destroyNode&&gc(t[Hu],t[Hu],2,e),function(t){if(-1===t[ju].childIndex)return Dc(t);for(var e=xc(t);e;){var n=null;if(e.length>=Lu){var r=e;r[ju].childIndex>-1&&(n=xc(r))}else{var i=e;i[uc].length&&(n=i[uc][0].data)}if(null==n){for(;e&&!e[Bu]&&e!==t;)Dc(e),e=Ac(e,t);Dc(e||t),n=e&&e[Bu]}e=n}}(t),t[qu]|=32}function Ac(t,e){var n;return(n=t[Hu])&&2===n.tNode.type?mc(n).data:t[Vu]===e?null:t[Vu]}function Dc(t){if(t[ju]){var e=t;!function(t){var e=t[ju].cleanup;if(null!=e){for(var n=0;n<e.length-1;n+=2)if("string"==typeof e[n]){var r=fc(t[e[n+1]]).native,i=t[Ku][e[n+2]];r.removeEventListener(e[n],i,e[n+3]),n+=2}else if("number"==typeof e[n]){var o=t[Ku][e[n]];o()}else{var s=t[Ku][e[n+1]];e[n].call(s)}t[Ku]=null}}(e),function(t){var e,n=t[ju];null!=n&&null!=(e=n.destroyHooks)&&oc(t[zu],e)}(e),(r=(n=e)[ju]&&n[ju].pipeDestroyHooks)&&oc(n,r),-1===e[ju].id&&hc(e[Xu])&&e[Xu].destroy()}var n,r}var Ic,Nc,kc,Pc,Oc,Mc,Rc,Fc,Lc,jc="__ngHostLNode__",Vc=Promise.resolve(null),Bc=[0,0],Uc=new Array(Lu).fill(null);function qc(){return Fc&&Fc[$u]}function Hc(t){return t[Ku]||(t[Ku]=[])}function Wc(t){return t[ju].cleanup||(t[ju].cleanup=[])}var zc=!1,Kc=!0;function Gc(t,e){var n=Fc;return Lc=t&&t[zu],Oc=t&&t[ju],Rc=t&&1==(1&t[qu]),Kc=t&&Oc.firstTemplatePass,Ic=t&&t[Xu],null!=e&&(kc=e,Pc=!0),Fc=t,Mc=t&&t[Uu],n}function Qc(t,e){e||(zc||ic(Lc,Oc.viewHooks,Oc.viewCheckHooks,Rc),Fc[qu]&=-6),Fc[qu]|=16,Fc[Wu]=-1,Gc(t,null)}function Xc(){zc||rc(Fc,Oc,Rc),function(t){for(var e=xc(t);null!==e;e=e[Bu])if(e.length<Lu&&null===e[ac])for(var n=e,r=0;r<n[uc].length;r++){var i=n[uc][r],o=i.data;nl(i,o[ju],o[Gu],2)}}(Fc),zc||ic(Lc,Oc.contentHooks,Oc.contentCheckHooks,Rc),Oc.firstTemplatePass=Kc=!1,$c(Oc.hostBindings),function(t){if(null!=t.contentQueries)for(var e=0;e<t.contentQueries.length;e+=2){var n=t.contentQueries[e],r=t.directives[n];r.contentQueriesRefresh(n,t.contentQueries[e+1])}}(Oc),function(t){if(null!=t)for(var e=0;e<t.length;e+=2)yl(t[e],t[e+1])}(Oc.components)}function $c(t){if(null!=t)for(var e=Oc.directives,n=0;n<t.length;n+=2){var r=t[n],i=e[r];i.hostBindings&&i.hostBindings(r,t[n+1])}}function Yc(){zc||(rc(Fc,Oc,Rc),ic(Lc,Oc.contentHooks,Oc.contentCheckHooks,Rc))}function Jc(t,e,n,r,i){return[e,Fc,null,null,25|r,null,-1,null,null,n,Fc&&Fc[Qu],t,i||null,null,-1,null]}function Zc(t,e,n,r,i,o){return{native:r,view:e,nodeInjector:n?n.nodeInjector:null,data:i,queries:o,tNode:null,dynamicLContainerNode:null}}function tl(t,e,n,r,i,o){var s=Pc?kc:kc&&mc(kc),a=s&&s.view===Fc?s.tNode:null,u=(Pc?Mc:kc&&kc.queries)||s&&s.queries&&s.queries.child(),c=null!=o,l=Zc(0,Fc,s,n,c?o:null,u);if(-1===t||2===e)l.tNode=(o?o[ju].node:null)||vl(e,t,null,null,a,null);else{var h=t+Lu,p=Oc.data;if(Fc[h]=l,h>=p.length){var f=p[h]=vl(e,h,r,i,a,null);if(!Pc&&kc){var d=kc.tNode;d.next=f,d.dynamicContainerNode&&(d.dynamicContainerNode.next=f)}}l.tNode=p[h],Pc&&(Mc=null,(null==kc.tNode.child&&kc.view===Fc||2===kc.tNode.type)&&(kc.tNode.child=l.tNode))}if(2==(2&e)&&c){var v=o;v[Hu]=l,Kc&&(v[ju].node=l.tNode)}return kc=l,Pc=!0,l}function el(){Pc=!1,kc=null}function nl(t,e,n,r){var i,o=Pc,s=kc;if(null==t.data[Vu]&&t.data[Gu]&&!e.template)wl(t.data[Gu]);else try{Pc=!0,kc=null,i=Gc(t.data,t),sl(),e.template(r,n),2&r?Xc():t.data[ju].firstTemplatePass=Kc=!1}finally{Qc(i,1==(1&r)),Pc=o,kc=s}return t}function rl(t,e,n,r){var i=Gc(e,t);try{Nc.begin&&Nc.begin(),r?(sl(),r(il(e),n),Xc()):(Yc(),$c(Bc),yl(0,Lu))}finally{Nc.end&&Nc.end(),Qc(i)}}function il(t){return 1&t[qu]?3:2}var ol=null;function sl(){ol=null}function al(t,e){var n=e||Ic;return hc(n)?n.createElement(t,ol):null===ol?n.createElement(t):n.createElementNS(ol,t)}function ul(t,e,n){t&&null!=t.changeDetectorRef&&t.changeDetectorRef._setComponentContext(n,e)}function cl(t,e,n,r){return t.ngPrivateData||(t.ngPrivateData=ll(-1,t,e,n,r))}function ll(t,e,n,r,i){return{id:t,template:e,viewQuery:i,node:null,data:Uc.slice(),childIndex:-1,bindingStartIndex:-1,directives:null,firstTemplatePass:!0,initHooks:null,checkHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,pipeDestroyHooks:null,cleanup:null,hostBindings:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof n?n():n,pipeRegistry:"function"==typeof r?r():r,currentMatches:null}}function hl(t,e){for(var n=hc(Ic),r=0;r<e.length;){var i=e[r];if(1===i)break;if(i===lc)r+=2;else if(0===i){var o=e[r+1],s=e[r+2],a=e[r+3];n?Ic.setAttribute(t,s,a,o):t.setAttributeNS(o,s,a),r+=4}else{a=e[r+1];n?Ic.setAttribute(t,i,a):t.setAttribute(i,a),r+=2}}}function pl(t,e){Nc=t;var n=t.createRenderer(null,null),r="string"==typeof e?hc(n)?n.selectRootElement(e):n.querySelector(e):e;return r}function fl(t,e,n,r){el();var i=tl(0,3,e,null,null,Jc(Ic,cl(n.template,n.directiveDefs,n.pipeDefs,n.viewQuery),null,n.onPush?4:2,r));return Kc&&(i.tNode.flags=4096,n.diPublic&&n.diPublic(n),Oc.directives=[n]),i}function dl(t,e){Hc(t).push(e),t[ju].firstTemplatePass&&Wc(t).push(t[Ku].length-1,null)}function vl(t,e,n,r,i,o){return{type:t,index:e,flags:0,tagName:n,attrs:r,localNames:null,initialInputs:void 0,inputs:void 0,outputs:void 0,tViews:o,next:null,child:null,parent:i,dynamicContainerNode:null,detached:null,stylingTemplate:null,projection:null}}function ml(t,e,n){if(Object.defineProperty(e,jc,{enumerable:!1,value:kc}),null==Lc&&(Fc[zu]=Lc=[]),Lc[t]=e,Kc){var r=kc.tNode.flags;0==(4095&r)?kc.tNode.flags=t<<14|4096&r|1:kc.tNode.flags++}else{var i=n.diPublic;i&&i(n)}return null!=n.attributes&&3==kc.tNode.type&&hl(kc.native,n.attributes),e}function yl(t,e){var n=Fc[e],r=n.data;gl(r)&&6&r[qu]&&Cl(r,n,Lc[t])}function gl(t){return 8==(8&t[qu])}function bl(t){for(var e=t;null!=e[Vu];)e[qu]|=4,e=e[Vu];e[qu]|=4,function(t){if(t.clean==Vc){var e;t.clean=new Promise(function(t){return e=t}),t.scheduler(function(){wl(t),e(null),t.clean=Vc})}}(e[Gu])}function wl(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],r=Sl(n);rl(r,_l(n),n)}}function _l(t){for(var e=Sl(t).view;e[Vu];)e=e[Vu];return e}function El(t){var e=Sl(t);Cl(e.data,e,t)}function Cl(t,e,n){var r=Gc(t,e),i=t[ju],o=i.template,s=i.viewQuery;try{sl(),function(t,e,n){t&&1&e&&t(1,n)}(s,t[qu],n),o(il(t),n),Xc(),function(t,e){t&&t(2,e)}(s,n)}finally{Qc(r)}}function Sl(t){return t[jc]}var xl=Vc;function Tl(t){return{components:[],scheduler:t,clean:xl}}var Al=function(){function t(t,e){this._view=t,this._appRef=null,this._viewContainerRef=null,this._lViewNode=null,this.context=e}return t.prototype._setComponentContext=function(t,e){this._view=t,this.context=e},Object.defineProperty(t.prototype,"destroyed",{get:function(){return 32==(32&this._view[qu])},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this._viewContainerRef&&gl(this._view)&&(this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),this._viewContainerRef=null),Tc(this._view)},t.prototype.onDestroy=function(t){dl(this._view,t)},t.prototype.markForCheck=function(){bl(this._view)},t.prototype.detach=function(){this._view[qu]&=-9},t.prototype.reattach=function(){this._view[qu]|=8},t.prototype.detectChanges=function(){El(this.context)},t.prototype.checkNoChanges=function(){!function(t){zc=!0;try{El(t)}finally{zc=!1}}(this.context)},t.prototype.attachToViewContainerRef=function(t){this._viewContainerRef=t},t.prototype.detachFromAppRef=function(){this._appRef=null},t.prototype.attachToAppRef=function(t){this._appRef=t},t}(),Dl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.resolveComponentFactory=function(t){var e=t.ngComponentDef;return new Pl(e)},e}(tr);function Il(t){var e=[];for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];e.push({propName:r,templateName:n})}return e}var Nl=new wt("ROOT_CONTEXT_TOKEN",{providedIn:"root",factory:function(){return Tl(Me(kl))}}),kl=new wt("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return requestAnimationFrame.bind(window)}}),Pl=function(t){function e(e){var n=t.call(this)||this;return n.componentDef=e,n.componentType=e.type,n.selector=e.selectors[0][0],n.ngContentSelectors=[],n}return i(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){return Il(this.componentDef.inputs)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){return Il(this.componentDef.outputs)},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){var i=void 0===n,o=r?r.injector.get(Rr):pc,s=i?al(this.selector,o.createRenderer(null,this.componentDef.rendererType)):pl(o,n),a=(this.componentDef.selectors[0][0],r&&!i?r.injector.get(Nl):Tl(requestAnimationFrame.bind(window))),u=Jc(o.createRenderer(s,this.componentDef.rendererType),ll(-1,null,null,null,null),a,this.componentDef.onPush?4:2);u[Qu]=r&&r.injector||null;var c,l,h=Gc(u,null);try{if(o.begin&&o.begin(),l=fl(0,s,this.componentDef),a.components.push(c=ml(0,this.componentDef.factory(),this.componentDef)),ul(l.nodeInjector,c,l.data),function(t,e){var n=Sl(t),r=n.view[ju];Ju(0,e.onInit,e.doCheck,r),Zu(n.tNode.flags,r)}(c,this.componentDef),e)for(var p=0,f=l.tNode.projection=[],d=0;d<e.length;d++){for(var v=e[d],m=null,y=null,g=0;g<v.length;g++){var b=tl(++p,3,v[g],null,null);y?y.next=b.tNode:m=b.tNode,y=b.tNode}f.push(m)}nl(l,l.data[ju],c,1),l.data[qu]&=-2}finally{Gc(h,null),o.end&&o.end()}var w=new Ol(this.componentType,c,u,t,s);return i&&(w.hostView._lViewNode.tNode.child=l.tNode),w},e}(Qn),Ol=function(t){function e(e,n,r,i,o){var s=t.call(this)||this;return s.destroyCbs=[],s.instance=n,s.hostView=s.changeDetectorRef=new Al(r,n),s.hostView._lViewNode=tl(-1,2,null,null,null,r),s.injector=i,s.location=new Lr(o),s.componentType=e,s}return i(e,t),e.prototype.destroy=function(){this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null},e.prototype.onDestroy=function(t){this.destroyCbs.push(t)},e}(Gn);function Ml(t){var e=t.nodeInjector,n=mc(t),r=n&&n.nodeInjector;return e!=r?e:t.nodeInjector={parent:r,node:t,bf0:0,bf1:0,bf2:0,bf3:0,bf4:0,bf5:0,bf6:0,bf7:0,cbf0:null==r?0:r.cbf0|r.bf0,cbf1:null==r?0:r.cbf1|r.bf1,cbf2:null==r?0:r.cbf2|r.bf2,cbf3:null==r?0:r.cbf3|r.bf3,cbf4:null==r?0:r.cbf4|r.bf4,cbf5:null==r?0:r.cbf5|r.bf5,cbf6:null==r?0:r.cbf6|r.bf6,cbf7:null==r?0:r.cbf7|r.bf7,templateRef:null,viewContainerRef:null,elementRef:null,changeDetectorRef:null}}new Dl;var Rl=function(){return function(t){this.read=t}}();!function(){function t(t){this._lContainerNode=t,this._viewRefs=[]}t.prototype.clear=function(){for(var t=this._lContainerNode.data;t[uc].length;)this.remove(0)},t.prototype.get=function(t){return this._viewRefs[t]||null},Object.defineProperty(t.prototype,"length",{get:function(){return this._lContainerNode.data[uc].length},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,n){var r=this._adjustIndex(n),i=t.createEmbeddedView(e||{},this._lContainerNode,r);return i.attachToViewContainerRef(this),this._viewRefs.splice(r,0,i),i},t.prototype.createComponent=function(t,e,n,r,i){var o=n||this.parentInjector;!i&&o&&(i=o.get(rr));var s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s},t.prototype.insert=function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n=t._lViewNode,r=this._adjustIndex(e);Ec(this._lContainerNode,n,r);var i=this._lContainerNode.data[uc],o=r+1<i.length?vc(i[r+1]).native:this._lContainerNode.native;return _c(this._lContainerNode,n,!0,o),t.attachToViewContainerRef(this),this._viewRefs.splice(r,0,t),t},t.prototype.move=function(t,e){var n=this.indexOf(t);return this.detach(n),this.insert(t,this._adjustIndex(e)),t},t.prototype.indexOf=function(t){return this._viewRefs.indexOf(t)},t.prototype.remove=function(t){var e=this._adjustIndex(t,-1);Sc(this._lContainerNode,e),this._viewRefs.splice(e,1)},t.prototype.detach=function(t){var e=this._adjustIndex(t,-1);Cc(this._lContainerNode,e);return this._viewRefs.splice(e,1)[0]||null},t.prototype._adjustIndex=function(t,e){return void 0===e&&(e=0),null==t?this._lContainerNode.data[uc].length+e:t}}();!function(){function t(t,e,n,r){this._tView=e,this._renderer=n,this._queries=r,this.elementRef=t}t.prototype.createEmbeddedView=function(t,e,n){var r=function(t,e,n,r){var i=Pc,o=kc;Pc=!0,kc=null;var s=Jc(n,t,e,2,qc());r&&(s[Uu]=r.createView());var a=tl(-1,2,null,null,null,s);return Pc=i,kc=o,a}(this._tView,t,this._renderer,this._queries);e&&Ec(e,r,n),nl(r,this._tView,t,1);var i=new Al(r.data,t);return i._lViewNode=r,i}}();var Fl={provide:tr,useFactory:function(){return new Dl},deps:[]},Ll=function(t){function e(e,n){var r=t.call(this)||this;r._bootstrapComponents=[],r.destroyCbs=[];var i=e.ngModuleDef;r._bootstrapComponents=i.bootstrap;var o=[Fl,{provide:rr,useValue:r}];return r.injector=function(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=null),e=e||Sn(),new xn(t,n,e)}(e,n,o),r.instance=r.injector.get(e),r.componentFactoryResolver=new Dl,r}return i(e,t),e.prototype.destroy=function(){this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null},e.prototype.onDestroy=function(t){this.destroyCbs.push(t)},e}(rr);!function(t){function e(e){var n=t.call(this)||this;return n.moduleType=e,n}i(e,t),e.prototype.create=function(t){return new Ll(this.moduleType,t)}}(ir);!function(){function t(t){this.shallow=null,this.deep=null,this.deep=null==t?null:t}t.prototype.track=function(t,e,n,r){n?this.deep=Hl(this.deep,t,e,null!=r?r:null):this.shallow=Hl(this.shallow,t,e,null!=r?r:null)},t.prototype.clone=function(){return this.deep?new t(this.deep):null},t.prototype.child=function(){return null===this.deep?null:null===this.shallow?this:new t(this.deep)},t.prototype.container=function(){for(var e=null,n=this.deep;n;){var r=[];n.values.push(r);var i={next:null,list:n.list,predicate:n.predicate,values:r,containerValues:null};i.next=e,e=i,n=n.next}return e?new t(e):null},t.prototype.createView=function(){for(var e=null,n=this.deep;n;){var r={next:null,list:n.list,predicate:n.predicate,values:[],containerValues:n.values};r.next=e,e=r,n=n.next}return e?new t(e):null},t.prototype.insertView=function(t){for(var e=this.deep;e;)e.containerValues.splice(t,0,e.values),e=e.next},t.prototype.addNode=function(t){Ul(this.shallow,t),Ul(this.deep,t)},t.prototype.removeView=function(){for(var t=this.deep;t;){var e=t.containerValues,n=e.indexOf(t.values),r=e.splice(n,1);r[0].length&&t.list.setDirty(),t=t.next}}}();function jl(t,e){var n=t.localNames;if(n)for(var r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Vl(t,e){for(var n=t.view[ju].directives,r=t.tNode.flags,i=r>>14,o=i+(4095&r),s=i;s<o;s++){var a=n[s];if(a.type===e&&a.diPublic)return s}return null}function Bl(t,e,n,r){if(n instanceof Rl)return n.read(t,e,r);var i=Vl(e,n);return null!==i?e.view[zu][i]:null}function Ul(t,e){for(var n=Ml(e);t;){var r=t.predicate,i=r.type;if(i){if(null!==(a=Vl(e,i)))null!==(u=Bl(n,e,r.read||i,a))&&ql(t,u)}else for(var o=r.selector,s=0;s<o.length;s++){var a,u;if(null!==(a=jl(e.tNode,o[s])))null!==(u=Bl(n,e,r.read,a))&&ql(t,u)}t=t.next}}function ql(t,e){t.values.push(e),t.list.setDirty()}function Hl(t,e,n,r){return{next:t,list:e,predicate:function(t,e){var n=Array.isArray(t);return{type:n?null:t,selector:n?t:null,read:e}}(n,r),values:e._valuesTree,containerValues:null}}!function(){function t(){this.dirty=!0,this.changes=new lr,this._values=[],this._valuesTree=[]}Object.defineProperty(t.prototype,"length",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"first",{get:function(){var t=this._values;return t.length?t[0]:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){var t=this._values;return t.length?t[t.length-1]:null},enumerable:!0,configurable:!0}),t.prototype.map=function(t){return this._values.map(t)},t.prototype.filter=function(t){return this._values.filter(t)},t.prototype.find=function(t){return this._values.find(t)},t.prototype.reduce=function(t,e){return this._values.reduce(t,e)},t.prototype.forEach=function(t){this._values.forEach(t)},t.prototype.some=function(t){return this._values.some(t)},t.prototype.toArray=function(){return this._values.slice(0)},t.prototype[Qt()]=function(){return this._values[Qt()]()},t.prototype.toString=function(){return this._values.toString()},t.prototype.reset=function(t){this._values=function(t){for(var e=[],n=0;n<t.length;){var r=t[n];Array.isArray(r)?r.length>0?(t=r.concat(t.slice(n+1)),n=0):n++:(e.push(r),n++)}return e}(t),this.dirty=!1},t.prototype.notifyOnChanges=function(){this.changes.emit(this)},t.prototype.setDirty=function(){this.dirty=!0},t.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()}}();var Wl=function(){return function(){}}(),zl=function(){return function(){this.title="explorer"}}(),Kl=new O(function(t){return t.complete()});function Gl(t){return t?function(t){return new O(function(e){return t.schedule(function(){return e.complete()})})}(t):Kl}function Ql(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,r,i=t[t.length-1];switch(B(i)?t.pop():i=void 0,t.length){case 0:return Gl(i);case 1:return i?et(t,i):(n=t[0],(r=new O(function(t){t.next(n),t.complete()}))._isScalar=!0,r.value=n,r);default:return et(t,i)}}var Xl=function(t){function e(){var n=t.call(this,"no elements in sequence")||this;return n.name="EmptyError",Object.setPrototypeOf(n,e.prototype),n}return i(e,t),e}(Error),$l=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return i(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new R;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(j);function Yl(){return at(1)}function Jl(t,e){return function(n){return n.lift(new Zl(t,e))}}var Zl=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new th(t,this.predicate,this.thisArg))},t}(),th=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return i(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(A),eh=function(t){function e(){var n=t.call(this,"argument out of range")||this;return n.name="ArgumentOutOfRangeError",Object.setPrototypeOf(n,e.prototype),n}return i(e,t),e}(Error);function nh(t){return function(e){return 0===t?Gl():e.lift(new rh(t))}}var rh=function(){function t(t){if(this.total=t,this.total<0)throw new eh}return t.prototype.call=function(t,e){return e.subscribe(new ih(t,this.total))},t}(),ih=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.ring=new Array,r.count=0,r}return i(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()},e}(A);function oh(t,e,n){return function(r){return r.lift(new sh(t,e,n))}}var sh=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new ah(t,this.nextOrObserver,this.error,this.complete))},t}(),ah=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o._tapNext=N,o._tapError=N,o._tapComplete=N,o._tapError=r||N,o._tapComplete=i||N,d(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||N,o._tapError=n.error||N,o._tapComplete=n.complete||N),o}return i(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(A),uh=function(t){return void 0===t&&(t=ch),oh({hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw t()}})};function ch(){return new Xl}function lh(t){return void 0===t&&(t=null),function(e){return e.lift(new hh(t))}}var hh=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new ph(t,this.defaultValue))},t}(),ph=function(t){function e(e,n){var r=t.call(this,e)||this;return r.defaultValue=n,r.isEmpty=!0,r}return i(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(A);function fh(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Jl(function(e,n){return t(e,n,r)}):st,nh(1),n?lh(e):uh(function(){return new Xl}))}}function dh(t,e){return function(n){return n.lift(new vh(t,e,n))}}var vh=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new mh(t,this.predicate,this.thisArg,this.source))},t}(),mh=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.predicate=n,o.thisArg=r,o.source=i,o.index=0,o.thisArg=r||o,o}return i(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(A);function yh(t){return function(e){var n=new gh(t),r=e.lift(n);return n.caught=r}}var gh=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new bh(t,this.selector,this.caught))},t}(),bh=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.selector=n,i.caught=r,i}return i(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(e){return void t.prototype.error.call(this,e)}this._unsubscribeAndRecycle(),this.add($(this,n))}},e}(Y);function wh(t){return function(e){return 0===t?Gl():e.lift(new _h(t))}}var _h=function(){function t(t){if(this.total=t,this.total<0)throw new eh}return t.prototype.call=function(t,e){return e.subscribe(new Eh(t,this.total))},t}(),Eh=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return i(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(A);function Ch(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Jl(function(e,n){return t(e,n,r)}):st,wh(1),n?lh(e):uh(function(){return new Xl}))}}function Sh(t,e){return rt(t,e,1)}function xh(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Th(t,e,n))}}var Th=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new Ah(t,this.accumulator,this.seed,this.hasSeed))},t}(),Ah=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.accumulator=n,o._seed=r,o.hasSeed=i,o.index=0,o}return i(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(A);var Dh=function(){return function(){}}(),Ih=new wt("Location Initialized"),Nh=function(){return function(){}}(),kh=new wt("appBaseHref"),Ph=function(){function t(t){var n=this;this._subject=new lr,this._platformStrategy=t;var r=this._platformStrategy.getBaseHref();this._baseHref=e.stripTrailingSlash(Oh(r)),this._platformStrategy.onPopState(function(t){n._subject.emit({url:n.path(!0),pop:!0,state:t.state,type:t.type})})}var e;return e=t,t.prototype.path=function(t){return void 0===t&&(t=!1),this.normalize(this._platformStrategy.path(t))},t.prototype.isCurrentPathEqualTo=function(t,n){return void 0===n&&(n=""),this.path()==this.normalize(t+e.normalizeQueryParams(n))},t.prototype.normalize=function(t){return e.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Oh(t)))},t.prototype.prepareExternalUrl=function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)},t.prototype.go=function(t,e,n){void 0===e&&(e=""),void 0===n&&(n=null),this._platformStrategy.pushState(n,"",t,e)},t.prototype.replaceState=function(t,e,n){void 0===e&&(e=""),void 0===n&&(n=null),this._platformStrategy.replaceState(n,"",t,e)},t.prototype.forward=function(){this._platformStrategy.forward()},t.prototype.back=function(){this._platformStrategy.back()},t.prototype.subscribe=function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})},t.normalizeQueryParams=function(t){return t&&"?"!==t[0]?"?"+t:t},t.joinWithSlash=function(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e},t.stripTrailingSlash=function(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-("/"===t[n-1]?1:0);return t.slice(0,r)+t.slice(n)},t=e=s([Be(),u("design:paramtypes",[Nh])],t)}();function Oh(t){return t.replace(/\/index.html$/,"")}var Mh=function(t){function e(e,n){var r=t.call(this)||this;return r._platformLocation=e,r._baseHref="",null!=n&&(r._baseHref=n),r}return i(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e},e.prototype.prepareExternalUrl=function(t){var e=Ph.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+Ph.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+Ph.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e=s([Be(),a(1,ae()),a(1,se(kh)),u("design:paramtypes",[Dh,String])],e)}(Nh),Rh=function(t){function e(e,n){var r=t.call(this)||this;if(r._platformLocation=e,null==n&&(n=r._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=n,r}return i(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.prepareExternalUrl=function(t){return Ph.joinWithSlash(this._baseHref,t)},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.pathname+Ph.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?""+e+n:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+Ph.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+Ph.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e=s([Be(),a(1,ae()),a(1,se(kh)),u("design:paramtypes",[Dh,String])],e)}(Nh);var Fh=["en",[["a","p"],["AM","PM"],void 0],[["AM","PM"],void 0,void 0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],void 0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",void 0,"{1} 'at' {0}",void 0],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],Lh={};var jh,Vh,Bh,Uh,qh,Hh,Wh,zh={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,0],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",0],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",0],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",0],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",0],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",0],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",0],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,0],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UZS:[void 0,void 0,0],VEF:[void 0,"Bs"],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};function Kh(t,e){return Jh(tp(t)[10],e)}function Gh(t,e){return Jh(tp(t)[11],e)}function Qh(t,e){return Jh(tp(t)[12],e)}function Xh(t,e){var n=tp(t),r=n[13][e];if(void 0===r){if(e===Hh.CurrencyDecimal)return n[13][Hh.Decimal];if(e===Hh.CurrencyGroup)return n[13][Hh.Group]}return r}function $h(t,e){return tp(t)[14][e]}function Yh(t){if(!t[19])throw new Error('Missing extra locale data for the locale "'+t[0]+'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.')}function Jh(t,e){for(var n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function Zh(t){var e=l(t.split(":"),2);return{hours:+e[0],minutes:+e[1]}}function tp(t){var e=t.toLowerCase().replace(/_/g,"-"),n=Lh[e];if(n)return n;var r=e.split("-")[0];if(n=Lh[r])return n;if("en"===r)return Fh;throw new Error('Missing locale data for the locale "'+t+'".')}function ep(t,e,n){void 0===n&&(n="en");var r=function(t){return tp(t)[17]}(n)[t]||zh[t]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||t}!function(t){t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific"}(jh||(jh={})),function(t){t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other"}(Vh||(Vh={})),function(t){t[t.Format=0]="Format",t[t.Standalone=1]="Standalone"}(Bh||(Bh={})),function(t){t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short"}(Uh||(Uh={})),function(t){t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full"}(qh||(qh={})),function(t){t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup"}(Hh||(Hh={})),function(t){t[t.Sunday=0]="Sunday",t[t.Monday=1]="Monday",t[t.Tuesday=2]="Tuesday",t[t.Wednesday=3]="Wednesday",t[t.Thursday=4]="Thursday",t[t.Friday=5]="Friday",t[t.Saturday=6]="Saturday"}(Wh||(Wh={}));var np=2;var rp,ip,op,sp=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ap={},up=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function cp(t,e,n,r){var i=function(t){if(_p(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();var e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){var n=l(t.split("-").map(function(t){return+t}),3),r=n[0],i=n[1],o=n[2];return new Date(r,i-1,o)}var s=void 0;if(s=t.match(sp))return wp(s)}var a=new Date(t);if(!_p(a))throw new Error('Unable to convert "'+t+'" into a date');return a}(t);e=function t(e,n){var r=function(t){return tp(t)[0]}(e);ap[r]=ap[r]||{};if(ap[r][n])return ap[r][n];var i="";switch(n){case"shortDate":i=Kh(e,qh.Short);break;case"mediumDate":i=Kh(e,qh.Medium);break;case"longDate":i=Kh(e,qh.Long);break;case"fullDate":i=Kh(e,qh.Full);break;case"shortTime":i=Gh(e,qh.Short);break;case"mediumTime":i=Gh(e,qh.Medium);break;case"longTime":i=Gh(e,qh.Long);break;case"fullTime":i=Gh(e,qh.Full);break;case"short":var o=t(e,"shortTime"),s=t(e,"shortDate");i=lp(Qh(e,qh.Short),[o,s]);break;case"medium":var a=t(e,"mediumTime"),u=t(e,"mediumDate");i=lp(Qh(e,qh.Medium),[a,u]);break;case"long":var c=t(e,"longTime"),l=t(e,"longDate");i=lp(Qh(e,qh.Long),[c,l]);break;case"full":var h=t(e,"fullTime"),p=t(e,"fullDate");i=lp(Qh(e,qh.Full),[h,p])}i&&(ap[r][n]=i);return i}(n,e)||e;for(var o,s=[];e;){if(!(o=up.exec(e))){s.push(e);break}var a=(s=s.concat(o.slice(1))).pop();if(!a)break;e=a}var u=i.getTimezoneOffset();r&&(u=bp(r,u),i=function(t,e,n){var r=n?-1:1,i=t.getTimezoneOffset(),o=bp(e,i);return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,r*(o-i))}(i,r,!0));var c="";return s.forEach(function(t){var e=function(t){if(gp[t])return gp[t];var e;switch(t){case"G":case"GG":case"GGG":e=fp(op.Eras,Uh.Abbreviated);break;case"GGGG":e=fp(op.Eras,Uh.Wide);break;case"GGGGG":e=fp(op.Eras,Uh.Narrow);break;case"y":e=pp(ip.FullYear,1,0,!1,!0);break;case"yy":e=pp(ip.FullYear,2,0,!0,!0);break;case"yyy":e=pp(ip.FullYear,3,0,!1,!0);break;case"yyyy":e=pp(ip.FullYear,4,0,!1,!0);break;case"M":case"L":e=pp(ip.Month,1,1);break;case"MM":case"LL":e=pp(ip.Month,2,1);break;case"MMM":e=fp(op.Months,Uh.Abbreviated);break;case"MMMM":e=fp(op.Months,Uh.Wide);break;case"MMMMM":e=fp(op.Months,Uh.Narrow);break;case"LLL":e=fp(op.Months,Uh.Abbreviated,Bh.Standalone);break;case"LLLL":e=fp(op.Months,Uh.Wide,Bh.Standalone);break;case"LLLLL":e=fp(op.Months,Uh.Narrow,Bh.Standalone);break;case"w":e=yp(1);break;case"ww":e=yp(2);break;case"W":e=yp(1,!0);break;case"d":e=pp(ip.Date,1);break;case"dd":e=pp(ip.Date,2);break;case"E":case"EE":case"EEE":e=fp(op.Days,Uh.Abbreviated);break;case"EEEE":e=fp(op.Days,Uh.Wide);break;case"EEEEE":e=fp(op.Days,Uh.Narrow);break;case"EEEEEE":e=fp(op.Days,Uh.Short);break;case"a":case"aa":case"aaa":e=fp(op.DayPeriods,Uh.Abbreviated);break;case"aaaa":e=fp(op.DayPeriods,Uh.Wide);break;case"aaaaa":e=fp(op.DayPeriods,Uh.Narrow);break;case"b":case"bb":case"bbb":e=fp(op.DayPeriods,Uh.Abbreviated,Bh.Standalone,!0);break;case"bbbb":e=fp(op.DayPeriods,Uh.Wide,Bh.Standalone,!0);break;case"bbbbb":e=fp(op.DayPeriods,Uh.Narrow,Bh.Standalone,!0);break;case"B":case"BB":case"BBB":e=fp(op.DayPeriods,Uh.Abbreviated,Bh.Format,!0);break;case"BBBB":e=fp(op.DayPeriods,Uh.Wide,Bh.Format,!0);break;case"BBBBB":e=fp(op.DayPeriods,Uh.Narrow,Bh.Format,!0);break;case"h":e=pp(ip.Hours,1,-12);break;case"hh":e=pp(ip.Hours,2,-12);break;case"H":e=pp(ip.Hours,1);break;case"HH":e=pp(ip.Hours,2);break;case"m":e=pp(ip.Minutes,1);break;case"mm":e=pp(ip.Minutes,2);break;case"s":e=pp(ip.Seconds,1);break;case"ss":e=pp(ip.Seconds,2);break;case"S":e=pp(ip.FractionalSeconds,1);break;case"SS":e=pp(ip.FractionalSeconds,2);break;case"SSS":e=pp(ip.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=dp(rp.Short);break;case"ZZZZZ":e=dp(rp.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=dp(rp.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=dp(rp.Long);break;default:return null}return gp[t]=e,e}(t);c+=e?e(i,n,u):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function lp(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function hp(t,e,n,r,i){void 0===n&&(n="-");var o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));for(var s=String(t);s.length<e;)s="0"+s;return r&&(s=s.substr(s.length-e)),o+s}function pp(t,e,n,r,i){return void 0===n&&(n=0),void 0===r&&(r=!1),void 0===i&&(i=!1),function(o,s){var a,u=function(t,e){switch(t){case ip.FullYear:return e.getFullYear();case ip.Month:return e.getMonth();case ip.Date:return e.getDate();case ip.Hours:return e.getHours();case ip.Minutes:return e.getMinutes();case ip.Seconds:return e.getSeconds();case ip.FractionalSeconds:return e.getMilliseconds();case ip.Day:return e.getDay();default:throw new Error('Unknown DateType value "'+t+'".')}}(t,o);if((n>0||u>-n)&&(u+=n),t===ip.Hours)0===u&&-12===n&&(u=12);else if(t===ip.FractionalSeconds)return a=e,hp(u,3).substr(0,a);var c=Xh(s,Hh.MinusSign);return hp(u,e,c,r,i)}}function fp(t,e,n,r){return void 0===n&&(n=Bh.Format),void 0===r&&(r=!1),function(i,o){return function(t,e,n,r,i,o){switch(n){case op.Months:return function(t,e,n){var r=tp(t);return Jh(Jh([r[5],r[6]],e),n)}(e,i,r)[t.getMonth()];case op.Days:return function(t,e,n){var r=tp(t);return Jh(Jh([r[3],r[4]],e),n)}(e,i,r)[t.getDay()];case op.DayPeriods:var s=t.getHours(),a=t.getMinutes();if(o){var u,c=function(t){var e=tp(t);return Yh(e),(e[19][2]||[]).map(function(t){return"string"==typeof t?Zh(t):[Zh(t[0]),Zh(t[1])]})}(e),l=function(t,e,n){var r=tp(t);return Yh(r),Jh(Jh([r[19][0],r[19][1]],e)||[],n)||[]}(e,i,r);if(c.forEach(function(t,e){if(Array.isArray(t)){var n=t[0],r=n.hours,i=n.minutes,o=t[1],c=o.hours,h=o.minutes;s>=r&&a>=i&&(s<c||s===c&&a<h)&&(u=l[e])}else{var p=t.hours,f=t.minutes;p===s&&f===a&&(u=l[e])}}),u)return u}return function(t,e,n){var r=tp(t);return Jh(Jh([r[1],r[2]],e),n)}(e,i,r)[s<12?0:1];case op.Eras:return function(t,e){return Jh(tp(t)[7],e)}(e,r)[t.getFullYear()<=0?0:1];default:var h=n;throw new Error("unexpected translation type "+h)}}(i,o,t,e,n,r)}}function dp(t){return function(e,n,r){var i=-1*r,o=Xh(n,Hh.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case rp.Short:return(i>=0?"+":"")+hp(s,2,o)+hp(Math.abs(i%60),2,o);case rp.ShortGMT:return"GMT"+(i>=0?"+":"")+hp(s,1,o);case rp.Long:return"GMT"+(i>=0?"+":"")+hp(s,2,o)+":"+hp(Math.abs(i%60),2,o);case rp.Extended:return 0===r?"Z":(i>=0?"+":"")+hp(s,2,o)+":"+hp(Math.abs(i%60),2,o);default:throw new Error('Unknown zone width "'+t+'"')}}}!function(t){t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended"}(rp||(rp={})),function(t){t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day"}(ip||(ip={})),function(t){t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras"}(op||(op={}));var vp=0,mp=4;function yp(t,e){return void 0===e&&(e=!1),function(n,r){var i,o,s,a;if(e){var u=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,c=n.getDate();i=1+Math.floor((c+u)/7)}else{var l=(s=n.getFullYear(),a=new Date(s,vp,1).getDay(),new Date(s,0,1+(a<=mp?mp:mp+7)-a)),h=(o=n,new Date(o.getFullYear(),o.getMonth(),o.getDate()+(mp-o.getDay()))).getTime()-l.getTime();i=1+Math.round(h/6048e5)}return hp(i,t,Xh(r,Hh.MinusSign))}}var gp={};function bp(t,e){t=t.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function wp(t){var e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));var s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.round(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,u,c),e}function _p(t){return t instanceof Date&&!isNaN(t.valueOf())}var Ep=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Cp=22,Sp=".",xp="0",Tp=";",Ap=",",Dp="#",Ip="\xa4",Np="%";function kp(t,e,n,r,i,o,s){void 0===s&&(s=!1);var a="",u=!1;if(isFinite(t)){var c=function(t){var e,n,r,i,o,s=Math.abs(t)+"",a=0;(n=s.indexOf(Sp))>-1&&(s=s.replace(Sp,""));(r=s.search(/e/i))>0?(n<0&&(n=r),n+=+s.slice(r+1),s=s.substring(0,r)):n<0&&(n=s.length);for(r=0;s.charAt(r)===xp;r++);if(r===(o=s.length))e=[0],n=1;else{for(o--;s.charAt(o)===xp;)o--;for(n-=r,e=[],i=0;r<=o;r++,i++)e[i]=Number(s.charAt(r))}n>Cp&&(e=e.splice(0,Cp-1),a=n-1,n=1);return{digits:e,exponent:a,integerLen:n}}(t);s&&(c=function(t){if(0===t.digits[0])return t;var e=t.digits.length-t.integerLen;t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2);return t}(c));var l=e.minInt,h=e.minFrac,p=e.maxFrac;if(o){var f=o.match(Ep);if(null===f)throw new Error(o+" is not a valid digit info");var d=f[1],v=f[3],m=f[5];null!=d&&(l=Mp(d)),null!=v&&(h=Mp(v)),null!=m?p=Mp(m):null!=v&&h>p&&(p=h)}!function(t,e,n){if(e>n)throw new Error("The minimum number of digits after fraction ("+e+") is higher than the maximum ("+n+").");var r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(var u=s;u<r.length;u++)r[u]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(var c=1;c<s;c++)r[c]=0}if(a>=5)if(s-1<0){for(var l=0;l>s;l--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);var h=0!==o,p=e+t.integerLen,f=r.reduceRight(function(t,e,n,r){return e+=t,r[n]=e<10?e:e-10,h&&(0===r[n]&&n>=p?r.pop():h=!1),e>=10?1:0},0);f&&(r.unshift(f),t.integerLen++)}(c,h,p);var y=c.digits,g=c.integerLen,b=c.exponent,w=[];for(u=y.every(function(t){return!t});g<l;g++)y.unshift(0);for(;g<0;g++)y.unshift(0);g>0?w=y.splice(g,y.length):(w=y,y=[0]);var _=[];for(y.length>=e.lgSize&&_.unshift(y.splice(-e.lgSize,y.length).join(""));y.length>e.gSize;)_.unshift(y.splice(-e.gSize,y.length).join(""));y.length&&_.unshift(y.join("")),a=_.join(Xh(n,r)),w.length&&(a+=Xh(n,i)+w.join("")),b&&(a+=Xh(n,Hh.Exponential)+"+"+b)}else a=Xh(n,Hh.Infinity);return a=t<0&&!u?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf}function Pp(t,e,n,r,i){var o=Op($h(e,jh.Currency),Xh(e,Hh.MinusSign));return o.minFrac=function(t){var e,n=zh[t];return n&&(e=n[2]),"number"==typeof e?e:np}(r),o.maxFrac=o.minFrac,kp(t,o,e,Hh.CurrencyGroup,Hh.CurrencyDecimal,i).replace(Ip,n).replace(Ip,"")}function Op(t,e){void 0===e&&(e="-");var n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(Tp),i=r[0],o=r[1],s=-1!==i.indexOf(Sp)?i.split(Sp):[i.substring(0,i.lastIndexOf(xp)+1),i.substring(i.lastIndexOf(xp)+1)],a=s[0],u=s[1]||"";n.posPre=a.substr(0,a.indexOf(Dp));for(var c=0;c<u.length;c++){var l=u.charAt(c);l===xp?n.minFrac=n.maxFrac=c+1:l===Dp?n.maxFrac=c+1:n.posSuf+=l}var h=a.split(Ap);if(n.gSize=h[1]?h[1].length:0,n.lgSize=h[2]||h[1]?(h[2]||h[1]).length:0,o){var p=i.length-n.posPre.length-n.posSuf.length,f=o.indexOf(Dp);n.negPre=o.substr(0,f).replace(/'/g,""),n.negSuf=o.substr(f+p).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function Mp(t){var e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}var Rp=new wt("UseV4Plurals"),Fp=function(){return function(){}}();function Lp(t,e,n,r){var i="="+t;if(e.indexOf(i)>-1)return i;if(i=n.getPluralCategory(t,r),e.indexOf(i)>-1)return i;if(e.indexOf("other")>-1)return"other";throw new Error('No plural message found for value "'+t+'"')}var jp=function(t){function e(e,n){var r=t.call(this)||this;return r.locale=e,r.deprecatedPluralFn=n,r}return i(e,t),e.prototype.getPluralCategory=function(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):function(t){return tp(t)[18]}(e||this.locale)(t)){case Vh.Zero:return"zero";case Vh.One:return"one";case Vh.Two:return"two";case Vh.Few:return"few";case Vh.Many:return"many";default:return"other"}},e=s([Be(),a(0,se(Si)),a(1,ae()),a(1,se(Rp)),u("design:paramtypes",[String,Object])],e)}(Fp);function Vp(t,e){var n,r;e=encodeURIComponent(e);try{for(var i=c(t.split(";")),o=i.next();!o.done;o=i.next()){var s=o.value,a=s.indexOf("="),u=l(-1==a?[s,""]:[s.slice(0,a),s.slice(a+1)],2),h=u[0],p=u[1];if(h.trim()===e)return decodeURIComponent(p)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return null}var Bp=function(){function t(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._initialClasses=[]}return Object.defineProperty(t.prototype,"klass",{set:function(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClass",{set:function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(ii(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}},t.prototype._applyKeyValueChanges=function(t){var e=this;t.forEachAddedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachRemovedItem(function(t){t.previousValue&&e._toggleClass(t.key,!1)})},t.prototype._applyIterableChanges=function(t){var e=this;t.forEachAddedItem(function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Yt(t.item));e._toggleClass(t.item,!0)}),t.forEachRemovedItem(function(t){return e._toggleClass(t.item,!1)})},t.prototype._applyClasses=function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!0)}):Object.keys(t).forEach(function(n){return e._toggleClass(n,!!t[n])}))},t.prototype._removeClasses=function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!1)}):Object.keys(t).forEach(function(t){return e._toggleClass(t,!1)}))},t.prototype._toggleClass=function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach(function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)})},s([Lt("class"),u("design:type",String),u("design:paramtypes",[String])],t.prototype,"klass",null),s([Lt(),u("design:type",Object),u("design:paramtypes",[Object])],t.prototype,"ngClass",null),t=s([Mt({selector:"[ngClass]"}),u("design:paramtypes",[mi,gi,Lr,Fr])],t)}(),Up=function(){function t(t){this._viewContainerRef=t,this._componentRef=null,this._moduleRef=null}return t.prototype.ngOnChanges=function(t){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){var e=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(t.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){var n=e.get(rr);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(n.injector)}else this._moduleRef=null;var r=(this._moduleRef?this._moduleRef.componentFactoryResolver:e.get(tr)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(r,this._viewContainerRef.length,e,this.ngComponentOutletContent)}},t.prototype.ngOnDestroy=function(){this._moduleRef&&this._moduleRef.destroy()},s([Lt(),u("design:type",Ut)],t.prototype,"ngComponentOutlet",void 0),s([Lt(),u("design:type",me)],t.prototype,"ngComponentOutletInjector",void 0),s([Lt(),u("design:type",Array)],t.prototype,"ngComponentOutletContent",void 0),s([Lt(),u("design:type",ir)],t.prototype,"ngComponentOutletNgModuleFactory",void 0),t=s([Mt({selector:"[ngComponentOutlet]"}),u("design:paramtypes",[Gr])],t)}(),qp=function(){function t(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}return Object.defineProperty(t.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),t}(),Hp=function(){function t(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOfDirty=!0,this._differ=null}return Object.defineProperty(t.prototype,"ngForOf",{set:function(t){this._ngForOf=t,this._ngForOfDirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(t){xr()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(t)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTemplate",{set:function(t){t&&(this._template=t)},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(n){throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'. NgFor only supports binding to Iterables such as Arrays.")}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}},t.prototype._applyChanges=function(t){var e=this,n=[];t.forEachOperation(function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new qp(null,e._ngForOf,-1,-1),i),s=new Wp(t,o);n.push(s)}else if(null==i)e._viewContainer.remove(r);else{o=e._viewContainer.get(r);e._viewContainer.move(o,i);s=new Wp(t,o);n.push(s)}});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);r=0;for(var i=this._viewContainer.length;r<i;r++){var o=this._viewContainer.get(r);o.context.index=r,o.context.count=i,o.context.ngForOf=this._ngForOf}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})},t.prototype._perViewChange=function(t,e){t.context.$implicit=e.item},s([Lt(),u("design:type",Object),u("design:paramtypes",[Object])],t.prototype,"ngForOf",null),s([Lt(),u("design:type",Function),u("design:paramtypes",[Function])],t.prototype,"ngForTrackBy",null),s([Lt(),u("design:type",Kr),u("design:paramtypes",[Kr])],t.prototype,"ngForTemplate",null),t=s([Mt({selector:"[ngFor][ngForOf]"}),u("design:paramtypes",[Gr,Kr,mi])],t)}(),Wp=function(){return function(t,e){this.record=t,this.view=e}}();var zp=function(){function t(t,e){this._viewContainer=t,this._context=new Kp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}return Object.defineProperty(t.prototype,"ngIf",{set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfThen",{set:function(t){Gp("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfElse",{set:function(t){Gp("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),t.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},s([Lt(),u("design:type",Object),u("design:paramtypes",[Object])],t.prototype,"ngIf",null),s([Lt(),u("design:type",Object),u("design:paramtypes",[Object])],t.prototype,"ngIfThen",null),s([Lt(),u("design:type",Object),u("design:paramtypes",[Object])],t.prototype,"ngIfElse",null),t=s([Mt({selector:"[ngIf]"}),u("design:paramtypes",[Gr,Kr])],t)}(),Kp=function(){return function(){this.$implicit=null,this.ngIf=null}}();function Gp(t,e){if(!!(e&&!e.createEmbeddedView))throw new Error(t+" must be a TemplateRef, but received '"+Yt(e)+"'.")}var Qp=function(){function t(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}return t.prototype.create=function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)},t.prototype.destroy=function(){this._created=!1,this._viewContainerRef.clear()},t.prototype.enforceState=function(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()},t}(),Xp=function(){function t(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return Object.defineProperty(t.prototype,"ngSwitch",{set:function(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)},enumerable:!0,configurable:!0}),t.prototype._addCase=function(){return this._caseCount++},t.prototype._addDefault=function(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)},t.prototype._matchCase=function(t){var e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e},t.prototype._updateDefaultCases=function(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(var e=0;e<this._defaultViews.length;e++){this._defaultViews[e].enforceState(t)}}},s([Lt(),u("design:type",Object),u("design:paramtypes",[Object])],t.prototype,"ngSwitch",null),t=s([Mt({selector:"[ngSwitch]"})],t)}(),$p=function(){function t(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new Qp(t,e)}return t.prototype.ngDoCheck=function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))},s([Lt(),u("design:type",Object)],t.prototype,"ngSwitchCase",void 0),t=s([Mt({selector:"[ngSwitchCase]"}),a(2,le()),u("design:paramtypes",[Gr,Kr,Xp])],t)}(),Yp=function(){function t(t,e,n){n._addDefault(new Qp(t,e))}return t=s([Mt({selector:"[ngSwitchDefault]"}),a(2,le()),u("design:paramtypes",[Gr,Kr,Xp])],t)}(),Jp=function(){function t(t){this._localization=t,this._caseViews={}}return Object.defineProperty(t.prototype,"ngPlural",{set:function(t){this._switchValue=t,this._updateView()},enumerable:!0,configurable:!0}),t.prototype.addCase=function(t,e){this._caseViews[t]=e},t.prototype._updateView=function(){this._clearViews();var t=Object.keys(this._caseViews),e=Lp(this._switchValue,t,this._localization);this._activateView(this._caseViews[e])},t.prototype._clearViews=function(){this._activeView&&this._activeView.destroy()},t.prototype._activateView=function(t){t&&(this._activeView=t,this._activeView.create())},s([Lt(),u("design:type",Number),u("design:paramtypes",[Number])],t.prototype,"ngPlural",null),t=s([Mt({selector:"[ngPlural]"}),u("design:paramtypes",[Fp])],t)}(),Zp=function(){function t(t,e,n,r){this.value=t;var i=!isNaN(Number(t));r.addCase(i?"="+t:t,new Qp(n,e))}return t=s([Mt({selector:"[ngPluralCase]"}),a(0,kt("ngPluralCase")),a(3,le()),u("design:paramtypes",[String,Kr,Gr,Jp])],t)}(),tf=function(){function t(t,e,n){this._differs=t,this._ngEl=e,this._renderer=n}return Object.defineProperty(t.prototype,"ngStyle",{set:function(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._differ){var t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this;t.forEachRemovedItem(function(t){return e._setStyle(t.key,null)}),t.forEachAddedItem(function(t){return e._setStyle(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._setStyle(t.key,t.currentValue)})},t.prototype._setStyle=function(t,e){var n=l(t.split("."),2),r=n[0],i=n[1];null!=(e=null!=e&&i?""+e+i:e)?this._renderer.setStyle(this._ngEl.nativeElement,r,e):this._renderer.removeStyle(this._ngEl.nativeElement,r)},s([Lt(),u("design:type",Object),u("design:paramtypes",[Object])],t.prototype,"ngStyle",null),t=s([Mt({selector:"[ngStyle]"}),u("design:paramtypes",[gi,Lr,Fr])],t)}(),ef=function(){function t(t){this._viewContainerRef=t}return t.prototype.ngOnChanges=function(t){this._shouldRecreateView(t)?(this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))):this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)},t.prototype._shouldRecreateView=function(t){var e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)},t.prototype._hasContextShapeChanged=function(t){var e,n,r=Object.keys(t.previousValue||{}),i=Object.keys(t.currentValue||{});if(r.length===i.length){try{for(var o=c(i),s=o.next();!s.done;s=o.next()){var a=s.value;if(-1===r.indexOf(a))return!0}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return!1}return!0},t.prototype._updateExistingContext=function(t){var e,n;try{for(var r=c(Object.keys(t)),i=r.next();!i.done;i=r.next()){var o=i.value;this._viewRef.context[o]=this.ngTemplateOutletContext[o]}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},s([Lt(),u("design:type",Object)],t.prototype,"ngTemplateOutletContext",void 0),s([Lt(),u("design:type",Kr)],t.prototype,"ngTemplateOutlet",void 0),t=s([Mt({selector:"[ngTemplateOutlet]"}),u("design:paramtypes",[Gr])],t)}(),nf=[Bp,Up,Hp,zp,ef,tf,Xp,$p,Yp,Jp,Zp];function rf(t,e){return Error("InvalidPipeArgument: '"+e+"' for pipe '"+Yt(t)+"'")}var of,sf=function(){function t(){}return t.format=function(t,e,n,r){void 0===r&&(r={});var i=r.minimumIntegerDigits,o=r.minimumFractionDigits,s=r.maximumFractionDigits,a=r.currency,u=r.currencyAsSymbol,c=void 0!==u&&u,l={minimumIntegerDigits:i,minimumFractionDigits:o,maximumFractionDigits:s,style:jh[n].toLowerCase()};return n==jh.Currency&&(l.currency="string"==typeof a?a:void 0,l.currencyDisplay=c?"symbol":"code"),new Intl.NumberFormat(e,l).format(t)},t}(),af=/((?:[^yMLdHhmsazZEwGjJ']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|J+|j+|m+|s+|a|z|Z|G+|w+))(.*)/,uf={yMMMdjms:gf(yf([vf("year",1),mf("month",3),vf("day",1),vf("hour",1),vf("minute",1),vf("second",1)])),yMdjm:gf(yf([vf("year",1),vf("month",1),vf("day",1),vf("hour",1),vf("minute",1)])),yMMMMEEEEd:gf(yf([vf("year",1),mf("month",4),mf("weekday",4),vf("day",1)])),yMMMMd:gf(yf([vf("year",1),mf("month",4),vf("day",1)])),yMMMd:gf(yf([vf("year",1),mf("month",3),vf("day",1)])),yMd:gf(yf([vf("year",1),vf("month",1),vf("day",1)])),jms:gf(yf([vf("hour",1),vf("second",1),vf("minute",1)])),jm:gf(yf([vf("hour",1),vf("minute",1)]))},cf={yyyy:gf(vf("year",4)),yy:gf(vf("year",2)),y:gf(vf("year",1)),MMMM:gf(mf("month",4)),MMM:gf(mf("month",3)),MM:gf(vf("month",2)),M:gf(vf("month",1)),LLLL:gf(mf("month",4)),L:gf(mf("month",1)),dd:gf(vf("day",2)),d:gf(vf("day",1)),HH:lf(hf(gf(df(vf("hour",2),!1)))),H:hf(gf(df(vf("hour",1),!1))),hh:lf(hf(gf(df(vf("hour",2),!0)))),h:hf(gf(df(vf("hour",1),!0))),jj:gf(vf("hour",2)),j:gf(vf("hour",1)),mm:lf(gf(vf("minute",2))),m:gf(vf("minute",1)),ss:lf(gf(vf("second",2))),s:gf(vf("second",1)),sss:gf(vf("second",3)),EEEE:gf(mf("weekday",4)),EEE:gf(mf("weekday",3)),EE:gf(mf("weekday",2)),E:gf(mf("weekday",1)),a:(of=gf(df(vf("hour",1),!0)),function(t,e){return of(t,e).split(" ")[1]}),Z:ff("short"),z:ff("long"),ww:gf({}),w:gf({}),G:gf(mf("era",1)),GG:gf(mf("era",2)),GGG:gf(mf("era",3)),GGGG:gf(mf("era",4))};function lf(t){return function(e,n){var r=t(e,n);return 1==r.length?"0"+r:r}}function hf(t){return function(e,n){return t(e,n).split(" ")[0]}}function pf(t,e,n){return new Intl.DateTimeFormat(e,n).format(t).replace(/[\u200e\u200f]/g,"")}function ff(t){var e={hour:"2-digit",hour12:!1,timeZoneName:t};return function(t,n){var r=pf(t,n,e);return r?r.substring(3):""}}function df(t,e){return t.hour12=e,t}function vf(t,e){var n={};return n[t]=2===e?"2-digit":"numeric",n}function mf(t,e){var n={};return n[t]=e<4?e>1?"short":"narrow":"long",n}function yf(t){return t.reduce(function(t,e){return o({},t,e)},{})}function gf(t){return function(e,n){return pf(e,n,t)}}var bf=new Map;var wf=function(){function t(){}return t.format=function(t,e,n){return function(t,e,n){var r=uf[t];if(r)return r(e,n);var i=t,o=bf.get(i);if(!o){o=[];var s=void 0;af.exec(t);for(var a=t;a;)(s=af.exec(a))?a=(o=o.concat(s.slice(1))).pop():(o.push(a),a=null);bf.set(i,o)}return o.reduce(function(t,r){var i=cf[r];return t+(i?i(e,n):function(t){return"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}(r))},"")}(n,t,e)},t}(),_f=function(){function t(t){this._locale=t}var e;return e=t,t.prototype.transform=function(t,n){if(void 0===n&&(n="mediumDate"),null==t||""===t||t!=t)return null;var r;if("string"==typeof t&&(t=t.trim()),Ef(t))r=t;else if(isNaN(t-parseFloat(t)))if("string"==typeof t&&/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){var i=l(t.split("-").map(function(t){return parseInt(t,10)}),3),o=i[0],s=i[1],a=i[2];r=new Date(o,s-1,a)}else r=new Date(t);else r=new Date(parseFloat(t));if(!Ef(r)){var u=void 0;if("string"!=typeof t||!(u=t.match(sp)))throw rf(e,t);r=wp(u)}return wf.format(r,this._locale,e._ALIASES[n]||n)},t._ALIASES={medium:"yMMMdjms",short:"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"},t=e=s([Ft({name:"date",pure:!0}),a(0,se(Si)),u("design:paramtypes",[String])],t)}();function Ef(t){return t instanceof Date&&!isNaN(t.valueOf())}function Cf(t,e,n,r,i,o,s){if(void 0===o&&(o=null),void 0===s&&(s=!1),null==n)return null;if("number"!=typeof(n="string"!=typeof n||isNaN(+n-parseFloat(n))?n:+n))throw rf(t,n);var a,u,c;if(r!==jh.Currency&&(a=1,u=0,c=3),i){var l=i.match(Ep);if(null===l)throw new Error(i+" is not a valid digit info for number pipes");null!=l[1]&&(a=Mp(l[1])),null!=l[3]&&(u=Mp(l[3])),null!=l[5]&&(c=Mp(l[5]))}return sf.format(n,e,r,{minimumIntegerDigits:a,minimumFractionDigits:u,maximumFractionDigits:c,currency:o,currencyAsSymbol:s})}var Sf=[function(){function t(t){this._locale=t}var e;return e=t,t.prototype.transform=function(t,n){return Cf(e,this._locale,t,jh.Decimal,n)},t=e=s([Ft({name:"number"}),a(0,se(Si)),u("design:paramtypes",[String])],t)}(),function(){function t(t){this._locale=t}var e;return e=t,t.prototype.transform=function(t,n){return Cf(e,this._locale,t,jh.Percent,n)},t=e=s([Ft({name:"percent"}),a(0,se(Si)),u("design:paramtypes",[String])],t)}(),function(){function t(t){this._locale=t}var e;return e=t,t.prototype.transform=function(t,n,r,i){return void 0===n&&(n="USD"),void 0===r&&(r=!1),Cf(e,this._locale,t,jh.Currency,i,n,r)},t=e=s([Ft({name:"currency"}),a(0,se(Si)),u("design:paramtypes",[String])],t)}(),_f],xf=function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.subscribe({next:e,error:function(t){throw t}})},t.prototype.dispose=function(t){t.unsubscribe()},t.prototype.onDestroy=function(t){t.unsubscribe()},t}(),Tf=new(function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.then(e,function(t){throw t})},t.prototype.dispose=function(t){},t.prototype.onDestroy=function(t){},t}()),Af=new xf,Df=function(){function t(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}var e;return e=t,t.prototype.ngOnDestroy=function(){this._subscription&&this._dispose()},t.prototype.transform=function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,ni.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)},t.prototype._subscribe=function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,function(n){return e._updateLatestValue(t,n)})},t.prototype._selectStrategy=function(t){if(Nn(t))return Tf;if(kn(t))return Af;throw rf(e,t)},t.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},t.prototype._updateLatestValue=function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())},t=e=s([Ft({name:"async",pure:!1}),u("design:paramtypes",[Qr])],t)}(),If=function(){function t(){}var e;return e=t,t.prototype.transform=function(t){if(!t)return t;if("string"!=typeof t)throw rf(e,t);return t.toLowerCase()},t=e=s([Ft({name:"lowercase"})],t)}(),Nf=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g,kf=function(){function t(){}var e;return e=t,t.prototype.transform=function(t){if(!t)return t;if("string"!=typeof t)throw rf(e,t);return t.replace(Nf,function(t){return t[0].toUpperCase()+t.substr(1).toLowerCase()})},t=e=s([Ft({name:"titlecase"})],t)}(),Pf=function(){function t(){}var e;return e=t,t.prototype.transform=function(t){if(!t)return t;if("string"!=typeof t)throw rf(e,t);return t.toUpperCase()},t=e=s([Ft({name:"uppercase"})],t)}(),Of=function(){function t(t){this.locale=t}var e;return e=t,t.prototype.transform=function(t,n,r,i){if(void 0===n&&(n="mediumDate"),null==t||""===t||t!=t)return null;try{return cp(t,n,i||this.locale,r)}catch(t){throw rf(e,t.message)}},t=e=s([Ft({name:"date",pure:!0}),a(0,se(Si)),u("design:paramtypes",[String])],t)}(),Mf=/#/g,Rf=function(){function t(t){this._localization=t}var e;return e=t,t.prototype.transform=function(t,n,r){if(null==t)return"";if("object"!=typeof n||null===n)throw rf(e,n);return n[Lp(t,Object.keys(n),this._localization,r)].replace(Mf,t.toString())},t=e=s([Ft({name:"i18nPlural",pure:!0}),u("design:paramtypes",[Fp])],t)}(),Ff=function(){function t(){}var e;return e=t,t.prototype.transform=function(t,n){if(null==t)return"";if("object"!=typeof n||"string"!=typeof t)throw rf(e,n);return n.hasOwnProperty(t)?n[t]:n.hasOwnProperty("other")?n.other:""},t=e=s([Ft({name:"i18nSelect",pure:!0})],t)}(),Lf=function(){function t(){}return t.prototype.transform=function(t){return JSON.stringify(t,null,2)},t=s([Ft({name:"json",pure:!1})],t)}();var jf=function(){function t(t){this.differs=t}return t.prototype.transform=function(t,e){var n=this;if(void 0===e&&(e=Vf),!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());var r=this.differ.diff(t);return r&&(this.keyValues=[],r.forEachItem(function(t){var e,r;n.keyValues.push((e=t.key,r=t.currentValue,{key:e,value:r}))}),this.keyValues.sort(e)),this.keyValues},t=s([Ft({name:"keyvalue",pure:!1}),u("design:paramtypes",[gi])],t)}();function Vf(t,e){var n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;var i=String(n),o=String(r);return i==o?0:i<o?-1:1}var Bf=function(){function t(t){this._locale=t}var e;return e=t,t.prototype.transform=function(t,n,r){if(Hf(t))return null;r=r||this._locale;try{return function(t,e,n){return kp(t,Op($h(e,jh.Decimal),Xh(e,Hh.MinusSign)),e,Hh.Group,Hh.Decimal,n)}(Wf(t),r,n)}catch(t){throw rf(e,t.message)}},t=e=s([Ft({name:"number"}),a(0,se(Si)),u("design:paramtypes",[String])],t)}(),Uf=function(){function t(t){this._locale=t}var e;return e=t,t.prototype.transform=function(t,n,r){if(Hf(t))return null;r=r||this._locale;try{return function(t,e,n){return kp(t,Op($h(e,jh.Percent),Xh(e,Hh.MinusSign)),e,Hh.Group,Hh.Decimal,n,!0).replace(new RegExp(Np,"g"),Xh(e,Hh.PercentSign))}(Wf(t),r,n)}catch(t){throw rf(e,t.message)}},t=e=s([Ft({name:"percent"}),a(0,se(Si)),u("design:paramtypes",[String])],t)}(),qf=function(){function t(t){this._locale=t}var e;return e=t,t.prototype.transform=function(t,n,r,i,o){if(void 0===r&&(r="symbol"),Hf(t))return null;o=o||this._locale,"boolean"==typeof r&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),r=r?"symbol":"code");var s=n||"USD";"code"!==r&&(s="symbol"===r||"symbol-narrow"===r?ep(s,"symbol"===r?"wide":"narrow",o):r);try{return Pp(Wf(t),o,s,n,i)}catch(t){throw rf(e,t.message)}},t=e=s([Ft({name:"currency"}),a(0,se(Si)),u("design:paramtypes",[String])],t)}();function Hf(t){return null==t||""===t||t!=t}function Wf(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(t+" is not a number");return t}var zf=function(){function t(){}var e;return e=t,t.prototype.transform=function(t,n,r){if(null==t)return t;if(!this.supports(t))throw rf(e,t);return t.slice(n,r)},t.prototype.supports=function(t){return"string"==typeof t||Array.isArray(t)},t=e=s([Ft({name:"slice",pure:!1})],t)}(),Kf=[Df,Pf,If,Lf,zf,Bf,Uf,kf,qf,Of,Rf,Ff,jf],Gf=function(){function t(){}return t=s([qe({declarations:[nf,Kf],exports:[nf,Kf],providers:[{provide:Fp,useClass:jp}]})],t)}(),Qf=function(t,e){"string"==typeof e&&(e=parseInt(e,10));var n=e,r=n.toString().replace(/^[^.]*\.?/,""),i=Math.floor(Math.abs(n)),o=r.length,s=parseInt(r,10),a=parseInt(n.toString().replace(/^[^.]*\.?|0+$/g,""),10)||0;switch(t.split("-")[0].toLowerCase()){case"af":case"asa":case"az":case"bem":case"bez":case"bg":case"brx":case"ce":case"cgg":case"chr":case"ckb":case"ee":case"el":case"eo":case"es":case"eu":case"fo":case"fur":case"gsw":case"ha":case"haw":case"hu":case"jgo":case"jmc":case"ka":case"kk":case"kkj":case"kl":case"ks":case"ksb":case"ky":case"lb":case"lg":case"mas":case"mgo":case"ml":case"mn":case"nb":case"nd":case"ne":case"nn":case"nnh":case"nyn":case"om":case"or":case"os":case"ps":case"rm":case"rof":case"rwk":case"saq":case"seh":case"sn":case"so":case"sq":case"ta":case"te":case"teo":case"tk":case"tr":case"ug":case"uz":case"vo":case"vun":case"wae":case"xog":return 1===n?Vh.One:Vh.Other;case"ak":case"ln":case"mg":case"pa":case"ti":return n===Math.floor(n)&&n>=0&&n<=1?Vh.One:Vh.Other;case"am":case"as":case"bn":case"fa":case"gu":case"hi":case"kn":case"mr":case"zu":return 0===i||1===n?Vh.One:Vh.Other;case"ar":return 0===n?Vh.Zero:1===n?Vh.One:2===n?Vh.Two:n%100===Math.floor(n%100)&&n%100>=3&&n%100<=10?Vh.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=99?Vh.Many:Vh.Other;case"ast":case"ca":case"de":case"en":case"et":case"fi":case"fy":case"gl":case"it":case"nl":case"sv":case"sw":case"ur":case"yi":return 1===i&&0===o?Vh.One:Vh.Other;case"be":return n%10==1&&n%100!=11?Vh.One:n%10===Math.floor(n%10)&&n%10>=2&&n%10<=4&&!(n%100>=12&&n%100<=14)?Vh.Few:n%10==0||n%10===Math.floor(n%10)&&n%10>=5&&n%10<=9||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=14?Vh.Many:Vh.Other;case"br":return n%10==1&&n%100!=11&&n%100!=71&&n%100!=91?Vh.One:n%10==2&&n%100!=12&&n%100!=72&&n%100!=92?Vh.Two:n%10===Math.floor(n%10)&&(n%10>=3&&n%10<=4||n%10==9)&&!(n%100>=10&&n%100<=19||n%100>=70&&n%100<=79||n%100>=90&&n%100<=99)?Vh.Few:0!==n&&n%1e6==0?Vh.Many:Vh.Other;case"bs":case"hr":case"sr":return 0===o&&i%10==1&&i%100!=11||s%10==1&&s%100!=11?Vh.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)||s%10===Math.floor(s%10)&&s%10>=2&&s%10<=4&&!(s%100>=12&&s%100<=14)?Vh.Few:Vh.Other;case"cs":case"sk":return 1===i&&0===o?Vh.One:i===Math.floor(i)&&i>=2&&i<=4&&0===o?Vh.Few:0!==o?Vh.Many:Vh.Other;case"cy":return 0===n?Vh.Zero:1===n?Vh.One:2===n?Vh.Two:3===n?Vh.Few:6===n?Vh.Many:Vh.Other;case"da":return 1===n||0!==a&&(0===i||1===i)?Vh.One:Vh.Other;case"dsb":case"hsb":return 0===o&&i%100==1||s%100==1?Vh.One:0===o&&i%100==2||s%100==2?Vh.Two:0===o&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||s%100===Math.floor(s%100)&&s%100>=3&&s%100<=4?Vh.Few:Vh.Other;case"ff":case"fr":case"hy":case"kab":return 0===i||1===i?Vh.One:Vh.Other;case"fil":return 0===o&&(1===i||2===i||3===i)||0===o&&i%10!=4&&i%10!=6&&i%10!=9||0!==o&&s%10!=4&&s%10!=6&&s%10!=9?Vh.One:Vh.Other;case"ga":return 1===n?Vh.One:2===n?Vh.Two:n===Math.floor(n)&&n>=3&&n<=6?Vh.Few:n===Math.floor(n)&&n>=7&&n<=10?Vh.Many:Vh.Other;case"gd":return 1===n||11===n?Vh.One:2===n||12===n?Vh.Two:n===Math.floor(n)&&(n>=3&&n<=10||n>=13&&n<=19)?Vh.Few:Vh.Other;case"gv":return 0===o&&i%10==1?Vh.One:0===o&&i%10==2?Vh.Two:0!==o||i%100!=0&&i%100!=20&&i%100!=40&&i%100!=60&&i%100!=80?0!==o?Vh.Many:Vh.Other:Vh.Few;case"he":return 1===i&&0===o?Vh.One:2===i&&0===o?Vh.Two:0!==o||n>=0&&n<=10||n%10!=0?Vh.Other:Vh.Many;case"is":return 0===a&&i%10==1&&i%100!=11||0!==a?Vh.One:Vh.Other;case"ksh":return 0===n?Vh.Zero:1===n?Vh.One:Vh.Other;case"kw":case"naq":case"se":case"smn":return 1===n?Vh.One:2===n?Vh.Two:Vh.Other;case"lag":return 0===n?Vh.Zero:0!==i&&1!==i||0===n?Vh.Other:Vh.One;case"lt":return n%10!=1||n%100>=11&&n%100<=19?n%10===Math.floor(n%10)&&n%10>=2&&n%10<=9&&!(n%100>=11&&n%100<=19)?Vh.Few:0!==s?Vh.Many:Vh.Other:Vh.One;case"lv":case"prg":return n%10==0||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19||2===o&&s%100===Math.floor(s%100)&&s%100>=11&&s%100<=19?Vh.Zero:n%10==1&&n%100!=11||2===o&&s%10==1&&s%100!=11||2!==o&&s%10==1?Vh.One:Vh.Other;case"mk":return 0===o&&i%10==1||s%10==1?Vh.One:Vh.Other;case"mt":return 1===n?Vh.One:0===n||n%100===Math.floor(n%100)&&n%100>=2&&n%100<=10?Vh.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19?Vh.Many:Vh.Other;case"pl":return 1===i&&0===o?Vh.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?Vh.Few:0===o&&1!==i&&i%10===Math.floor(i%10)&&i%10>=0&&i%10<=1||0===o&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===o&&i%100===Math.floor(i%100)&&i%100>=12&&i%100<=14?Vh.Many:Vh.Other;case"pt":return n===Math.floor(n)&&n>=0&&n<=2&&2!==n?Vh.One:Vh.Other;case"ro":return 1===i&&0===o?Vh.One:0!==o||0===n||1!==n&&n%100===Math.floor(n%100)&&n%100>=1&&n%100<=19?Vh.Few:Vh.Other;case"ru":case"uk":return 0===o&&i%10==1&&i%100!=11?Vh.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?Vh.Few:0===o&&i%10==0||0===o&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===o&&i%100===Math.floor(i%100)&&i%100>=11&&i%100<=14?Vh.Many:Vh.Other;case"shi":return 0===i||1===n?Vh.One:n===Math.floor(n)&&n>=2&&n<=10?Vh.Few:Vh.Other;case"si":return 0===n||1===n||0===i&&1===s?Vh.One:Vh.Other;case"sl":return 0===o&&i%100==1?Vh.One:0===o&&i%100==2?Vh.Two:0===o&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||0!==o?Vh.Few:Vh.Other;case"tzm":return n===Math.floor(n)&&n>=0&&n<=1||n===Math.floor(n)&&n>=11&&n<=99?Vh.One:Vh.Other;default:return Vh.Other}},Xf=(function(){function t(){}t=s([qe({declarations:[Sf],exports:[Sf],providers:[{provide:Rp,useValue:Qf}]})],t)}(),new wt("DocumentToken")),$f="browser",Yf="server";function Jf(t){return t===$f}function Zf(t){return t===Yf}new He("6.1.10");var td=function(){function t(){}return t.ngInjectableDef=bt({providedIn:"root",factory:function(){return new ed(Me(Xf),window)}}),t}(),ed=function(){function t(t,e){this.document=t,this.window=e,this.offset=function(){return[0,0]}}return t.prototype.setOffset=function(t){Array.isArray(t)?this.offset=function(){return t}:this.offset=t},t.prototype.getScrollPosition=function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]},t.prototype.scrollToPosition=function(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])},t.prototype.scrollToAnchor=function(t){if(this.supportScrollRestoration()){var e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);var n=this.document.querySelector("[name='"+t+"']");if(n)return void this.scrollToElement(n)}},t.prototype.setHistoryScrollRestoration=function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}},t.prototype.scrollToElement=function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])},t.prototype.supportScrollRestoration=function(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}},t}(),nd=(function(){function t(){}t.prototype.setOffset=function(t){},t.prototype.getScrollPosition=function(){return[0,0]},t.prototype.scrollToPosition=function(t){},t.prototype.scrollToAnchor=function(t){},t.prototype.setHistoryScrollRestoration=function(t){}}(),null);function rd(){return nd}var id,od=function(t){function e(){var e=t.call(this)||this;e._animationPrefix=null,e._transitionEnd=null;try{var n=e.createElement("div",document);if(null!=e.getStyle(n,"animationName"))e._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],i=0;i<r.length;i++)if(null!=e.getStyle(n,r[i]+"AnimationName")){e._animationPrefix="-"+r[i].toLowerCase()+"-";break}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(o).forEach(function(t){null!=e.getStyle(n,t)&&(e._transitionEnd=o[t])})}catch(t){e._animationPrefix=null,e._transitionEnd=null}return e}return i(e,t),e.prototype.getDistributedNodes=function(t){return t.getDistributedNodes()},e.prototype.resolveAndSetHref=function(t,e,n){t.href=null==n?e:e+"/../"+n},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},e.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},e.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},e.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},e}(function(){function t(){this.resourceLoaderType=null}return Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),t}()),sd={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},ad={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ud={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};zt.Node&&(id=zt.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))});var cd,ld=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.parse=function(t){throw new Error("parse not implemented")},e.makeCurrent=function(){var t;t=new e,nd||(nd=t)},e.prototype.hasProperty=function(t,e){return e in t},e.prototype.setProperty=function(t,e,n){t[e]=n},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.invoke=function(t,e,n){var r;(r=t)[e].apply(r,h(n))},e.prototype.logError=function(t){window.console&&(console.error?console.error(t):console.log(t))},e.prototype.log=function(t){window.console&&window.console.log&&window.console.log(t)},e.prototype.logGroup=function(t){window.console&&window.console.group&&window.console.group(t)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return sd},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,e){return id.call(t,e)},e.prototype.querySelector=function(t,e){return t.querySelector(e)},e.prototype.querySelectorAll=function(t,e){return t.querySelectorAll(e)},e.prototype.on=function(t,e,n){t.addEventListener(e,n,!1)},e.prototype.onAndCancel=function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.createMouseEvent=function(t){var e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e},e.prototype.createEvent=function(t){var e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e},e.prototype.preventDefault=function(t){t.preventDefault(),t.returnValue=!1},e.prototype.isPrevented=function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue},e.prototype.getInnerHTML=function(t){return t.innerHTML},e.prototype.getTemplateContent=function(t){return"content"in t&&this.isTemplateElement(t)?t.content:null},e.prototype.getOuterHTML=function(t){return t.outerHTML},e.prototype.nodeName=function(t){return t.nodeName},e.prototype.nodeValue=function(t){return t.nodeValue},e.prototype.type=function(t){return t.type},e.prototype.content=function(t){return this.hasProperty(t,"content")?t.content:t},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.nextSibling=function(t){return t.nextSibling},e.prototype.parentElement=function(t){return t.parentNode},e.prototype.childNodes=function(t){return t.childNodes},e.prototype.childNodesAsList=function(t){for(var e=t.childNodes,n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r];return n},e.prototype.clearNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.appendChild=function(t,e){t.appendChild(e)},e.prototype.removeChild=function(t,e){t.removeChild(e)},e.prototype.replaceChild=function(t,e,n){t.replaceChild(e,n)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.insertBefore=function(t,e,n){t.insertBefore(n,e)},e.prototype.insertAllBefore=function(t,e,n){n.forEach(function(n){return t.insertBefore(n,e)})},e.prototype.insertAfter=function(t,e,n){t.insertBefore(n,e.nextSibling)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e},e.prototype.getText=function(t){return t.textContent},e.prototype.setText=function(t,e){t.textContent=e},e.prototype.getValue=function(t){return t.value},e.prototype.setValue=function(t,e){t.value=e},e.prototype.getChecked=function(t){return t.checked},e.prototype.setChecked=function(t,e){t.checked=e},e.prototype.createComment=function(t){return this.getDefaultDocument().createComment(t)},e.prototype.createTemplate=function(t){var e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e},e.prototype.createElement=function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)},e.prototype.createElementNS=function(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)},e.prototype.createTextNode=function(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)},e.prototype.createScriptTag=function(t,e,n){var r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r},e.prototype.createStyleElement=function(t,e){var n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n},e.prototype.createShadowRoot=function(t){return t.createShadowRoot()},e.prototype.getShadowRoot=function(t){return t.shadowRoot},e.prototype.getHost=function(t){return t.host},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.getElementsByClassName=function(t,e){return t.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(t,e){return t.getElementsByTagName(e)},e.prototype.classList=function(t){return Array.prototype.slice.call(t.classList,0)},e.prototype.addClass=function(t,e){t.classList.add(e)},e.prototype.removeClass=function(t,e){t.classList.remove(e)},e.prototype.hasClass=function(t,e){return t.classList.contains(e)},e.prototype.setStyle=function(t,e,n){t.style[e]=n},e.prototype.removeStyle=function(t,e){t.style[e]=""},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.hasStyle=function(t,e,n){var r=this.getStyle(t,e)||"";return n?r==n:r.length>0},e.prototype.tagName=function(t){return t.tagName},e.prototype.attributeMap=function(t){for(var e=new Map,n=t.attributes,r=0;r<n.length;r++){var i=n.item(r);e.set(i.name,i.value)}return e},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.hasAttributeNS=function(t,e,n){return t.hasAttributeNS(e,n)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)},e.prototype.setAttribute=function(t,e,n){t.setAttribute(e,n)},e.prototype.setAttributeNS=function(t,e,n,r){t.setAttributeNS(e,n,r)},e.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},e.prototype.removeAttributeNS=function(t,e,n){t.removeAttributeNS(e,n)},e.prototype.templateAwareRoot=function(t){return this.isTemplateElement(t)?this.content(t):t},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.getDefaultDocument=function(){return document},e.prototype.getBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(t){return t.title},e.prototype.setTitle=function(t,e){t.title=e||""},e.prototype.elementMatches=function(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))},e.prototype.isTemplateElement=function(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName},e.prototype.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(t){return t.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(t){return null!=t.shadowRoot&&t instanceof HTMLElement},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.importIntoDoc=function(t){return document.importNode(this.templateAwareRoot(t),!0)},e.prototype.adoptNode=function(t){return document.adoptNode(t)},e.prototype.getHref=function(t){return t.getAttribute("href")},e.prototype.getEventKey=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ud.hasOwnProperty(e)&&(e=ud[e]))}return ad[e]||e},e.prototype.getGlobalEventTarget=function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(t){var e=function(){if(!hd&&!(hd=document.querySelector("base")))return null;return hd.getAttribute("href")}();return null==e?null:function(t){cd||(cd=document.createElement("a"));return cd.setAttribute("href",t),"/"===cd.pathname.charAt(0)?cd.pathname:"/"+cd.pathname}(e)},e.prototype.resetBaseElement=function(){hd=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(t,e,n){this.setAttribute(t,"data-"+e,n)},e.prototype.getData=function(t,e){return this.getAttribute(t,"data-"+e)},e.prototype.getComputedStyle=function(t){return getComputedStyle(t)},e.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(t){return Vp(document.cookie,t)},e.prototype.setCookie=function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)},e}(od),hd=null;var pd=Xf;function fd(){return!!window.history.pushState}var dd=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._init(),n}return i(e,t),e.prototype._init=function(){this.location=rd().getLocation(),this._history=rd().getHistory()},e.prototype.getBaseHrefFromDOM=function(){return rd().getBaseHref(this._doc)},e.prototype.onPopState=function(t){rd().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){rd().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"pathname",{get:function(){return this.location.pathname},set:function(t){this.location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,n){fd()?this._history.pushState(t,e,n):this.location.hash=n},e.prototype.replaceState=function(t,e,n){fd()?this._history.replaceState(t,e,n):this.location.hash=n},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},e=s([Be(),a(0,se(pd)),u("design:paramtypes",[Object])],e)}(Dh),vd=new wt("TRANSITION_ID");var md=[{provide:Pn,useFactory:function(t,e,n){return function(){n.get(On).donePromise.then(function(){var n=rd();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(function(e){return n.getAttribute(e,"ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[vd,pd,me],multi:!0}],yd=function(){function t(){}return t.init=function(){var e;e=new t,_r=e},t.prototype.addToWindow=function(t){zt.getAngularTestability=function(e,n){void 0===n&&(n=!0);var r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},zt.getAllAngularTestabilities=function(){return t.getAllTestabilities()},zt.getAllAngularRootElements=function(){return t.getAllRootElements()};zt.frameworkStabilizers||(zt.frameworkStabilizers=[]),zt.frameworkStabilizers.push(function(t){var e=zt.getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(i)})})},t.prototype.findTestabilityInTree=function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?rd().isShadowRoot(e)?this.findTestabilityInTree(t,rd().getHost(e),!0):this.findTestabilityInTree(t,rd().parentElement(e),!0):null},t}();function gd(t,e){"undefined"!=typeof COMPILED&&COMPILED||((zt.ng=zt.ng||{})[t]=e)}var bd={ApplicationRef:kr,NgZone:hr},wd="probe",_d="coreTokens";function Ed(t){return Zr(t)}function Cd(t){return gd(wd,Ed),gd(_d,o({},bd,(t||[]).reduce(function(t,e){return t[e.name]=e.token,t},{}))),function(){return Ed}}var Sd=[{provide:Pn,useFactory:Cd,deps:[[Tr,new ae]],multi:!0}],xd=new wt("EventManagerPlugins"),Td=function(){function t(t,e){var n=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach(function(t){return t.manager=n}),this._plugins=t.slice().reverse()}return t.prototype.addEventListener=function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)},t.prototype.addGlobalEventListener=function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)},t=s([Be(),a(0,se(xd)),u("design:paramtypes",[Array,hr])],t)}(),Ad=function(){function t(t){this._doc=t}return t.prototype.addGlobalEventListener=function(t,e,n){var r=rd().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target "+r+" for event "+e);return this.addEventListener(r,e,n)},t}(),Dd=function(){function t(){this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},t=s([Be()],t)}(),Id=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return i(e,t),e.prototype._addStylesToHost=function(t,e){var n=this;t.forEach(function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))})},e.prototype.addHost=function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){this._hostNodes.delete(t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(t){return rd().remove(t)})},e=s([Be(),a(0,se(pd)),u("design:paramtypes",[Object])],e)}(Dd),Nd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},kd=/%COMP%/g,Pd="_nghost-%COMP%",Od="_ngcontent-%COMP%";function Md(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?Md(t,i,n):(i=i.replace(kd,t),n.push(i))}return n}function Rd(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var Fd=function(){function t(t,e){this.eventManager=t,this.sharedStylesHost=e,this.rendererByCompId=new Map,this.defaultRenderer=new Ld(t)}return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case Ue.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new Ud(this.eventManager,this.sharedStylesHost,e),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case Ue.Native:case Ue.ShadowDom:return new qd(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=Md(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},t.prototype.begin=function(){},t.prototype.end=function(){},t=s([Be(),u("design:paramtypes",[Td,Id])],t)}(),Ld=function(){function t(t){this.eventManager=t,this.data=Object.create(null)}return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return e?document.createElementNS(Nd[e],t):document.createElement(t)},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){t.appendChild(e)},t.prototype.insertBefore=function(t,e,n){t&&t.insertBefore(e,n)},t.prototype.removeChild=function(t,e){t&&t.removeChild(e)},t.prototype.selectRootElement=function(t){var e="string"==typeof t?document.querySelector(t):t;if(!e)throw new Error('The selector "'+t+'" did not match any elements');return e.textContent="",e},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,n,r){if(r){e=r+":"+e;var i=Nd[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)},t.prototype.removeAttribute=function(t,e,n){if(n){var r=Nd[n];r?t.removeAttributeNS(r,e):t.removeAttribute(n+":"+e)}else t.removeAttribute(e)},t.prototype.addClass=function(t,e){t.classList.add(e)},t.prototype.removeClass=function(t,e){t.classList.remove(e)},t.prototype.setStyle=function(t,e,n,r){r&Or.DashCase?t.style.setProperty(e,n,r&Or.Important?"important":""):t.style[e]=n},t.prototype.removeStyle=function(t,e,n){n&Or.DashCase?t.style.removeProperty(e):t.style[e]=""},t.prototype.setProperty=function(t,e,n){Vd(e,"property"),t[e]=n},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,n){return Vd(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Rd(n)):this.eventManager.addEventListener(t,e,Rd(n))},t}(),jd="@".charCodeAt(0);function Vd(t,e){if(t.charCodeAt(0)===jd)throw new Error("Found the synthetic "+e+" "+t+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}var Bd,Ud=function(t){function e(e,n,r){var i=t.call(this,e)||this;i.component=r;var o,s=Md(r.id,r.styles,[]);return n.addStyles(s),i.contentAttr=(o=r.id,Od.replace(kd,o)),i.hostAttr=function(t){return Pd.replace(kd,t)}(r.id),i}return i(e,t),e.prototype.applyToHost=function(e){t.prototype.setAttribute.call(this,e,this.hostAttr,"")},e.prototype.createElement=function(e,n){var r=t.prototype.createElement.call(this,e,n);return t.prototype.setAttribute.call(this,r,this.contentAttr,""),r},e}(Ld),qd=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;o.sharedStylesHost=n,o.hostEl=r,o.component=i,i.encapsulation===Ue.ShadowDom?o.shadowRoot=r.attachShadow({mode:"open"}):o.shadowRoot=r.createShadowRoot(),o.sharedStylesHost.addHost(o.shadowRoot);for(var s=Md(i.id,i.styles,[]),a=0;a<s.length;a++){var u=document.createElement("style");u.textContent=s[a],o.shadowRoot.appendChild(u)}return o}return i(e,t),e.prototype.nodeOrShadowRoot=function(t){return t===this.hostEl?this.shadowRoot:t},e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,n){return t.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.insertBefore=function(e,n,r){return t.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),n,r)},e.prototype.removeChild=function(e,n){return t.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(t.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e}(Ld),Hd="undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t},Wd=Hd("addEventListener"),zd=Hd("removeEventListener"),Kd={},Gd="__zone_symbol__propagationStopped",Qd="undefined"!=typeof Zone&&Zone[Hd("BLACK_LISTED_EVENTS")];Qd&&(Bd={},Qd.forEach(function(t){Bd[t]=t}));var Xd=function(t){return!!Bd&&Bd.hasOwnProperty(t)},$d=function(t){var e=Kd[t.type];if(e){var n=this[e];if(n){var r=[t];if(1===n.length)return(s=n[0]).zone!==Zone.current?s.zone.run(s.handler,this,r):s.handler.apply(this,r);for(var i=n.slice(),o=0;o<i.length&&!0!==t[Gd];o++){var s;(s=i[o]).zone!==Zone.current?s.zone.run(s.handler,this,r):s.handler.apply(this,r)}}}},Yd=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.ngZone=n,r&&Zf(r)||i.patchEvent(),i}return i(e,t),e.prototype.patchEvent=function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Gd]=!0),t&&t.apply(this,arguments)}}},e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,n){var r=this,i=n;if(!t[Wd]||hr.isInAngularZone()&&!Xd(e))t.addEventListener(e,i,!1);else{var o=Kd[e];o||(o=Kd[e]=Hd("ANGULAR"+e+"FALSE"));var s=t[o],a=s&&s.length>0;s||(s=t[o]=[]);var u=Xd(e)?Zone.root:Zone.current;if(0===s.length)s.push({zone:u,handler:i});else{for(var c=!1,l=0;l<s.length;l++)if(s[l].handler===i){c=!0;break}c||s.push({zone:u,handler:i})}a||t[Wd](e,$d,!1)}return function(){return r.removeEventListener(t,e,i)}},e.prototype.removeEventListener=function(t,e,n){var r=t[zd];if(!r)return t.removeEventListener.apply(t,[e,n,!1]);var i=Kd[e],o=i&&t[i];if(!o)return t.removeEventListener.apply(t,[e,n,!1]);for(var s=!1,a=0;a<o.length;a++)if(o[a].handler===n){s=!0,o.splice(a,1);break}s?0===o.length&&r.apply(t,[e,$d,!1]):t.removeEventListener.apply(t,[e,n,!1])},e=s([Be(),a(0,se(pd)),a(2,ae()),a(2,se(Vn)),u("design:paramtypes",[Object,hr,Object])],e)}(Ad),Jd={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},Zd=new wt("HammerGestureConfig"),tv=new wt("HammerLoader"),ev=function(){function t(){this.events=[],this.overrides={}}return t.prototype.buildHammer=function(t){var e=new Hammer(t,this.options);for(var n in e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0}),this.overrides)e.get(n).set(this.overrides[n]);return e},t=s([Be()],t)}(),nv=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o._config=n,o.console=r,o.loader=i,o}return i(e,t),e.prototype.supports=function(t){return!(!Jd.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t))&&(!(!window.Hammer&&!this.loader)||(this.console.warn('The "'+t+'" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.'),!1))},e.prototype.addEventListener=function(t,e,n){var r=this,i=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){var o=!1,s=function(){o=!0};return this.loader().then(function(){if(!window.Hammer)return r.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(s=function(){});o||(s=r.addEventListener(t,e,n))}).catch(function(){r.console.warn('The "'+e+'" event cannot be bound because the custom Hammer.JS loader failed.'),s=function(){}}),function(){s()}}return i.runOutsideAngular(function(){var o=r._config.buildHammer(t),s=function(t){i.runGuarded(function(){n(t)})};return o.on(e,s),function(){o.off(e,s),"function"==typeof o.destroy&&o.destroy()}})},e.prototype.isCustomEvent=function(t){return this._config.events.indexOf(t)>-1},e=s([Be(),a(0,se(pd)),a(1,se(Zd)),a(3,ae()),a(3,se(tv)),u("design:paramtypes",[Object,ev,qn,Object])],e)}(Ad),rv=["alt","control","meta","shift"],iv={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},ov=function(t){function e(e){return t.call(this,e)||this}var n;return i(e,t),n=e,e.prototype.supports=function(t){return null!=n.parseEventName(t)},e.prototype.addEventListener=function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return rd().onAndCancel(t,i.domEventName,o)})},e.parseEventName=function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(rv.forEach(function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")}),o+=i,0!=e.length||0===i.length)return null;var s={};return s.domEventName=r,s.fullKey=o,s},e.getEventFullKey=function(t){var e="",n=rd().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),rv.forEach(function(r){r!=n&&((0,iv[r])(t)&&(e+=r+"."))}),e+=n},e.eventCallback=function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded(function(){return e(i)})}},e._normalizeKey=function(t){switch(t){case"esc":return"escape";default:return t}},e=n=s([Be(),a(0,se(pd)),u("design:paramtypes",[Object])],e)}(Ad),sv=function(){return function(){}}(),av=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n}return i(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case no.NONE:return e;case no.HTML:return e instanceof cv?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),to(this._doc,String(e)));case no.STYLE:return e instanceof lv?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),oo(e));case no.SCRIPT:if(e instanceof hv)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case no.URL:return e instanceof fv||e instanceof pv?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),Ri(String(e)));case no.RESOURCE_URL:if(e instanceof fv)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+t+" (see http://g.co/ng/security#xss)")}},e.prototype.checkNotSafeValue=function(t,e){if(t instanceof uv)throw new Error("Required a safe "+e+", got a "+t.getTypeName()+" (see http://g.co/ng/security#xss)")},e.prototype.bypassSecurityTrustHtml=function(t){return new cv(t)},e.prototype.bypassSecurityTrustStyle=function(t){return new lv(t)},e.prototype.bypassSecurityTrustScript=function(t){return new hv(t)},e.prototype.bypassSecurityTrustUrl=function(t){return new pv(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return new fv(t)},e=s([Be(),a(0,se(pd)),u("design:paramtypes",[Object])],e)}(sv),uv=function(){function t(t){this.changingThisBreaksApplicationSecurity=t}return t.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},t}(),cv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getTypeName=function(){return"HTML"},e}(uv),lv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getTypeName=function(){return"Style"},e}(uv),hv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getTypeName=function(){return"Script"},e}(uv),pv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getTypeName=function(){return"URL"},e}(uv),fv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getTypeName=function(){return"ResourceURL"},e}(uv),dv=[{provide:Vn,useValue:$f},{provide:jn,useValue:function(){ld.makeCurrent(),yd.init()},multi:!0},{provide:Dh,useClass:dd,deps:[pd]},{provide:pd,useFactory:function(){return document},deps:[]}],vv=[{provide:so,useExisting:sv},{provide:sv,useClass:av,deps:[pd]}],mv=Ar(Ci,"browser",dv);function yv(){return new Ye}var gv=[vv,{provide:bn,useValue:!0},{provide:Ye,useFactory:yv,deps:[]},{provide:xd,useClass:Yd,multi:!0,deps:[pd,hr,Vn]},{provide:xd,useClass:ov,multi:!0,deps:[pd]},{provide:xd,useClass:nv,multi:!0,deps:[pd,Zd,qn,[new ae,tv]]},{provide:Zd,useClass:ev,deps:[]},{provide:Fd,useClass:Fd,deps:[Td,Id]},{provide:Rr,useExisting:Fd},{provide:Dd,useExisting:Id},{provide:Id,useClass:Id,deps:[pd]},{provide:gr,useClass:gr,deps:[hr]},{provide:Td,useClass:Td,deps:[xd,hr]},Sd],bv=function(){function t(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}var e;return e=t,t.withServerTransition=function(t){return{ngModule:e,providers:[{provide:Mn,useValue:t.appId},{provide:vd,useExisting:Mn},md]}},t=e=s([qe({providers:gv,exports:[Gf,ki]}),a(0,ae()),a(0,ce()),a(0,se(e)),u("design:paramtypes",[Object])],t)}();function wv(){return new _v(Me(pd))}var _v=function(){function t(t){this._doc=t,this._dom=rd()}return t.prototype.addTag=function(t,e){return void 0===e&&(e=!1),t?this._getOrCreateElement(t,e):null},t.prototype.addTags=function(t,e){var n=this;return void 0===e&&(e=!1),t?t.reduce(function(t,r){return r&&t.push(n._getOrCreateElement(r,e)),t},[]):[]},t.prototype.getTag=function(t){return t&&this._dom.querySelector(this._doc,"meta["+t+"]")||null},t.prototype.getTags=function(t){if(!t)return[];var e=this._dom.querySelectorAll(this._doc,"meta["+t+"]");return e?[].slice.call(e):[]},t.prototype.updateTag=function(t,e){if(!t)return null;e=e||this._parseSelector(t);var n=this.getTag(e);return n?this._setMetaElementAttributes(t,n):this._getOrCreateElement(t,!0)},t.prototype.removeTag=function(t){this.removeTagElement(this.getTag(t))},t.prototype.removeTagElement=function(t){t&&this._dom.remove(t)},t.prototype._getOrCreateElement=function(t,e){if(void 0===e&&(e=!1),!e){var n=this._parseSelector(t),r=this.getTag(n);if(r&&this._containsAttributes(t,r))return r}var i=this._dom.createElement("meta");this._setMetaElementAttributes(t,i);var o=this._dom.getElementsByTagName(this._doc,"head")[0];return this._dom.appendChild(o,i),i},t.prototype._setMetaElementAttributes=function(t,e){var n=this;return Object.keys(t).forEach(function(r){return n._dom.setAttribute(e,r,t[r])}),e},t.prototype._parseSelector=function(t){var e=t.name?"name":"property";return e+'="'+t[e]+'"'},t.prototype._containsAttributes=function(t,e){var n=this;return Object.keys(t).every(function(r){return n._dom.getAttribute(e,r)===t[r]})},t.ngInjectableDef=bt({factory:wv,token:t,providedIn:"root"}),t=s([Be({providedIn:"root",useFactory:wv,deps:[]}),a(0,se(pd)),u("design:paramtypes",[Object])],t)}();function Ev(){return new Cv(Me(pd))}var Cv=function(){function t(t){this._doc=t}return t.prototype.getTitle=function(){return rd().getTitle(this._doc)},t.prototype.setTitle=function(t){rd().setTitle(this._doc,t)},t.ngInjectableDef=bt({factory:Ev,token:t,providedIn:"root"}),t=s([Be({providedIn:"root",useFactory:Ev,deps:[]}),a(0,se(pd)),u("design:paramtypes",[Object])],t)}(),Sv="undefined"!=typeof window&&window||{},xv=function(){return function(t,e){this.msPerTick=t,this.numTicks=e}}();!function(){function t(t){this.appRef=t.injector.get(kr)}t.prototype.timeChangeDetection=function(t){var e=t&&t.record,n=null!=Sv.console.profile;e&&n&&Sv.console.profile("Change Detection");for(var r=rd().performanceNow(),i=0;i<5||rd().performanceNow()-r<500;)this.appRef.tick(),i++;var o=rd().performanceNow();e&&n&&Sv.console.profileEnd("Change Detection");var s=(o-r)/i;return Sv.console.log("ran "+i+" change detection cycles"),Sv.console.log(s.toFixed(2)+" ms per check"),new xv(s,i)}}();var Tv=function(){function t(){this.store={},this.onSerializeCallbacks={}}var e;return e=t,t.init=function(t){var n=new e;return n.store=t,n},t.prototype.get=function(t,e){return void 0!==this.store[t]?this.store[t]:e},t.prototype.set=function(t,e){this.store[t]=e},t.prototype.remove=function(t){delete this.store[t]},t.prototype.hasKey=function(t){return this.store.hasOwnProperty(t)},t.prototype.onSerialize=function(t,e){this.onSerializeCallbacks[t]=e},t.prototype.toJson=function(){for(var t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(t){console.warn("Exception in onSerialize callback: ",t)}return JSON.stringify(this.store)},t=e=s([Be()],t)}();function Av(t,e){var n,r,i=t.getElementById(e+"-state"),o={};if(i&&i.textContent)try{o=JSON.parse((n=i.textContent,r={"&a;":"&","&q;":'"',"&s;":"'","&l;":"<","&g;":">"},n.replace(/&[^;]+;/g,function(t){return r[t]})))}catch(t){console.warn("Exception while restoring TransferState for app "+e,t)}return Tv.init(o)}(function(){function t(){}t=s([qe({providers:[{provide:Tv,useFactory:Av,deps:[pd,Mn]}]})],t)})(),function(){function t(){}t.all=function(){return function(t){return!0}},t.css=function(t){return function(e){return null!=e.nativeElement&&rd().elementMatches(e.nativeElement,t)}},t.directive=function(t){return function(e){return-1!==e.providerTokens.indexOf(t)}}}(),new He("6.1.10");var Dv=function(){return function(t,e){this.id=t,this.url=e}}(),Iv=function(t){function e(e,n,r,i){void 0===r&&(r="imperative"),void 0===i&&(i=null);var o=t.call(this,e,n)||this;return o.navigationTrigger=r,o.restoredState=i,o}return i(e,t),e.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},e}(Dv),Nv=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.urlAfterRedirects=r,i}return i(e,t),e.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},e}(Dv),kv=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.reason=r,i}return i(e,t),e.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},e}(Dv),Pv=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.error=r,i}return i(e,t),e.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},e}(Dv),Ov=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return i(e,t),e.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Dv),Mv=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return i(e,t),e.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Dv),Rv=function(t){function e(e,n,r,i,o){var s=t.call(this,e,n)||this;return s.urlAfterRedirects=r,s.state=i,s.shouldActivate=o,s}return i(e,t),e.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},e}(Dv),Fv=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return i(e,t),e.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Dv),Lv=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return i(e,t),e.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Dv),jv=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},t}(),Vv=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},t}(),Bv=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Uv=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),qv=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Hv=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Wv=function(){function t(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}return t.prototype.toString=function(){var t=this.position?this.position[0]+", "+this.position[1]:null;return"Scroll(anchor: '"+this.anchor+"', position: '"+t+"')"},t}(),zv=function(){function t(){}return t=s([Rt({template:"<router-outlet></router-outlet>"})],t)}(),Kv="primary",Gv=function(){function t(t){this.params=t||{}}return t.prototype.has=function(t){return this.params.hasOwnProperty(t)},t.prototype.get=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null},t.prototype.getAll=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]},Object.defineProperty(t.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),t}();function Qv(t){return new Gv(t)}var Xv="ngNavigationCancelingError";function $v(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}var Yv=function(){return function(t,e){this.routes=t,this.module=e}}();function Jv(t,e){void 0===e&&(e="");for(var n=0;n<t.length;n++){var r=t[n];Zv(r,tm(e,r))}}function Zv(t,e){if(!t)throw new Error("\n      Invalid configuration of route '"+e+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(t))throw new Error("Invalid configuration of route '"+e+"': Array cannot be specified");if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==Kv)throw new Error("Invalid configuration of route '"+e+"': a componentless route without children or loadChildren cannot have a named outlet set");if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '"+e+"': redirectTo and children cannot be used together");if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': redirectTo and loadChildren cannot be used together");if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': children and loadChildren cannot be used together");if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '"+e+"': redirectTo and component cannot be used together");if(t.path&&t.matcher)throw new Error("Invalid configuration of route '"+e+"': path and matcher cannot be used together");if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '"+e+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '"+e+"': routes must have either a path or a matcher specified");if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '"+e+"': path cannot start with a slash");if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch){throw new Error("Invalid configuration of route '{path: \""+e+'", redirectTo: "'+t.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.")}if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '"+e+"': pathMatch can only be set to 'prefix' or 'full'");t.children&&Jv(t.children,e)}function tm(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:t+"/"+e.path:"":t}function em(t){var e=t.children&&t.children.map(em),n=e?o({},t,{children:e}):o({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Kv&&(n.component=zv),n}function nm(t,e){var n,r=Object.keys(t),i=Object.keys(e);if(r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(t[n=r[o]]!==e[n])return!1;return!0}function rm(t){return Array.prototype.concat.apply([],t)}function im(t){return t.length>0?t[t.length-1]:null}function om(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function sm(t){return t.pipe(at(),dh(function(t){return!0===t}))}function am(t){return kn(t)?t:Nn(t)?nt(Promise.resolve(t)):Ql(t)}function um(t,e,n){return n?function(t,e){return nm(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!fm(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return e[n]===t[n]})}(t.queryParams,e.queryParams)&&cm(t.root,e.root)}function cm(t,e){return function t(e,n,r){if(e.segments.length>r.length){var i=e.segments.slice(0,r.length);return!!fm(i,r)&&!n.hasChildren()}if(e.segments.length===r.length){if(!fm(e.segments,r))return!1;for(var o in n.children){if(!e.children[o])return!1;if(!cm(e.children[o],n.children[o]))return!1}return!0}var i=r.slice(0,e.segments.length),s=r.slice(e.segments.length);return!!fm(e.segments,i)&&(!!e.children[Kv]&&t(e.children[Kv],n,s))}(t,e,e.segments)}var lm=function(){function t(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}return Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=Qv(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return ym.serialize(this)},t}(),hm=function(){function t(t,e){var n=this;this.segments=t,this.children=e,this.parent=null,om(e,function(t,e){return t.parent=n})}return t.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(t.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return gm(this)},t}(),pm=function(){function t(t,e){this.path=t,this.parameters=e}return Object.defineProperty(t.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=Qv(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Sm(this)},t}();function fm(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}function dm(t,e){var n=[];return om(t.children,function(t,r){r===Kv&&(n=n.concat(e(t,r)))}),om(t.children,function(t,r){r!==Kv&&(n=n.concat(e(t,r)))}),n}var vm=function(){return function(){}}(),mm=function(){function t(){}return t.prototype.parse=function(t){var e=new Im(t);return new lm(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},t.prototype.serialize=function(t){var e,n,r;return""+("/"+function t(e,n){if(!e.hasChildren())return gm(e);if(n){var r=e.children[Kv]?t(e.children[Kv],!1):"",i=[];return om(e.children,function(e,n){n!==Kv&&i.push(n+":"+t(e,!1))}),i.length>0?r+"("+i.join("//")+")":r}var o=dm(e,function(n,r){return r===Kv?[t(e.children[Kv],!1)]:[r+":"+t(n,!1)]});return gm(e)+"/("+o.join("//")+")"}(t.root,!0))+(e=t.queryParams,(n=Object.keys(e).map(function(t){var n=e[t];return Array.isArray(n)?n.map(function(e){return wm(t)+"="+wm(e)}).join("&"):wm(t)+"="+wm(n)})).length?"?"+n.join("&"):"")+("string"==typeof t.fragment?"#"+(r=t.fragment,encodeURI(r)):"")},t}(),ym=new mm;function gm(t){return t.segments.map(function(t){return Sm(t)}).join("/")}function bm(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wm(t){return bm(t).replace(/%3B/gi,";")}function _m(t){return bm(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Em(t){return decodeURIComponent(t)}function Cm(t){return Em(t.replace(/\+/g,"%20"))}function Sm(t){return""+_m(t.path)+(e=t.parameters,Object.keys(e).map(function(t){return";"+_m(t)+"="+_m(e[t])}).join(""));var e}var xm=/^[^\/()?;=#]+/;function Tm(t){var e=t.match(xm);return e?e[0]:""}var Am=/^[^=?&#]+/;var Dm=/^[^?&#]+/;var Im=function(){function t(t){this.url=t,this.remaining=t}return t.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new hm([],{}):new hm([],this.parseChildren())},t.prototype.parseQueryParams=function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t},t.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null},t.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Kv]=new hm(t,e)),n},t.prototype.parseSegment=function(){var t=Tm(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(t),new pm(Em(t),this.parseMatrixParams())},t.prototype.parseMatrixParams=function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=Tm(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=Tm(this.remaining);r&&(n=r,this.capture(n))}t[Em(e)]=Em(n)}},t.prototype.parseQueryParam=function(t){var e,n,r=(e=this.remaining,(n=e.match(Am))?n[0]:"");if(r){this.capture(r);var i="";if(this.consumeOptional("=")){var o=function(t){var e=t.match(Dm);return e?e[0]:""}(this.remaining);o&&(i=o,this.capture(i))}var s=Cm(r),a=Cm(i);if(t.hasOwnProperty(s)){var u=t[s];Array.isArray(u)||(u=[u],t[s]=u),u.push(a)}else t[s]=a}},t.prototype.parseParens=function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Tm(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '"+this.url+"'");var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Kv);var o=this.parseChildren();e[i]=1===Object.keys(o).length?o[Kv]:new hm([],o),this.consumeOptional("//")}return e},t.prototype.peekStartsWith=function(t){return this.remaining.startsWith(t)},t.prototype.consumeOptional=function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)},t.prototype.capture=function(t){if(!this.consumeOptional(t))throw new Error('Expected "'+t+'".')},t}(),Nm=function(){return function(t){this.segmentGroup=t||null}}(),km=function(){return function(t){this.urlTree=t}}();function Pm(t){return new O(function(e){return e.error(new Nm(t))})}function Om(t){return new O(function(e){return e.error(new km(t))})}function Mm(t){return new O(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+t+"'"))})}function Rm(t){return new O(function(e){return e.error((n="Cannot load children because the guard of the route \"path: '"+t.path+"'\" returned false",(r=Error("NavigationCancelingError: "+n))[Xv]=!0,r));var n,r})}var Fm=function(){function t(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(rr)}return t.prototype.apply=function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Kv).pipe(J(function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)})).pipe(yh(function(e){if(e instanceof km)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof Nm)throw t.noMatchError(e);throw e}))},t.prototype.match=function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,Kv).pipe(J(function(n){return e.createUrlTree(n,t.queryParams,t.fragment)})).pipe(yh(function(t){if(t instanceof Nm)throw e.noMatchError(t);throw t}))},t.prototype.noMatchError=function(t){return new Error("Cannot match any routes. URL Segment: '"+t.segmentGroup+"'")},t.prototype.createUrlTree=function(t,e,n){var r,i=t.segments.length>0?new hm([],((r={})[Kv]=t,r)):t;return new lm(i,e,n)},t.prototype.expandSegmentGroup=function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(J(function(t){return new hm([],t)})):this.expandSegment(t,n,e,n.segments,r,!0)},t.prototype.expandChildren=function(t,e,n){var r=this;return function(t,e){if(0===Object.keys(t).length)return Ql({});var n=[],r=[],i={};return om(t,function(t,o){var s=e(o,t).pipe(J(function(t){return i[o]=t}));o===Kv?n.push(s):r.push(s)}),Ql.apply(null,n.concat(r)).pipe(Yl(),fh(),J(function(){return i}))}(n.children,function(n,i){return r.expandSegmentGroup(t,e,i,n)})},t.prototype.expandSegment=function(t,e,n,r,i,o){var s=this;return Ql.apply(void 0,h(n)).pipe(J(function(a){return s.expandSegmentAgainstRoute(t,e,n,a,r,i,o).pipe(yh(function(t){if(t instanceof Nm)return Ql(null);throw t}))}),Yl(),Ch(function(t){return!!t}),yh(function(t,n){if(t instanceof Xl||"EmptyError"===t.name){if(s.noLeftoversInUrl(e,r,i))return Ql(new hm([],{}));throw new Nm(e)}throw t}))},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.expandSegmentAgainstRoute=function(t,e,n,r,i,o,s){return Bm(r)!==o?Pm(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Pm(e)},t.prototype.expandSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)},t.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Om(o):this.lineralizeSegments(n,o).pipe(rt(function(n){var o=new hm(n,{});return i.expandSegment(t,o,e,n,r,!1)}))},t.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){var s=this,a=Lm(e,r,i),u=a.matched,c=a.consumedSegments,l=a.lastChild,h=a.positionalParamSegments;if(!u)return Pm(e);var p=this.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?Om(p):this.lineralizeSegments(r,p).pipe(rt(function(r){return s.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)}))},t.prototype.matchSegmentAgainstRoute=function(t,e,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(J(function(t){return n._loadedConfig=t,new hm(r,{})})):Ql(new hm(r,{}));var s=Lm(e,n,r),a=s.matched,u=s.consumedSegments,l=s.lastChild;if(!a)return Pm(e);var h=r.slice(l);return this.getChildConfig(t,n).pipe(rt(function(t){var n=t.module,r=t.routes,s=function(t,e,n,r){if(n.length>0&&function(t,e,n){return n.some(function(n){return Vm(t,e,n)&&Bm(n)!==Kv})}(t,n,r)){var i=new hm(e,function(t,e){var n,r,i={};i[Kv]=e;try{for(var o=c(t),s=o.next();!s.done;s=o.next()){var a=s.value;""===a.path&&Bm(a)!==Kv&&(i[Bm(a)]=new hm([],{}))}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}(r,new hm(n,t.children)));return{segmentGroup:jm(i),slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(function(n){return Vm(t,e,n)})}(t,n,r)){var i=new hm(t.segments,function(t,e,n,r){var i,s,a={};try{for(var u=c(n),l=u.next();!l.done;l=u.next()){var h=l.value;Vm(t,e,h)&&!r[Bm(h)]&&(a[Bm(h)]=new hm([],{}))}}catch(t){i={error:t}}finally{try{l&&!l.done&&(s=u.return)&&s.call(u)}finally{if(i)throw i.error}}return o({},r,a)}(t,n,r,t.children));return{segmentGroup:jm(i),slicedSegments:n}}return{segmentGroup:t,slicedSegments:n}}(e,u,h,r),a=s.segmentGroup,l=s.slicedSegments;return 0===l.length&&a.hasChildren()?i.expandChildren(n,r,a).pipe(J(function(t){return new hm(u,t)})):0===r.length&&0===l.length?Ql(new hm(u,{})):i.expandSegment(n,a,r,l,Kv,!0).pipe(J(function(t){return new hm(u.concat(t.segments),t.children)}))}))},t.prototype.getChildConfig=function(t,e){var n=this;return e.children?Ql(new Yv(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Ql(e._loadedConfig):function(t,e){var n=e.canLoad;return n&&0!==n.length?sm(nt(n).pipe(J(function(n){var r=t.get(n);return am(r.canLoad?r.canLoad(e):r(e))}))):Ql(!0)}(t.injector,e).pipe(rt(function(r){return r?n.configLoader.load(t.injector,e).pipe(J(function(t){return e._loadedConfig=t,t})):Rm(e)})):Ql(new Yv([],t))},t.prototype.lineralizeSegments=function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Ql(n);if(r.numberOfChildren>1||!r.children[Kv])return Mm(t.redirectTo);r=r.children[Kv]}},t.prototype.applyRedirectCommands=function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)},t.prototype.applyRedirectCreatreUrlTree=function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new lm(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)},t.prototype.createQueryParams=function(t,e){var n={};return om(t,function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t}),n},t.prototype.createSegmentGroup=function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),s={};return om(e.children,function(e,o){s[o]=i.createSegmentGroup(t,e,n,r)}),new hm(o,s)},t.prototype.createSegments=function(t,e,n,r){var i=this;return e.map(function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)})},t.prototype.findPosParam=function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '"+t+"'. Cannot find '"+e.path+"'.");return r},t.prototype.findOrReturn=function(t,e){var n,r,i=0;try{for(var o=c(e),s=o.next();!s.done;s=o.next()){var a=s.value;if(a.path===t.path)return e.splice(i),a;i++}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return t},t}();function Lm(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||$v)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function jm(t){if(1===t.numberOfChildren&&t.children[Kv]){var e=t.children[Kv];return new hm(t.segments.concat(e.segments),e.children)}return t}function Vm(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&(""===n.path&&void 0!==n.redirectTo)}function Bm(t){return t.outlet||Kv}var Um=function(){function t(t){this._root=t}return Object.defineProperty(t.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),t.prototype.parent=function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null},t.prototype.children=function(t){var e=qm(t,this._root);return e?e.children.map(function(t){return t.value}):[]},t.prototype.firstChild=function(t){var e=qm(t,this._root);return e&&e.children.length>0?e.children[0].value:null},t.prototype.siblings=function(t){var e=Hm(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})},t.prototype.pathFromRoot=function(t){return Hm(t,this._root).map(function(t){return t.value})},t}();function qm(t,e){var n,r;if(t===e.value)return e;try{for(var i=c(e.children),o=i.next();!o.done;o=i.next()){var s=qm(t,o.value);if(s)return s}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return null}function Hm(t,e){var n,r;if(t===e.value)return[e];try{for(var i=c(e.children),o=i.next();!o.done;o=i.next()){var s=Hm(t,o.value);if(s.length)return s.unshift(e),s}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return[]}var Wm=function(){function t(t,e){this.value=t,this.children=e}return t.prototype.toString=function(){return"TreeNode("+this.value+")"},t}();function zm(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}var Km=function(t){function e(e,n){var r=t.call(this,e)||this;return r.snapshot=n,Jm(r,e),r}return i(e,t),e.prototype.toString=function(){return this.snapshot.toString()},e}(Um);function Gm(t,e){var n=function(t,e){var n=new $m([],{},{},"",{},Kv,e,null,t.root,-1,{});return new Ym("",new Wm(n,[]))}(t,e),r=new $l([new pm("",{})]),i=new $l({}),o=new $l({}),s=new $l({}),a=new $l(""),u=new Qm(r,i,s,a,o,Kv,e,n.root);return u.snapshot=n.root,new Km(new Wm(u,[]),n)}var Qm=function(){function t(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=this.params.pipe(J(function(t){return Qv(t)}))),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(J(function(t){return Qv(t)}))),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},t}();function Xm(t,e){void 0===e&&(e="emptyOnly");var n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function(t){return t.reduce(function(t,e){var n=o({},t.params,e.params),r=o({},t.data,e.data),i=o({},t.resolve,e._resolvedData);return{params:n,data:r,resolve:i}},{params:{},data:{},resolve:{}})}(n.slice(r))}var $m=function(){function t(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}return Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=Qv(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=Qv(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"Route(url:'"+this.url.map(function(t){return t.toString()}).join("/")+"', path:'"+(this.routeConfig?this.routeConfig.path:"")+"')"},t}(),Ym=function(t){function e(e,n){var r=t.call(this,n)||this;return r.url=e,Jm(r,n),r}return i(e,t),e.prototype.toString=function(){return Zm(this._root)},e}(Um);function Jm(t,e){e.value._routerState=t,e.children.forEach(function(e){return Jm(t,e)})}function Zm(t){var e=t.children.length>0?" { "+t.children.map(Zm).join(", ")+" } ":"";return""+t.value+e}function ty(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,nm(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),nm(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!nm(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),nm(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function ey(t,e){var n,r,i=nm(t.params,e.params)&&(n=t.url,r=e.url,fm(n,r)&&n.every(function(t,e){return nm(t.parameters,r[e].parameters)})),o=!t.parent!=!e.parent;return i&&!o&&(!t.parent||ey(t.parent,e.parent))}function ny(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){(a=n.value)._futureSnapshot=e.value;var r=function(t,e,n){return e.children.map(function(e){var r,i;try{for(var o=c(n.children),s=o.next();!s.done;s=o.next()){var a=s.value;if(t.shouldReuseRoute(a.value.snapshot,e.value))return ny(t,e,a)}}catch(t){r={error:t}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return ny(t,e)})}(t,e,n);return new Wm(a,r)}var i=t.retrieve(e.value);if(i){var o=i.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(e,o),o}var s,a=(s=e.value,new Qm(new $l(s.url),new $l(s.params),new $l(s.queryParams),new $l(s.fragment),new $l(s.data),s.outlet,s.component,s));r=e.children.map(function(e){return ny(t,e)});return new Wm(a,r)}function ry(t,e,n,r,i){if(0===n.length)return oy(e.root,e.root,e,r,i);var o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new sy(!0,0,t);var e=0,n=!1,r=t.reduce(function(t,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return om(r.outlets,function(t,e){o[e]="string"==typeof t?t.split("/"):t}),h(t,[{outlets:o}])}if(r.segmentPath)return h(t,[r.segmentPath])}return"string"!=typeof r?h(t,[r]):0===i?(r.split("/").forEach(function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):h(t,[r])},[]);return new sy(n,e,r)}(n);if(o.toRoot())return oy(e.root,new hm([],{}),e,r,i);var s=function(t,e,n){if(t.isAbsolute)return new ay(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new ay(n.snapshot._urlSegment,!0,0);var r=iy(t.commands[0])?0:1,i=n.snapshot._lastPathIndex+r;return function(t,e,n){var r=t,i=e,o=n;for(;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new ay(r,!1,i-o)}(n.snapshot._urlSegment,i,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?ly(s.segmentGroup,s.index,o.commands):cy(s.segmentGroup,s.index,o.commands);return oy(s.segmentGroup,a,e,r,i)}function iy(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function oy(t,e,n,r,i){var o={};return r&&om(r,function(t,e){o[e]=Array.isArray(t)?t.map(function(t){return""+t}):""+t}),n.root===t?new lm(e,o,i):new lm(function t(e,n,r){var i={};om(e.children,function(e,o){i[o]=e===n?r:t(e,n,r)});return new hm(e.segments,i)}(n.root,t,e),o,i)}var sy=function(){function t(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&iy(n[0]))throw new Error("Root segment cannot have matrix parameters");var r=n.find(function(t){return"object"==typeof t&&null!=t&&t.outlets});if(r&&r!==im(n))throw new Error("{outlets:{}} has to be the last command")}return t.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},t}();var ay=function(){return function(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}();function uy(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[Kv]:""+t}function cy(t,e,n){if(t||(t=new hm([],{})),0===t.segments.length&&t.hasChildren())return ly(t,e,n);var r=function(t,e,n){var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;var s=t.segments[i],a=uy(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!dy(a,u,s))return o;r+=2}else{if(!dy(a,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new hm(t.segments.slice(0,r.pathIndex),{});return o.children[Kv]=new hm(t.segments.slice(r.pathIndex),t.children),ly(o,0,i)}return r.match&&0===i.length?new hm(t.segments,{}):r.match&&!t.hasChildren()?hy(t,e,n):r.match?ly(t,0,i):hy(t,e,n)}function ly(t,e,n){if(0===n.length)return new hm(t.segments,{});var r=function(t){var e,n;return"object"!=typeof t[0]?((e={})[Kv]=t,e):void 0===t[0].outlets?((n={})[Kv]=t,n):t[0].outlets}(n),i={};return om(r,function(n,r){null!==n&&(i[r]=cy(t.children[r],e,n))}),om(t.children,function(t,e){void 0===r[e]&&(i[e]=t)}),new hm(t.segments,i)}function hy(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=py(n[i].outlets);return new hm(r,o)}if(0===i&&iy(n[0])){var s=t.segments[e];r.push(new pm(s.path,n[0])),i++}else{var a=uy(n[i]),u=i<n.length-1?n[i+1]:null;a&&u&&iy(u)?(r.push(new pm(a,fy(u))),i+=2):(r.push(new pm(a,{})),i++)}}return new hm(r,{})}function py(t){var e={};return om(t,function(t,n){null!==t&&(e[n]=hy(new hm([],{}),0,t))}),e}function fy(t){var e={};return om(t,function(t,n){return e[n]=""+t}),e}function dy(t,e,n){return t==n.path&&nm(e,n.parameters)}var vy=function(){return function(t){this.path=t,this.route=this.path[this.path.length-1]}}(),my=function(){return function(t,e){this.component=t,this.route=e}}(),yy=function(){function t(t,e,n,r){this.future=t,this.curr=e,this.moduleInjector=n,this.forwardEvent=r,this.canActivateChecks=[],this.canDeactivateChecks=[]}return t.prototype.initialize=function(t){var e=this.future._root,n=this.curr?this.curr._root:null;this.setupChildRouteGuards(e,n,t,[e.value])},t.prototype.checkGuards=function(){var t=this;return this.isDeactivating()||this.isActivating()?this.runCanDeactivateChecks().pipe(rt(function(e){return e?t.runCanActivateChecks():Ql(!1)})):Ql(!0)},t.prototype.resolveData=function(t){var e=this;return this.isActivating()?nt(this.canActivateChecks).pipe(Sh(function(n){return e.runResolve(n.route,t)}),function(t,e){return arguments.length>=2?function(n){return k(xh(t,e),nh(1),lh(e))(n)}:function(e){return k(xh(function(e,n,r){return t(e,n,r+1)}),nh(1))(e)}}(function(t,e){return t})):Ql(null)},t.prototype.isDeactivating=function(){return 0!==this.canDeactivateChecks.length},t.prototype.isActivating=function(){return 0!==this.canActivateChecks.length},t.prototype.setupChildRouteGuards=function(t,e,n,r){var i=this,o=zm(e);t.children.forEach(function(t){i.setupRouteGuards(t,o[t.value.outlet],n,r.concat([t.value])),delete o[t.value.outlet]}),om(o,function(t,e){return i.deactivateRouteAndItsChildren(t,n.getContext(e))})},t.prototype.setupRouteGuards=function(t,e,n,r){var i=t.value,o=e?e.value:null,s=n?n.getContext(t.value.outlet):null;if(o&&i.routeConfig===o.routeConfig){var a=this.shouldRunGuardsAndResolvers(o,i,i.routeConfig.runGuardsAndResolvers);if(a?this.canActivateChecks.push(new vy(r)):(i.data=o.data,i._resolvedData=o._resolvedData),i.component?this.setupChildRouteGuards(t,e,s?s.children:null,r):this.setupChildRouteGuards(t,e,n,r),a){var u=s.outlet;this.canDeactivateChecks.push(new my(u.component,o))}}else o&&this.deactivateRouteAndItsChildren(e,s),this.canActivateChecks.push(new vy(r)),i.component?this.setupChildRouteGuards(t,null,s?s.children:null,r):this.setupChildRouteGuards(t,null,n,r)},t.prototype.shouldRunGuardsAndResolvers=function(t,e,n){switch(n){case"always":return!0;case"paramsOrQueryParamsChange":return!ey(t,e)||!nm(t.queryParams,e.queryParams);case"paramsChange":default:return!ey(t,e)}},t.prototype.deactivateRouteAndItsChildren=function(t,e){var n=this,r=zm(t),i=t.value;om(r,function(t,r){i.component?e?n.deactivateRouteAndItsChildren(t,e.children.getContext(r)):n.deactivateRouteAndItsChildren(t,null):n.deactivateRouteAndItsChildren(t,e)}),i.component&&e&&e.outlet&&e.outlet.isActivated?this.canDeactivateChecks.push(new my(e.outlet.component,i)):this.canDeactivateChecks.push(new my(null,i))},t.prototype.runCanDeactivateChecks=function(){var t=this;return nt(this.canDeactivateChecks).pipe(rt(function(e){return t.runCanDeactivate(e.component,e.route)}),dh(function(t){return!0===t}))},t.prototype.runCanActivateChecks=function(){var t=this;return nt(this.canActivateChecks).pipe(Sh(function(e){return sm(nt([t.fireChildActivationStart(e.route.parent),t.fireActivationStart(e.route),t.runCanActivateChild(e.path),t.runCanActivate(e.route)]))}),dh(function(t){return!0===t}))},t.prototype.fireActivationStart=function(t){return null!==t&&this.forwardEvent&&this.forwardEvent(new qv(t)),Ql(!0)},t.prototype.fireChildActivationStart=function(t){return null!==t&&this.forwardEvent&&this.forwardEvent(new Bv(t)),Ql(!0)},t.prototype.runCanActivate=function(t){var e=this,n=t.routeConfig?t.routeConfig.canActivate:null;return n&&0!==n.length?sm(nt(n).pipe(J(function(n){var r=e.getToken(n,t);return(r.canActivate?am(r.canActivate(t,e.future)):am(r(t,e.future))).pipe(Ch())}))):Ql(!0)},t.prototype.runCanActivateChild=function(t){var e=this,n=t[t.length-1];return sm(nt(t.slice(0,t.length-1).reverse().map(function(t){return e.extractCanActivateChild(t)}).filter(function(t){return null!==t})).pipe(J(function(t){return sm(nt(t.guards).pipe(J(function(r){var i=e.getToken(r,t.node);return(i.canActivateChild?am(i.canActivateChild(n,e.future)):am(i(n,e.future))).pipe(Ch())})))})))},t.prototype.extractCanActivateChild=function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null},t.prototype.runCanDeactivate=function(t,e){var n=this,r=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return r&&0!==r.length?nt(r).pipe(rt(function(r){var i=n.getToken(r,e);return(i.canDeactivate?am(i.canDeactivate(t,e,n.curr,n.future)):am(i(t,e,n.curr,n.future))).pipe(Ch())})).pipe(dh(function(t){return!0===t})):Ql(!0)},t.prototype.runResolve=function(t,e){var n=t._resolve;return this.resolveNode(n,t).pipe(J(function(n){return t._resolvedData=n,t.data=o({},t.data,Xm(t,e).resolve),null}))},t.prototype.resolveNode=function(t,e){var n=this,r=Object.keys(t);if(0===r.length)return Ql({});if(1===r.length){var i=r[0];return this.getResolver(t[i],e).pipe(J(function(t){var e;return(e={})[i]=t,e}))}var o={};return nt(r).pipe(rt(function(r){return n.getResolver(t[r],e).pipe(J(function(t){return o[r]=t,t}))})).pipe(fh(),J(function(){return o}))},t.prototype.getResolver=function(t,e){var n=this.getToken(t,e);return n.resolve?am(n.resolve(e,this.future)):am(n(e,this.future))},t.prototype.getToken=function(t,e){var n=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(n?n.module.injector:this.moduleInjector).get(t)},t}();var gy=function(){return function(){}}();var by=function(){function t(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}return t.prototype.recognize=function(){try{var t=Ey(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Kv),n=new $m([],Object.freeze({}),Object.freeze(o({},this.urlTree.queryParams)),this.urlTree.fragment,{},Kv,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Wm(n,e),i=new Ym(this.url,r);return this.inheritParamsAndData(i._root),Ql(i)}catch(t){return new O(function(e){return e.error(t)})}},t.prototype.inheritParamsAndData=function(t){var e=this,n=t.value,r=Xm(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})},t.prototype.processSegmentGroup=function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)},t.prototype.processChildren=function(t,e){var n,r=this,i=dm(e,function(e,n){return r.processSegmentGroup(t,e,n)});return n={},i.forEach(function(t){var e=n[t.value.outlet];if(e){var r=e.url.map(function(t){return t.toString()}).join("/"),i=t.value.url.map(function(t){return t.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+r+"' and '"+i+"'.")}n[t.value.outlet]=t.value}),function(t){t.sort(function(t,e){return t.value.outlet===Kv?-1:e.value.outlet===Kv?1:t.value.outlet.localeCompare(e.value.outlet)})}(i),i},t.prototype.processSegment=function(t,e,n,r){var i,o;try{for(var s=c(t),a=s.next();!a.done;a=s.next()){var u=a.value;try{return this.processSegmentAgainstRoute(u,e,n,r)}catch(t){if(!(t instanceof gy))throw t}}}catch(t){i={error:t}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}if(this.noLeftoversInUrl(e,n,r))return[];throw new gy},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.processSegmentAgainstRoute=function(t,e,n,r){if(t.redirectTo)throw new gy;if((t.outlet||Kv)!==r)throw new gy;var i,s=[],a=[];if("**"===t.path){var u=n.length>0?im(n).parameters:{};i=new $m(n,u,Object.freeze(o({},this.urlTree.queryParams)),this.urlTree.fragment,xy(t),r,t.component,t,wy(e),_y(e)+n.length,Ty(t))}else{var c=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new gy;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||$v)(n,t,e);if(!r)throw new gy;var i={};om(r.posParams,function(t,e){i[e]=t.path});var s=r.consumed.length>0?o({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(e,t,n);s=c.consumedSegments,a=n.slice(c.lastChild),i=new $m(s,c.parameters,Object.freeze(o({},this.urlTree.queryParams)),this.urlTree.fragment,xy(t),r,t.component,t,wy(e),_y(e)+s.length,Ty(t))}var l=function(t){if(t.children)return t.children;if(t.loadChildren)return t._loadedConfig.routes;return[]}(t),h=Ey(e,s,a,l,this.relativeLinkResolution),p=h.segmentGroup,f=h.slicedSegments;if(0===f.length&&p.hasChildren()){var d=this.processChildren(l,p);return[new Wm(i,d)]}if(0===l.length&&0===f.length)return[new Wm(i,[])];var v=this.processSegment(l,p,f,Kv);return[new Wm(i,v)]},t}();function wy(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function _y(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Ey(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(function(n){return Cy(t,e,n)&&Sy(n)!==Kv})}(t,n,r)){var s=new hm(e,function(t,e,n,r){var i,o,s={};s[Kv]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;try{for(var a=c(n),u=a.next();!u.done;u=a.next()){var l=u.value;if(""===l.path&&Sy(l)!==Kv){var h=new hm([],{});h._sourceSegment=t,h._segmentIndexShift=e.length,s[Sy(l)]=h}}}catch(t){i={error:t}}finally{try{u&&!u.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}return s}(t,e,r,new hm(n,t.children)));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(function(n){return Cy(t,e,n)})}(t,n,r)){var a=new hm(t.segments,function(t,e,n,r,i,s){var a,u,l={};try{for(var h=c(r),p=h.next();!p.done;p=h.next()){var f=p.value;if(Cy(t,n,f)&&!i[Sy(f)]){var d=new hm([],{});d._sourceSegment=t,d._segmentIndexShift="legacy"===s?t.segments.length:e.length,l[Sy(f)]=d}}}catch(t){a={error:t}}finally{try{p&&!p.done&&(u=h.return)&&u.call(h)}finally{if(a)throw a.error}}return o({},i,l)}(t,e,n,r,t.children,i));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}var u=new hm(t.segments,t.children);return u._sourceSegment=t,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:n}}function Cy(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&(""===n.path&&void 0===n.redirectTo)}function Sy(t){return t.outlet||Kv}function xy(t){return t.data||{}}function Ty(t){return t.resolve||{}}var Ay=function(){return function(){}}(),Dy=function(){function t(){}return t.prototype.shouldDetach=function(t){return!1},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){return!1},t.prototype.retrieve=function(t){return null},t.prototype.shouldReuseRoute=function(t,e){return t.routeConfig===e.routeConfig},t}(),Iy=new wt("ROUTES"),Ny=function(){function t(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}return t.prototype.load=function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(J(function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new Yv(rm(i.injector.get(Iy)).map(em),i)}))},t.prototype.loadModuleFactory=function(t){var e=this;return"string"==typeof t?nt(this.loader.load(t)):am(t()).pipe(rt(function(t){return t instanceof ir?Ql(t):nt(e.compiler.compileModuleAsync(t))}))},t}(),ky=function(){return function(){}}(),Py=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){return!0},t.prototype.extract=function(t){return t},t.prototype.merge=function(t,e){return t},t}();function Oy(t){throw t}function My(t,e,n){return e.parse("/")}function Ry(t,e){return Ql(null)}var Fy=function(){function t(t,e,n,r,i,o,s,a){var u=this;this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=a,this.navigations=new $l(null),this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new j,this.errorHandler=Oy,this.malformedUriErrorHandler=My,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ry,afterPreactivation:Ry},this.urlHandlingStrategy=new Py,this.routeReuseStrategy=new Dy,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy";this.ngModule=i.get(rr),this.console=i.get(qn);var c=i.get(hr);this.isNgZoneEnabled=c instanceof hr,this.resetConfig(a),this.currentUrlTree=new lm(new hm([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.configLoader=new Ny(o,s,function(t){return u.triggerEvent(new jv(t))},function(t){return u.triggerEvent(new Vv(t))}),this.routerState=Gm(this.currentUrlTree,this.rootComponentType),this.processNavigations()}return t.prototype.resetRootComponentType=function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType},t.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},t.prototype.setUpLocationChangeListener=function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var n=t.parseUrl(e.url),r="popstate"===e.type?"popstate":"hashchange",i=e.state&&e.state.navigationId?{navigationId:e.state.navigationId}:null;setTimeout(function(){t.scheduleNavigation(n,r,i,{replaceUrl:!0})},0)}))},Object.defineProperty(t.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),t.prototype.triggerEvent=function(t){this.events.next(t)},t.prototype.resetConfig=function(t){Jv(t),this.config=t.map(em),this.navigated=!1,this.lastSuccessfulId=-1},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},t.prototype.createUrlTree=function(t,e){void 0===e&&(e={});var n=e.relativeTo,r=e.queryParams,i=e.fragment,s=e.preserveQueryParams,a=e.queryParamsHandling,u=e.preserveFragment;xr()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:i,h=null;if(a)switch(a){case"merge":h=o({},this.currentUrlTree.queryParams,r);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=r||null}else h=s?this.currentUrlTree.queryParams:r||null;return null!==h&&(h=this.removeEmptyProps(h)),ry(c,this.currentUrlTree,t,h,l)},t.prototype.navigateByUrl=function(t,e){void 0===e&&(e={skipLocationChange:!1}),xr()&&this.isNgZoneEnabled&&!hr.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=t instanceof lm?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)},t.prototype.navigate=function(t,e){return void 0===e&&(e={skipLocationChange:!1}),function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains "+n+" segment at index "+e)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)},t.prototype.serializeUrl=function(t){return this.urlSerializer.serialize(t)},t.prototype.parseUrl=function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e},t.prototype.isActive=function(t,e){if(t instanceof lm)return um(this.currentUrlTree,t,e);var n=this.parseUrl(t);return um(this.currentUrlTree,n,e)},t.prototype.removeEmptyProps=function(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return null!==r&&void 0!==r&&(e[n]=r),e},{})},t.prototype.processNavigations=function(){var t=this;this.navigations.pipe(Sh(function(e){return e?(t.executeScheduledNavigation(e),e.promise.catch(function(){})):Ql(null)})).subscribe(function(){})},t.prototype.scheduleNavigation=function(t,e,n,r){var i=this.navigations.value;if(i&&"imperative"!==e&&"imperative"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"hashchange"==e&&"popstate"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"popstate"==e&&"hashchange"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);var o=null,s=null,a=new Promise(function(t,e){o=t,s=e}),u=++this.navigationId;return this.navigations.next({id:u,source:e,state:n,rawUrl:t,extras:r,resolve:o,reject:s,promise:a}),a.catch(function(t){return Promise.reject(t)})},t.prototype.executeScheduledNavigation=function(t){var e=this,n=t.id,r=t.rawUrl,i=t.extras,o=t.resolve,s=t.reject,a=t.source,u=t.state,c=this.urlHandlingStrategy.extract(r),l=!this.navigated||c.toString()!==this.currentUrlTree.toString();("reload"===this.onSameUrlNavigation||l)&&this.urlHandlingStrategy.shouldProcessUrl(r)?("eager"!==this.urlUpdateStrategy||i.skipLocationChange||this.setBrowserUrl(r,!!i.replaceUrl,n),this.events.next(new Iv(n,this.serializeUrl(c),a,u)),Promise.resolve().then(function(t){return e.runNavigate(c,r,!!i.skipLocationChange,!!i.replaceUrl,n,null)}).then(o,s)):l&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)?(this.events.next(new Iv(n,this.serializeUrl(c),a,u)),Promise.resolve().then(function(t){return e.runNavigate(c,r,!1,!1,n,Gm(c,e.rootComponentType).snapshot)}).then(o,s)):(this.rawUrlTree=r,o(null))},t.prototype.runNavigate=function(t,e,n,r,i,o){var s=this;return i!==this.navigationId?(this.events.next(new kv(i,this.serializeUrl(t),"Navigation ID "+i+" is not equal to the current navigation id "+this.navigationId)),Promise.resolve(!1)):new Promise(function(a,u){var c;o?c=Ql({appliedUrl:t,snapshot:o}):c=function(t,e,n,r,i){return new Fm(t,e,n,r,i).apply()}(s.ngModule.injector,s.configLoader,s.urlSerializer,t,s.config).pipe(rt(function(e){return function(t,e,n,r,i,o){return void 0===i&&(i="emptyOnly"),void 0===o&&(o="legacy"),new by(t,e,n,r,i,o).recognize()}(s.rootComponentType,s.config,e,s.serializeUrl(e),s.paramsInheritanceStrategy,s.relativeLinkResolution).pipe(J(function(n){return s.events.next(new Ov(i,s.serializeUrl(t),s.serializeUrl(e),n)),{appliedUrl:e,snapshot:n}}))}));var l,h=c.pipe(rt(function(o){return"boolean"==typeof o?Ql(o):s.hooks.beforePreactivation(o.snapshot,{navigationId:i,appliedUrlTree:t,rawUrlTree:e,skipLocationChange:n,replaceUrl:r}).pipe(J(function(){return o}))})).pipe(J(function(t){if("boolean"==typeof t)return t;var e=t.appliedUrl,n=t.snapshot,r=s.ngModule.injector;return(l=new yy(n,s.routerState.snapshot,r,function(t){return s.triggerEvent(t)})).initialize(s.rootContexts),{appliedUrl:e,snapshot:n}})).pipe(rt(function(e){if("boolean"==typeof e||s.navigationId!==i)return Ql(!1);var n=e.appliedUrl,r=e.snapshot;return s.triggerEvent(new Mv(i,s.serializeUrl(t),s.serializeUrl(n),r)),l.checkGuards().pipe(J(function(e){return s.triggerEvent(new Rv(i,s.serializeUrl(t),s.serializeUrl(n),r,e)),{appliedUrl:n,snapshot:r,shouldActivate:e}}))})).pipe(rt(function(e){return"boolean"==typeof e||s.navigationId!==i?Ql(!1):e.shouldActivate&&l.isActivating()?(s.triggerEvent(new Fv(i,s.serializeUrl(t),s.serializeUrl(e.appliedUrl),e.snapshot)),l.resolveData(s.paramsInheritanceStrategy).pipe(J(function(){return s.triggerEvent(new Lv(i,s.serializeUrl(t),s.serializeUrl(e.appliedUrl),e.snapshot)),e}))):Ql(e)})).pipe(rt(function(o){return"boolean"==typeof o||s.navigationId!==i?Ql(!1):s.hooks.afterPreactivation(o.snapshot,{navigationId:i,appliedUrlTree:t,rawUrlTree:e,skipLocationChange:n,replaceUrl:r}).pipe(J(function(){return o}))})).pipe(J(function(t){if("boolean"==typeof t||s.navigationId!==i)return!1;var e,n,r,o,a=t.appliedUrl,u=t.snapshot,c=t.shouldActivate;return c?{appliedUrl:a,state:(e=s.routeReuseStrategy,n=u,r=s.routerState,o=ny(e,n._root,r?r._root:void 0),new Km(o,n)),shouldActivate:c}:{appliedUrl:a,state:null,shouldActivate:c}}));s.activateRoutes(h,s.routerState,s.currentUrlTree,i,t,e,n,r,a,u)})},t.prototype.activateRoutes=function(t,e,n,r,i,o,s,a,u,c){var l,h=this;t.forEach(function(t){if("boolean"!=typeof t&&t.shouldActivate&&r===h.navigationId&&t.state){var n=t.appliedUrl,i=t.state;h.currentUrlTree=n,h.rawUrlTree=h.urlHandlingStrategy.merge(h.currentUrlTree,o),h.routerState=i,"deferred"!==h.urlUpdateStrategy||s||h.setBrowserUrl(h.rawUrlTree,a,r),new Ly(h.routeReuseStrategy,i,e,function(t){return h.triggerEvent(t)}).activate(h.rootContexts),l=!0}else l=!1}).then(function(){l?(h.navigated=!0,h.lastSuccessfulId=r,h.events.next(new Nv(r,h.serializeUrl(i),h.serializeUrl(h.currentUrlTree))),u(!0)):(h.resetUrlToCurrentUrlTree(),h.events.next(new kv(r,h.serializeUrl(i),"")),u(!1))},function(t){if((s=t)&&s[Xv])h.navigated=!0,h.resetStateAndUrl(e,n,o),h.events.next(new kv(r,h.serializeUrl(i),t.message)),u(!1);else{h.resetStateAndUrl(e,n,o),h.events.next(new Pv(r,h.serializeUrl(i),t));try{u(h.errorHandler(t))}catch(t){c(t)}}var s})},t.prototype.setBrowserUrl=function(t,e,n){var r=this.urlSerializer.serialize(t);this.location.isCurrentPathEqualTo(r)||e?this.location.replaceState(r,"",{navigationId:n}):this.location.go(r,"",{navigationId:n})},t.prototype.resetStateAndUrl=function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()},t.prototype.resetUrlToCurrentUrlTree=function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})},t}(),Ly=function(){function t(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}return t.prototype.activate=function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),ty(this.futureState.root),this.activateChildRoutes(e,n,t)},t.prototype.deactivateChildRoutes=function(t,e,n){var r=this,i=zm(e);t.children.forEach(function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]}),om(i,function(t,e){r.deactivateRouteAndItsChildren(t,n)})},t.prototype.deactivateRoutes=function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)},t.prototype.deactivateRouteAndItsChildren=function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)},t.prototype.detachAndStoreRouteSubtree=function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}},t.prototype.deactivateRouteAndOutlet=function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var i=zm(t),o=t.value.component?r.children:e;om(i,function(t,e){return n.deactivateRouteAndItsChildren(t,o)}),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}},t.prototype.activateChildRoutes=function(t,e,n){var r=this,i=zm(e);t.children.forEach(function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new Hv(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Uv(t.value.snapshot))},t.prototype.activateRoutes=function(t,e,n){var r=t.value,i=e?e.value:null;if(ty(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){o=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(s.contexts),o.attachRef=s.componentRef,o.route=s.route.value,o.outlet&&o.outlet.attach(s.componentRef,s.route.value),jy(s.route)}else{var a=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),u=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=r,o.resolver=u,o.outlet&&o.outlet.activateWith(r,u),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,n)},t}();function jy(t){ty(t.value),t.children.forEach(jy)}var Vy=function(){function t(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{set:function(t){xr()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.onClick=function(){var t={skipLocationChange:Uy(this.skipLocationChange),replaceUrl:Uy(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,t),!0},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Uy(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Uy(this.preserveFragment)})},enumerable:!0,configurable:!0}),s([Lt(),u("design:type",Object)],t.prototype,"queryParams",void 0),s([Lt(),u("design:type",String)],t.prototype,"fragment",void 0),s([Lt(),u("design:type",String)],t.prototype,"queryParamsHandling",void 0),s([Lt(),u("design:type",Boolean)],t.prototype,"preserveFragment",void 0),s([Lt(),u("design:type",Boolean)],t.prototype,"skipLocationChange",void 0),s([Lt(),u("design:type",Boolean)],t.prototype,"replaceUrl",void 0),s([Lt(),u("design:type",Object),u("design:paramtypes",[Object])],t.prototype,"routerLink",null),s([Lt(),u("design:type",Boolean),u("design:paramtypes",[Boolean])],t.prototype,"preserveQueryParams",null),s([Bt("click"),u("design:type",Function),u("design:paramtypes",[]),u("design:returntype",Boolean)],t.prototype,"onClick",null),t=s([Mt({selector:":not(a)[routerLink]"}),a(2,kt("tabindex")),u("design:paramtypes",[Fy,Qm,String,Fr,Lr])],t)}(),By=function(){function t(t,e,n){var r=this;this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(function(t){t instanceof Nv&&r.updateTargetUrlAndHref()})}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{set:function(t){xr()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.updateTargetUrlAndHref()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.onClick=function(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:Uy(this.skipLocationChange),replaceUrl:Uy(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,i),!1},t.prototype.updateTargetUrlAndHref=function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Uy(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Uy(this.preserveFragment)})},enumerable:!0,configurable:!0}),s([Vt("attr.target"),Lt(),u("design:type",String)],t.prototype,"target",void 0),s([Lt(),u("design:type",Object)],t.prototype,"queryParams",void 0),s([Lt(),u("design:type",String)],t.prototype,"fragment",void 0),s([Lt(),u("design:type",String)],t.prototype,"queryParamsHandling",void 0),s([Lt(),u("design:type",Boolean)],t.prototype,"preserveFragment",void 0),s([Lt(),u("design:type",Boolean)],t.prototype,"skipLocationChange",void 0),s([Lt(),u("design:type",Boolean)],t.prototype,"replaceUrl",void 0),s([Vt(),u("design:type",String)],t.prototype,"href",void 0),s([Lt(),u("design:type",Object),u("design:paramtypes",[Object])],t.prototype,"routerLink",null),s([Lt(),u("design:type",Boolean),u("design:paramtypes",[Boolean])],t.prototype,"preserveQueryParams",null),s([Bt("click",["$event.button","$event.ctrlKey","$event.metaKey","$event.shiftKey"]),u("design:type",Function),u("design:paramtypes",[Number,Boolean,Boolean,Boolean]),u("design:returntype",Boolean)],t.prototype,"onClick",null),t=s([Mt({selector:"a[routerLink]"}),u("design:paramtypes",[Fy,Qm,Nh])],t)}();function Uy(t){return""===t||!!t}var qy=function(){function t(t,e,n,r){var i=this;this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(function(t){t instanceof Nv&&i.update()})}return t.prototype.ngAfterContentInit=function(){var t=this;this.links.changes.subscribe(function(e){return t.update()}),this.linksWithHrefs.changes.subscribe(function(e){return t.update()}),this.update()},Object.defineProperty(t.prototype,"routerLinkActive",{set:function(t){var e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(function(t){return!!t})},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.update()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.update=function(){var t=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(function(){var e=t.hasActiveLinks();t.isActive!==e&&(t.isActive=e,t.classes.forEach(function(n){e?t.renderer.addClass(t.element.nativeElement,n):t.renderer.removeClass(t.element.nativeElement,n)}))})},t.prototype.isLinkActive=function(t){var e=this;return function(n){return t.isActive(n.urlTree,e.routerLinkActiveOptions.exact)}},t.prototype.hasActiveLinks=function(){return this.links.some(this.isLinkActive(this.router))||this.linksWithHrefs.some(this.isLinkActive(this.router))},s([Ot(Vy,{descendants:!0}),u("design:type",Ur)],t.prototype,"links",void 0),s([Ot(By,{descendants:!0}),u("design:type",Ur)],t.prototype,"linksWithHrefs",void 0),s([Lt(),u("design:type",Object)],t.prototype,"routerLinkActiveOptions",void 0),s([Lt(),u("design:type",Object),u("design:paramtypes",[Object])],t.prototype,"routerLinkActive",null),t=s([Mt({selector:"[routerLinkActive]",exportAs:"routerLinkActive"}),u("design:paramtypes",[Fy,Lr,Fr,Qr])],t)}(),Hy=function(){return function(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Wy,this.attachRef=null}}(),Wy=function(){function t(){this.contexts=new Map}return t.prototype.onChildOutletCreated=function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)},t.prototype.onChildOutletDestroyed=function(t){var e=this.getContext(t);e&&(e.outlet=null)},t.prototype.onOutletDeactivated=function(){var t=this.contexts;return this.contexts=new Map,t},t.prototype.onOutletReAttached=function(t){this.contexts=t},t.prototype.getOrCreateContext=function(t){var e=this.getContext(t);return e||(e=new Hy,this.contexts.set(t,e)),e},t.prototype.getContext=function(t){return this.contexts.get(t)||null},t}(),zy=function(){function t(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new lr,this.deactivateEvents=new lr,this.name=r||Kv,t.onChildOutletCreated(this.name,this)}return t.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},t.prototype.ngOnInit=function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}},Object.defineProperty(t.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),t.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t},t.prototype.attach=function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)},t.prototype.deactivate=function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}},t.prototype.activateWith=function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=t._futureSnapshot.routeConfig.component,r=(e=e||this.resolver).resolveComponentFactory(n),i=this.parentContexts.getOrCreateContext(this.name).children,o=new Ky(t,i,this.location.injector);this.activated=this.location.createComponent(r,this.location.length,o),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},s([jt("activate"),u("design:type",Object)],t.prototype,"activateEvents",void 0),s([jt("deactivate"),u("design:type",Object)],t.prototype,"deactivateEvents",void 0),t=s([Mt({selector:"router-outlet",exportAs:"outlet"}),a(3,kt("name")),u("design:paramtypes",[Wy,Gr,tr,String,Qr])],t)}(),Ky=function(){function t(t,e,n){this.route=t,this.childContexts=e,this.parent=n}return t.prototype.get=function(t,e){return t===Qm?this.route:t===Wy?this.childContexts:this.parent.get(t,e)},t}(),Gy=function(){return function(){}}(),Qy=function(){function t(){}return t.prototype.preload=function(t,e){return e().pipe(yh(function(){return Ql(null)}))},t}(),Xy=function(){function t(){}return t.prototype.preload=function(t,e){return Ql(null)},t}(),$y=function(){function t(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i;this.loader=new Ny(e,n,function(e){return t.triggerEvent(new jv(e))},function(e){return t.triggerEvent(new Vv(e))})}return t.prototype.setUpPreloading=function(){var t=this;this.subscription=this.router.events.pipe(Jl(function(t){return t instanceof Nv}),Sh(function(){return t.preload()})).subscribe(function(){})},t.prototype.preload=function(){var t=this.injector.get(rr);return this.processRoutes(t,this.router.config)},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.processRoutes=function(t,e){var n,r,i=[];try{for(var o=c(e),s=o.next();!s.done;s=o.next()){var a=s.value;if(a.loadChildren&&!a.canLoad&&a._loadedConfig){var u=a._loadedConfig;i.push(this.processRoutes(u.module,u.routes))}else a.loadChildren&&!a.canLoad?i.push(this.preloadConfig(t,a)):a.children&&i.push(this.processRoutes(t,a.children))}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return nt(i).pipe(at(),J(function(t){}))},t.prototype.preloadConfig=function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){return n.loader.load(t.injector,e).pipe(rt(function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)}))})},t=s([Be(),u("design:paramtypes",[Fy,jr,Wn,me,Gy])],t)}(),Yy=function(){function t(t,e,n){void 0===n&&(n={}),this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}return t.prototype.init=function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()},t.prototype.createScrollEvents=function(){var t=this;return this.router.events.subscribe(function(e){e instanceof Iv?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Nv&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))})},t.prototype.consumeScrollEvents=function(){var t=this;return this.router.events.subscribe(function(e){e instanceof Wv&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))})},t.prototype.scheduleScrollEvent=function(t,e){this.router.triggerEvent(new Wv(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))},t.prototype.ngOnDestroy=function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()},t}(),Jy=[zy,Vy,By,qy,zv],Zy=new wt("ROUTER_CONFIGURATION"),tg=new wt("ROUTER_FORROOT_GUARD"),eg=[Ph,{provide:vm,useClass:mm},{provide:Fy,useFactory:ug,deps:[kr,vm,Wy,Ph,me,jr,Wn,Iy,Zy,[ky,new ae],[Ay,new ae]]},Wy,{provide:Qm,useFactory:cg,deps:[Fy]},{provide:jr,useClass:Wr},$y,Xy,Qy,{provide:Zy,useValue:{enableTracing:!1}}];function ng(){return new Tr("Router",Fy)}var rg=function(){function t(t,e){}var e;return e=t,t.forRoot=function(t,n){return{ngModule:e,providers:[eg,ag(t),{provide:tg,useFactory:sg,deps:[[Fy,new ae,new ce]]},{provide:Zy,useValue:n||{}},{provide:Nh,useFactory:og,deps:[Dh,[new se(kh),new ae],Zy]},{provide:Yy,useFactory:ig,deps:[Fy,td,Zy]},{provide:Gy,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Xy},{provide:Tr,multi:!0,useFactory:ng},[lg,{provide:Pn,multi:!0,useFactory:hg,deps:[lg]},{provide:fg,useFactory:pg,deps:[lg]},{provide:Bn,multi:!0,useExisting:fg}]]}},t.forChild=function(t){return{ngModule:e,providers:[ag(t)]}},t=e=s([qe({declarations:Jy,exports:Jy,entryComponents:[zv]}),a(0,ae()),a(0,se(tg)),a(1,ae()),u("design:paramtypes",[Object,Fy])],t)}();function ig(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Yy(t,e,n)}function og(t,e,n){return void 0===n&&(n={}),n.useHash?new Mh(t,e):new Rh(t,e)}function sg(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function ag(t){return[{provide:Nt,multi:!0,useValue:t},{provide:Iy,multi:!0,useValue:t}]}function ug(t,e,n,r,i,o,s,a,u,c,l){void 0===u&&(u={});var h=new Fy(null,e,n,r,i,o,s,rm(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){var p=rd();h.events.subscribe(function(t){p.logGroup("Router Event: "+t.constructor.name),p.log(t.toString()),p.log(t),p.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h}function cg(t){return t.routerState.root}var lg=function(){function t(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new j}return t.prototype.appInitializer=function(){var t=this;return this.injector.get(Ih,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),r=t.injector.get(Fy),i=t.injector.get(Zy);if(t.isLegacyDisabled(i)||t.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '"+i.initialNavigation+"'");r.hooks.afterPreactivation=function(){return t.initNavigation?Ql(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n})},t.prototype.bootstrapListener=function(t){var e=this.injector.get(Zy),n=this.injector.get($y),r=this.injector.get(Yy),i=this.injector.get(Fy),o=this.injector.get(kr);t===o.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},t.prototype.isLegacyEnabled=function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation},t.prototype.isLegacyDisabled=function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation},t=s([Be(),u("design:paramtypes",[me])],t)}();function hg(t){return t.appInitializer.bind(t)}function pg(t){return t.bootstrapListener.bind(t)}var fg=new wt("Router Initializer");new He("6.1.10"),Ru(rg,[],function(t){return vs([ds(512,tr,er,[[8,[mg]],[3,tr],rr]),ds(1073742336,rg,rg,[[2,tg],[2,Fy]])])});var dg=xo({encapsulation:2,styles:[],data:{}});function vg(t){return Aa(0,[(t()(),os(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Xs(1,212992,null,0,zy,[Wy,Gr,tr,[8,null],Qr],null,null)],function(t,e){t(e,1,0)},null)}var mg=xs("ng-component",zv,function(t){return Aa(0,[(t()(),os(0,0,null,null,1,"ng-component",[],null,null,null,vg,dg)),Xs(1,49152,null,0,zv,[],null,null)],null,null)},{},{},[]);function yg(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&p(e[0])&&(e=e[0]),0===e.length?Kl:t?yg(e).pipe(J(function(e){return t.apply(void 0,e)})):new O(function(t){return new gg(t,e)})}var gg=function(t){function e(e,n){var r=t.call(this,e)||this;r.sources=n,r.completed=0,r.haveValues=0;var i=n.length;r.values=new Array(i);for(var o=0;o<i;o++){var s=$(r,n[o],null,o);s&&r.add(s)}return r}return i(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.values[n]=e,i._hasValue||(i._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(t){var e=this.destination,n=this.haveValues,r=this.values,i=r.length;t._hasValue?(this.completed++,this.completed===i&&(n===i&&e.next(r),e.complete())):e.complete()},e}(Y),bg=function(){function t(){}return Object.defineProperty(t.prototype,"value",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pristine",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touched",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this.control?this.control.status:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusChanges",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueChanges",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.reset=function(t){void 0===t&&(t=void 0),this.control&&this.control.reset(t)},t.prototype.hasError=function(t,e){return!!this.control&&this.control.hasError(t,e)},t.prototype.getError=function(t,e){return this.control?this.control.getError(t,e):null},t}(),wg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),Object.defineProperty(e.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e}(bg);function _g(t){return null==t||0===t.length}var Eg=new wt("NgValidators"),Cg=new wt("NgAsyncValidators"),Sg=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,xg=function(){function t(){}return t.min=function(t){return function(e){if(_g(e.value)||_g(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}},t.max=function(t){return function(e){if(_g(e.value)||_g(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}},t.required=function(t){return _g(t.value)?{required:!0}:null},t.requiredTrue=function(t){return!0===t.value?null:{required:!0}},t.email=function(t){return _g(t.value)?null:Sg.test(t.value)?null:{email:!0}},t.minLength=function(t){return function(e){if(_g(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}},t.maxLength=function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}},t.pattern=function(e){return e?("string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(_g(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}):t.nullValidator;var n,r},t.nullValidator=function(t){return null},t.compose=function(t){if(!t)return null;var e=t.filter(Tg);return 0==e.length?null:function(t){return Dg(function(t,e){return e.map(function(e){return e(t)})}(t,e))}},t.composeAsync=function(t){if(!t)return null;var e=t.filter(Tg);return 0==e.length?null:function(t){return yg(function(t,e){return e.map(function(e){return e(t)})}(t,e).map(Ag)).pipe(J(Dg))}},t}();function Tg(t){return null!=t}function Ag(t){var e=Nn(t)?nt(t):t;if(!kn(e))throw new Error("Expected validator to return Promise or Observable.");return e}function Dg(t){var e=t.reduce(function(t,e){return null!=e?o({},t,e):t},{});return 0===Object.keys(e).length?null:e}var Ig=new wt("NgValueAccessor"),Ng={provide:Ig,useExisting:ie(function(){return kg}),multi:!0},kg=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t=s([Mt({selector:"input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]",host:{"(change)":"onChange($event.target.checked)","(blur)":"onTouched()"},providers:[Ng]}),u("design:paramtypes",[Fr,Lr])],t)}(),Pg={provide:Ig,useExisting:ie(function(){return Mg}),multi:!0};var Og=new wt("CompositionEventMode"),Mg=function(){function t(t,e,n){var r;this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(r=rd()?rd().getUserAgent():"",!/android (\d+)/.test(r.toLowerCase())))}return t.prototype.writeValue=function(t){var e=null==t?"":t;this._renderer.setProperty(this._elementRef.nativeElement,"value",e)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._handleInput=function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)},t.prototype._compositionStart=function(){this._composing=!0},t.prototype._compositionEnd=function(t){this._composing=!1,this._compositionMode&&this.onChange(t)},t=s([Mt({selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]",host:{"(input)":"$any(this)._handleInput($event.target.value)","(blur)":"onTouched()","(compositionstart)":"$any(this)._compositionStart()","(compositionend)":"$any(this)._compositionEnd($event.target.value)"},providers:[Pg]}),a(2,ae()),a(2,se(Og)),u("design:paramtypes",[Fr,Lr,Boolean])],t)}();function Rg(t){return t.validate?function(e){return t.validate(e)}:t}function Fg(t){return t.validate?function(e){return t.validate(e)}:t}var Lg={provide:Ig,useExisting:ie(function(){return jg}),multi:!0},jg=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){var e=null==t?"":t;this._renderer.setProperty(this._elementRef.nativeElement,"value",e)},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t=s([Mt({selector:"input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[Lg]}),u("design:paramtypes",[Fr,Lr])],t)}();function Vg(){throw new Error("unimplemented")}var Bg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return i(e,t),Object.defineProperty(e.prototype,"validator",{get:function(){return Vg()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return Vg()},enumerable:!0,configurable:!0}),e}(bg),Ug={provide:Ig,useExisting:ie(function(){return Hg}),multi:!0},qg=function(){function t(){this._accessors=[]}return t.prototype.add=function(t,e){this._accessors.push([t,e])},t.prototype.remove=function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)},t.prototype.select=function(t){var e=this;this._accessors.forEach(function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)})},t.prototype._isSameGroup=function(t,e){return!!t[0].control&&(t[0]._parent===e._control._parent&&t[1].name===e.name)},t=s([Be()],t)}(),Hg=function(){function t(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return t.prototype.ngOnInit=function(){this._control=this._injector.get(Bg),this._checkName(),this._registry.add(this._control,this)},t.prototype.ngOnDestroy=function(){this._registry.remove(this)},t.prototype.writeValue=function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)},t.prototype.registerOnChange=function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}},t.prototype.fireUncheck=function(t){this.writeValue(t)},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},t.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},s([Lt(),u("design:type",String)],t.prototype,"name",void 0),s([Lt(),u("design:type",String)],t.prototype,"formControlName",void 0),s([Lt(),u("design:type",Object)],t.prototype,"value",void 0),t=s([Mt({selector:"input[type=radio][formControlName],input[type=radio][formControl],input[type=radio][ngModel]",host:{"(change)":"onChange()","(blur)":"onTouched()"},providers:[Ug]}),u("design:paramtypes",[Fr,Lr,qg,me])],t)}(),Wg={provide:Ig,useExisting:ie(function(){return zg}),multi:!0},zg=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t=s([Mt({selector:"input[type=range][formControlName],input[type=range][formControl],input[type=range][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[Wg]}),u("design:paramtypes",[Fr,Lr])],t)}(),Kg='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',Gg='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',Qg='\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',Xg='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',$g='\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ',Yg=function(){function t(){}return t.controlParentException=function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+Kg)},t.ngModelGroupException=function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '+Gg+"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        "+Xg)},t.missingFormException=function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+Kg)},t.groupParentException=function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+Gg)},t.arrayParentException=function(){throw new Error("formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        "+Qg)},t.disabledAttrWarning=function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")},t.ngModelWarning=function(t){console.warn("\n    It looks like you're using ngModel on the same form field as "+t+". \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/"+("formControl"===t?"FormControlDirective":"FormControlName")+"#use-with-ngmodel\n    ")},t}(),Jg={provide:Ig,useExisting:ie(function(){return tb}),multi:!0};function Zg(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}var tb=function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=$t}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=Zg(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(){return(this._idCounter++).toString()},t.prototype._getOptionId=function(t){var e,n;try{for(var r=c(Array.from(this._optionMap.keys())),i=r.next();!i.done;i=r.next()){var o=i.value;if(this._compareWith(this._optionMap.get(o),t))return o}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t},s([Lt(),u("design:type",Function),u("design:paramtypes",[Function])],t.prototype,"compareWith",null),t=s([Mt({selector:"select:not([multiple])[formControlName],select:not([multiple])[formControl],select:not([multiple])[ngModel]",host:{"(change)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[Jg]}),u("design:paramtypes",[Fr,Lr])],t)}(),eb=function(){function t(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}return Object.defineProperty(t.prototype,"ngValue",{set:function(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Zg(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{set:function(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)},t.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},s([Lt("ngValue"),u("design:type",Object),u("design:paramtypes",[Object])],t.prototype,"ngValue",null),s([Lt("value"),u("design:type",Object),u("design:paramtypes",[Object])],t.prototype,"value",null),t=s([Mt({selector:"option"}),a(2,ae()),a(2,le()),u("design:paramtypes",[Lr,Fr,tb])],t)}(),nb={provide:Ig,useExisting:ie(function(){return ib}),multi:!0};function rb(t,e){return null==t?""+e:("string"==typeof e&&(e="'"+e+"'"),e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}var ib=function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=$t}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var r=t.map(function(t){return n._getOptionId(t)});e=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var s=i.item(o),a=e._getOptionValue(s.value);r.push(a)}else for(i=n.options,o=0;o<i.length;o++){if((s=i.item(o)).selected){a=e._getOptionValue(s.value);r.push(a)}}e.value=r,t(r)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e},t.prototype._getOptionId=function(t){var e,n;try{for(var r=c(Array.from(this._optionMap.keys())),i=r.next();!i.done;i=r.next()){var o=i.value;if(this._compareWith(this._optionMap.get(o)._value,t))return o}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t},s([Lt(),u("design:type",Function),u("design:paramtypes",[Function])],t.prototype,"compareWith",null),t=s([Mt({selector:"select[multiple][formControlName],select[multiple][formControl],select[multiple][ngModel]",host:{"(change)":"onChange($event.target)","(blur)":"onTouched()"},providers:[nb]}),u("design:paramtypes",[Fr,Lr])],t)}(),ob=function(){function t(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}return Object.defineProperty(t.prototype,"ngValue",{set:function(t){null!=this._select&&(this._value=t,this._setElementValue(rb(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{set:function(t){this._select?(this._value=t,this._setElementValue(rb(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)},t.prototype._setSelected=function(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)},t.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},s([Lt("ngValue"),u("design:type",Object),u("design:paramtypes",[Object])],t.prototype,"ngValue",null),s([Lt("value"),u("design:type",Object),u("design:paramtypes",[Object])],t.prototype,"value",null),t=s([Mt({selector:"option"}),a(2,ae()),a(2,le()),u("design:paramtypes",[Lr,Fr,ib])],t)}();function sb(t,e){return h(e.path,[t])}function ab(t,e){t||hb(e,"Cannot find control with"),e.valueAccessor||hb(e,"No value accessor for form control with"),t.validator=xg.compose([t.validator,e.validator]),t.asyncValidator=xg.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&ub(t,e)})}(t,e),function(t,e){t.registerOnChange(function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&ub(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(function(t){e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})}),e._rawAsyncValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})})}function ub(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function cb(t,e){null==t&&hb(e,"Cannot find control with"),t.validator=xg.compose([t.validator,e.validator]),t.asyncValidator=xg.composeAsync([t.asyncValidator,e.asyncValidator])}function lb(t){return hb(t,"There is no FormControl instance attached to form control element with")}function hb(t,e){var n;throw n=t.path.length>1?"path: '"+t.path.join(" -> ")+"'":t.path[0]?"name: '"+t.path+"'":"unspecified name attribute",new Error(e+" "+n)}function pb(t){return null!=t?xg.compose(t.map(Rg)):null}function fb(t){return null!=t?xg.composeAsync(t.map(Fg)):null}function db(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!$t(e,n.currentValue)}var vb=[kg,zg,jg,tb,ib,Hg];function mb(t,e){t._syncPendingControls(),e.forEach(function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function yb(t,e){if(!e)return null;Array.isArray(e)||hb(t,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return e.forEach(function(e){var o;e.constructor===Mg?n=e:(o=e,vb.some(function(t){return o.constructor===t})?(r&&hb(t,"More than one built-in value accessor matches form control with"),r=e):(i&&hb(t,"More than one custom value accessor matches form control with"),i=e))}),i||(r||(n||(hb(t,"No valid value accessor for form control with"),null)))}function gb(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function bb(t,e,n,r){xr()&&"never"!==r&&((null!==r&&"once"!==r||e._ngModelWarningSentOnce)&&("always"!==r||n._ngModelWarningSent)||(Yg.ngModelWarning(t),e._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}var wb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return sb(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return pb(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return fb(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){},e}(wg),_b=function(){function t(t){this._cd=t}return Object.defineProperty(t.prototype,"ngClassUntouched",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassTouched",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPristine",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassDirty",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassValid",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassInvalid",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPending",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),t}(),Eb={"[class.ng-untouched]":"ngClassUntouched","[class.ng-touched]":"ngClassTouched","[class.ng-pristine]":"ngClassPristine","[class.ng-dirty]":"ngClassDirty","[class.ng-valid]":"ngClassValid","[class.ng-invalid]":"ngClassInvalid","[class.ng-pending]":"ngClassPending"},Cb=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e=s([Mt({selector:"[formControlName],[ngModel],[formControl]",host:Eb}),a(0,ue()),u("design:paramtypes",[Bg])],e)}(_b),Sb=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e=s([Mt({selector:"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]",host:Eb}),a(0,ue()),u("design:paramtypes",[wg])],e)}(_b);function xb(t){var e=Ab(t)?t.validators:t;return Array.isArray(e)?pb(e):e||null}function Tb(t,e){var n=Ab(e)?e.asyncValidators:t;return Array.isArray(n)?fb(n):n||null}function Ab(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var Db=function(){function t(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return"VALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return"INVALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return"PENDING"==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return"DISABLED"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return"DISABLED"!==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return!this.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateOn",{get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"},enumerable:!0,configurable:!0}),t.prototype.setValidators=function(t){this.validator=xb(t)},t.prototype.setAsyncValidators=function(t){this.asyncValidator=Tb(t)},t.prototype.clearValidators=function(){this.validator=null},t.prototype.clearAsyncValidators=function(){this.asyncValidator=null},t.prototype.markAsTouched=function(t){void 0===t&&(t={}),this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)},t.prototype.markAsUntouched=function(t){void 0===t&&(t={}),this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype.markAsDirty=function(t){void 0===t&&(t={}),this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)},t.prototype.markAsPristine=function(t){void 0===t&&(t={}),this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype.markAsPending=function(t){void 0===t&&(t={}),this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)},t.prototype.disable=function(t){void 0===t&&(t={}),this.status="DISABLED",this.errors=null,this._forEachChild(function(e){e.disable(o({},t,{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(t),this._onDisabledChange.forEach(function(t){return t(!0)})},t.prototype.enable=function(t){void 0===t&&(t={}),this.status="VALID",this._forEachChild(function(e){e.enable(o({},t,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(t),this._onDisabledChange.forEach(function(t){return t(!1)})},t.prototype._updateAncestors=function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),this._parent._updatePristine(),this._parent._updateTouched())},t.prototype.setParent=function(t){this._parent=t},t.prototype.updateValueAndValidity=function(t){void 0===t&&(t={}),this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)},t.prototype._updateTreeValidity=function(t){void 0===t&&(t={emitEvent:!0}),this._forEachChild(function(e){return e._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})},t.prototype._setInitialStatus=function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"},t.prototype._runValidator=function(){return this.validator?this.validator(this):null},t.prototype._runAsyncValidator=function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var n=Ag(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){return e.setErrors(n,{emitEvent:t})})}},t.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},t.prototype.setErrors=function(t,e){void 0===e&&(e={}),this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)},t.prototype.get=function(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(n)),e instanceof Array&&0===e.length?null:e.reduce(function(t,e){return t instanceof Nb?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof kb&&t.at(e)||null},t))}(this,t,".")},t.prototype.getError=function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null},t.prototype.hasError=function(t,e){return!!this.getError(t,e)},Object.defineProperty(t.prototype,"root",{get:function(){for(var t=this;t._parent;)t=t._parent;return t},enumerable:!0,configurable:!0}),t.prototype._updateControlsErrors=function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)},t.prototype._initObservables=function(){this.valueChanges=new lr,this.statusChanges=new lr},t.prototype._calculateStatus=function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"},t.prototype._anyControlsHaveStatus=function(t){return this._anyControls(function(e){return e.status===t})},t.prototype._anyControlsDirty=function(){return this._anyControls(function(t){return t.dirty})},t.prototype._anyControlsTouched=function(){return this._anyControls(function(t){return t.touched})},t.prototype._updatePristine=function(t){void 0===t&&(t={}),this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype._updateTouched=function(t){void 0===t&&(t={}),this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype._isBoxedValue=function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t},t.prototype._registerOnCollectionChange=function(t){this._onCollectionChange=t},t.prototype._setUpdateStrategy=function(t){Ab(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)},t}(),Ib=function(t){function e(e,n,r){void 0===e&&(e=null);var i=t.call(this,xb(n),Tb(r,n))||this;return i._onChange=[],i._applyFormState(e),i._setUpdateStrategy(n),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i._initObservables(),i}return i(e,t),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(function(t){return t(n.value,!1!==e.emitViewToModelChange)}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){void 0===e&&(e={}),this.setValue(t,e)},e.prototype.reset=function(t,e){void 0===t&&(t=null),void 0===e&&(e={}),this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1},e.prototype._updateValue=function(){},e.prototype._anyControls=function(t){return!1},e.prototype._allControlsDisabled=function(){return this.disabled},e.prototype.registerOnChange=function(t){this._onChange.push(t)},e.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},e.prototype.registerOnDisabledChange=function(t){this._onDisabledChange.push(t)},e.prototype._forEachChild=function(t){},e.prototype._syncPendingControls=function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange))&&(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0)},e.prototype._applyFormState=function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t},e}(Db),Nb=function(t){function e(e,n,r){var i=t.call(this,xb(n),Tb(r,n))||this;return i.controls=e,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return i(e,t),e.prototype.registerControl=function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)},e.prototype.addControl=function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeControl=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.contains=function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled},e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),Object.keys(t).forEach(function(r){n._throwIfControlMissing(r),n.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),Object.keys(t).forEach(function(r){n.controls[r]&&n.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof Ib?e.value:e.getRawValue(),t})},e.prototype._syncPendingControls=function(){var t=this._reduceChildren(!1,function(t,e){return!!e._syncPendingControls()||t});return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: "+t+".")},e.prototype._forEachChild=function(t){var e=this;Object.keys(this.controls).forEach(function(n){return t(e.controls[n],n)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})},e.prototype._updateValue=function(){this.value=this._reduceValue()},e.prototype._anyControls=function(t){var e=this,n=!1;return this._forEachChild(function(r,i){n=n||e.contains(i)&&t(r)}),n},e.prototype._reduceValue=function(){var t=this;return this._reduceChildren({},function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e})},e.prototype._reduceChildren=function(t,e){var n=t;return this._forEachChild(function(t,r){n=e(n,t,r)}),n},e.prototype._allControlsDisabled=function(){var t,e;try{for(var n=c(Object.keys(this.controls)),r=n.next();!r.done;r=n.next()){var i=r.value;if(this.controls[i].enabled)return!1}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return Object.keys(this.controls).length>0||this.disabled},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '"+n+"'.")})},e}(Db),kb=function(t){function e(e,n,r){var i=t.call(this,xb(n),Tb(r,n))||this;return i.controls=e,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return i(e,t),e.prototype.at=function(t){return this.controls[t]},e.prototype.push=function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.insert=function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()},e.prototype.removeAt=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(e.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),t.forEach(function(t,r){n._throwIfControlMissing(r),n.at(r).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),t.forEach(function(t,r){n.at(r)&&n.at(r).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this.controls.map(function(t){return t instanceof Ib?t.value:t.getRawValue()})},e.prototype._syncPendingControls=function(){var t=this.controls.reduce(function(t,e){return!!e._syncPendingControls()||t},!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)},e.prototype._forEachChild=function(t){this.controls.forEach(function(e,n){t(e,n)})},e.prototype._updateValue=function(){var t=this;this.value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})},e.prototype._anyControls=function(t){return this.controls.some(function(e){return e.enabled&&t(e)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: "+n+".")})},e.prototype._allControlsDisabled=function(){var t,e;try{for(var n=c(this.controls),r=n.next();!r.done;r=n.next()){if(r.value.enabled)return!1}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return this.controls.length>0||this.disabled},e.prototype._registerControl=function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)},e}(Db),Pb={provide:wg,useExisting:ie(function(){return Mb})},Ob=Promise.resolve(null),Mb=function(t){function e(e,n){var r=t.call(this)||this;return r.submitted=!1,r._directives=[],r.ngSubmit=new lr,r.form=new Nb({},pb(e),fb(n)),r}return i(e,t),e.prototype.ngAfterViewInit=function(){this._setUpdateStrategy()},Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this;Ob.then(function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),ab(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)})},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){var e=this;Ob.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name),gb(e._directives,t)})},e.prototype.addFormGroup=function(t){var e=this;Ob.then(function(){var n=e._findContainer(t.path),r=new Nb({});cb(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})},e.prototype.removeFormGroup=function(t){var e=this;Ob.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){var n=this;Ob.then(function(){n.form.get(t.path).setValue(e)})},e.prototype.setValue=function(t){this.control.setValue(t)},e.prototype.onSubmit=function(t){return this.submitted=!0,mb(this.form,this._directives),this.ngSubmit.emit(t),!1},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this.submitted=!1},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)},e.prototype._findContainer=function(t){return t.pop(),t.length?this.form.get(t):this.form},s([Lt("ngFormOptions"),u("design:type",Object)],e.prototype,"options",void 0),e=s([Mt({selector:"form:not([ngNoForm]):not([formGroup]),ngForm,[ngForm]",providers:[Pb],host:{"(submit)":"onSubmit($event)","(reset)":"onReset()"},outputs:["ngSubmit"],exportAs:"ngForm"}),a(0,ae()),a(0,ue()),a(0,se(Eg)),a(1,ae()),a(1,ue()),a(1,se(Cg)),u("design:paramtypes",[Array,Array])],e)}(wg),Rb=function(){function t(){}return t.modelParentException=function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '+Kg+"\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      "+$g)},t.formGroupNameException=function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+Gg+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+Xg)},t.missingNameException=function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')},t.modelGroupParentException=function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+Gg+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+Xg)},t}(),Fb={provide:wg,useExisting:ie(function(){return Lb})},Lb=function(t){function e(e,n,r){var i=t.call(this)||this;return i._parent=e,i._validators=n,i._asyncValidators=r,i}var n;return i(e,t),n=e,e.prototype._checkParentType=function(){this._parent instanceof n||this._parent instanceof Mb||Rb.modelGroupParentException()},s([Lt("ngModelGroup"),u("design:type",String)],e.prototype,"name",void 0),e=n=s([Mt({selector:"[ngModelGroup]",providers:[Fb],exportAs:"ngModelGroup"}),a(0,le()),a(0,ce()),a(1,ae()),a(1,ue()),a(1,se(Eg)),a(2,ae()),a(2,ue()),a(2,se(Cg)),u("design:paramtypes",[wg,Array,Array])],e)}(wb),jb={provide:Bg,useExisting:ie(function(){return Bb})},Vb=Promise.resolve(null),Bb=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.control=new Ib,o._registered=!1,o.update=new lr,o._parent=e,o._rawValidators=n||[],o._rawAsyncValidators=r||[],o.valueAccessor=yb(o,i),o}return i(e,t),e.prototype.ngOnChanges=function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),db(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(e.prototype,"path",{get:function(){return this._parent?sb(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return pb(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return fb(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._setUpControl=function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)},e.prototype._isStandalone=function(){return!this._parent||!(!this.options||!this.options.standalone)},e.prototype._setUpStandalone=function(){ab(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})},e.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},e.prototype._checkParentType=function(){!(this._parent instanceof Lb)&&this._parent instanceof wb?Rb.formGroupNameException():this._parent instanceof Lb||this._parent instanceof Mb||Rb.modelParentException()},e.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Rb.missingNameException()},e.prototype._updateValue=function(t){var e=this;Vb.then(function(){e.control.setValue(t,{emitViewToModelChange:!1})})},e.prototype._updateDisabled=function(t){var e=this,n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;Vb.then(function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()})},s([Lt(),u("design:type",String)],e.prototype,"name",void 0),s([Lt("disabled"),u("design:type",Boolean)],e.prototype,"isDisabled",void 0),s([Lt("ngModel"),u("design:type",Object)],e.prototype,"model",void 0),s([Lt("ngModelOptions"),u("design:type",Object)],e.prototype,"options",void 0),s([jt("ngModelChange"),u("design:type",Object)],e.prototype,"update",void 0),e=s([Mt({selector:"[ngModel]:not([formControlName]):not([formControl])",providers:[jb],exportAs:"ngModel"}),a(0,ae()),a(0,le()),a(1,ae()),a(1,ue()),a(1,se(Eg)),a(2,ae()),a(2,ue()),a(2,se(Cg)),a(3,ae()),a(3,ue()),a(3,se(Ig)),u("design:paramtypes",[wg,Array,Array,Array])],e)}(Bg),Ub=new wt("NgModelWithFormControlWarning"),qb={provide:Bg,useExisting:ie(function(){return Hb})},Hb=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o._ngModelWarningConfig=i,o.update=new lr,o._ngModelWarningSent=!1,o._rawValidators=e||[],o._rawAsyncValidators=n||[],o.valueAccessor=yb(o,r),o}var n;return i(e,t),n=e,Object.defineProperty(e.prototype,"isDisabled",{set:function(t){Yg.disabledAttrWarning()},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(t){this._isControlChanged(t)&&(ab(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),db(t,this.viewModel)&&(bb("formControl",n,this,this._ngModelWarningConfig),this.form.setValue(this.model),this.viewModel=this.model)},Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return pb(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return fb(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._isControlChanged=function(t){return t.hasOwnProperty("form")},e._ngModelWarningSentOnce=!1,s([Lt("formControl"),u("design:type",Ib)],e.prototype,"form",void 0),s([Lt("disabled"),u("design:type",Boolean),u("design:paramtypes",[Boolean])],e.prototype,"isDisabled",null),s([Lt("ngModel"),u("design:type",Object)],e.prototype,"model",void 0),s([jt("ngModelChange"),u("design:type",Object)],e.prototype,"update",void 0),e=n=s([Mt({selector:"[formControl]",providers:[qb],exportAs:"ngForm"}),a(0,ae()),a(0,ue()),a(0,se(Eg)),a(1,ae()),a(1,ue()),a(1,se(Cg)),a(2,ae()),a(2,ue()),a(2,se(Ig)),a(3,ae()),a(3,se(Ub)),u("design:paramtypes",[Array,Array,Array,Object])],e)}(Bg),Wb={provide:wg,useExisting:ie(function(){return zb})},zb=function(t){function e(e,n){var r=t.call(this)||this;return r._validators=e,r._asyncValidators=n,r.submitted=!1,r.directives=[],r.form=null,r.ngSubmit=new lr,r}return i(e,t),e.prototype.ngOnChanges=function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())},Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this.form.get(t.path);return ab(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){gb(this.directives,t)},e.prototype.addFormGroup=function(t){var e=this.form.get(t.path);cb(e,t),e.updateValueAndValidity({emitEvent:!1})},e.prototype.removeFormGroup=function(t){},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.addFormArray=function(t){var e=this.form.get(t.path);cb(e,t),e.updateValueAndValidity({emitEvent:!1})},e.prototype.removeFormArray=function(t){},e.prototype.getFormArray=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){this.form.get(t.path).setValue(e)},e.prototype.onSubmit=function(t){return this.submitted=!0,mb(this.form,this.directives),this.ngSubmit.emit(t),!1},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this.submitted=!1},e.prototype._updateDomValue=function(){var t=this;this.directives.forEach(function(e){var n=t.form.get(e.path);e.control!==n&&(!function(t,e){e.valueAccessor.registerOnChange(function(){return lb(e)}),e.valueAccessor.registerOnTouched(function(){return lb(e)}),e._rawValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(e.control,e),n&&ab(n,e),e.control=n)}),this.form._updateTreeValidity({emitEvent:!1})},e.prototype._updateRegistrations=function(){var t=this;this.form._registerOnCollectionChange(function(){return t._updateDomValue()}),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){}),this._oldForm=this.form},e.prototype._updateValidators=function(){var t=pb(this._validators);this.form.validator=xg.compose([this.form.validator,t]);var e=fb(this._asyncValidators);this.form.asyncValidator=xg.composeAsync([this.form.asyncValidator,e])},e.prototype._checkFormPresent=function(){this.form||Yg.missingFormException()},s([Lt("formGroup"),u("design:type",Nb)],e.prototype,"form",void 0),s([jt(),u("design:type",Object)],e.prototype,"ngSubmit",void 0),e=s([Mt({selector:"[formGroup]",providers:[Wb],host:{"(submit)":"onSubmit($event)","(reset)":"onReset()"},exportAs:"ngForm"}),a(0,ae()),a(0,ue()),a(0,se(Eg)),a(1,ae()),a(1,ue()),a(1,se(Cg)),u("design:paramtypes",[Array,Array])],e)}(wg),Kb={provide:wg,useExisting:ie(function(){return Gb})},Gb=function(t){function e(e,n,r){var i=t.call(this)||this;return i._parent=e,i._validators=n,i._asyncValidators=r,i}return i(e,t),e.prototype._checkParentType=function(){$b(this._parent)&&Yg.groupParentException()},s([Lt("formGroupName"),u("design:type",String)],e.prototype,"name",void 0),e=s([Mt({selector:"[formGroupName]",providers:[Kb]}),a(0,ae()),a(0,le()),a(0,ce()),a(1,ae()),a(1,ue()),a(1,se(Eg)),a(2,ae()),a(2,ue()),a(2,se(Cg)),u("design:paramtypes",[wg,Array,Array])],e)}(wb),Qb={provide:wg,useExisting:ie(function(){return Xb})},Xb=function(t){function e(e,n,r){var i=t.call(this)||this;return i._parent=e,i._validators=n,i._asyncValidators=r,i}return i(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormArray(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormArray(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormArray(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return sb(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return pb(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return fb(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){$b(this._parent)&&Yg.arrayParentException()},s([Lt("formArrayName"),u("design:type",String)],e.prototype,"name",void 0),e=s([Mt({selector:"[formArrayName]",providers:[Qb]}),a(0,ae()),a(0,le()),a(0,ce()),a(1,ae()),a(1,ue()),a(1,se(Eg)),a(2,ae()),a(2,ue()),a(2,se(Cg)),u("design:paramtypes",[wg,Array,Array])],e)}(wg);function $b(t){return!(t instanceof Gb||t instanceof zb||t instanceof Xb)}var Yb={provide:Bg,useExisting:ie(function(){return Jb})},Jb=function(t){function e(e,n,r,i,o){var s=t.call(this)||this;return s._ngModelWarningConfig=o,s._added=!1,s.update=new lr,s._ngModelWarningSent=!1,s._parent=e,s._rawValidators=n||[],s._rawAsyncValidators=r||[],s.valueAccessor=yb(s,i),s}var n;return i(e,t),n=e,Object.defineProperty(e.prototype,"isDisabled",{set:function(t){Yg.disabledAttrWarning()},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(t){this._added||this._setUpControl(),db(t,this.viewModel)&&(bb("formControlName",n,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},Object.defineProperty(e.prototype,"path",{get:function(){return sb(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return pb(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return fb(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){!(this._parent instanceof Gb)&&this._parent instanceof wb?Yg.ngModelGroupException():this._parent instanceof Gb||this._parent instanceof zb||this._parent instanceof Xb||Yg.controlParentException()},e.prototype._setUpControl=function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0},e._ngModelWarningSentOnce=!1,s([Lt("formControlName"),u("design:type",String)],e.prototype,"name",void 0),s([Lt("disabled"),u("design:type",Boolean),u("design:paramtypes",[Boolean])],e.prototype,"isDisabled",null),s([Lt("ngModel"),u("design:type",Object)],e.prototype,"model",void 0),s([jt("ngModelChange"),u("design:type",Object)],e.prototype,"update",void 0),e=n=s([Mt({selector:"[formControlName]",providers:[Yb]}),a(0,ae()),a(0,le()),a(0,ce()),a(1,ae()),a(1,ue()),a(1,se(Eg)),a(2,ae()),a(2,ue()),a(2,se(Cg)),a(3,ae()),a(3,ue()),a(3,se(Ig)),a(4,ae()),a(4,se(Ub)),u("design:paramtypes",[wg,Array,Array,Array,Object])],e)}(Bg),Zb={provide:Eg,useExisting:ie(function(){return ew}),multi:!0},tw={provide:Eg,useExisting:ie(function(){return nw}),multi:!0},ew=function(){function t(){}return Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()},enumerable:!0,configurable:!0}),t.prototype.validate=function(t){return this.required?xg.required(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},s([Lt(),u("design:type",Object),u("design:paramtypes",[Object])],t.prototype,"required",null),t=s([Mt({selector:":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]",providers:[Zb],host:{"[attr.required]":'required ? "" : null'}})],t)}(),nw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.validate=function(t){return this.required?xg.requiredTrue(t):null},e=s([Mt({selector:"input[type=checkbox][required][formControlName],input[type=checkbox][required][formControl],input[type=checkbox][required][ngModel]",providers:[tw],host:{"[attr.required]":'required ? "" : null'}})],e)}(ew),rw={provide:Eg,useExisting:ie(function(){return iw}),multi:!0},iw=function(){function t(){}return Object.defineProperty(t.prototype,"email",{set:function(t){this._enabled=""===t||!0===t||"true"===t,this._onChange&&this._onChange()},enumerable:!0,configurable:!0}),t.prototype.validate=function(t){return this._enabled?xg.email(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},s([Lt(),u("design:type",Object),u("design:paramtypes",[Object])],t.prototype,"email",null),t=s([Mt({selector:"[email][formControlName],[email][formControl],[email][ngModel]",providers:[rw]})],t)}(),ow={provide:Eg,useExisting:ie(function(){return sw}),multi:!0},sw=function(){function t(){}return t.prototype.ngOnChanges=function(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return null==this.minlength?null:this._validator(t)},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=xg.minLength(parseInt(this.minlength,10))},s([Lt(),u("design:type",String)],t.prototype,"minlength",void 0),t=s([Mt({selector:"[minlength][formControlName],[minlength][formControl],[minlength][ngModel]",providers:[ow],host:{"[attr.minlength]":"minlength ? minlength : null"}})],t)}(),aw={provide:Eg,useExisting:ie(function(){return uw}),multi:!0},uw=function(){function t(){}return t.prototype.ngOnChanges=function(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return null!=this.maxlength?this._validator(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=xg.maxLength(parseInt(this.maxlength,10))},s([Lt(),u("design:type",String)],t.prototype,"maxlength",void 0),t=s([Mt({selector:"[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]",providers:[aw],host:{"[attr.maxlength]":"maxlength ? maxlength : null"}})],t)}(),cw={provide:Eg,useExisting:ie(function(){return lw}),multi:!0},lw=function(){function t(){}return t.prototype.ngOnChanges=function(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return this._validator(t)},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=xg.pattern(this.pattern)},s([Lt(),u("design:type",Object)],t.prototype,"pattern",void 0),t=s([Mt({selector:"[pattern][formControlName],[pattern][formControl],[pattern][ngModel]",providers:[cw],host:{"[attr.pattern]":"pattern ? pattern : null"}})],t)}(),hw=function(){function t(){}return t.prototype.group=function(t,e){void 0===e&&(e=null);var n=this._reduceControls(t),r=null!=e?e.validator:null,i=null!=e?e.asyncValidator:null;return new Nb(n,r,i)},t.prototype.control=function(t,e,n){return new Ib(t,e,n)},t.prototype.array=function(t,e,n){var r=this,i=t.map(function(t){return r._createControl(t)});return new kb(i,e,n)},t.prototype._reduceControls=function(t){var e=this,n={};return Object.keys(t).forEach(function(r){n[r]=e._createControl(t[r])}),n},t.prototype._createControl=function(t){if(t instanceof Ib||t instanceof Nb||t instanceof kb)return t;if(Array.isArray(t)){var e=t[0],n=t.length>1?t[1]:null,r=t.length>2?t[2]:null;return this.control(e,n,r)}return this.control(t)},t=s([Be()],t)}(),pw=(new He("6.1.10"),function(){function t(){}return t=s([Mt({selector:"form:not([ngNoForm]):not([ngNativeValidate])",host:{novalidate:""}})],t)}()),fw=[pw,eb,ob,Mg,jg,zg,kg,tb,ib,Hg,Cb,Sb,ew,sw,uw,lw,nw,iw],dw=[Bb,Lb,Mb],vw=[Hb,zb,Jb,Gb,Xb],mw=function(){function t(){}return t=s([qe({declarations:fw,exports:fw})],t)}(),yw=function(){function t(){}return t=s([qe({declarations:dw,providers:[qg],exports:[mw,dw]})],t)}();!function(){function t(){}var e;e=t,t.withConfig=function(t){return{ngModule:e,providers:[{provide:Ub,useValue:t.warnOnNgModelWithFormControl}]}},t=e=s([qe({declarations:[vw],providers:[hw,qg],exports:[mw,vw]})],t)}();function gw(t,e){return"function"==typeof e?function(n){return n.pipe(gw(function(n,r){return nt(t(n,r)).pipe(J(function(t,i){return e(n,t,r,i)}))}))}:function(e){return e.lift(new bw(t))}}var bw=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new ww(t,this.project))},t}(),ww=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.index=0,r}return i(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe(),this.add(this.innerSubscription=$(this,t,e,n))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e}(Y),_w=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return i(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return i(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,n){return t.call(this)||this}return i(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(w))),Ew=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}(),Cw=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(function(t){function e(n,r){void 0===r&&(r=Ew.now);var i=t.call(this,n,function(){return e.delegate&&e.delegate!==i?e.delegate.now():r()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return i(e,t),e.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,i):t.prototype.schedule.call(this,n,r,i)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(Ew)))(_w),Sw=(new wt("angularfire2.realtimeDatabaseURL"),function(){function t(t,e){this.zone=t,this.platformId=e}return t.prototype.schedule=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.zone.runGuarded(function(){return Cw.schedule.apply(Cw,t)})},t.prototype.keepUnstableUntilFirst=function(t){return Zf(this.platformId)?new O(function(e){var n=function(){},r=Zone.current.scheduleMacroTask("firebaseZoneBlock",n,{},n,n);t.subscribe(function(t){"scheduled"===r.state&&r.invoke(),e.next(t)},function(t){"scheduled"===r.state&&r.invoke(),e.error(t)},function(){"scheduled"===r.state&&r.invoke(),e.complete()})}):t},t.prototype.runOutsideAngular=function(t){var e=this;return new O(function(n){return e.zone.runOutsideAngular(function(){return t.subscribe(function(t){return e.zone.run(function(){return n.next(t)})},function(t){return e.zone.run(function(){return n.error(t)})},function(){return e.zone.run(function(){return n.complete()})})})})},t}()),xw=function(t){return function(e){return new O(function(n){return e.subscribe(function(e){return t.run(function(){return n.next(e)})},function(e){return t.run(function(){return n.error(e)})},function(){return t.run(function(){return n.complete()})})})}},Tw=n("Wcq6"),Aw=n.n(Tw),Dw=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Iw=new wt("angularfire2.app.options"),Nw=new wt("angularfire2.app.nameOrConfig"),kw=function(){return function(){}}();function Pw(t,e){var n="string"==typeof e&&e||"[DEFAULT]",r="object"==typeof e&&e||{};return r.name=r.name||n,Aw.a.apps.filter(function(t){return t&&t.name===r.name})[0]||Aw.a.initializeApp(t,r)}var Ow={provide:kw,useFactory:Pw,deps:[Iw,[new ae,Nw]]},Mw=function(){function t(){}var e;return e=t,t.initializeApp=function(t,n){return{ngModule:e,providers:[{provide:Iw,useValue:t},{provide:Nw,useValue:n}]}},t=e=Dw([qe({providers:[Ow]})],t)}(),Rw=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Fw=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Lw=function(t,e){return function(n,r){e(n,r,t)}},jw=function(){function t(t,e,n,r){var i=this;this.zone=r;var o=new Sw(r,n);this.auth=r.runOutsideAngular(function(){return Pw(t,e).auth()}),this.authState=o.keepUnstableUntilFirst(o.runOutsideAngular(new O(function(t){return{unsubscribe:i.auth.onAuthStateChanged(t)}}))),this.user=o.keepUnstableUntilFirst(o.runOutsideAngular(new O(function(t){return{unsubscribe:i.auth.onIdTokenChanged(t)}}))),this.idToken=this.user.pipe(gw(function(t){return t?nt(t.getIdToken()):Ql(null)})),this.idTokenResult=this.user.pipe(gw(function(t){return t?nt(t.getIdTokenResult()):Ql(null)}))}return t=Rw([Be(),Lw(0,se(Iw)),Lw(1,ae()),Lw(1,se(Nw)),Lw(2,se(Vn)),Fw("design:paramtypes",[Object,Object,Object,hr])],t)}(),Vw=n("wj3C"),Bw=n.n(Vw);(function(){var t,e=e||{},n=this;function r(t){return"string"==typeof t}function i(t){return"boolean"==typeof t}function o(){}function s(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function a(t){return null===t}function u(t){return"array"==s(t)}function c(t){var e=s(t);return"array"==e||"object"==e&&"number"==typeof t.length}function l(t){return"function"==s(t)}function h(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var p="closure_uid_"+(1e9*Math.random()>>>0),f=0;function d(t,e,n){return t.call.apply(t.bind,arguments)}function v(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function m(t,e,n){return(m=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?d:v).apply(null,arguments)}function y(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var g=Date.now||function(){return+new Date};function b(t,e){function n(){}n.prototype=e.prototype,t.nb=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.dd=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function w(t){t.prototype.then=t.prototype.then,t.prototype.$goog_Thenable=!0}function _(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function E(t){if(Error.captureStackTrace)Error.captureStackTrace(this,E);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function C(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");E.call(this,n+t[r])}function S(t,e){throw new C("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function x(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function T(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function A(){this.b=this.a=null}b(E,Error),E.prototype.name="CustomError",b(C,E),C.prototype.name="AssertionError",x.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var D=new x(function(){return new N},function(t){t.reset()});function I(){var t=pt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function N(){this.next=this.b=this.a=null}A.prototype.add=function(t,e){var n=D.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},N.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},N.prototype.reset=function(){this.next=this.b=this.a=null};var k=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(r(t))return r(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},P=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,o=r(t)?t.split(""):t,s=0;s<i;s++)s in o&&e.call(n,o[s],s,t)};var O=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=Array(n),o=r(t)?t.split(""):t,s=0;s<n;s++)s in o&&(i[s]=e.call(void 0,o[s],s,t));return i},M=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=r(t)?t.split(""):t,o=0;o<n;o++)if(o in i&&e.call(void 0,i[o],o,t))return!0;return!1};function R(t,e){return 0<=k(t,e)}function F(t,e){var n;return(n=0<=(e=k(t,e)))&&Array.prototype.splice.call(t,e,1),n}function L(t,e){!function(t,e){var n=t.length,i=r(t)?t.split(""):t;for(--n;0<=n;--n)n in i&&e.call(void 0,i[n],n,t)}(t,function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0})}function j(t){return Array.prototype.concat.apply([],arguments)}function V(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function B(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}var U=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function q(t){return $.test(t)?(-1!=t.indexOf("&")&&(t=t.replace(W,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(z,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(K,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(G,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(Q,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(X,"&#0;")),t):t}var H,W=/&/g,z=/</g,K=/>/g,G=/"/g,Q=/'/g,X=/\x00/g,$=/[\x00&<>"']/;function Y(t,e){return-1!=t.indexOf(e)}function J(t,e){return t<e?-1:t>e?1:0}t:{var Z=n.navigator;if(Z){var tt=Z.userAgent;if(tt){H=tt;break t}}H=""}function et(t){return Y(H,t)}function nt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function rt(t){for(var e in t)return!1;return!0}function it(t){var e,n={};for(e in t)n[e]=t[e];return n}var ot,st,at="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ut(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<at.length;o++)n=at[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ct(t){n.setTimeout(function(){throw t},0)}function lt(t,e){st||function(){if(n.Promise&&n.Promise.resolve){var t=n.Promise.resolve(void 0);st=function(){t.then(ft)}}else st=function(){var t=ft;!l(n.setImmediate)||n.Window&&n.Window.prototype&&!et("Edge")&&n.Window.prototype.setImmediate==n.setImmediate?(ot||(ot=function(){var t=n.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!et("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(""),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=m(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!et("Trident")&&!et("MSIE")){var e=new t,r={},i=r;return e.port1.onmessage=function(){if(void 0!==r.next){var t=(r=r.next).vb;r.vb=null,t()}},function(t){i.next={vb:t},i=i.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){n.setTimeout(t,0)}}()),ot(t)):n.setImmediate(t)}}(),ht||(st(),ht=!0),pt.add(t,e)}var ht=!1,pt=new A;function ft(){for(var t;t=I();){try{t.a.call(t.b)}catch(t){ct(t)}T(D,t)}ht=!1}function dt(t,e){if(this.a=vt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=o)try{var n=this;t.call(e,function(t){At(n,mt,t)},function(t){if(!(t instanceof Mt))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}At(n,yt,t)})}catch(t){At(this,yt,t)}}var vt=0,mt=2,yt=3;function gt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}gt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var bt=new x(function(){return new gt},function(t){t.reset()});function wt(t,e,n){var r=bt.get();return r.g=t,r.b=e,r.f=n,r}function _t(t){if(t instanceof dt)return t;var e=new dt(o);return At(e,mt,t),e}function Et(t){return new dt(function(e,n){n(t)})}function Ct(t,e,n){Dt(t,e,n,null)||lt(y(e,t))}function St(t){return new dt(function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Cb:!0,value:o}:{Cb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ct(t[o],y(i,o,!0),y(i,o,!1));else e(r)})}function xt(t,e){t.b||t.a!=mt&&t.a!=yt||It(t),t.f?t.f.next=e:t.b=e,t.f=e}function Tt(t,e,n,r){var i=wt(null,null,null);return i.a=new dt(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Mt?o(e):t(i)}catch(t){o(t)}}:o}),i.a.c=t,xt(t,i),i.a}function At(t,e,n){t.a==vt&&(t===n&&(e=yt,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Dt(n,t.Mc,t.Nc,t)||(t.i=n,t.a=e,t.c=null,It(t),e!=yt||n instanceof Mt||function(t,e){t.g=!0,lt(function(){t.g&&Ot.call(null,e)})}(t,n)))}function Dt(t,e,n,r){if(t instanceof dt)return xt(t,wt(e||o,n||null,r)),!0;if(_(t))return t.then(e,n,r),!0;if(h(t))try{var i=t.then;if(l(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,function(t){s||(s=!0,n.call(i,t))},o)}catch(t){o(t)}}(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function It(t){t.h||(t.h=!0,lt(t.Xb,t))}function Nt(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function kt(t,e,n,r){if(n==yt&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Pt(e,n,r);else try{e.c?e.g.call(e.f):Pt(e,n,r)}catch(t){Ot.call(null,t)}T(bt,e)}function Pt(t,e,n){e==mt?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}dt.prototype.then=function(t,e,n){return Tt(this,l(t)?t:null,l(e)?e:null,n)},w(dt),(t=dt.prototype).ia=function(t,e){return(t=wt(t,t,e)).c=!0,xt(this,t),this},t.s=function(t,e){return Tt(this,null,t,e)},t.cancel=function(t){this.a==vt&&lt(function(){!function t(e,n){if(e.a==vt)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,s=null,a=r.b;a&&(a.c||(i++,a.a==e&&(o=a),!(o&&1<i)));a=a.next)o||(s=a);o&&(r.a==vt&&1==i?t(r,n):(s?((i=s).next==r.f&&(r.f=i),i.next=i.next.next):Nt(r),kt(r,o,yt,n)))}e.c=null}else At(e,yt,n)}(this,new Mt(t))},this)},t.Mc=function(t){this.a=vt,At(this,mt,t)},t.Nc=function(t){this.a=vt,At(this,yt,t)},t.Xb=function(){for(var t;t=Nt(this);)kt(this,t,this.a,this.i);this.h=!1};var Ot=ct;function Mt(t){E.call(this,t)}function Rt(){0!=Ft&&(Lt[this[p]||(this[p]=++f)]=this),this.pa=this.pa,this.ja=this.ja}b(Mt,E),Mt.prototype.name="cancel";var Ft=0,Lt={};function jt(t){if(!t.pa&&(t.pa=!0,t.ua(),0!=Ft)){var e=t[p]||(t[p]=++f);if(0!=Ft&&t.ja&&0<t.ja.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Lt[e]}}function Vt(t){return Vt[" "](t),t}Rt.prototype.pa=!1,Rt.prototype.ua=function(){if(this.ja)for(;this.ja.length;)this.ja.shift()()},Vt[" "]=o;var Bt,Ut,qt=et("Opera"),Ht=et("Trident")||et("MSIE"),Wt=et("Edge"),zt=Wt||Ht,Kt=et("Gecko")&&!(Y(H.toLowerCase(),"webkit")&&!et("Edge"))&&!(et("Trident")||et("MSIE"))&&!et("Edge"),Gt=Y(H.toLowerCase(),"webkit")&&!et("Edge");function Qt(){var t=n.document;return t?t.documentMode:void 0}t:{var Xt="",$t=(Ut=H,Kt?/rv:([^\);]+)(\)|;)/.exec(Ut):Wt?/Edge\/([\d\.]+)/.exec(Ut):Ht?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ut):Gt?/WebKit\/(\S+)/.exec(Ut):qt?/(?:Version)[ \/]?(\S+)/.exec(Ut):void 0);if($t&&(Xt=$t?$t[1]:""),Ht){var Yt=Qt();if(null!=Yt&&Yt>parseFloat(Xt)){Bt=String(Yt);break t}}Bt=Xt}var Jt,Zt={};function te(t){return function(t,e){var n=Zt;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(){for(var e=0,n=U(String(Bt)).split("."),r=U(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=J(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||J(0==s[2].length,0==a[2].length)||J(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var ee=n.document;Jt=ee&&Ht?Qt()||("CSS1Compat"==ee.compatMode?parseInt(Bt,10):5):void 0;var ne=Object.freeze||function(t){return t},re=!Ht||9<=Number(Jt),ie=Ht&&!te("9"),oe=function(){if(!n.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});return n.addEventListener("test",o,e),n.removeEventListener("test",o,e),t}();function se(t,e){this.type=t,this.b=this.target=e,this.Jb=!0}function ae(t,e){if(se.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,i=t.changedTouches?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Kt){t:{try{Vt(e.nodeName);var o=!0;break t}catch(t){}o=!1}o||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,null===i?(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=r(t.pointerType)?t.pointerType:ue[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}se.prototype.preventDefault=function(){this.Jb=!1},b(ae,se);var ue=ne({2:"touch",3:"pen",4:"mouse"});ae.prototype.preventDefault=function(){ae.nb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ie)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},ae.prototype.f=function(){return this.a};var ce="closure_listenable_"+(1e6*Math.random()|0),le=0;function he(t){t.na=!0,t.listener=null,t.proxy=null,t.src=null,t.La=null}function pe(t){this.src=t,this.a={},this.b=0}function fe(t,e){var n=e.type;n in t.a&&F(t.a[n],e)&&(he(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function de(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.na&&o.listener==e&&o.capture==!!n&&o.La==r)return i}return-1}pe.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=de(t,e,r,i);return-1<s?(e=t[s],n||(e.Ia=!1)):((e=new function(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.La=i,this.key=++le,this.na=this.Ia=!1}(e,this.src,o,!!r,i)).Ia=n,t.push(e)),e};var ve="closure_lm_"+(1e6*Math.random()|0),me={};function ye(t,e,n,r,i){if(r&&r.once)be(t,e,n,r,i);else if(u(e))for(var o=0;o<e.length;o++)ye(t,e[o],n,r,i);else n=De(n),t&&t[ce]?Ne(t,e,n,h(r)?!!r.capture:!!r,i):ge(t,e,n,!1,r,i)}function ge(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=h(i)?!!i.capture:!!i,a=Te(t);if(a||(t[ve]=a=new pe(t)),!(n=a.add(e,n,r,s,o)).proxy){if(r=function(){var t=xe,e=re?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)oe||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ee(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}0}}function be(t,e,n,r,i){if(u(e))for(var o=0;o<e.length;o++)be(t,e[o],n,r,i);else n=De(n),t&&t[ce]?ke(t,e,n,h(r)?!!r.capture:!!r,i):ge(t,e,n,!0,r,i)}function we(t,e,n,r,i){if(u(e))for(var o=0;o<e.length;o++)we(t,e[o],n,r,i);else r=h(r)?!!r.capture:!!r,n=De(n),t&&t[ce]?(t=t.l,(e=String(e).toString())in t.a&&(-1<(n=de(o=t.a[e],n,r,i))&&(he(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=Te(t))&&(e=t.a[e.toString()],t=-1,e&&(t=de(e,n,r,i)),(n=-1<t?e[t]:null)&&_e(n))}function _e(t){if("number"!=typeof t&&t&&!t.na){var e=t.src;if(e&&e[ce])fe(e.l,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ee(n),r):e.addListener&&e.removeListener&&e.removeListener(r),0,(n=Te(e))?(fe(n,t),0==n.b&&(n.src=null,e[ve]=null)):he(t)}}}function Ee(t){return t in me?me[t]:me[t]="on"+t}function Ce(t,e,n,r){var i=!0;if((t=Te(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.na&&(o=Se(o,r),i=i&&!1!==o)}return i}function Se(t,e){var n=t.listener,r=t.La||t.src;return t.Ia&&_e(t),n.call(r,e)}function xe(t,e){if(t.na)return!0;if(!re){if(!e)t:{e=["window","event"];for(var r=n,i=0;i<e.length;i++)if(null==(r=r[e[i]])){e=null;break t}e=r}if(e=new ae(i=e,this),r=!0,!(0>i.keyCode||void 0!=i.returnValue)){t:{var o=!1;if(0==i.keyCode)try{i.keyCode=-1;break t}catch(t){o=!0}(o||void 0==i.returnValue)&&(i.returnValue=!0)}for(i=[],o=e.b;o;o=o.parentNode)i.push(o);for(t=t.type,o=i.length-1;0<=o;o--){e.b=i[o];var s=Ce(i[o],t,!0,e);r=r&&s}for(o=0;o<i.length;o++)e.b=i[o],s=Ce(i[o],t,!1,e),r=r&&s}return r}return Se(t,new ae(e,this))}function Te(t){return(t=t[ve])instanceof pe?t:null}var Ae="__closure_events_fn_"+(1e9*Math.random()>>>0);function De(t){return l(t)?t:(t[Ae]||(t[Ae]=function(e){return t.handleEvent(e)}),t[Ae])}function Ie(){Rt.call(this),this.l=new pe(this),this.Qb=this,this.Ua=null}function Ne(t,e,n,r,i){t.l.add(String(e),n,!1,r,i)}function ke(t,e,n,r,i){t.l.add(String(e),n,!0,r,i)}function Pe(t,e,n,r){if(!(e=t.l.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.na&&s.capture==n){var a=s.listener,u=s.La||s.src;s.Ia&&fe(t.l,s),i=!1!==a.call(u,r)&&i}}return i&&0!=r.Jb}function Oe(t,e,r){if(l(t))r&&(t=m(t,r));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=m(t.handleEvent,t)}return 2147483647<Number(e)?-1:n.setTimeout(t,e||0)}function Me(t){var e=null;return new dt(function(n,r){-1==(e=Oe(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).s(function(t){throw n.clearTimeout(e),t})}function Re(t){if(t.S&&"function"==typeof t.S)return t.S();if(r(t))return t.split("");if(c(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}function Fe(t){if(t.U&&"function"==typeof t.U)return t.U();if(!t.S||"function"!=typeof t.S){if(c(t)||r(t)){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var i in e=[],n=0,t)e[n++]=i;return e}}function Le(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Le)for(n=t.U(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function je(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ve(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ve(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ve(t,e){return Object.prototype.hasOwnProperty.call(t,e)}b(Ie,Rt),Ie.prototype[ce]=!0,Ie.prototype.addEventListener=function(t,e,n,r){ye(this,t,e,n,r)},Ie.prototype.removeEventListener=function(t,e,n,r){we(this,t,e,n,r)},Ie.prototype.dispatchEvent=function(t){var e,n=this.Ua;if(n)for(e=[];n;n=n.Ua)e.push(n);n=this.Qb;var i=t.type||t;if(r(t))t=new se(t,n);else if(t instanceof se)t.target=t.target||n;else{var o=t;ut(t=new se(i,n),o)}if(o=!0,e)for(var s=e.length-1;0<=s;s--){var a=t.b=e[s];o=Pe(a,i,!0,t)&&o}if(o=Pe(a=t.b=n,i,!0,t)&&o,o=Pe(a,i,!1,t)&&o,e)for(s=0;s<e.length;s++)o=Pe(a=t.b=e[s],i,!1,t)&&o;return o},Ie.prototype.ua=function(){if(Ie.nb.ua.call(this),this.l){var t,e=this.l;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)0,he(n[r]);delete e.a[t],e.b--}}this.Ua=null},(t=Le.prototype).S=function(){je(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.U=function(){return je(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Ve(this.b,t)?this.b[t]:e},t.set=function(t,e){Ve(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.U(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Be=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ue(t,e){if(this.b=this.l=this.c="",this.i=null,this.h=this.g="",this.f=!1,t instanceof Ue){this.f=void 0!==e?e:t.f,qe(this,t.c),this.l=t.l,this.b=t.b,He(this,t.i),this.g=t.g,e=t.a;var n=new rn;n.c=e.c,e.a&&(n.a=new Le(e.a),n.b=e.b),We(this,n),this.h=t.h}else t&&(n=String(t).match(Be))?(this.f=!!e,qe(this,n[1]||"",!0),this.l=Xe(n[2]||""),this.b=Xe(n[3]||"",!0),He(this,n[4]),this.g=Xe(n[5]||"",!0),We(this,n[6]||"",!0),this.h=Xe(n[7]||"")):(this.f=!!e,this.a=new rn(null,this.f))}function qe(t,e,n){t.c=n?Xe(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function He(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function We(t,e,n){e instanceof rn?(t.a=e,function(t,e){e&&!t.f&&(on(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(an(this,e),cn(this,n,t))},t)),t.f=e}(t.a,t.f)):(n||(e=$e(e,en)),t.a=new rn(e,t.f))}function ze(t,e,n){t.a.set(e,n)}function Ke(t,e){return t.a.get(e)}function Ge(t){return t instanceof Ue?new Ue(t):new Ue(t,void 0)}function Qe(t,e){var n=new Ue(null,void 0);return qe(n,"https"),t&&(n.b=t),e&&(n.g=e),n}function Xe(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function $e(t,e,n){return r(t)?(t=encodeURI(t).replace(e,Ye),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ye(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ue.prototype.toString=function(){var t=[],e=this.c;e&&t.push($e(e,Je,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push($e(e,Je,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.g)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push($e(n,"/"==n.charAt(0)?tn:Ze,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.h)&&t.push("#",$e(n,nn)),t.join("")};var Je=/[#\/\?@]/g,Ze=/[#\?:]/g,tn=/[#\?]/g,en=/[#\?@]/g,nn=/#/g;function rn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function on(t){t.a||(t.a=new Le,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function sn(t){var e=Fe(t);if(void 0===e)throw Error("Keys are undefined");var n=new rn(null,void 0);t=Re(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];u(o)?cn(n,i,o):n.add(i,o)}return n}function an(t,e){on(t),e=ln(t,e),Ve(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ve((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&je(t)))}function un(t,e){return on(t),e=ln(t,e),Ve(t.a.b,e)}function cn(t,e,n){an(t,e),0<n.length&&(t.c=null,t.a.set(ln(t,e),V(n)),t.b+=n.length)}function ln(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(t=rn.prototype).add=function(t,e){on(this),this.c=null,t=ln(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){on(this),this.a.forEach(function(n,r){P(n,function(n){t.call(e,n,r,this)},this)},this)},t.U=function(){on(this);for(var t=this.a.S(),e=this.a.U(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.S=function(t){on(this);var e=[];if(r(t))un(this,t)&&(e=j(e,this.a.get(ln(this,t))));else{t=this.a.S();for(var n=0;n<t.length;n++)e=j(e,t[n])}return e},t.set=function(t,e){return on(this),this.c=null,un(this,t=ln(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return 0<(t=t?this.S(t):[]).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.U(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.S(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var hn=!Ht||9<=Number(Jt);function pn(){this.a="",this.b=dn}function fn(t){return t instanceof pn&&t.constructor===pn&&t.b===dn?t.a:(S("expected object of type Const, got '"+t+"'"),"type_error:Const")}pn.prototype.ma=!0,pn.prototype.la=function(){return this.a},pn.prototype.toString=function(){return"Const{"+this.a+"}"};var dn={};function vn(t){var e=new pn;return e.a=t,e}function mn(){this.a="",this.b=_n}function yn(t){return t instanceof mn&&t.constructor===mn&&t.b===_n?t.a:(S("expected object of type TrustedResourceUrl, got '"+t+"' of type "+s(t)),"type_error:TrustedResourceUrl")}function gn(t,e){var n=fn(t);if(!wn.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=new mn;return e.a=t,e}(t=n.replace(bn,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof pn?fn(t):encodeURIComponent(String(t))}))}vn(""),mn.prototype.ma=!0,mn.prototype.la=function(){return this.a},mn.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var bn=/%{(\w+)}/g,wn=/^(?:https:)?\/\/[0-9a-z.:[\]-]+\/|^\/[^\/\\]|^about:blank#/i,_n={};function En(){this.a="",this.b=Tn}function Cn(t){return t instanceof En&&t.constructor===En&&t.b===Tn?t.a:(S("expected object of type SafeUrl, got '"+t+"' of type "+s(t)),"type_error:SafeUrl")}En.prototype.ma=!0,En.prototype.la=function(){return this.a},En.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Sn=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function xn(t){return t instanceof En?t:(t=t.ma?t.la():String(t),Sn.test(t)||(t="about:invalid#zClosurez"),An(t))}var Tn={};function An(t){var e=new En;return e.a=t,e}function Dn(){this.a="",this.b=In}An("about:blank"),Dn.prototype.ma=!0,Dn.prototype.la=function(){return this.a},Dn.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var In={};function Nn(t){var e=new Dn;return e.a=t,e}function kn(t){var e=document;return r(t)?e.getElementById(t):t}function Pn(t,e){nt(e,function(e,n){e&&e.ma&&(e=e.la()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:On.hasOwnProperty(n)?t.setAttribute(On[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}Nn("<!DOCTYPE html>"),Nn(""),Nn("<br>");var On={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Mn(t,e,n){var i=arguments,o=document,s=String(i[0]),a=i[1];if(!hn&&a&&(a.name||a.type)){if(s=["<",s],a.name&&s.push(' name="',q(a.name),'"'),a.type){s.push(' type="',q(a.type),'"');var l={};ut(l,a),delete l.type,a=l}s.push(">"),s=s.join("")}return s=o.createElement(s),a&&(r(a)?s.className=a:u(a)?s.className=a.join(" "):Pn(s,a)),2<i.length&&function(t,e,n){function i(n){n&&e.appendChild(r(n)?t.createTextNode(n):n)}for(var o=2;o<n.length;o++){var s=n[o];!c(s)||h(s)&&0<s.nodeType?i(s):P(Rn(s)?V(s):s,i)}}(o,s,i),s}function Rn(t){if(t&&"number"==typeof t.length){if(h(t))return"function"==typeof t.item||"string"==typeof t.item;if(l(t))return"function"==typeof t.item}return!1}function Fn(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(u(n)){var i=n;n=i.length,r.push("[");for(var o="",s=0;s<n;s++)r.push(o),t(e,i[s],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&("function"!=typeof(s=n[i])&&(r.push(o),Vn(i,r),r.push(":"),t(e,s,r),o=","));return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":Vn(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new function(){},t,e),e.join("")}var Ln={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},jn=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Vn(t,e){e.push('"',t.replace(jn,function(t){var e=Ln[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Ln[t]=e),e}),'"')}function Bn(){var t=ir();return Ht&&!!Jt&&11==Jt||/Edge\/\d+/.test(t)}function Un(){return n.window&&n.window.location.href||self&&self.location&&self.location.href||""}function qn(t,e){e=e||n.window;var r="about:blank";t&&(r=Cn(xn(t))),e.location.href=r}function Hn(t){return!!((t=(t||ir()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function Wn(t){t=t||n.window;try{t.close()}catch(t){}}function zn(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=ir().toLowerCase(),r&&(e.target=r,Y(n,"crios/")&&(e.target="_blank")),er(ir())==Zn&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof En?n:xn(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((et("iPhone")&&!et("iPod")&&!et("iPad")||et("iPad")||et("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(a=r.document.createElement("A"),e instanceof En||e instanceof En||(e=e.ma?e.la():String(e),Sn.test(e)||(e="about:invalid#zClosurez"),e=An(e)),a.href=Cn(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=r.open("",n,a),t=Cn(e),a&&(zt&&Y(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,vn("b/12014412, meta tag with sanitized URL"),t=Nn(t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+q(t)+'">'),a.document.write(function(t){return t instanceof Dn&&t.constructor===Dn&&t.b===In?t.a:(S("expected object of type SafeHtml, got '"+t+"' of type "+s(t)),"type_error:SafeHtml")}(t)),a.document.close())):(a=r.open(Cn(e),n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(t){}return a}var Kn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/;function Gn(){var t=null;return new dt(function(e){"complete"==n.document.readyState?e():(t=function(){e()},be(window,"load",t))}).s(function(e){throw we(window,"load",t),e})}function Qn(t){return t=t||ir(),!("file:"!==cr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Xn(){var t=n.window;try{return!(!t||t==t.top)}catch(t){return!1}}function $n(){return"object"!=typeof n.window&&"function"==typeof n.importScripts}function Yn(){return Bw.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Bw.a.INTERNAL.hasOwnProperty("node")?"Node":$n()?"Worker":"Browser"}function Jn(){var t=Yn();return"ReactNative"===t||"Node"===t}var Zn="Firefox",tr="Chrome";function er(t){var e=t.toLowerCase();return Y(e,"opera/")||Y(e,"opr/")||Y(e,"opios/")?"Opera":Y(e,"iemobile")?"IEMobile":Y(e,"msie")||Y(e,"trident/")?"IE":Y(e,"edge/")?"Edge":Y(e,"firefox/")?Zn:Y(e,"silk/")?"Silk":Y(e,"blackberry")?"Blackberry":Y(e,"webos")?"Webos":!Y(e,"safari/")||Y(e,"chrome/")||Y(e,"crios/")||Y(e,"android")?!Y(e,"chrome/")&&!Y(e,"crios/")||Y(e,"edge/")?Y(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":tr:"Safari"}var nr={Tc:"FirebaseCore-web",Vc:"FirebaseUI-web"};function rr(t,e){e=e||[];var n,r=[],i={};for(n in nr)i[nr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=Yn())?r=er(i=ir()):"Worker"===r&&(r=er(i=ir())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function ir(){return n.navigator&&n.navigator.userAgent||""}function or(t,e){t=t.split("."),e=e||n;for(var r=0;r<t.length&&"object"==typeof e&&null!=e;r++)e=e[t[r]];return r!=t.length&&(e=void 0),e}function sr(){try{var t=n.localStorage,e=dr();if(t)return t.setItem(e,"1"),t.removeItem(e),!Bn()||!!n.indexedDB}catch(t){return $n()&&!!n.indexedDB}return!1}function ar(){return(ur()||"chrome-extension:"===cr()||Qn())&&!Jn()&&sr()&&!$n()}function ur(){return"http:"===cr()||"https:"===cr()}function cr(){return n.location&&n.location.protocol||null}function lr(t){return!Hn(t=t||ir())&&er(t)!=Zn}function hr(t){return void 0===t?null:Fn(t)}function pr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function fr(t){if(null!==t)return JSON.parse(t)}function dr(t){return t||Math.floor(1e9*Math.random()).toString()}function vr(t){return"Safari"!=er(t=t||ir())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function mr(){var t=n.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var r=0;r<t.CP.length;r++)t.CP[r]=null}function yr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=ir(),e=Yn(),this.b=Hn(t)||"ReactNative"===e}function gr(){var t=n.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function br(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function wr(){return!(!or("fireauth.oauthhelper",n)&&!or("fireauth.iframe",n))}yr.prototype.get=function(){var t=n.navigator;return!t||"boolean"!=typeof t.onLine||!ur()&&"chrome-extension:"!==cr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var _r,Er={};function Cr(t){Er[t]||(Er[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Sr={};Object.defineProperty(Sr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Sr,"abcd",{configurable:!0,enumerable:!0,value:2}),_r=2==Sr.abcd}catch(Ut){_r=!1}function xr(t,e,n){_r?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Tr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&xr(t,n,e[n])}function Ar(t){var e={};return Tr(e,t),e}function Dr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)xr(e,n,Dr(t[n]));return e}var Ir="EMAIL_SIGNIN",Nr="email",kr="newEmail",Pr="requestType",Or="email",Mr="fromEmail",Rr="data",Fr="operation";function Lr(t,e){this.code=Vr+t,this.message=e||Br[t]||""}function jr(t){var e=t&&t.code;return e?new Lr(e.substring(Vr.length),t.message):null}b(Lr,Error),Lr.prototype.D=function(){return{code:this.code,message:this.message}},Lr.prototype.toJSON=function(){return this.D()};var Vr="auth/",Br={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function Ur(t){var e=t[zr];if(void 0===e)throw new Lr("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new Lr("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[qr];if(n&&"object"==typeof n){e=n[Qr];var r=n[Kr];if(n=n[Gr],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new Lr("argument-error",Kr+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new Lr("argument-error",Gr+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new Lr("argument-error",Qr+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new Lr("missing-android-pkg-name")}}else if(void 0!==n)throw new Lr("argument-error",qr+" property must be a non null object when specified.");if(this.f=null,(e=t[Wr])&&"object"==typeof e){if("string"==typeof(e=e[Xr])&&e.length)this.f=e;else if(void 0!==e)throw new Lr("argument-error",Xr+" property must be a non empty string when specified.")}else if(void 0!==e)throw new Lr("argument-error",Wr+" property must be a non null object when specified.");if(void 0!==(t=t[Hr])&&"boolean"!=typeof t)throw new Lr("argument-error",Hr+" property must be a boolean when specified.");this.c=!!t}var qr="android",Hr="handleCodeInApp",Wr="iOS",zr="url",Kr="installApp",Gr="minimumVersion",Qr="packageName",Xr="bundleId";function $r(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e)null===e[n]&&delete e[n];return e}var Yr=null,Jr=null;function Zr(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Jr[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Yr){Yr={},Jr={};for(var t=0;65>t;t++)Yr[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),Jr[Yr[t]]=t,62<=t&&(Jr["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,function(t){e+=String.fromCharCode(t)}),e}function ti(t){this.c=t.sub,g(),this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.b=!!t.is_anonymous||"anonymous"==this.a}function ei(t){return(t=ni(t))&&t.sub&&t.iss&&t.aud&&t.exp?new ti(t):null}function ni(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(Zr(t))}catch(t){}return null}ti.prototype.f=function(){return this.b};var ri="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),ii=["client_id","response_type","scope","redirect_uri","state"],oi={Uc:{Ma:"locale",Ba:500,Aa:600,Na:"facebook.com",gb:ii},Wc:{Ma:null,Ba:500,Aa:620,Na:"github.com",gb:ii},Xc:{Ma:"hl",Ba:515,Aa:680,Na:"google.com",gb:ii},cd:{Ma:"lang",Ba:485,Aa:705,Na:"twitter.com",gb:ri}};function si(t){for(var e in oi)if(oi[e].Na==t)return oi[e];return null}function ai(t){var e={};e["facebook.com"]=pi,e["google.com"]=di,e["github.com"]=fi,e["twitter.com"]=vi;var n=t&&t[ci];try{if(n)return e[n]?new e[n](t):new hi(t);if(void 0!==t[ui])return new li(t)}catch(t){}return null}var ui="idToken",ci="providerId";function li(t){var e=t[ci];if(!e&&t[ui]){var n=ei(t[ui]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),xr(this,"providerId",e),xr(this,"isNewUser",n)}function hi(t){li.call(this,t),xr(this,"profile",Dr((t=fr(t.rawUserInfo||"{}"))||{}))}function pi(t){if(hi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function fi(t){if(hi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");xr(this,"username",this.profile&&this.profile.login||null)}function di(t){if(hi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function vi(t){if(hi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");xr(this,"username",t.screenName||null)}function mi(t){var e=Ge(t),n=Ke(e,"link"),r=Ke(Ge(n),"link");return Ke(Ge(e=Ke(e,"deep_link_id")),"link")||e||r||n||t}function yi(t,e){return t.then(function(t){if(t[Yo]){var n=ei(t[Yo]);if(!n||e!=n.c)throw new Lr("user-mismatch");return t}throw new Lr("user-mismatch")}).s(function(t){throw t&&t.code&&t.code==Vr+"user-not-found"?new Lr("user-mismatch"):t})}function gi(t,e,n){if(e.idToken||e.accessToken)e.idToken&&xr(this,"idToken",e.idToken),e.accessToken&&xr(this,"accessToken",e.accessToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new Lr("internal-error","failed to construct a credential");xr(this,"accessToken",e.oauthToken),xr(this,"secret",e.oauthTokenSecret)}xr(this,"providerId",t),xr(this,"signInMethod",n)}function bi(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,{postBody:sn(e).toString(),requestUri:"http://localhost"}}function wi(t,e){this.Cc=e||[],Tr(this,{providerId:t,isOAuthProvider:!0}),this.xb={},this.bb=(si(t)||{}).Ma||null,this.Za=null}function _i(t){wi.call(this,t,ii),this.a=[]}function Ei(){_i.call(this,"facebook.com")}function Ci(t){if(!t)throw new Lr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return h(t)&&(e=t.accessToken),(new Ei).credential(null,e)}function Si(){_i.call(this,"github.com")}function xi(t){if(!t)throw new Lr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return h(t)&&(e=t.accessToken),(new Si).credential(null,e)}function Ti(){_i.call(this,"google.com"),this.ta("profile")}function Ai(t,e){var n=t;return h(t)&&(n=t.idToken,e=t.accessToken),(new Ti).credential(n,e)}function Di(){wi.call(this,"twitter.com",ri)}function Ii(t,e){var n=t;if(h(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new Lr("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new gi("twitter.com",n,"twitter.com")}function Ni(t,e,n){this.a=t,this.b=e,xr(this,"providerId","password"),xr(this,"signInMethod",n===ki.EMAIL_LINK_SIGN_IN_METHOD?ki.EMAIL_LINK_SIGN_IN_METHOD:ki.EMAIL_PASSWORD_SIGN_IN_METHOD)}function ki(){Tr(this,{providerId:"password",isOAuthProvider:!1})}function Pi(t,e){if(!(e=Oi(e)))throw new Lr("argument-error","Invalid email link!");return new Ni(t,e,ki.EMAIL_LINK_SIGN_IN_METHOD)}function Oi(t){var e=Ke((t=new function(t){this.a=Ge(t)}(t=mi(t))).a,"oobCode")||null;return"signIn"===(Ke(t.a,"mode")||null)&&e?e:null}function Mi(t){if(!(t.Sa&&t.Ra||t.Fa&&t.$))throw new Lr("internal-error");this.a=t,xr(this,"providerId","phone"),xr(this,"signInMethod","phone")}function Ri(t){return t.a.Fa&&t.a.$?{temporaryProof:t.a.Fa,phoneNumber:t.a.$}:{sessionInfo:t.a.Sa,code:t.a.Ra}}function Fi(t){try{this.a=t||Bw.a.auth()}catch(t){throw new Lr("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Tr(this,{providerId:"phone",isOAuthProvider:!1})}function Li(t,e){if(!t)throw new Lr("missing-verification-id");if(!e)throw new Lr("missing-verification-code");return new Mi({Sa:t,Ra:e})}function ji(t){if(t.temporaryProof&&t.phoneNumber)return new Mi({Fa:t.temporaryProof,$:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret;t=t&&t.oauthIdToken;try{switch(e){case"google.com":return Ai(t,n);case"facebook.com":return Ci(n);case"github.com":return xi(n);case"twitter.com":return Ii(n,r);default:return new _i(e).credential(t,n)}}catch(t){return null}}function Vi(t){if(!t.isOAuthProvider)throw new Lr("invalid-oauth-provider")}function Bi(t,e,n,r,i){if(this.b=t,this.c=e||null,this.f=n||null,this.g=r||null,this.a=i||null,!this.f&&!this.a)throw new Lr("invalid-auth-event");if(this.f&&this.a)throw new Lr("invalid-auth-event");if(this.f&&!this.g)throw new Lr("invalid-auth-event")}function Ui(t){return(t=t||{}).type?new Bi(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&jr(t.error)):null}function qi(){this.b=null,this.a=[]}b(hi,li),b(pi,hi),b(fi,hi),b(di,hi),b(vi,hi),gi.prototype.ya=function(t){return ds(t,bi(this))},gi.prototype.c=function(t,e){var n=bi(this);return n.idToken=e,vs(t,n)},gi.prototype.f=function(t,e){return yi(ms(t,bi(this)),e)},gi.prototype.D=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),t},wi.prototype.Da=function(t){return this.xb=it(t),this},b(_i,wi),_i.prototype.ta=function(t){return R(this.a,t)||this.a.push(t),this},_i.prototype.Db=function(){return V(this.a)},_i.prototype.credential=function(t,e){if(!t&&!e)throw new Lr("argument-error","credential failed: must provide the ID token and/or the access token.");return new gi(this.providerId,{idToken:t||null,accessToken:e||null},this.providerId)},b(Ei,_i),xr(Ei,"PROVIDER_ID","facebook.com"),xr(Ei,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),b(Si,_i),xr(Si,"PROVIDER_ID","github.com"),xr(Si,"GITHUB_SIGN_IN_METHOD","github.com"),b(Ti,_i),xr(Ti,"PROVIDER_ID","google.com"),xr(Ti,"GOOGLE_SIGN_IN_METHOD","google.com"),b(Di,wi),xr(Di,"PROVIDER_ID","twitter.com"),xr(Di,"TWITTER_SIGN_IN_METHOD","twitter.com"),Ni.prototype.ya=function(t){return this.signInMethod==ki.EMAIL_LINK_SIGN_IN_METHOD?zs(t,Ss,{email:this.a,oobCode:this.b}):zs(t,Us,{email:this.a,password:this.b})},Ni.prototype.c=function(t,e){return this.signInMethod==ki.EMAIL_LINK_SIGN_IN_METHOD?zs(t,xs,{idToken:e,email:this.a,oobCode:this.b}):zs(t,Rs,{idToken:e,email:this.a,password:this.b})},Ni.prototype.f=function(t,e){return yi(this.ya(t),e)},Ni.prototype.D=function(){return{email:this.a,password:this.b,signInMethod:this.signInMethod}},Tr(ki,{PROVIDER_ID:"password"}),Tr(ki,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Tr(ki,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Mi.prototype.ya=function(t){return t.Ta(Ri(this))},Mi.prototype.c=function(t,e){var n=Ri(this);return n.idToken=e,zs(t,Hs,n)},Mi.prototype.f=function(t,e){var n=Ri(this);return n.operation="REAUTH",yi(t=zs(t,Ws,n),e)},Mi.prototype.D=function(){var t={providerId:"phone"};return this.a.Sa&&(t.verificationId=this.a.Sa),this.a.Ra&&(t.verificationCode=this.a.Ra),this.a.Fa&&(t.temporaryProof=this.a.Fa),this.a.$&&(t.phoneNumber=this.a.$),t},Fi.prototype.Ta=function(t,e){var n=this.a.b;return _t(e.verify()).then(function(i){if(!r(i))throw new Lr("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":return function(t,e){return zs(t,Os,e)}(n,{phoneNumber:t,recaptchaToken:i}).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new Lr("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Tr(Fi,{PROVIDER_ID:"phone"}),Tr(Fi,{PHONE_SIGN_IN_METHOD:"phone"}),Bi.prototype.D=function(){return{type:this.b,eventId:this.c,urlResponse:this.f,sessionId:this.g,error:this.a&&this.a.D()}};var Hi=null;function Wi(t){var e="unauthorized-domain",n=void 0,r=Ge(t);t=r.b,"chrome-extension"==(r=r.c)?n=B("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=B("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",Lr.call(this,e,n)}function zi(t,e,n){Lr.call(this,t,n),(t=e||{}).yb&&xr(this,"email",t.yb),t.$&&xr(this,"phoneNumber",t.$),t.credential&&xr(this,"credential",t.credential)}function Ki(t){if(t.code){var e=t.code||"";0==e.indexOf(Vr)&&(e=e.substring(Vr.length));var n={credential:ji(t)};if(t.email)n.yb=t.email;else if(t.phoneNumber)n.$=t.phoneNumber;else if(!n.credential)return new Lr(e,t.message||void 0);return new zi(e,n,t.message)}return null}qi.prototype.subscribe=function(t){var e=this;this.a.push(t),this.b||(this.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=or("universalLinks.subscribe",n))&&t(null,this.b))},qi.prototype.unsubscribe=function(t){L(this.a,function(e){return e==t})},b(Wi,Lr),b(zi,Lr),zi.prototype.D=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber);var e=this.credential&&this.credential.D();return e&&ut(t,e),t},zi.prototype.toJSON=function(){return this.D()};var Gi,Qi=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function Xi(){}function $i(t){return t.c||(t.c=t.b())}function Yi(){}function Ji(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Zi(){}function to(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseText="",this.status=-1,this.statusText="",this.a.onload=m(this.dc,this),this.a.onerror=m(this.Eb,this),this.a.onprogress=m(this.ec,this),this.a.ontimeout=m(this.hc,this)}function eo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function no(t,e,n){this.reset(t,e,n,void 0,void 0)}Xi.prototype.c=null,b(Yi,Xi),Yi.prototype.a=function(){var t=Ji(this);return t?new ActiveXObject(t):new XMLHttpRequest},Yi.prototype.b=function(){var t={};return Ji(this)&&(t[0]=!0,t[1]=!0),t},Gi=new Yi,b(Zi,Xi),Zi.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new to;throw Error("Unsupported browser")},Zi.prototype.b=function(){return{}},(t=to.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.dc=function(){this.status=200,this.responseText=this.a.responseText,eo(this,4)},t.Eb=function(){this.status=500,this.responseText="",eo(this,4)},t.hc=function(){this.Eb()},t.ec=function(){this.status=200,eo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},no.prototype.a=null;function ro(t){this.f=t,this.b=this.c=this.a=null}function io(t,e){this.name=t,this.value=e}no.prototype.reset=function(t,e,n,r,i){"number"==typeof i||0,r||g(),delete this.a},io.prototype.toString=function(){return this.name};var oo=new io("SEVERE",1e3),so=new io("WARNING",900),ao=new io("CONFIG",700),uo=new io("FINE",500);ro.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(S("Root logger has no level set."),null)}(this).value)for(l(e)&&(e=e()),t=new no(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var co={},lo=null;function ho(t){var e;if(lo||(lo=new ro(""),co[""]=lo,lo.c=ao),!(e=co[t])){e=new ro(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ho(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,co[t]=e}return e}function po(t,e){t&&t.log(uo,e,void 0)}function fo(t){this.f=t}function vo(t){Ie.call(this),this.i=t,this.readyState=mo,this.status=0,this.responseText=this.statusText="",this.onreadystatechange=null,this.g=new Headers,this.b=null,this.h="GET",this.c="",this.a=!1,this.f=ho("goog.net.FetchXmlHttp")}b(fo,Xi),fo.prototype.a=function(){return new vo(this.f)},fo.prototype.b=function(t){return function(){return t}}({}),b(vo,Ie);var mo=0;function yo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function go(t){Ie.call(this),this.headers=new Le,this.C=t||null,this.c=!1,this.w=this.a=null,this.h=this.N=this.m="",this.f=this.I=this.i=this.G=!1,this.g=0,this.u=null,this.o=bo,this.v=this.O=!1}(t=vo.prototype).open=function(t,e){if(this.readyState!=mo)throw this.abort(),Error("Error reopening a connection");this.h=t,this.c=e,this.readyState=1,yo(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.g,method:this.h,credentials:void 0,cache:void 0};t&&(e.body=t),this.i.fetch(new Request(this.c,e)).then(this.gc.bind(this),this.Fb.bind(this))},t.abort=function(){this.responseText="",this.g=new Headers,this.status=0,1<=this.readyState&&this.a&&4!=this.readyState&&(this.readyState=4,this.a=!1,yo(this)),this.readyState=mo},t.gc=function(t){this.a&&(this.b||(this.b=t.headers,this.readyState=2,yo(this)),this.a&&(this.readyState=3,yo(this),this.a&&t.text().then(this.fc.bind(this,t),this.Fb.bind(this))))},t.fc=function(t,e){this.a&&(this.status=t.status,this.statusText=t.statusText,this.responseText=e,this.readyState=4,yo(this))},t.Fb=function(t){var e=this.f;e&&e.log(so,"Failed to fetch url "+this.c,t instanceof Error?t:Error(t)),this.a&&(this.readyState=4,yo(this))},t.setRequestHeader=function(t,e){this.g.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.f)&&t.log(so,"Attempting to get response header but no headers have been received for url: "+this.c,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.f;return t&&t.log(so,"Attempting to get all response headers but no headers have been received for url: "+this.c,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},b(go,Ie);var bo="";go.prototype.b=ho("goog.net.XhrIo");var wo=/^https?$/i,_o=["POST","PUT"];function Eo(t,e,i,o,s){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.m+"; newUri="+e);i=i?i.toUpperCase():"GET",t.m=e,t.h="",t.N=i,t.G=!1,t.c=!0,t.a=t.C?t.C.a():Gi.a(),t.w=t.C?$i(t.C):$i(Gi),t.a.onreadystatechange=m(t.Ib,t);try{po(t.b,ko(t,"Opening Xhr")),t.I=!0,t.a.open(i,String(e),!0),t.I=!1}catch(e){return po(t.b,ko(t,"Error opening Xhr: "+e.message)),void So(t,e)}e=o||"";var a=new Le(t.headers);s&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(c(t)||r(t))P(t,e,void 0);else for(var n=Fe(t),i=Re(t),o=i.length,s=0;s<o;s++)e.call(void 0,i[s],n&&n[s],t)}(s,function(t,e){a.set(e,t)}),s=function(t){t:{for(var e=Co,n=t.length,i=r(t)?t.split(""):t,o=0;o<n;o++)if(o in i&&e.call(void 0,i[o],o,t)){e=o;break t}e=-1}return 0>e?null:r(t)?t.charAt(e):t[e]}(a.U()),o=n.FormData&&e instanceof n.FormData,!R(_o,i)||s||o||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.o&&(t.a.responseType=t.o),"withCredentials"in t.a&&t.a.withCredentials!==t.O&&(t.a.withCredentials=t.O);try{Do(t),0<t.g&&(t.v=function(t){return Ht&&te(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),po(t.b,ko(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.v)),t.v?(t.a.timeout=t.g,t.a.ontimeout=m(t.Ga,t)):t.u=Oe(t.Ga,t.g,t)),po(t.b,ko(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){po(t.b,ko(t,"Send error: "+e.message)),So(t,e)}}function Co(t){return"content-type"==t.toLowerCase()}function So(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,xo(t),Ao(t)}function xo(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function To(t){if(t.c&&void 0!==e)if(t.w[1]&&4==Io(t)&&2==No(t))po(t.b,ko(t,"Local request error detected and ignored"));else if(t.i&&4==Io(t))Oe(t.Ib,0,t);else if(t.dispatchEvent("readystatechange"),4==Io(t)){po(t.b,ko(t,"Request complete")),t.c=!1;try{var r,i=No(t);t:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var o=!0;break t;default:o=!1}if(!(r=o)){var s;if(s=0===i){var a=String(t.m).match(Be)[1]||null;if(!a&&n.self&&n.self.location){var u=n.self.location.protocol;a=u.substr(0,u.length-1)}s=!wo.test(a?a.toLowerCase():"")}r=s}if(r)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Io(t)?t.a.statusText:""}catch(e){po(t.b,"Can not get status: "+e.message),c=""}t.h=c+" ["+No(t)+"]",xo(t)}}finally{Ao(t)}}}function Ao(t,e){if(t.a){Do(t);var n=t.a,r=t.w[0]?o:null;t.a=null,t.w=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(oo,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function Do(t){t.a&&t.v&&(t.a.ontimeout=null),t.u&&(n.clearTimeout(t.u),t.u=null)}function Io(t){return t.a?t.a.readyState:0}function No(t){try{return 2<Io(t)?t.a.status:-1}catch(t){return-1}}function ko(t,e){return e+" ["+t.N+" "+t.m+" "+No(t)+"]"}function Po(t,e){this.g=[],this.v=t,this.u=e||null,this.f=this.a=!1,this.c=void 0,this.m=this.w=this.i=!1,this.h=0,this.b=null,this.l=0}function Oo(t,e,n){t.a=!0,t.c=n,t.f=!e,Lo(t)}function Mo(t){if(t.a){if(!t.m)throw new jo(t);t.m=!1}}function Ro(t,e,n,r){t.g.push([e,n,r]),t.a&&Lo(t)}function Fo(t){return M(t.g,function(t){return l(t[1])})}function Lo(t){if(t.h&&t.a&&Fo(t)){var e=t.h,r=Uo[e];r&&(n.clearTimeout(r.a),delete Uo[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var i=r=!1;t.g.length&&!t.i;){var o=t.g.shift(),s=o[0],a=o[1];if(o=o[2],s=t.f?a:s)try{var u=s.call(o||t.u,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(_(e)||"function"==typeof n.Promise&&e instanceof n.Promise)&&(i=!0,t.i=!0)}catch(n){e=n,t.f=!0,Fo(t)||(r=!0)}}t.c=e,i&&(u=m(t.o,t,!0),i=m(t.o,t,!1),e instanceof Po?(Ro(e,u,i),e.w=!0):e.then(u,i)),r&&(e=new Bo(e),Uo[e.a]=e,t.h=e.a)}function jo(){E.call(this)}function Vo(){E.call(this)}function Bo(t){this.a=n.setTimeout(m(this.c,this),0),this.b=t}(t=go.prototype).Ga=function(){void 0!==e&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",po(this.b,ko(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(po(this.b,ko(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ao(this))},t.ua=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ao(this,!0)),go.nb.ua.call(this)},t.Ib=function(){this.pa||(this.I||this.i||this.f?To(this):this.vc())},t.vc=function(){To(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.o){case bo:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(oo,"Response type "+this.o+" is not supported on this browser",void 0),null}catch(t){return po(this.b,"Can not get response: "+t.message),null}},Po.prototype.cancel=function(t){if(this.a)this.c instanceof Po&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.v?this.v.call(this.u,this):this.m=!0,this.a||(t=new Vo(this),Mo(this),Oo(this,!1,t))}},Po.prototype.o=function(t,e){this.i=!1,Oo(this,t,e)},Po.prototype.C=function(){Mo(this),Oo(this,!0,null)},Po.prototype.then=function(t,e,n){var r,i,o=new dt(function(t,e){r=t,i=e});return Ro(this,r,function(t){t instanceof Vo?o.cancel():i(t)}),o.then(t,e,n)},w(Po),b(jo,E),jo.prototype.message="Deferred has already fired",jo.prototype.name="AlreadyCalledError",b(Vo,E),Vo.prototype.message="Deferred was canceled",Vo.prototype.name="CanceledError",Bo.prototype.c=function(){throw delete Uo[this.a],this.b};var Uo={};function qo(t){var e={},n=e.document||document,r=yn(t),i=document.createElement("SCRIPT"),o={Kb:i,Ga:void 0},s=new Po(Ho,o),a=null,u=null!=e.timeout?e.timeout:5e3;return 0<u&&(a=window.setTimeout(function(){Wo(i,!0);var t=new Go(Ko,"Timeout reached for loading script "+r);Mo(s),Oo(s,!1,t)},u),o.Ga=a),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Wo(i,e.ed||!1,a),s.C())},i.onerror=function(){Wo(i,!0,a);var t=new Go(zo,"Error while loading script "+r);Mo(s),Oo(s,!1,t)},ut(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),Pn(i,o),i.src=yn(t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function Ho(){if(this&&this.Kb){var t=this.Kb;t&&"SCRIPT"==t.tagName&&Wo(t,!0,this.Ga)}}function Wo(t,e,r){null!=r&&n.clearTimeout(r),t.onload=o,t.onerror=o,t.onreadystatechange=o,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var zo=0,Ko=1;function Go(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),E.call(this,n),this.code=t}function Qo(t){this.f=t}function Xo(t,e,r){if(this.b=t,t=e||{},this.i=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.l=t.secureTokenTimeout||Jo,this.f=it(t.secureTokenHeaders||Zo),this.g=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=t.firebaseTimeout||ts,this.a=it(t.firebaseHeaders||es),r&&(this.a["X-Client-Version"]=r,this.f["X-Client-Version"]=r),r="Node"==Yn(),!(r=n.XMLHttpRequest||r&&Bw.a.INTERNAL.node&&Bw.a.INTERNAL.node.XMLHttpRequest)&&!$n())throw new Lr("internal-error","The XMLHttpRequest compatibility library was not found.");this.c=void 0,$n()?this.c=new fo(self):Jn()?this.c=new Qo(r):this.c=new Zi}b(Go,E),b(Qo,Xi),Qo.prototype.a=function(){return new this.f},Qo.prototype.b=function(){return{}};var $o,Yo="idToken",Jo=new yr(3e4,6e4),Zo={"Content-Type":"application/x-www-form-urlencoded"},ts=new yr(3e4,6e4),es={"Content-Type":"application/json"};function ns(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function rs(t,e){e?(t.a["X-Client-Version"]=e,t.f["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.f["X-Client-Version"])}function is(t,e,r,i,o,s,a){(function(){var t=ir();return!((t=er(t)!=tr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Ht&&Jt&&!(9<Jt))})()||$n()?t=m(t.o,t):($o||($o=new dt(function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{n[ss]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))};var r=gn(os,{onload:ss});!function(t,e){Ro(t,null,e,void 0)}(qo(r),function(){e(Error("CORS_UNSUPPORTED"))})}}(t,e)})),t=m(t.m,t)),t(e,r,i,o,s,a)}Xo.prototype.o=function(t,e,r,i,o,s){if($n()&&(void 0===n.fetch||void 0===n.Headers||void 0===n.Request))throw new Lr("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new go(this.c);if(s){a.g=Math.max(0,s);var u=setTimeout(function(){a.dispatchEvent("timeout")},s)}Ne(a,"complete",function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return po(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)}),ke(a,"ready",function(){u&&clearTimeout(u),jt(this)}),ke(a,"timeout",function(){u&&clearTimeout(u),jt(this),e&&e(null)}),Eo(a,t,r,i,o)};var os=vn("https://apis.google.com/js/client.js?onload=%{onload}"),ss="__fcb"+Math.floor(1e6*Math.random()).toString();function as(t){if(!Qi.test(t.email))throw new Lr("invalid-email")}function us(t){"email"in t&&as(t)}function cs(t){if(!t[Yo])throw new Lr("internal-error")}function ls(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new Lr("internal-error")}else{if(!t.sessionInfo)throw new Lr("missing-verification-id");if(!t.code)throw new Lr("missing-verification-code")}}Xo.prototype.m=function(t,e,n,r,i){var o=this;$o.then(function(){window.gapi.client.setApiKey(o.b);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})}).s(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},Xo.prototype.Pa=function(){return zs(this,Fs,{})},Xo.prototype.ob=function(t,e){return zs(this,Ms,{idToken:t,email:e})},Xo.prototype.pb=function(t,e){return zs(this,Rs,{idToken:t,password:e})};var hs={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ps(t){if(!t.requestUri||!t.sessionId&&!t.postBody)throw new Lr("internal-error")}function fs(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Ki(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Ki(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Ki(t)):t.errorMessage&&(e=Ks(t.errorMessage)),e)throw e;if(!t[Yo])throw new Lr("internal-error")}function ds(t,e){return e.returnIdpCredential=!0,zs(t,Ls,e)}function vs(t,e){return e.returnIdpCredential=!0,zs(t,Vs,e)}function ms(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,zs(t,js,e)}function ys(t){if(!t.oobCode)throw new Lr("invalid-action-code")}(t=Xo.prototype).qb=function(t,e){var n={idToken:t},r=[];return nt(hs,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),zs(this,Ms,n)},t.jb=function(t,e){return ut(t={requestType:"PASSWORD_RESET",email:t},e),zs(this,Is,t)},t.kb=function(t,e){return ut(t={requestType:"EMAIL_SIGNIN",email:t},e),zs(this,As,t)},t.ib=function(t,e){return ut(t={requestType:"VERIFY_EMAIL",idToken:t},e),zs(this,Ds,t)},t.Ta=function(t){return zs(this,qs,t)},t.Ya=function(t,e){return zs(this,Ps,{oobCode:t,newPassword:e})},t.Ja=function(t){return zs(this,bs,{oobCode:t})},t.Va=function(t){return zs(this,gs,{oobCode:t})};var gs={endpoint:"setAccountInfo",B:ys,da:"email"},bs={endpoint:"resetPassword",B:ys,J:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e)throw new Lr("internal-error")}},ws={endpoint:"signupNewUser",B:function(t){if(as(t),!t.password)throw new Lr("weak-password")},J:cs,R:!0},_s={endpoint:"createAuthUri"},Es={endpoint:"deleteAccount",T:["idToken"]},Cs={endpoint:"setAccountInfo",T:["idToken","deleteProvider"],B:function(t){if(!u(t.deleteProvider))throw new Lr("internal-error")}},Ss={endpoint:"emailLinkSignin",T:["email","oobCode"],B:as,J:cs,R:!0},xs={endpoint:"emailLinkSignin",T:["idToken","email","oobCode"],B:as,J:cs,R:!0},Ts={endpoint:"getAccountInfo"},As={endpoint:"getOobConfirmationCode",T:["requestType"],B:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new Lr("internal-error");as(t)},da:"email"},Ds={endpoint:"getOobConfirmationCode",T:["idToken","requestType"],B:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new Lr("internal-error")},da:"email"},Is={endpoint:"getOobConfirmationCode",T:["requestType"],B:function(t){if("PASSWORD_RESET"!=t.requestType)throw new Lr("internal-error");as(t)},da:"email"},Ns={tb:!0,endpoint:"getProjectConfig",Hb:"GET"},ks={tb:!0,endpoint:"getRecaptchaParam",Hb:"GET",J:function(t){if(!t.recaptchaSiteKey)throw new Lr("internal-error")}},Ps={endpoint:"resetPassword",B:ys,da:"email"},Os={endpoint:"sendVerificationCode",T:["phoneNumber","recaptchaToken"],da:"sessionInfo"},Ms={endpoint:"setAccountInfo",T:["idToken"],B:us,R:!0},Rs={endpoint:"setAccountInfo",T:["idToken"],B:function(t){if(us(t),!t.password)throw new Lr("weak-password")},J:cs,R:!0},Fs={endpoint:"signupNewUser",J:cs,R:!0},Ls={endpoint:"verifyAssertion",B:ps,J:fs,R:!0},js={endpoint:"verifyAssertion",B:ps,J:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new Lr("user-not-found");if(t.errorMessage)throw Ks(t.errorMessage);if(!t[Yo])throw new Lr("internal-error")},R:!0},Vs={endpoint:"verifyAssertion",B:function(t){if(ps(t),!t.idToken)throw new Lr("internal-error")},J:fs,R:!0},Bs={endpoint:"verifyCustomToken",B:function(t){if(!t.token)throw new Lr("invalid-custom-token")},J:cs,R:!0},Us={endpoint:"verifyPassword",B:function(t){if(as(t),!t.password)throw new Lr("wrong-password")},J:cs,R:!0},qs={endpoint:"verifyPhoneNumber",B:ls,J:cs},Hs={endpoint:"verifyPhoneNumber",B:function(t){if(!t.idToken)throw new Lr("internal-error");ls(t)},J:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Ki(t);cs(t)}},Ws={Wb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:ls,J:cs};function zs(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,e.T))return Et(new Lr("internal-error"));var r,i=e.Hb||"POST";return _t(n).then(e.B).then(function(){return e.R&&(n.returnSecureToken=!0),function(t,e,n,r,i,o){var s=Ge(t.g+e);ze(s,"key",t.b),o&&ze(s,"cb",g().toString());var a="GET"==n;if(a)for(var u in r)r.hasOwnProperty(u)&&ze(s,u,r[u]);return new dt(function(e,o){is(t,s.toString(),function(t){t?t.error?o(Gs(t,i||{})):e(t):o(new Lr("network-request-failed"))},n,a?void 0:Fn(pr(r)),t.a,t.h.get())})}(t,e.endpoint,i,n,e.Wb,e.tb||!1)}).then(function(t){return r=t}).then(e.J).then(function(){if(!e.da)return r;if(!(e.da in r))throw new Lr("internal-error");return r[e.da]})}function Ks(t){return Gs({error:{errors:[{message:t}],code:400,message:t}})}function Gs(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new Lr(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",ut(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new Lr(r[i],e);return!e&&t&&(e=hr(t)),new Lr("internal-error",e)}var Qs,Xs={Zc:{$a:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",hb:"https://securetoken.googleapis.com/v1/token",id:"p"},ad:{$a:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",hb:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},bd:{$a:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",hb:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function $s(t){for(var e in Xs)if(Xs[e].id===t)return{firebaseEndpoint:(t=Xs[e]).$a,secureTokenEndpoint:t.hb};return null}function Ys(t){this.b=t,this.a=null,this.eb=function(t){return(ea||(ea=new dt(function(t,e){function r(){mr(),or("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){mr(),e(Error("Network Error"))},timeout:Zs.get()})}if(or("gapi.iframes.Iframe"))t();else if(or("gapi.load"))r();else{var i="__iframefcb"+Math.floor(1e6*Math.random()).toString();n[i]=function(){or("gapi.load")?r():e(Error("Network Error"))},_t(qo(i=gn(Js,{onload:i}))).s(function(){e(Error("Network Error"))})}}).s(function(t){throw ea=null,t}))).then(function(){return new dt(function(e,n){or("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},ta.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}Qs=$s("__EID__")?"__EID__":void 0;var Js=vn("https://apis.google.com/js/api.js?onload=%{onload}"),Zs=new yr(3e4,6e4),ta=new yr(5e3,15e3),ea=null;function na(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=Qe(this.i,"/__/auth/iframe"),ze(this.a,"apiKey",this.g),ze(this.a,"appName",this.h),this.b=null,this.c=[]}function ra(t,e,n,r,i){this.o=t,this.m=e,this.c=n,this.l=r,this.h=this.g=this.i=null,this.a=i,this.f=null}function ia(t){try{return Bw.a.app(t).auth().xa()}catch(t){return[]}}function oa(t,e,n,r,i){this.m=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.o=this.u=this.v=null,this.g=[],this.l=this.a=null}function sa(t){var e=Un();return function(t){return zs(t,Ns,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=Ge(e),r=n.c;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Ge(o).b==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:Kn.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Wi(Un())})}function aa(t){return t.l?t.l:(t.l=Gn().then(function(){if(!t.u){var e=t.c,n=t.h,r=ia(t.b),i=new na(t.m,t.f,t.b);i.f=e,i.b=n,i.c=V(r||[]),t.u=i.toString()}t.i=new Ys(t.u),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.eb.then(function(){t.a.register("authEvent",e,or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.i,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Ui(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return(n={}).status=r?"ACK":"ERROR",_t(n)}return n.status="ERROR",_t(n)})}(t)}),t.l)}function ua(t){return t.o||(t.v=t.c?rr(t.c,ia(t.b)):null,t.o=new Xo(t.f,$s(t.h),t.v)),t.o}function ca(t,e,n,r,i,o,s,a,u,c){return(t=new ra(t,e,n,r,i)).i=o,t.g=s,t.h=a,t.b=it(u||null),t.f=c,t.toString()}function la(t){if(this.a=t||Bw.a.INTERNAL.reactNative&&Bw.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Lr("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function ha(t){this.b=t,this.a={},this.c=m(this.f,this)}na.prototype.toString=function(){return this.f?ze(this.a,"v",this.f):an(this.a.a,"v"),this.b?ze(this.a,"eid",this.b):an(this.a.a,"eid"),this.c.length?ze(this.a,"fw",this.c.join(",")):an(this.a.a,"fw"),this.a.toString()},ra.prototype.toString=function(){var t=Qe(this.o,"/__/auth/handler");if(ze(t,"apiKey",this.m),ze(t,"appName",this.c),ze(t,"authType",this.l),this.a.isOAuthProvider){var e=this.a;try{var n=Bw.a.app(this.c).auth().ea()}catch(t){n=null}for(var r in e.Za=n,ze(t,"providerId",this.a.providerId),n=pr((e=this.a).xb))n[r]=n[r].toString();r=e.Cc,n=it(n);for(var i=0;i<r.length;i++){var o=r[i];o in n&&delete n[o]}e.bb&&e.Za&&!n[e.bb]&&(n[e.bb]=e.Za),rt(n)||ze(t,"customParameters",hr(n))}if("function"==typeof this.a.Db&&((e=this.a.Db()).length&&ze(t,"scopes",e.join(","))),this.i?ze(t,"redirectUrl",this.i):an(t.a,"redirectUrl"),this.g?ze(t,"eventId",this.g):an(t.a,"eventId"),this.h?ze(t,"v",this.h):an(t.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Ke(t,s)&&ze(t,s,this.b[s]);return this.f?ze(t,"eid",this.f):an(t.a,"eid"),(s=ia(this.c)).length&&ze(t,"fw",s.join(",")),t.toString()},(t=oa.prototype).Ea=function(t,e,n){var r=new Lr("popup-closed-by-user"),i=new Lr("web-storage-unsupported"),o=this,s=!1;return this.ga().then(function(){(function(t){var e={type:"webStorageSupport"};return aa(t).then(function(){return function(t,e){return t.eb.then(function(){return new dt(function(n){t.a.send(e.type,e,n,or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.i,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(t&&Wn(t),e(i),s=!0)})}).s(function(){}).then(function(){if(!s)return function(t){return new dt(function(e){return function n(){Me(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!s)return Me(n).then(function(){e(r)})})},t.Lb=function(){var t=ir();return!lr(t)&&!vr(t)},t.Gb=function(){return!1},t.Bb=function(t,e,n,r,i,o,s){if(!t)return Et(new Lr("popup-blocked"));if(s&&!lr())return this.ga().s(function(e){Wn(t),i(e)}),r(),_t();this.a||(this.a=sa(ua(this)));var a=this;return this.a.then(function(){var e=a.ga().s(function(e){throw Wn(t),i(e),e});return r(),e}).then(function(){(Vi(n),s)||qn(ca(a.m,a.f,a.b,e,n,null,o,a.c,void 0,a.h),t)}).s(function(t){throw"auth/network-request-failed"==t.code&&(a.a=null),t})},t.Ca=function(t,e,n){this.a||(this.a=sa(ua(this)));var r=this;return this.a.then(function(){Vi(e),qn(ca(r.m,r.f,r.b,t,e,Un(),n,r.c,void 0,r.h))}).s(function(t){throw"auth/network-request-failed"==t.code&&(r.a=null),t})},t.ga=function(){var t=this;return aa(this).then(function(){return t.i.eb}).s(function(){throw t.a=null,new Lr("network-request-failed")})},t.Pb=function(){return!0},t.va=function(t){this.g.push(t)},t.Ka=function(t){L(this.g,function(e){return e==t})},(t=la.prototype).get=function(t){return _t(this.a.getItem(t)).then(function(t){return t&&fr(t)})},t.set=function(t,e){return _t(this.a.setItem(t,hr(e)))},t.P=function(t){return _t(this.a.removeItem(t))},t.Y=function(){},t.ca=function(){};var pa,fa=[];function da(t){this.a=t}function va(t){this.c=t,this.b=!1,this.a=[]}function ma(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return Et(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new dt(function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout(function(){r(Error("unsupported_event"))},l),c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}},t.a.push(c),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))}).then(function(e){return ya(t,c),e}).s(function(e){throw ya(t,c),e})}function ya(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),L(t.a,function(t){return t==e})}}function ga(){if(!_a())throw new Lr("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=n.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.u=!1,this.h=null;var t=this;$n()&&self?(this.l=function(){var t=$n()?self:null;if(P(fa,function(n){n.b==t&&(e=n)}),!e){var e=new ha(t);fa.push(e)}return e}(),this.l.subscribe("keyChanged",function(e,n){return Ta(t).then(function(e){return 0<e.length&&P(t.a,function(t){t(e)}),{keyProcessed:R(e,n.key)}})}),this.l.subscribe("ping",function(){return _t(["keyChanged"])})):function(){var t=n.navigator;return t&&t.serviceWorker?_t().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).s(function(){return null}):_t(null)}().then(function(e){(t.h=e)&&(t.g=new va(new da(e)),ma(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&R(e[0].value,"keyChanged")&&(t.u=!0)}).s(function(){}))})}function ba(t){return new dt(function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new dt(function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}(t).then(function(){return ba(t)}).then(function(t){e(t)}).s(function(t){n(t)})}})}function wa(t){return t.o||(t.o=ba(t)),t.o}function _a(){try{return!!n.indexedDB}catch(t){return!1}}function Ea(t){return t.objectStore("firebaseLocalStorage")}function Ca(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Sa(t){return new dt(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(Error(t.target.errorCode))}})}function xa(t,e){return t.g&&t.h&&function(){var t=n.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?ma(t.g,"keyChanged",{key:e},t.u).then(function(){}).s(function(){}):_t()}function Ta(t){return wa(t).then(function(t){var e=Ea(Ca(t,!1));return e.getAll?Sa(e.getAll()):new dt(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(Error(t.target.errorCode))}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r})}function Aa(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Da(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=_t().then(function(){if(_a()){var t=dr(),r="__sak"+t;return pa||(pa=new ga),(n=pa).set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.P(r)}).then(function(){return n}).s(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.Y(function(t){P(e.a,function(e){e(t)})}),t})}function Ia(){this.a={},this.type="inMemory"}function Na(){if(!function(){var t="Node"==Yn();if(!(t=ka()||t&&Bw.a.INTERNAL.node&&Bw.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Yn())throw new Lr("internal-error","The LocalStorage compatibility library was not found.");throw new Lr("web-storage-unsupported")}this.a=ka()||Bw.a.INTERNAL.node.localStorage,this.type="localStorage"}function ka(){try{var t=n.localStorage,e=dr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Pa(){this.type="nullStorage"}function Oa(){if(!function(){var t="Node"==Yn();if(!(t=Ma()||t&&Bw.a.INTERNAL.node&&Bw.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Yn())throw new Lr("internal-error","The SessionStorage compatibility library was not found.");throw new Lr("web-storage-unsupported")}this.a=Ma()||Bw.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Ma(){try{var t=n.sessionStorage,e=dr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}ha.prototype.f=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];P(r,function(e){i.push(_t().then(function(){return e(t.origin,t.data.data)}))}),St(i).then(function(r){var i=[];P(r,function(t){i.push({fulfilled:t.Cb,value:t.value,reason:t.reason?t.reason.message:void 0})}),P(i,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})})}},ha.prototype.subscribe=function(t,e){rt(this.a)&&this.b.addEventListener("message",this.c),void 0===this.a[t]&&(this.a[t]=[]),this.a[t].push(e)},ha.prototype.unsubscribe=function(t,e){void 0!==this.a[t]&&e?(L(this.a[t],function(t){return t==e}),0==this.a[t].length&&delete this.a[t]):e||delete this.a[t],rt(this.a)&&this.b.removeEventListener("message",this.c)},da.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},va.prototype.close=function(){for(;0<this.a.length;)ya(this,this.a[0]);this.b=!0},(t=ga.prototype).set=function(t,e){var n,r=!1,i=this;return wa(this).then(function(e){return Sa((e=Ea(Ca(n=e,!0))).get(t))}).then(function(o){var s=Ea(Ca(n,!0));return o?(o.value=e,Sa(s.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,Sa(s.add(o)))}).then(function(){return i.c[t]=e,xa(i,t)}).ia(function(){r&&i.b--})},t.get=function(t){return wa(this).then(function(e){return Sa(Ea(Ca(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.P=function(t){var e=!1,n=this;return wa(this).then(function(r){return e=!0,n.b++,Sa(Ea(Ca(r,!0)).delete(t))}).then(function(){return delete n.c[t],xa(n,t)}).ia(function(){e&&n.b--})},t.Y=function(t){0==this.a.length&&function(t){Aa(t),function e(){t.f=setTimeout(function(){t.i=Ta(t).then(function(e){0<e.length&&P(t.a,function(t){t(e)})}).then(function(){e()}).s(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()}(this),this.a.push(t)},t.ca=function(t){L(this.a,function(e){return e==t}),0==this.a.length&&Aa(this)},(t=Da.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},t.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},t.P=function(t){return this.b.then(function(e){return e.P(t)})},t.Y=function(t){this.a.push(t)},t.ca=function(t){L(this.a,function(e){return e==t})},(t=Ia.prototype).get=function(t){return _t(this.a[t])},t.set=function(t,e){return this.a[t]=e,_t()},t.P=function(t){return delete this.a[t],_t()},t.Y=function(){},t.ca=function(){},(t=Na.prototype).get=function(t){var e=this;return _t().then(function(){return fr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return _t().then(function(){var r=hr(e);null===r?n.P(t):n.a.setItem(t,r)})},t.P=function(t){var e=this;return _t().then(function(){e.a.removeItem(t)})},t.Y=function(t){n.window&&ye(n.window,"storage",t)},t.ca=function(t){n.window&&we(n.window,"storage",t)},(t=Pa.prototype).get=function(){return _t(null)},t.set=function(){return _t()},t.P=function(){return _t()},t.Y=function(){},t.ca=function(){},(t=Oa.prototype).get=function(t){var e=this;return _t().then(function(){return fr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return _t().then(function(){var r=hr(e);null===r?n.P(t):n.a.setItem(t,r)})},t.P=function(t){var e=this;return _t().then(function(){e.a.removeItem(t)})},t.Y=function(){},t.ca=function(){};var Ra,Fa,La={A:Na,Qa:Oa},ja={A:Na,Qa:Oa},Va={A:la,Qa:Pa},Ba={A:Na,Qa:Pa},Ua={Yc:"local",NONE:"none",$c:"session"};function qa(){var t=!(vr(ir())||!Xn()),e=lr(),r=sr();this.o=t,this.h=e,this.l=r,this.a={},Ra||(Ra=new function(){var t={};t.Browser=La,t.Node=ja,t.ReactNative=Va,t.Worker=Ba,this.a=t[Yn()]}),t=Ra;try{this.g=!Bn()&&wr()||!n.indexedDB?new t.a.A:new Da($n()?new Ia:new t.a.A)}catch(t){this.g=new Ia,this.h=!0}try{this.i=new t.a.Qa}catch(t){this.i=new Ia}this.m=new Ia,this.f=m(this.Ob,this),this.b={}}function Ha(){return Fa||(Fa=new qa),Fa}function Wa(t,e){switch(e){case"session":return t.i;case"none":return t.m;default:return t.g}}function za(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Ka(t,e,n){return n=za(e,n),"local"==e.A&&(t.b[n]=null),Wa(t,e.A).P(n)}function Ga(t){t.c&&(clearInterval(t.c),t.c=null)}(t=qa.prototype).get=function(t,e){return Wa(this,t.A).get(za(t,e))},t.set=function(t,e,n){var r=za(t,n),i=this,o=Wa(this,t.A);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.A&&(i.b[r]=e)})},t.addListener=function(t,e,r){t=za(t,e),this.l&&(this.b[t]=n.localStorage.getItem(t)),rt(this.a)&&(Wa(this,"local").Y(this.f),this.h||(Bn()||!wr())&&n.indexedDB||!this.l||function(t){Ga(t),t.c=setInterval(function(){for(var e in t.a){var r=n.localStorage.getItem(e),i=t.b[e];r!=i&&(t.b[e]=r,r=new ae({type:"storage",key:e,target:window,oldValue:i,newValue:r,a:!0}),t.Ob(r))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(r)},t.removeListener=function(t,e,n){t=za(t,e),this.a[t]&&(L(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),rt(this.a)&&(Wa(this,"local").ca(this.f),Ga(this))},t.Ob=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var r in this.a){var i=this.b[r];void 0===i&&(i=null);var o=n.localStorage.getItem(r);o!==i&&(this.b[r]=o,this.Wa(r))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Wa(this,"local").ca(this.f):Ga(this),this.o)if(r=n.localStorage.getItem(e),(i=t.a.newValue)!==r)null!==i?n.localStorage.setItem(e,i):n.localStorage.removeItem(e);else if(this.b[e]===i&&void 0===t.a.a)return;var s=this;r=function(){void 0===t.a.a&&s.b[e]===n.localStorage.getItem(e)||(s.b[e]=n.localStorage.getItem(e),s.Wa(e))},Ht&&Jt&&10==Jt&&n.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(r,10):r()}}else P(t,m(this.Wa,this))},t.Wa=function(t){this.a[t]&&P(this.a[t],function(t){t()})};var Qa,Xa={name:"authEvent",A:"local"};function $a(t,e){this.b=Ya,this.f=n.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=n.Int32Array?new Int32Array(64):Array(64),void 0!==Qa||(Qa=n.Int32Array?new Int32Array(iu):iu),this.reset()}b($a,function(){this.b=-1});for(var Ya=64,Ja=Ya-1,Za=[],tu=0;tu<Ja;tu++)Za[tu]=0;var eu=j(128,Za);function nu(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var p=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&l^~c&h)+(0|Qa[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+s|0,u=a,a=i,i=r,r=s+p|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function ru(t,e,n){void 0===n&&(n=e.length);var i=0,o=t.c;if(r(e))for(;i<n;)t.f[o++]=e.charCodeAt(i++),o==t.b&&(nu(t),o=0);else{if(!c(e))throw Error("message must be string or array");for(;i<n;){var s=e[i++];if(!("number"==typeof s&&0<=s&&255>=s&&s==(0|s)))throw Error("message must be a byte array");t.f[o++]=s,o==t.b&&(nu(t),o=0)}}t.c=o,t.g+=n}$a.prototype.reset=function(){this.g=this.c=0,this.a=n.Int32Array?new Int32Array(this.h):V(this.h)};var iu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ou(){$a.call(this,8,su)}b(ou,$a);var su=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function au(t,e,n,r,i){this.m=t,this.i=e,this.l=n,this.o=r||null,this.u=i||null,this.h=e+":"+n,this.v=new function(){this.a=Ha()},this.g=new function(t){this.a=t,this.b=Ha()}(this.h),this.f=null,this.b=[],this.a=this.c=null}function uu(t){return new Lr("invalid-cordova-configuration",t)}function cu(t){var e=new ou;ru(e,t),t=[];var n=8*e.g;56>e.c?ru(e,eu,56-e.c):ru(e,eu,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(nu(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return O(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}function lu(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function hu(t){return t.f||(t.f=t.ga().then(function(){return new dt(function(e){t.va(function n(r){return e(r),t.Ka(n),!1}),function(t){function e(e){i=!0,o&&o.cancel(),pu(t).then(function(n){var i=r;if(n&&e&&e.url){var o=null;-1!=(i=mi(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=fr(Ke(o=Ge(i),"firebaseError")||null))?jr(o):null)?new Bi(n.b,n.c,null,null,o):new Bi(n.b,n.c,i,n.g)),i=o||r}lu(t,i)})}var r=new Bi("unknown",null,null,null,new Lr("no-auth-event")),i=!1,o=Me(500).then(function(){return pu(t).then(function(){i||lu(t,r)})}),s=n.handleOpenURL;n.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(or("BuildInfo.packageName",n).toLowerCase()+"://")&&e({url:t}),"function"==typeof s)try{s(t)}catch(t){console.error(t)}},Hi||(Hi=new qi),Hi.subscribe(e)}(t)})})),t.f}function pu(t){var e=null;return function(t){return t.b.get(Xa,t.a).then(function(t){return Ui(t)})}(t.g).then(function(n){return e=n,Ka((n=t.g).b,Xa,n.a)}).then(function(){return e})}(t=au.prototype).ga=function(){return this.za?this.za:this.za=(Qn(void 0)?Gn().then(function(){return new dt(function(t,e){var r=n.document,i=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);r.addEventListener("deviceready",function(){clearTimeout(i),t()},!1)})}):Et(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof or("universalLinks.subscribe",n))throw uu("cordova-universal-links-plugin-fix is not installed");if(void 0===or("BuildInfo.packageName",n))throw uu("cordova-plugin-buildinfo is not installed");if("function"!=typeof or("cordova.plugins.browsertab.openUrl",n))throw uu("cordova-plugin-browsertab is not installed");if("function"!=typeof or("cordova.InAppBrowser.open",n))throw uu("cordova-plugin-inappbrowser is not installed")},function(){throw new Lr("cordova-not-ready")})},t.Ea=function(t,e){return e(new Lr("operation-not-supported-in-this-environment")),_t()},t.Bb=function(){return Et(new Lr("operation-not-supported-in-this-environment"))},t.Pb=function(){return!1},t.Lb=function(){return!0},t.Gb=function(){return!0},t.Ca=function(t,e,r){if(this.c)return Et(new Lr("redirect-operation-pending"));var i=this,o=n.document,s=null,a=null,u=null,c=null;return this.c=_t().then(function(){return Vi(e),hu(i)}).then(function(){return function(t,e,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Bi(e,i,null,o,new Lr("no-auth-event")),a=or("BuildInfo.packageName",n);if("string"!=typeof a)throw new Lr("invalid-cordova-configuration");var u=or("BuildInfo.displayName",n),c={};if(ir().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=a;else{if(!ir().toLowerCase().match(/android/))return Et(new Lr("operation-not-supported-in-this-environment"));c.apn=a}u&&(c.appDisplayName=u),o=cu(o),c.sessionId=o;var l=ca(t.m,t.i,t.l,e,r,null,i,t.o,c,t.u);return t.ga().then(function(){var e=t.h;return t.v.a.set(Xa,s.D(),e)}).then(function(){var e=or("cordova.plugins.browsertab.isAvailable",n);if("function"!=typeof e)throw new Lr("invalid-cordova-configuration");var r=null;e(function(e){if(e){if("function"!=typeof(r=or("cordova.plugins.browsertab.openUrl",n)))throw new Lr("invalid-cordova-configuration");r(l)}else{if("function"!=typeof(r=or("cordova.InAppBrowser.open",n)))throw new Lr("invalid-cordova-configuration");e=!(!(e=ir()).match(/(iPad|iPhone|iPod).*OS 7_\d/i)&&!e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)),t.a=r(l,e?"_blank":"_system","location=yes")}})})}(i,t,e,r)}).then(function(){return new dt(function(t,e){a=function(){var e=or("cordova.plugins.browsertab.close",n);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.va(a),u=function(){s||(s=Me(2e3).then(function(){e(new Lr("redirect-cancelled-by-user"))}))},c=function(){gr()&&u()},o.addEventListener("resume",u,!1),ir().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)}).s(function(t){return pu(i).then(function(){throw t})})}).ia(function(){u&&o.removeEventListener("resume",u,!1),c&&o.removeEventListener("visibilitychange",c,!1),s&&s.cancel(),a&&i.Ka(a),i.c=null})},t.va=function(t){this.b.push(t),hu(this).s(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Bi("unknown",null,null,null,new Lr("no-auth-event")),t(e))})},t.Ka=function(t){L(this.b,function(e){return e==t})};var fu={name:"pendingRedirect",A:"session"};function du(t){return Ka(t.b,fu,t.a)}function vu(t,e,n){this.u=t,this.l=e,this.m=n,this.h=[],this.f=!1,this.i=m(this.ab,this),this.b=new xu,this.o=new Iu,this.g=new function(t){this.a=t,this.b=Ha()}(this.l+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.o,this.c.linkViaPopup=this.o,this.c.reauthViaPopup=this.o,this.a=mu(this.u,this.l,this.m,Qs)}function mu(t,e,n,r){var i=Bw.a.SDK_VERSION||null;return Qn()?new au(t,e,n,i,r):new oa(t,e,n,i,r)}function yu(t){t.f||(t.f=!0,t.a.va(t.i));var e=t.a;return t.a.ga().s(function(n){throw t.a==e&&t.reset(),n})}function gu(t){t.a.Lb()&&yu(t).s(function(e){var n=new Bi("unknown",null,null,null,new Lr("operation-not-supported-in-this-environment"));Eu(e)&&t.ab(n)}),t.a.Gb()||Tu(t.b)}(t=vu.prototype).reset=function(){this.f=!1,this.a.Ka(this.i),this.a=mu(this.u,this.l,this.m)},t.Xa=function(){this.b.Xa()},t.subscribe=function(t){if(R(this.h,t)||this.h.push(t),!this.f){var e=this;(function(t){return t.b.get(fu,t.a).then(function(t){return"pending"==t})})(this.g).then(function(t){t?du(e.g).then(function(){yu(e).s(function(t){var n=new Bi("unknown",null,null,null,new Lr("operation-not-supported-in-this-environment"));Eu(t)&&e.ab(n)})}):gu(e)}).s(function(){gu(e)})}},t.unsubscribe=function(t){L(this.h,function(e){return e==t})},t.ab=function(t){if(!t)throw new Lr("invalid-auth-event");for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.ub(t.b,t.c)){(e=this.c[t.b])&&e.h(t,r),e=!0;break}}return Tu(this.b),e};var bu=new yr(2e3,1e4),wu=new yr(3e4,6e4);function _u(t,e,n,r,i,o){return t.a.Bb(e,n,r,function(){t.f||(t.f=!0,t.a.va(t.i))},function(){t.reset()},i,o)}function Eu(t){return!(!t||"auth/cordova-not-ready"!=t.code)}vu.prototype.fa=function(){return this.b.fa()},vu.prototype.Ca=function(t,e,n){var r,i=this;return function(t){return t.b.set(fu,"pending",t.a)}(this.g).then(function(){return i.a.Ca(t,e,n).s(function(t){if(Eu(t))throw new Lr("operation-not-supported-in-this-environment");return r=t,du(i.g).then(function(){throw r})}).then(function(){return i.a.Pb()?new dt(function(){}):du(i.g).then(function(){return i.fa()}).then(function(){}).s(function(){})})})},vu.prototype.Ea=function(t,e,n,r){return this.a.Ea(n,function(n){t.ha(e,null,n,r)},bu.get())};var Cu={};function Su(t,e,n){var r=e+":"+n;return Cu[r]||(Cu[r]=new vu(t,e,n)),Cu[r]}function xu(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Tu(t){t.g||(t.g=!0,Du(t,!1,null,null))}function Au(t,e){if(t.b=function(){return _t(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Du(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Et(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Au(t,n):Au(t,{user:null}),t.f=[],t.c=[]}function Iu(){}function Nu(){this.rb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.rb},set:function(t){this.rb=t},enumerable:!1})}function ku(t,e){this.a=e,xr(this,"verificationId",t)}function Pu(t,e,n,r){return new Fi(t).Ta(e,n).then(function(t){return new ku(t,r)})}function Ou(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Mu(t){this.f=t,this.b=this.a=null,this.c=0}function Ru(t,e){var n=e[Yo],r=e.refreshToken;e=Fu(e.expiresIn),t.b=n,t.c=e,t.a=r}function Fu(t){return g()+1e3*parseInt(t,10)}function Lu(t,e){return function(t,e){return new dt(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?is(t,t.i+"?key="+encodeURIComponent(t.b),function(t){t?t.error?r(Gs(t)):t.access_token&&t.refresh_token?n(t):r(new Lr("internal-error")):r(new Lr("network-request-failed"))},"POST",sn(e).toString(),t.f,t.l.get()):r(new Lr("internal-error"))})}(t.f,e).then(function(e){return t.b=e.access_token,t.c=Fu(e.expires_in),t.a=e.refresh_token,{accessToken:t.b,expirationTime:t.c,refreshToken:t.a}}).s(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}function ju(t,e){this.a=t||null,this.b=e||null,Tr(this,{lastSignInTime:br(e||null),creationTime:br(t||null)})}function Vu(t,e){for(var n in se.call(this,t),e)this[n]=e[n]}function Bu(t,e,n){this.G=[],this.m=t.apiKey,this.o=t.appName,this.u=t.authDomain||null,t=Bw.a.SDK_VERSION?rr(Bw.a.SDK_VERSION):null,this.b=new Xo(this.m,$s(Qs),t),this.h=new Mu(this.b),Gu(this,e[Yo]),Ru(this.h,e),xr(this,"refreshToken",this.h.a),$u(this,n||{}),Ie.call(this),this.I=!1,this.u&&ar()&&(this.a=Su(this.u,this.m,this.o)),this.N=[],this.i=null,this.w=function(t){return new Ou(function(){return t.F(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.h.c-g()-3e5;return 0<e?e:0})}(this),this.V=m(this.Ha,this);var r=this;this.ka=null,this.sa=function(t){r.oa(t.g)},this.X=null,this.O=[],this.ra=function(t){qu(r,t.c)},this.W=null}function Uu(t,e){t.X&&we(t.X,"languageCodeChanged",t.sa),(t.X=e)&&ye(e,"languageCodeChanged",t.sa)}function qu(t,e){t.O=e,rs(t.b,Bw.a.SDK_VERSION?rr(Bw.a.SDK_VERSION,t.O):null)}function Hu(t,e){t.W&&we(t.W,"frameworkChanged",t.ra),(t.W=e)&&ye(e,"frameworkChanged",t.ra)}function Wu(t){try{return Bw.a.app(t.o).auth()}catch(e){throw new Lr("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.o+"'!")}}function zu(t){t.C||t.w.b||(t.w.start(),we(t,"tokenChanged",t.V),ye(t,"tokenChanged",t.V))}function Ku(t){we(t,"tokenChanged",t.V),t.w.stop()}function Gu(t,e){t.qa=e,xr(t,"_lat",e)}function Qu(t){for(var e=[],n=0;n<t.N.length;n++)e.push(t.N[n](t));return St(e).then(function(){return t})}function Xu(t){t.a&&!t.I&&(t.I=!0,t.a.subscribe(t))}function $u(t,e){Tr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,metadata:new ju(e.createdAt,e.lastLoginAt),providerData:[]})}function Yu(){}function Ju(t){return _t().then(function(){if(t.C)throw new Lr("app-deleted")})}function Zu(t){return O(t.providerData,function(t){return t.providerId})}function tc(t,e){e&&(ec(t,e.providerId),t.providerData.push(e))}function ec(t,e){L(t.providerData,function(t){return t.providerId==e})}function nc(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&xr(t,e,n)}function rc(t,e){t!=e&&(Tr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,providerData:[]}),e.metadata?xr(t,"metadata",function(t){return new ju(t.a,t.b)}(e.metadata)):xr(t,"metadata",new ju),P(e.providerData,function(e){tc(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),xr(t,"refreshToken",t.h.a))}function ic(t){return t.F().then(function(e){var n=t.isAnonymous;return function(t,e){return zs(t.b,Ts,{idToken:e}).then(m(t.wc,t))}(t,e).then(function(){return n||nc(t,"isAnonymous",!1),e})})}function oc(t,e){e[Yo]&&t.qa!=e[Yo]&&(Ru(t.h,e),t.dispatchEvent(new Vu("tokenChanged")),Gu(t,e[Yo]),nc(t,"refreshToken",t.h.a))}function sc(t,e){return ic(t).then(function(){if(R(Zu(t),e))return Qu(t).then(function(){throw new Lr("provider-already-linked")})})}function ac(t,e,n){return Ar({user:t,credential:ji(e),additionalUserInfo:e=ai(e),operationType:n})}function uc(t,e){return oc(t,e),t.reload().then(function(){return t})}function cc(t,e,n,r,i){if(!ar())return Et(new Lr("operation-not-supported-in-this-environment"));if(t.i&&!i)return Et(t.i);var o=si(n.providerId),s=dr(t.uid+":::"),a=null;(!lr()||Xn())&&t.u&&n.isOAuthProvider&&(a=ca(t.u,t.m,t.o,e,n,null,s,Bw.a.SDK_VERSION||null));var u=zn(a,o&&o.Ba,o&&o.Aa);return r=r().then(function(){if(hc(t),!i)return t.F().then(function(){})}).then(function(){return _u(t.a,u,e,n,s,!!a)}).then(function(){return new dt(function(n,r){t.ha(e,null,new Lr("cancelled-popup-request"),t.g||null),t.f=n,t.v=r,t.g=s,t.c=t.a.Ea(t,e,u,s)})}).then(function(t){return u&&Wn(u),t?Ar(t):null}).s(function(t){throw u&&Wn(u),t}),pc(t,r,i)}function lc(t,e,n,r,i){if(!ar())return Et(new Lr("operation-not-supported-in-this-environment"));if(t.i&&!i)return Et(t.i);var o=null,s=dr(t.uid+":::");return r=r().then(function(){if(hc(t),!i)return t.F().then(function(){})}).then(function(){return t.aa=s,Qu(t)}).then(function(e){return t.ba&&(e=(e=t.ba).b.set(dc,t.D(),e.a)),e}).then(function(){return t.a.Ca(e,n,s)}).s(function(e){if(o=e,t.ba)return vc(t.ba);throw o}).then(function(){if(o)throw o}),pc(t,r,i)}function hc(t){if(!t.a||!t.I){if(t.a&&!t.I)throw new Lr("internal-error");throw new Lr("auth-domain-config-required")}}function pc(t,e,n){var r=function(t,e,n){return t.i&&!n?(e.cancel(),Et(t.i)):e.s(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new Vu("userInvalidated")),t.i=e),e})}(t,e,n);return t.G.push(r),r.ia(function(){F(t.G,r)}),r}function fc(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n[Yo]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-g())/1e3;var r=new Bu(e,n,t);return t.providerData&&P(t.providerData,function(t){t&&tc(r,Ar(t))}),t.redirectEventId&&(r.aa=t.redirectEventId),r}xu.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},xu.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.b,r=t.c,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Du(this,!0,null,t.a),_t()):e.wa(n,r)?function(t,e,n){n=n.wa(e.b,e.c);var r=e.f,i=e.g,o=!!e.b.match(/Redirect$/);n(r,i).then(function(e){Du(t,o,e,null)}).s(function(e){Du(t,o,null,e)})}(this,t,e):Et(new Lr("invalid-auth-event")):(Du(this,!1,null,null),_t())}else Et(new Lr("invalid-auth-event"))},xu.prototype.Xa=function(){this.g&&!this.i&&Du(this,!1,null,null)},xu.prototype.fa=function(){var t=this;return new dt(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new Lr("timeout");t.a&&t.a.cancel(),t.a=Me(wu.get()).then(function(){t.b||(t.g=!0,Du(t,!0,null,e))})}(t))})},Iu.prototype.h=function(t,e){if(t){var n=t.b,r=t.c;t.a?(e.ha(t.b,null,t.a,t.c),_t()):e.wa(n,r)?function(t,e){var n=t.c,r=t.b;e.wa(r,n)(t.f,t.g).then(function(t){e.ha(r,t,null,n)}).s(function(t){e.ha(r,null,t,n)})}(t,e):Et(new Lr("invalid-auth-event"))}else Et(new Lr("invalid-auth-event"))},ku.prototype.confirm=function(t){return t=Li(this.verificationId,t),this.a(t)},Ou.prototype.start=function(){this.a=this.c,function t(e,r){e.stop();e.b=Me(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,r)).then(function(){return t=n.document,e=null,gr()||!t?_t():new dt(function(n){e=function(){gr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).s(function(n){throw t.removeEventListener("visibilitychange",e,!1),n});var t,e}).then(function(){return e.h()}).then(function(){t(e,!0)}).s(function(n){e.i(n)&&t(e,!1)})}(this,!0)},Ou.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Mu.prototype.D=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},Mu.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Et(new Lr("user-token-expired")):t||!this.b||g()>this.c-3e4?this.a?Lu(this,{grant_type:"refresh_token",refresh_token:this.a}):_t(null):_t({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},ju.prototype.D=function(){return{lastLoginAt:this.b,createdAt:this.a}},b(Vu,se),b(Bu,Ie),Bu.prototype.oa=function(t){this.ka=t,ns(this.b,t)},Bu.prototype.ea=function(){return this.ka},Bu.prototype.xa=function(){return V(this.O)},Bu.prototype.Ha=function(){this.w.b&&(this.w.stop(),this.w.start())},xr(Bu.prototype,"providerId","firebase"),(t=Bu.prototype).reload=function(){var t=this;return pc(this,Ju(this).then(function(){return ic(t).then(function(){return Qu(t)}).then(Yu)}))},t.cc=function(t){return this.F(t).then(function(t){return new function(t){var e=ni(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new Lr("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Tr(this,{token:t,expirationTime:br(1e3*e.exp),authTime:br(1e3*e.auth_time),issuedAtTime:br(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,claims:e})}(t)})},t.F=function(t){var e=this;return pc(this,Ju(this).then(function(){return e.h.getToken(t)}).then(function(t){if(!t)throw new Lr("internal-error");return t.accessToken!=e.qa&&(Gu(e,t.accessToken),e.dispatchEvent(new Vu("tokenChanged"))),nc(e,"refreshToken",t.refreshToken),t.accessToken}))},t.wc=function(t){if(!(t=t.users)||!t.length)throw new Lr("internal-error");$u(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?O(t,function(t){return new function(t,e,n,r,i,o){Tr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)tc(this,e[n]);nc(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length))},t.fb=function(t){var e=this,n=null;return pc(this,t.f(this.b,this.uid).then(function(t){return oc(e,t),n=ac(e,t,"reauthenticate"),e.i=null,e.reload()}).then(function(){return n}),!0)},t.xc=function(t){return Cr("firebase.User.prototype.reauthenticateWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential instead."),this.fb(t).then(function(){})},t.cb=function(t){var e=this,n=null;return pc(this,sc(this,t.providerId).then(function(){return e.F()}).then(function(n){return t.c(e.b,n)}).then(function(t){return n=ac(e,t,"link"),uc(e,t)}).then(function(){return n}))},t.oc=function(t){return Cr("firebase.User.prototype.linkWithCredential is deprecated. Please use firebase.User.prototype.linkAndRetrieveDataWithCredential instead."),this.cb(t).then(function(t){return t.user})},t.pc=function(t,e){var n=this;return pc(this,sc(this,"phone").then(function(){return Pu(Wu(n),t,e,m(n.cb,n))}))},t.yc=function(t,e){var n=this;return pc(this,_t().then(function(){return Pu(Wu(n),t,e,m(n.fb,n))}),!0)},t.ob=function(t){var e=this;return pc(this,this.F().then(function(n){return e.b.ob(n,t)}).then(function(t){return oc(e,t),e.reload()}))},t.Qc=function(t){var e=this;return pc(this,this.F().then(function(n){return t.c(e.b,n)}).then(function(t){return oc(e,t),e.reload()}))},t.pb=function(t){var e=this;return pc(this,this.F().then(function(n){return e.b.pb(n,t)}).then(function(t){return oc(e,t),e.reload()}))},t.qb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Ju(this);var e=this;return pc(this,this.F().then(function(n){return e.b.qb(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return oc(e,t),nc(e,"displayName",t.displayName||null),nc(e,"photoURL",t.photoUrl||null),P(e.providerData,function(t){"password"===t.providerId&&(xr(t,"displayName",e.displayName),xr(t,"photoURL",e.photoURL))}),Qu(e)}).then(Yu))},t.Oc=function(t){var e=this;return pc(this,ic(this).then(function(n){return R(Zu(e),t)?function(t,e,n){return zs(t,Cs,{idToken:e,deleteProvider:n})}(e.b,n,[t]).then(function(t){var n={};return P(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),P(Zu(e),function(t){n[t]||ec(e,t)}),n[Fi.PROVIDER_ID]||xr(e,"phoneNumber",null),Qu(e)}):Qu(e).then(function(){throw new Lr("no-such-provider")})}))},t.delete=function(){var t=this;return pc(this,this.F().then(function(e){return zs(t.b,Es,{idToken:e})}).then(function(){t.dispatchEvent(new Vu("userDeleted"))})).then(function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");Uu(t,null),Hu(t,null),t.G=[],t.C=!0,Ku(t),xr(t,"refreshToken",null),t.a&&t.a.unsubscribe(t)})},t.ub=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.aa||null)==e||"reauthViaRedirect"==t&&(this.aa||null)==e)},t.ha=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.wa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?m(this.zb,this):"reauthViaPopup"==t&&e==(this.g||null)?m(this.Ab,this):"linkViaRedirect"==t&&(this.aa||null)==e?m(this.zb,this):"reauthViaRedirect"==t&&(this.aa||null)==e?m(this.Ab,this):null},t.qc=function(t){var e=this;return cc(this,"linkViaPopup",t,function(){return sc(e,t.providerId).then(function(){return Qu(e)})},!1)},t.zc=function(t){return cc(this,"reauthViaPopup",t,function(){return _t()},!0)},t.rc=function(t){var e=this;return lc(this,"linkViaRedirect",t,function(){return sc(e,t.providerId)},!1)},t.Ac=function(t){return lc(this,"reauthViaRedirect",t,function(){return _t()},!0)},t.zb=function(t,e){var n=this;this.c&&(this.c.cancel(),this.c=null);var r=null;return pc(this,this.F().then(function(r){return vs(n.b,{requestUri:t,sessionId:e,idToken:r})}).then(function(t){return r=ac(n,t,"link"),uc(n,t)}).then(function(){return r}))},t.Ab=function(t,e){var n=this;this.c&&(this.c.cancel(),this.c=null);var r=null;return pc(this,_t().then(function(){return yi(ms(n.b,{requestUri:t,sessionId:e}),n.uid)}).then(function(t){return r=ac(n,t,"reauthenticate"),oc(n,t),n.i=null,n.reload()}).then(function(){return r}),!0)},t.ib=function(t){var e=this,n=null;return pc(this,this.F().then(function(e){return n=e,void 0===t||rt(t)?{}:$r(new Ur(t))}).then(function(t){return e.b.ib(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.toJSON=function(){return this.D()},t.D=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.m,appName:this.o,authDomain:this.u,stsTokenManager:this.h.D(),redirectEventId:this.aa||null};return this.metadata&&ut(t,this.metadata.D()),P(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),t};var dc={name:"redirectUser",A:"session"};function vc(t){return Ka(t.b,dc,t.a)}function mc(t){this.a=t,this.b=Ha(),this.c=null,this.f=function(t){var e=bc("local"),r=bc("session"),i=bc("none");return function(t,e,r){var i=za(e,r),o=Wa(t,e.A);return t.get(e,r).then(function(s){var a=null;try{a=fr(n.localStorage.getItem(i))}catch(t){}if(a&&!s)return n.localStorage.removeItem(i),t.set(e,a,r);a&&s&&"localStorage"!=o.type&&n.localStorage.removeItem(i)})}(t.b,e,t.a).then(function(){return t.b.get(r,t.a)}).then(function(n){return n?r:t.b.get(i,t.a).then(function(n){return n?i:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(gc,t.a).then(function(t){return t?bc(t):e})})})}).then(function(e){return t.c=e,yc(t,e.A)}).s(function(){t.c||(t.c=e)})}(this),this.b.addListener(bc("local"),this.a,m(this.g,this))}function yc(t,e){var n,r=[];for(n in Ua)Ua[n]!==e&&r.push(Ka(t.b,bc(Ua[n]),t.a));return r.push(Ka(t.b,gc,t.a)),function(t){return new dt(function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)Ct(t[a],y(o,a),s);else e(i)})}(r)}mc.prototype.g=function(){var t=this,e=bc("local");Cc(this,function(){return _t().then(function(){return t.c&&"local"!=t.c.A?t.b.get(e,t.a):null}).then(function(n){if(n)return yc(t,"local").then(function(){t.c=e})})})};var gc={name:"persistence",A:"session"};function bc(t){return{name:"authUser",A:t}}function wc(t,e){return Cc(t,function(){return t.b.set(t.c,e.D(),t.a)})}function _c(t){return Cc(t,function(){return Ka(t.b,t.c,t.a)})}function Ec(t,e){return Cc(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),fc(t||{})})})}function Cc(t,e){return t.f=t.f.then(e,e),t.f}function Sc(t){if(this.m=!1,xr(this,"settings",new Nu),xr(this,"app",t),!kc(this).options||!kc(this).options.apiKey)throw new Lr("invalid-api-key");t=Bw.a.SDK_VERSION?rr(Bw.a.SDK_VERSION):null,this.b=new Xo(kc(this).options&&kc(this).options.apiKey,$s(Qs),t),this.N=[],this.o=[],this.I=[],this.Sb=Bw.a.INTERNAL.createSubscribe(m(this.kc,this)),this.O=void 0,this.Tb=Bw.a.INTERNAL.createSubscribe(m(this.mc,this)),Ic(this,null),this.h=new mc(kc(this).options.apiKey+":"+kc(this).name),this.w=new function(t){this.a=t,this.b=Ha()}(kc(this).options.apiKey+":"+kc(this).name),this.V=Rc(this,function(t){var e=kc(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(dc,t.a).then(function(t){return t&&e&&(t.authDomain=e),fc(t||{})})}(t.w,kc(t).options.authDomain).then(function(e){return(t.C=e)&&(e.ba=t.w),vc(t.w)});return Rc(t,e)}(t).then(function(){return Ec(t.h,e)}).then(function(e){return e?(e.ba=t.w,t.C&&(t.C.aa||null)==(e.aa||null)?e:e.reload().then(function(){return wc(t.h,e).then(function(){return e})}).s(function(n){return"auth/network-request-failed"==n.code?e:_c(t.h)})):null}).then(function(e){Ic(t,e||null)});return Rc(t,n)}(this)),this.i=Rc(this,function(t){return t.V.then(function(){return t.fa()}).s(function(){}).then(function(){if(!t.m)return t.ka()}).s(function(){}).then(function(){if(!t.m){t.X=!0;var e=t.h;e.b.addListener(bc("local"),e.a,t.ka)}})}(this)),this.X=!1,this.ka=m(this.Lc,this),this.Ha=m(this.Z,this),this.qa=m(this.ac,this),this.ra=m(this.ic,this),this.sa=m(this.jc,this),function(t){var e=kc(t).options.authDomain,n=kc(t).options.apiKey;e&&ar()&&(t.Rb=t.V.then(function(){if(!t.m){if(t.a=Su(e,n,kc(t).name),t.a.subscribe(t),Pc(t)&&Xu(Pc(t)),t.C){Xu(t.C);var r=t.C;r.oa(t.ea()),Uu(r,t),qu(r=t.C,t.G),Hu(r,t),t.C=null}return t.a}}))}(this),this.INTERNAL={},this.INTERNAL.delete=m(this.delete,this),this.INTERNAL.logFramework=m(this.sc,this),this.u=0,Ie.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ea()},set:function(t){this.oa(t)},enumerable:!1}),t.W=null}(this),this.G=[]}function xc(t){se.call(this,"languageCodeChanged"),this.g=t}function Tc(t){se.call(this,"frameworkChanged"),this.c=t}function Ac(t){return t.Rb||Et(new Lr("auth-domain-config-required"))}function Dc(t,e){var n={};return n.apiKey=kc(t).options.apiKey,n.authDomain=kc(t).options.authDomain,n.appName=kc(t).name,t.V.then(function(){return function(t,e,n,r){var i=new Bu(t,e);return n&&(i.ba=n),r&&qu(i,r),i.reload().then(function(){return i})}(n,e,t.w,t.xa())}).then(function(e){return Pc(t)&&e.uid==Pc(t).uid?(rc(Pc(t),e),t.Z(e)):(Ic(t,e),Xu(e),t.Z(e))}).then(function(){Mc(t)})}function Ic(t,e){Pc(t)&&(function(t,e){L(t.N,function(t){return t==e})}(Pc(t),t.Ha),we(Pc(t),"tokenChanged",t.qa),we(Pc(t),"userDeleted",t.ra),we(Pc(t),"userInvalidated",t.sa),Ku(Pc(t))),e&&(e.N.push(t.Ha),ye(e,"tokenChanged",t.qa),ye(e,"userDeleted",t.ra),ye(e,"userInvalidated",t.sa),0<t.u&&zu(e)),xr(t,"currentUser",e),e&&(e.oa(t.ea()),Uu(e,t),qu(e,t.G),Hu(e,t))}function Nc(t,e){var n=null,r=null;return Rc(t,e.then(function(e){return n=ji(e),r=ai(e),Dc(t,e)}).then(function(){return Ar({user:Pc(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function kc(t){return t.app}function Pc(t){return t.currentUser}function Oc(t){return Pc(t)&&Pc(t)._lat||null}function Mc(t){if(t.X){for(var e=0;e<t.o.length;e++)t.o[e]&&t.o[e](Oc(t));if(t.O!==t.getUid()&&t.I.length)for(t.O=t.getUid(),e=0;e<t.I.length;e++)t.I[e]&&t.I[e](Oc(t))}}function Rc(t,e){return t.N.push(e),e.ia(function(){F(t.N,e)}),e}function Fc(){}function Lc(){this.a={},this.b=1e12}mc.prototype.lb=function(t){var e=null,n=this;return function(t){var e=new Lr("invalid-persistence-type"),n=new Lr("unsupported-persistence-type");t:{for(r in Ua)if(Ua[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(Yn()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!sr()&&"none"!==t)throw n}}(t),Cc(this,function(){return t!=n.c.A?n.b.get(n.c,n.a).then(function(r){return e=r,yc(n,t)}).then(function(){if(n.c=bc(t),e)return n.b.set(n.c,e,n.a)}):_t()})},b(Sc,Ie),b(xc,se),b(Tc,se),(t=Sc.prototype).lb=function(t){return Rc(this,t=this.h.lb(t))},t.oa=function(t){this.W===t||this.m||(this.W=t,ns(this.b,this.W),this.dispatchEvent(new xc(this.ea())))},t.ea=function(){return this.W},t.Rc=function(){var t=n.navigator;this.oa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.sc=function(t){this.G.push(t),rs(this.b,Bw.a.SDK_VERSION?rr(Bw.a.SDK_VERSION,this.G):null),this.dispatchEvent(new Tc(this.G))},t.xa=function(){return V(this.G)},t.toJSON=function(){return{apiKey:kc(this).options.apiKey,authDomain:kc(this).options.authDomain,appName:kc(this).name,currentUser:Pc(this)&&Pc(this).D()}},t.ub=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.ha=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.wa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?m(this.$b,this):null},t.$b=function(t,e){var n=this;t={requestUri:t,sessionId:e},this.c&&(this.c.cancel(),this.c=null);var r=null,i=null,o=ds(n.b,t).then(function(t){return r=ji(t),i=ai(t),t});return Rc(this,t=n.V.then(function(){return o}).then(function(t){return Dc(n,t)}).then(function(){return Ar({user:Pc(n),credential:r,additionalUserInfo:i,operationType:"signIn"})}))},t.Jc=function(t){if(!ar())return Et(new Lr("operation-not-supported-in-this-environment"));var e=this,n=si(t.providerId),r=dr(),i=null;(!lr()||Xn())&&kc(this).options.authDomain&&t.isOAuthProvider&&(i=ca(kc(this).options.authDomain,kc(this).options.apiKey,kc(this).name,"signInViaPopup",t,null,r,Bw.a.SDK_VERSION||null));var o=zn(i,n&&n.Ba,n&&n.Aa);return Rc(this,n=Ac(this).then(function(e){return _u(e,o,"signInViaPopup",t,r,!!i)}).then(function(){return new dt(function(t,n){e.ha("signInViaPopup",null,new Lr("cancelled-popup-request"),e.g),e.f=t,e.v=n,e.g=r,e.c=e.a.Ea(e,"signInViaPopup",o,r)})}).then(function(t){return o&&Wn(o),t?Ar(t):null}).s(function(t){throw o&&Wn(o),t}))},t.Kc=function(t){if(!ar())return Et(new Lr("operation-not-supported-in-this-environment"));var e=this;return Rc(this,Ac(this).then(function(){return Cc(t=e.h,function(){return t.b.set(gc,t.c.A,t.a)});var t}).then(function(){return e.a.Ca("signInViaRedirect",t)}))},t.fa=function(){if(!ar())return Et(new Lr("operation-not-supported-in-this-environment"));var t=this;return Rc(this,Ac(this).then(function(){return t.a.fa()}).then(function(t){return t?Ar(t):null}))},t.Pc=function(t){if(!t)return Et(new Lr("null-user"));var e=this,n={};n.apiKey=kc(this).options.apiKey,n.authDomain=kc(this).options.authDomain,n.appName=kc(this).name;var r=function(t,e,n,r){e=e||{apiKey:t.m,authDomain:t.u,appName:t.o};var i=t.h,o={};return o[Yo]=i.b,o.refreshToken=i.a,o.expiresIn=(i.c-g())/1e3,e=new Bu(e,o),n&&(e.ba=n),r&&qu(e,r),rc(e,t),e}(t,n,e.w,e.xa());return Rc(this,this.i.then(function(){if(kc(e).options.apiKey!=t.m)return r.reload()}).then(function(){return Pc(e)&&t.uid==Pc(e).uid?(rc(Pc(e),t),e.Z(t)):(Ic(e,r),Xu(r),e.Z(r))}).then(function(){Mc(e)}))},t.mb=function(){var t=this;return Rc(this,this.i.then(function(){return Pc(t)?(Ic(t,null),_c(t.h).then(function(){Mc(t)})):_t()}))},t.Lc=function(){var t=this;return Ec(this.h,kc(this).options.authDomain).then(function(e){if(!t.m){var n;if(n=Pc(t)&&e){n=Pc(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return rc(Pc(t),e),Pc(t).F();(Pc(t)||e)&&(Ic(t,e),e&&(Xu(e),e.ba=t.w),t.a&&t.a.subscribe(t),Mc(t))}})},t.Z=function(t){return wc(this.h,t)},t.ac=function(){Mc(this),this.Z(Pc(this))},t.ic=function(){this.mb()},t.jc=function(){this.mb()},t.kc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(Pc(e))})},t.mc=function(t){var e=this;!function(t,e){t.I.push(e),Rc(t,t.i.then(function(){!t.m&&R(t.I,e)&&t.O!==t.getUid()&&(t.O=t.getUid(),e(Oc(t)))}))}(this,function(){t.next(Pc(e))})},t.uc=function(t,e,n){var r=this;return this.X&&Bw.a.Promise.resolve().then(function(){l(t)?t(Pc(r)):l(t.next)&&t.next(Pc(r))}),this.Sb(t,e,n)},t.tc=function(t,e,n){var r=this;return this.X&&Bw.a.Promise.resolve().then(function(){r.O=r.getUid(),l(t)?t(Pc(r)):l(t.next)&&t.next(Pc(r))}),this.Tb(t,e,n)},t.bc=function(t){var e=this;return Rc(this,this.i.then(function(){return Pc(e)?Pc(e).F(t).then(function(t){return{accessToken:t}}):null}))},t.Mb=function(t){var e=this;return this.i.then(function(){return Nc(e,zs(e.b,Bs,{token:t}))}).then(function(t){var n=t.user;return nc(n,"isAnonymous",!1),e.Z(n),t})},t.Dc=function(t){return Cr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCustomToken is deprecated. Please use firebase.auth.Auth.prototype.signInWithCustomToken instead."),this.Mb(t)},t.Ec=function(t,e){return Cr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.signInWithEmailAndPassword instead."),this.Nb(t,e)},t.Nb=function(t,e){var n=this;return this.i.then(function(){return Nc(n,zs(n.b,Us,{email:t,password:e}))})},t.wb=function(t,e){var n=this;return this.i.then(function(){return Nc(n,zs(n.b,ws,{email:t,password:e}))})},t.Vb=function(t,e){return Cr("firebase.auth.Auth.prototype.createUserAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.createUserWithEmailAndPassword instead."),this.wb(t,e)},t.Gc=function(t){return Cr("firebase.auth.Auth.prototype.signInWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential instead."),this.Oa(t).then(function(t){return t.user})},t.Oa=function(t){var e=this;return this.i.then(function(){return Nc(e,t.ya(e.b))})},t.Pa=function(){var t=this;return this.i.then(function(){var e=Pc(t);return e&&e.isAnonymous?Ar({user:e,credential:null,additionalUserInfo:Ar({providerId:null,isNewUser:!1}),operationType:"signIn"}):Nc(t,t.b.Pa()).then(function(e){var n=e.user;return nc(n,"isAnonymous",!0),t.Z(n),e})})},t.Fc=function(){return Cr("firebase.auth.Auth.prototype.signInAnonymouslyAndRetrieveData is deprecated. Please use firebase.auth.Auth.prototype.signInAnonymously instead."),this.Pa()},t.getUid=function(){return Pc(this)&&Pc(this).uid||null},t.Ub=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&Pc(this)&&zu(Pc(this))},t.Bc=function(t){var e=this;P(this.o,function(n){n==t&&e.u--}),0>this.u&&(this.u=0),0==this.u&&Pc(this)&&Ku(Pc(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.o.push(t),Rc(this,this.i.then(function(){e.m||R(e.o,t)&&t(Oc(e))}))},t.removeAuthTokenListener=function(t){L(this.o,function(e){return e==t})},t.delete=function(){this.m=!0;for(var t=0;t<this.N.length;t++)this.N[t].cancel("app-deleted");return this.N=[],this.h&&(t=this.h).b.removeListener(bc("local"),t.a,this.ka),this.a&&(this.a.unsubscribe(this),this.a.Xa()),Bw.a.Promise.resolve()},t.Yb=function(t){return Cr("firebase.auth.Auth.prototype.fetchProvidersForEmail is deprecated. Please use firebase.auth.Auth.prototype.fetchSignInMethodsForEmail instead."),Rc(this,function(t,e){return zs(t,_s,{identifier:e,continueUri:ur()?Un():"http://localhost"}).then(function(t){return t.allProviders||[]})}(this.b,t))},t.Zb=function(t){return Rc(this,function(t,e){return zs(t,_s,{identifier:e,continueUri:ur()?Un():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.b,t))},t.nc=function(t){return!!Oi(t)},t.kb=function(t,e){var n=this;return Rc(this,_t().then(function(){var t=new Ur(e);if(!t.c)throw new Lr("argument-error",Hr+" must be true when sending sign in link to email");return $r(t)}).then(function(e){return n.b.kb(t,e)}).then(function(){}))},t.Sc=function(t){return this.Ja(t).then(function(t){return t.data.email})},t.Ya=function(t,e){return Rc(this,this.b.Ya(t,e).then(function(){}))},t.Ja=function(t){return Rc(this,this.b.Ja(t).then(function(t){return new function(t){var e={},n=t[Nr],r=t[kr];if(!(t=t[Pr])||t!=Ir&&!n)throw Error("Invalid provider user info!");e[Mr]=r||null,e[Or]=n||null,xr(this,Fr,t),xr(this,Rr,Dr(e))}(t)}))},t.Va=function(t){return Rc(this,this.b.Va(t).then(function(){}))},t.jb=function(t,e){var n=this;return Rc(this,_t().then(function(){return void 0===e||rt(e)?{}:$r(new Ur(e))}).then(function(e){return n.b.jb(t,e)}).then(function(){}))},t.Ic=function(t,e){return Rc(this,Pu(this,t,e,m(this.Oa,this)))},t.Hc=function(t,e){var n=this;return Rc(this,_t().then(function(){var r=Pi(t,e||Un());return n.Oa(r)}))},Fc.prototype.render=function(){},Fc.prototype.reset=function(){},Fc.prototype.getResponse=function(){},Fc.prototype.execute=function(){};var jc=null;function Vc(t,e){return(e=Bc(e))&&t.a[e]||null}function Bc(t){return(t=void 0===t?1e12:t)?t.toString():null}function Uc(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=kn(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():ye(this.f,"click",this.i)}function qc(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Hc(){}Lc.prototype.render=function(t,e){return this.a[this.b.toString()]=new Uc(t,e),this.b++},Lc.prototype.reset=function(t){var e=Vc(this,t);t=Bc(t),e&&t&&(e.delete(),delete this.a[t])},Lc.prototype.getResponse=function(t){return(t=Vc(this,t))?t.getResponse():null},Lc.prototype.execute=function(t){(t=Vc(this,t))&&t.execute()},Uc.prototype.getResponse=function(){return qc(this),this.b},Uc.prototype.execute=function(){qc(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()},6e4)},500))},Uc.prototype.delete=function(){qc(this),this.g=!0,clearTimeout(this.a),this.a=null,we(this.f,"click",this.i)},Hc.prototype.g=function(){return jc||(jc=new Lc),_t(jc)},Hc.prototype.c=function(){};var Wc=null;function zc(){this.b=n.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Kc=vn("https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Gc=new yr(3e4,6e4);zc.prototype.g=function(t){var e=this;return new dt(function(r,i){var o=setTimeout(function(){i(new Lr("network-request-failed"))},Gc.get());!n.grecaptcha||t!==e.f&&!e.b?(n[e.a]=function(){if(n.grecaptcha){e.f=t;var s=n.grecaptcha.render;n.grecaptcha.render=function(t,n){return t=s(t,n),e.b++,t},clearTimeout(o),r(n.grecaptcha)}else clearTimeout(o),i(new Lr("internal-error"));delete n[e.a]},_t(qo(gn(Kc,{onload:e.a,hl:t||""}))).s(function(){clearTimeout(o),i(new Lr("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(o),r(n.grecaptcha))})},zc.prototype.c=function(){this.b--};var Qc=null;function Xc(t,e,r,i,o,s,a){if(xr(this,"type","recaptcha"),this.c=this.f=null,this.C=!1,this.m=e,this.g=null,a?(Wc||(Wc=new Hc),a=Wc):(Qc||(Qc=new zc),a=Qc),this.o=a,this.a=r||{theme:"light",type:"image"},this.h=[],this.a[Jc])throw new Lr("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Zc],!n.document)throw new Lr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!kn(e)||!this.i&&kn(e).hasChildNodes())throw new Lr("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new Xo(t,s||null,o||null),this.v=i||function(){return null};var u=this;this.l=[];var c=this.a[$c];this.a[$c]=function(t){if(tl(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=or(c,n);"function"==typeof e&&e(t)}};var l=this.a[Yc];this.a[Yc]=function(){if(tl(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=or(l,n);"function"==typeof t&&t()}}}var $c="callback",Yc="expired-callback",Jc="sitekey",Zc="size";function tl(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function el(t,e){return t.h.push(e),e.ia(function(){F(t.h,e)}),e}function nl(t){if(t.C)throw new Lr("internal-error","RecaptchaVerifier instance has been destroyed.")}function rl(t,e,n){var r=!1;try{this.b=n||Bw.a.app()}catch(t){throw new Lr("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Lr("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().xa()}catch(t){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=Bw.a.SDK_VERSION?rr(Bw.a.SDK_VERSION,o):null,Xc.call(this,n,t,e,function(){try{var t=i.b.auth().ea()}catch(e){t=null}return t},o,$s(Qs),r)}function il(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new Lr("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=ol.length)throw new Lr("internal-error","Argument validator received an unsupported number of arguments.");n=ol[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new Lr("argument-error",t+" failed: "+r)}(t=Xc.prototype).za=function(){var t=this;return this.f?this.f:this.f=el(this,_t().then(function(){if(ur()&&!$n())return Gn();throw new Lr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.o.g(t.v())}).then(function(e){return t.g=e,zs(t.u,ks,{})}).then(function(e){t.a[Jc]=e.recaptchaSiteKey}).s(function(e){throw t.f=null,e}))},t.render=function(){nl(this);var t=this;return el(this,this.za().then(function(){if(null===t.c){var e=t.m;if(!t.i){var n=kn(e);e=Mn("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},t.verify=function(){nl(this);var t=this;return el(this,this.render().then(function(e){return new dt(function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){L(t.l,function(t){return t==e})}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}})}))},t.reset=function(){nl(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){nl(this),this.C=!0,this.o.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=kn(this.m);for(var e;e=t.firstChild;)t.removeChild(e)}},b(rl,Xc);var ol="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function sl(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:r}}function al(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:i}}function ul(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:h}}function cl(t,e){return{name:t||"",K:"a function",optional:!!e,M:l}}function ll(t,e){return{name:t||"",K:"null",optional:!!e,M:a}}function hl(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ya||!n)}}}function pl(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!!(t&&r(t.type)&&l(t.verify))}}}function fl(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function dl(t,e){for(var n in e){var r=e[n].name;t[r]=yl(r,t[n],e[n].j)}}function vl(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:y(function(t){return this[t]},n),set:y(function(t,e,n,r){il(t,[n],[r],!0),this[e]=r},r,n,e[n].sb),enumerable:!0})}}function ml(t,e,n,r){t[e]=yl(e,n,r)}function yl(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return il(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}dl(Sc.prototype,{Va:{name:"applyActionCode",j:[sl("code")]},Ja:{name:"checkActionCode",j:[sl("code")]},Ya:{name:"confirmPasswordReset",j:[sl("code"),sl("newPassword")]},wb:{name:"createUserWithEmailAndPassword",j:[sl("email"),sl("password")]},Vb:{name:"createUserAndRetrieveDataWithEmailAndPassword",j:[sl("email"),sl("password")]},Yb:{name:"fetchProvidersForEmail",j:[sl("email")]},Zb:{name:"fetchSignInMethodsForEmail",j:[sl("email")]},fa:{name:"getRedirectResult",j:[]},nc:{name:"isSignInWithEmailLink",j:[sl("emailLink")]},tc:{name:"onAuthStateChanged",j:[fl(ul(),cl(),"nextOrObserver"),cl("opt_error",!0),cl("opt_completed",!0)]},uc:{name:"onIdTokenChanged",j:[fl(ul(),cl(),"nextOrObserver"),cl("opt_error",!0),cl("opt_completed",!0)]},jb:{name:"sendPasswordResetEmail",j:[sl("email"),fl(ul("opt_actionCodeSettings",!0),ll(null,!0),"opt_actionCodeSettings",!0)]},kb:{name:"sendSignInLinkToEmail",j:[sl("email"),ul("actionCodeSettings")]},lb:{name:"setPersistence",j:[sl("persistence")]},Oa:{name:"signInAndRetrieveDataWithCredential",j:[hl()]},Pa:{name:"signInAnonymously",j:[]},Fc:{name:"signInAnonymouslyAndRetrieveData",j:[]},Gc:{name:"signInWithCredential",j:[hl()]},Mb:{name:"signInWithCustomToken",j:[sl("token")]},Dc:{name:"signInAndRetrieveDataWithCustomToken",j:[sl("token")]},Nb:{name:"signInWithEmailAndPassword",j:[sl("email"),sl("password")]},Hc:{name:"signInWithEmailLink",j:[sl("email"),sl("emailLink",!0)]},Ec:{name:"signInAndRetrieveDataWithEmailAndPassword",j:[sl("email"),sl("password")]},Ic:{name:"signInWithPhoneNumber",j:[sl("phoneNumber"),pl()]},Jc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Kc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Pc:{name:"updateCurrentUser",j:[fl({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof Bu)}},ll(),"user")]},mb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[sl(null,!0)]},Rc:{name:"useDeviceLanguage",j:[]},Sc:{name:"verifyPasswordResetCode",j:[sl("code")]}}),vl(Sc.prototype,{lc:{name:"languageCode",sb:fl(sl(),ll(),"languageCode")}}),Sc.Persistence=Ua,Sc.Persistence.LOCAL="local",Sc.Persistence.SESSION="session",Sc.Persistence.NONE="none",dl(Bu.prototype,{delete:{name:"delete",j:[]},cc:{name:"getIdTokenResult",j:[al("opt_forceRefresh",!0)]},F:{name:"getIdToken",j:[al("opt_forceRefresh",!0)]},cb:{name:"linkAndRetrieveDataWithCredential",j:[hl()]},oc:{name:"linkWithCredential",j:[hl()]},pc:{name:"linkWithPhoneNumber",j:[sl("phoneNumber"),pl()]},qc:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},rc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},fb:{name:"reauthenticateAndRetrieveDataWithCredential",j:[hl()]},xc:{name:"reauthenticateWithCredential",j:[hl()]},yc:{name:"reauthenticateWithPhoneNumber",j:[sl("phoneNumber"),pl()]},zc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Ac:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ib:{name:"sendEmailVerification",j:[fl(ul("opt_actionCodeSettings",!0),ll(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[sl(null,!0)]},Oc:{name:"unlink",j:[sl("provider")]},ob:{name:"updateEmail",j:[sl("email")]},pb:{name:"updatePassword",j:[sl("password")]},Qc:{name:"updatePhoneNumber",j:[hl("phone")]},qb:{name:"updateProfile",j:[ul("profile")]}}),dl(Lc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),dl(Fc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),dl(dt.prototype,{ia:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),vl(Nu.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",sb:al("appVerificationDisabledForTesting")}}),dl(ku.prototype,{confirm:{name:"confirm",j:[sl("verificationCode")]}}),ml(ki,"credential",function(t,e){return new Ni(t,e)},[sl("email"),sl("password")]),dl(Ei.prototype,{ta:{name:"addScope",j:[sl("scope")]},Da:{name:"setCustomParameters",j:[ul("customOAuthParameters")]}}),ml(Ei,"credential",Ci,[fl(sl(),ul(),"token")]),ml(ki,"credentialWithLink",Pi,[sl("email"),sl("emailLink")]),dl(Si.prototype,{ta:{name:"addScope",j:[sl("scope")]},Da:{name:"setCustomParameters",j:[ul("customOAuthParameters")]}}),ml(Si,"credential",xi,[fl(sl(),ul(),"token")]),dl(Ti.prototype,{ta:{name:"addScope",j:[sl("scope")]},Da:{name:"setCustomParameters",j:[ul("customOAuthParameters")]}}),ml(Ti,"credential",Ai,[fl(sl(),fl(ul(),ll()),"idToken"),fl(sl(),ll(),"accessToken",!0)]),dl(Di.prototype,{Da:{name:"setCustomParameters",j:[ul("customOAuthParameters")]}}),ml(Di,"credential",Ii,[fl(sl(),ul(),"token"),sl("secret",!0)]),dl(_i.prototype,{ta:{name:"addScope",j:[sl("scope")]},credential:{name:"credential",j:[fl(sl(),ll(),"idToken",!0),fl(sl(),ll(),"accessToken",!0)]},Da:{name:"setCustomParameters",j:[ul("customOAuthParameters")]}}),ml(Fi,"credential",Li,[sl("verificationId"),sl("verificationCode")]),dl(Fi.prototype,{Ta:{name:"verifyPhoneNumber",j:[sl("phoneNumber"),pl()]}}),dl(Lr.prototype,{toJSON:{name:"toJSON",j:[sl(null,!0)]}}),dl(zi.prototype,{toJSON:{name:"toJSON",j:[sl(null,!0)]}}),dl(Wi.prototype,{toJSON:{name:"toJSON",j:[sl(null,!0)]}}),dl(rl.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),function(){if(void 0===Bw.a||!Bw.a.INTERNAL||!Bw.a.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={Auth:Sc,Error:Lr};ml(t,"EmailAuthProvider",ki,[]),ml(t,"FacebookAuthProvider",Ei,[]),ml(t,"GithubAuthProvider",Si,[]),ml(t,"GoogleAuthProvider",Ti,[]),ml(t,"TwitterAuthProvider",Di,[]),ml(t,"OAuthProvider",_i,[sl("providerId")]),ml(t,"PhoneAuthProvider",Fi,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof Sc)}}]),ml(t,"RecaptchaVerifier",rl,[fl(sl(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),ul("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof Bw.a.app.App)}}]),Bw.a.INTERNAL.registerService("auth",function(t,e){return e({INTERNAL:{getUid:m((t=new Sc(t)).getUid,t),getToken:m(t.bc,t),addAuthTokenListener:m(t.Ub,t),removeAuthTokenListener:m(t.Bc,t)}}),t},t,function(t,e){if("create"===t)try{e.auth()}catch(t){}}),Bw.a.INTERNAL.extendNamespace({User:Bu})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Uw=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},qw=function(){function t(){}return t=Uw([qe({providers:[jw]})],t)}();function Hw(t){return function(t){return new O(function(e){return{unsubscribe:t.onSnapshot(e)}})}(t).pipe(gt())}function Ww(t){return Hw(t).pipe(J(function(t){return{payload:t,type:"query"}}))}function zw(t){return Ww(t).pipe(J(function(t){return t.payload.docChanges().map(function(t){return{type:t.type,payload:t}})}))}function Kw(t,e){return Ww(t).pipe(J(function(t){return t.payload.docChanges()}),xh(function(t,n){return function(t,e,n){return e.forEach(function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.id==e.doc.id||t.splice(e.newIndex,0,e);break;case"modified":null!=t[e.oldIndex]&&t[e.oldIndex].doc.id!=e.doc.id||(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.id==e.doc.id&&t.splice(e.oldIndex,1)}return t}(t,e))}),t}(t,n,e)},[]),J(function(t){return t.map(function(t){return{type:t.type,payload:t}})}))}var Gw=function(){function t(t,e,n){this.ref=t,this.query=e,this.afs=n}return t.prototype.stateChanges=function(t){return t&&0!==t.length?this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(zw(this.query))).pipe(J(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}),Jl(function(t){return t.length>0})):this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(zw(this.query)))},t.prototype.auditTrail=function(t){return this.stateChanges(t).pipe(xh(function(t,e){return t.concat(e)},[]))},t.prototype.snapshotChanges=function(t){var e=function(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(t),n=Kw(this.query,e),r=this.afs.scheduler.runOutsideAngular(n);return this.afs.scheduler.keepUnstableUntilFirst(r)},t.prototype.valueChanges=function(){var t=Ww(this.query),e=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(e).pipe(J(function(t){return t.payload.docs.map(function(t){return t.data()})}))},t.prototype.get=function(t){return nt(this.query.get(t)).pipe(xw(this.afs.scheduler.zone))},t.prototype.add=function(t){return this.ref.add(t)},t.prototype.doc=function(t){return new Qw(this.ref.doc(t),this.afs)},t}(),Qw=function(){function t(t,e){this.ref=t,this.afs=e}return t.prototype.set=function(t,e){return this.ref.set(t,e)},t.prototype.update=function(t){return this.ref.update(t)},t.prototype.delete=function(){return this.ref.delete()},t.prototype.collection=function(t,e){var n=n_(this.ref.collection(t),e),r=n.ref,i=n.query;return new Gw(r,i,this.afs)},t.prototype.snapshotChanges=function(){var t=Hw(this.ref).pipe(J(function(t){return{payload:t,type:"value"}})),e=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(e)},t.prototype.valueChanges=function(){return this.snapshotChanges().pipe(J(function(t){return t.payload.data()}))},t.prototype.get=function(t){return nt(this.ref.get(t)).pipe(xw(this.afs.scheduler.zone))},t}(),Xw=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},$w=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Yw=function(t,e){return function(n,r){e(n,r,t)}},Jw=new wt("angularfire2.enableFirestorePersistence"),Zw=new wt("angularfire2.firestore.persistenceSettings"),t_=new wt("angularfire2.firestore.settings"),e_={timestampsInSnapshots:!0};function n_(t,e){return void 0===e&&(e=function(t){return t}),{query:e(t),ref:t}}var r_=function(){function t(t,e,n,r,i,o,s){var a=this;if(this.scheduler=new Sw(o,i),this.firestore=o.runOutsideAngular(function(){var n=Pw(t,e).firestore();return n.settings(r||e_),n}),n&&Jf(i)){this.persistenceEnabled$=o.runOutsideAngular(function(){try{return nt(a.firestore.enablePersistence(s).then(function(){return!0},function(){return!1}))}catch(t){return Ql(!1)}})}else this.persistenceEnabled$=Ql(!1)}return t.prototype.collection=function(t,e){var n=n_("string"==typeof t?this.firestore.collection(t):t,e),r=n.ref,i=n.query;return new Gw(r,i,this)},t.prototype.doc=function(t){var e;return e="string"==typeof t?this.firestore.doc(t):t,new Qw(e,this)},t.prototype.createId=function(){return this.firestore.collection("_").doc().id},t=Xw([Be(),Yw(0,se(Iw)),Yw(1,ae()),Yw(1,se(Nw)),Yw(2,ae()),Yw(2,se(Jw)),Yw(3,ae()),Yw(3,se(t_)),Yw(4,se(Vn)),Yw(6,ae()),Yw(6,se(Zw)),$w("design:paramtypes",[Object,Object,Boolean,Object,Object,hr,Object])],t)}(),i_=(n("6Joi"),function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}),o_=function(){function t(){}var e;return e=t,t.enablePersistence=function(t){return{ngModule:e,providers:[{provide:Jw,useValue:!0},{provide:Zw,useValue:t}]}},t=e=i_([qe({providers:[r_]})],t)}(),s_=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},a_=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},u_=function(){function t(t,e,n){this.afAuth=t,this.fs=e,this.router=n}return t.prototype.login=function(t,e){return s_(this,void 0,void 0,function(){var n,r=this;return a_(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.afAuth.auth.signInWithEmailAndPassword(t,e)];case 1:return n=i.sent(),this.loginSub=this.fs.collection("users").doc(n.user.uid).valueChanges().subscribe(function(t){r.currentUser=t,r.router.navigate([""])}),[3,3];case 2:throw i.sent();case 3:return[2]}})})},t.prototype.logout=function(){return s_(this,void 0,void 0,function(){return a_(this,function(t){switch(t.label){case 0:return[4,this.afAuth.auth.signOut()];case 1:return t.sent(),this.router.navigate(["login"]),this.loginSub.unsubscribe(),[2]}})})},t.ngInjectableDef=bt({factory:function(){return new t(Me(jw),Me(r_),Me(Fy))},token:t,providedIn:"root"}),t}(),c_=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},l_=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},h_=function(){function t(t){this.auth=t,this.isloading=!1}return t.prototype.ngOnInit=function(){},t.prototype.login=function(){return c_(this,void 0,void 0,function(){var t;return l_(this,function(e){switch(e.label){case 0:this.isloading=!0,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.login(this.email,this.password)];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),console.log(t),this.isloading=!1,[3,4];case 4:return[2]}})})},t}(),p_=xo({encapsulation:0,styles:[[""]],data:{}});function f_(t){return Aa(0,[(t()(),os(0,0,null,null,6,"section",[["class","hero is-primary"]],null,null,null,null,null)),(t()(),os(1,0,null,null,5,"div",[["class","hero-body"]],null,null,null,null,null)),(t()(),os(2,0,null,null,4,"div",[["class","container"]],null,null,null,null,null)),(t()(),os(3,0,null,null,1,"h1",[["class","title"]],null,null,null,null,null)),(t()(),Sa(-1,null,[" Explorer "])),(t()(),os(5,0,null,null,1,"h2",[["class","subtitle"]],null,null,null,null,null)),(t()(),Sa(-1,null,[" Dyuksha '18 "])),(t()(),os(7,0,null,null,32,"section",[["class","section"]],null,null,null,null,null)),(t()(),os(8,0,null,null,31,"div",[["class","container"]],null,null,null,null,null)),(t()(),os(9,0,null,null,30,"form",[["class","panel"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,e,n){var r=!0,i=t.component;"submit"===e&&(r=!1!==Fs(t,11).onSubmit(n)&&r);"reset"===e&&(r=!1!==Fs(t,11).onReset()&&r);"submit"===e&&(r=!1!==i.login()&&r);return r},null,null)),Xs(10,16384,null,0,pw,[],null,null),Xs(11,4210688,null,0,Mb,[[8,null],[8,null]],null,null),Ys(2048,null,wg,null,[Mb]),Xs(13,16384,null,0,Sb,[[4,wg]],null,null),(t()(),os(14,0,null,null,2,"div",[["class","panel-heading"]],null,null,null,null,null)),(t()(),os(15,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),Sa(-1,null,["Login"])),(t()(),os(17,0,null,null,9,"div",[["class","panel-block"]],null,null,null,null,null)),(t()(),os(18,0,null,null,8,"div",[["class","control has-icons-left has-icons-right"]],null,null,null,null,null)),(t()(),os(19,0,null,null,5,"input",[["class","input"],["name","email"],["placeholder","Email"],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;"input"===e&&(r=!1!==Fs(t,20)._handleInput(n.target.value)&&r);"blur"===e&&(r=!1!==Fs(t,20).onTouched()&&r);"compositionstart"===e&&(r=!1!==Fs(t,20)._compositionStart()&&r);"compositionend"===e&&(r=!1!==Fs(t,20)._compositionEnd(n.target.value)&&r);"ngModelChange"===e&&(r=!1!==(i.email=n)&&r);return r},null,null)),Xs(20,16384,null,0,Mg,[Fr,Lr,[2,Og]],null,null),Ys(1024,null,Ig,function(t){return[t]},[Mg]),Xs(22,671744,null,0,Bb,[[2,wg],[8,null],[8,null],[6,Ig]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ys(2048,null,Bg,null,[Bb]),Xs(24,16384,null,0,Cb,[[4,Bg]],null,null),(t()(),os(25,0,null,null,1,"span",[["class","icon is-small is-left"]],null,null,null,null,null)),(t()(),os(26,0,null,null,0,"i",[["class","fas fa-envelope"]],null,null,null,null,null)),(t()(),os(27,0,null,null,9,"div",[["class","panel-block"]],null,null,null,null,null)),(t()(),os(28,0,null,null,8,"div",[["class","control has-icons-left"]],null,null,null,null,null)),(t()(),os(29,0,null,null,5,"input",[["class","input"],["name","password"],["placeholder","Password"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;"input"===e&&(r=!1!==Fs(t,30)._handleInput(n.target.value)&&r);"blur"===e&&(r=!1!==Fs(t,30).onTouched()&&r);"compositionstart"===e&&(r=!1!==Fs(t,30)._compositionStart()&&r);"compositionend"===e&&(r=!1!==Fs(t,30)._compositionEnd(n.target.value)&&r);"ngModelChange"===e&&(r=!1!==(i.password=n)&&r);return r},null,null)),Xs(30,16384,null,0,Mg,[Fr,Lr,[2,Og]],null,null),Ys(1024,null,Ig,function(t){return[t]},[Mg]),Xs(32,671744,null,0,Bb,[[2,wg],[8,null],[8,null],[6,Ig]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ys(2048,null,Bg,null,[Bb]),Xs(34,16384,null,0,Cb,[[4,Bg]],null,null),(t()(),os(35,0,null,null,1,"span",[["class","icon is-small is-left"]],null,null,null,null,null)),(t()(),os(36,0,null,null,0,"i",[["class","fas fa-lock"]],null,null,null,null,null)),(t()(),os(37,0,null,null,2,"div",[["class","panel-block"]],null,null,null,null,null)),(t()(),os(38,0,null,null,1,"button",[["class","button is-success"],["style","margin: 0 auto;"]],[[2,"is-loading",null]],null,null,null,null)),(t()(),Sa(-1,null,[" Login "]))],function(t,e){var n=e.component;t(e,22,0,"email",n.email);t(e,32,0,"password",n.password)},function(t,e){var n=e.component;t(e,9,0,Fs(e,13).ngClassUntouched,Fs(e,13).ngClassTouched,Fs(e,13).ngClassPristine,Fs(e,13).ngClassDirty,Fs(e,13).ngClassValid,Fs(e,13).ngClassInvalid,Fs(e,13).ngClassPending),t(e,19,0,Fs(e,24).ngClassUntouched,Fs(e,24).ngClassTouched,Fs(e,24).ngClassPristine,Fs(e,24).ngClassDirty,Fs(e,24).ngClassValid,Fs(e,24).ngClassInvalid,Fs(e,24).ngClassPending),t(e,29,0,Fs(e,34).ngClassUntouched,Fs(e,34).ngClassTouched,Fs(e,34).ngClassPristine,Fs(e,34).ngClassDirty,Fs(e,34).ngClassValid,Fs(e,34).ngClassInvalid,Fs(e,34).ngClassPending),t(e,38,0,n.isloading)})}var d_=xs("app-login",h_,function(t){return Aa(0,[(t()(),os(0,0,null,null,1,"app-login",[],null,null,null,f_,p_)),Xs(1,114688,null,0,h_,[u_],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]);function v_(t,e){return new O(e?function(n){return e.schedule(m_,0,{error:t,subscriber:n})}:function(e){return e.error(t)})}function m_(t){var e=t.error;t.subscriber.error(e)}var y_=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){switch(this.kind){case"N":return Ql(this.value);case"E":return v_(this.error);case"C":return Gl()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();var g_=function(t){function e(e,n,r){void 0===r&&(r=0);var i=t.call(this,e)||this;return i.scheduler=n,i.delay=r,i}return i(e,t),e.dispatch=function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new b_(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(y_.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(y_.createError(t))},e.prototype._complete=function(){this.scheduleMessage(y_.createComplete())},e}(A),b_=function(){return function(t,e){this.notification=t,this.destination=e}}(),w_=function(t){function e(e,n,r){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=t.call(this)||this;return i.scheduler=r,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=e<1?1:e,i._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return i(e,t),e.prototype.nextInfiniteTimeWindow=function(e){var n=this._events;n.push(e),n.length>this._bufferSize&&n.shift(),t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this._events.push(new __(this._getNow(),e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new R;if(this.isStopped||this.hasError?e=w.EMPTY:(this.observers.push(t),e=new F(this,t)),i&&t.add(t=new g_(t,i)),n)for(var s=0;s<o&&!t.closed;s++)t.next(r[s]);else for(s=0;s<o&&!t.closed;s++)t.next(r[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||Cw).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r},e}(j),__=function(){return function(t,e){this.time=t,this.value=e}}();function E_(t,e,n){return function(r){return r.lift(function(t,e,n){var r,i,o=0,s=!1,a=!1;return function(u){o++,r&&!s||(s=!1,r=new w_(t,e,n),i=u.subscribe({next:function(t){r.next(t)},error:function(t){s=!0,r.error(t)},complete:function(){a=!0,r.complete()}}));var c=r.subscribe(this);return function(){o--,c.unsubscribe(),i&&0===o&&a&&i.unsubscribe()}}}(t,e,n))}}var C_=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new S_(t,this.project))},t}(),S_=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.hasSubscription=!1,r.hasCompleted=!1,r.index=0,r}return i(e,t),e.prototype._next=function(t){this.hasSubscription||this.tryNext(t)},e.prototype.tryNext=function(t){var e=this.index++,n=this.destination;try{var r=this.project(t,e);this.hasSubscription=!0,this.add($(this,r,t,e))}catch(t){n.error(t)}},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(Y);function x_(t){return function(e){return e.lift(new T_(t))}}var T_=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new A_(t),r=$(n,this.notifier);return r&&!r.closed?(n.add(r),e.subscribe(n)):n},t}(),A_=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.complete()},e.prototype.notifyComplete=function(){},e}(Y);var D_=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new I_(t,this.compare,this.keySelector))},t}(),I_=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.keySelector=r,i.hasKey=!1,"function"==typeof n&&(i.compare=n),i}return i(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e=t;if(this.keySelector&&(e=g(this.keySelector)(t))===m)return this.destination.error(m.e);var n=!1;if(this.hasKey){if((n=g(this.compare)(this.key,e))===m)return this.destination.error(m.e)}else this.hasKey=!0;!1===Boolean(n)&&(this.key=e,this.destination.next(t))},e}(A),N_=new wt("ROOT_STATE_TOKEN"),k_=new wt("FEATURE_STATE_TOKEN"),P_="NGXS_META",O_="NGXS_SELECTOR_META",M_=new wt("NGXS_PLUGINS"),R_=function(){return function(){}}();function F_(t){if(!t.hasOwnProperty(P_)){Object.defineProperty(t,P_,{value:{name:null,actions:{},defaults:{},path:null,children:[],instance:null}})}return L_(t)}function L_(t){return t[P_]}function j_(t){return t[O_]}function V_(t){for(var e=t,n="store."+e[0],r=0,i=e.length,o=n;++r<i;)o=o+" && "+(n=n+"."+e[r]);return new Function("store","return "+o+";")}function B_(t){return t.constructor&&t.constructor.type?t.constructor.type:t.type}var U_=function(t,e,n){t=Object.assign({},t);var r=e.split("."),i=r.length-1;return r.reduce(function(t,e,r){return t[e]=r===i?n:Object.assign({},t[e]),t&&t[e]},t),t},q_=function(t,e){return e.split(".").reduce(function(t,e){return t&&t[e]},t)};function H_(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return W_(t,"DISPATCHED")}function W_(t,e){var n=t.reduce(function(t,e){return t[B_(e)]=!0,t},{});return function(t){return t.pipe(function(t,e){return Jl(function(n){var r=B_(n.action),i=t[r];return e?i&&n.status===e:i})}(n,e),J(function(t){return t.action}))}}function z_(t){return function(e){return new O(function(n){return e.subscribe({next:function(e){t.run(function(){return n.next(e)})},error:function(e){t.run(function(){return n.error(e)})},complete:function(){t.run(function(){return n.complete()})}})})}}var K_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(function(t){function e(){var e=t.apply(this,h(arguments))||this;return e._itemQueue=[],e._busyPushingNext=!1,e}return i(e,t),e.prototype.next=function(e){if(this._busyPushingNext)this._itemQueue.unshift(e);else{for(this._busyPushingNext=!0,t.prototype.next.call(this,e);this._itemQueue.length>0;){var n=this._itemQueue.pop();t.prototype.next.call(this,n)}this._busyPushingNext=!1}},e}(j));K_.decorators=[{type:Be}];var G_=function(t){function e(e,n){return t.call(this,function(t){e.pipe(z_(n)).subscribe(function(e){return t.next(e)},function(e){return t.error(e)},function(){return t.complete()})})||this}return i(e,t),e}(O);G_.decorators=[{type:Be}],G_.ctorParameters=function(){return[{type:K_},{type:hr}]};var Q_=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.shift().apply(void 0,h(e,[function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return Q_(t).apply(void 0,h(e))}]))}},X_=function(t){function e(){return t.call(this,{})||this}return i(e,t),e}($l);X_.decorators=[{type:Be}],X_.ctorParameters=function(){return[]};var $_=function(){function t(t,e){this._parentManager=t,this._plugins=e,this.plugins=[],this.register()}return t.prototype.register=function(){var t;this._plugins&&(this.plugins=this._plugins.map(function(t){return t.handle?t.handle.bind(t):t}),this._parentManager&&(t=this._parentManager.plugins).push.apply(t,h(this.plugins)))},t}();$_.decorators=[{type:Be}],$_.ctorParameters=function(){return[{type:$_,decorators:[{type:ae},{type:ce}]},{type:Array,decorators:[{type:se,args:[M_]},{type:ae}]}]};var Y_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(j);Y_.decorators=[{type:Be}];var J_=function(){function t(t,e,n,r,i,o){this._errorHandler=t,this._actions=e,this._actionResults=n,this._pluginManager=r,this._stateStream=i,this._ngZone=o}return t.prototype.dispatch=function(t){var e=this,n=this._ngZone.runOutsideAngular(function(){return Array.isArray(t)?yg(t.map(function(t){return e.dispatchSingle(t)})):e.dispatchSingle(t)});return n.subscribe({error:function(t){return e._ngZone.run(function(){return e._errorHandler.handleError(t)})}}),n.pipe(z_(this._ngZone))},t.prototype.dispatchSingle=function(t){var e=this,n=this._stateStream.getValue(),r=this._pluginManager.plugins;return Q_(h(r,[function(t,r){t!==n&&e._stateStream.next(t);var i=e.getActionResultStream(r);return i.subscribe(function(t){return e._actions.next(t)}),e._actions.next({action:r,status:"DISPATCHED"}),e.createDispatchObservable(i)}]))(n,t).pipe(E_())},t.prototype.getActionResultStream=function(t){return this._actionResults.pipe(Jl(function(e){return e.action===t&&"DISPATCHED"!==e.status}),wh(1),E_())},t.prototype.createDispatchObservable=function(t){var e=this;return t.pipe(function t(e,n){return n?function(r){return r.pipe(t(function(t,r){return nt(e(t,r)).pipe(J(function(e,i){return n(t,e,r,i)}))}))}:function(t){return t.lift(new C_(e))}}(function(t){switch(t.status){case"SUCCESSFUL":return Ql(e._stateStream.getValue());case"ERRORED":return v_(t.error);default:return Gl()}})).pipe(E_())},t}();J_.decorators=[{type:Be}],J_.ctorParameters=function(){return[{type:Ye},{type:K_},{type:Y_},{type:$_},{type:X_},{type:hr}]};var Z_=function(t){Object.freeze(t);var e="function"==typeof t,n=Object.prototype.hasOwnProperty;return Object.getOwnPropertyNames(t).forEach(function(r){!n.call(t,r)||e&&("caller"===r||"callee"===r||"arguments"===r)||null===t[r]||"object"!=typeof t[r]&&"function"!=typeof t[r]||Object.isFrozen(t[r])||Z_(t[r])}),t},tE=function(){function t(t,e,n){this._stateStream=t,this._dispatcher=e,this._config=n}return t.prototype.getRootStateOperations=function(){var t=this,e={getState:function(){return t._stateStream.getValue()},setState:function(e){return t._stateStream.next(e)},dispatch:function(e){return t._dispatcher.dispatch(e)}};return this._config.developmentMode?this.ensureStateAndActionsAreImmutable(e):e},t.prototype.ensureStateAndActionsAreImmutable=function(t){return{getState:function(){return t.getState()},setState:function(e){var n=Z_(e);return t.setState(n)},dispatch:function(e){return t.dispatch(e)}}},t}();tE.decorators=[{type:Be}],tE.ctorParameters=function(){return[{type:X_},{type:J_},{type:R_}]};var eE=function(){function t(t){this._internalStateOperations=t}return t.prototype.createStateContext=function(t){var e=this._internalStateOperations.getRootStateOperations();return{getState:function(){var n=e.getState();return q_(n,t.depth)},patchState:function(n){var r="object"!=typeof n;if(Array.isArray(n))throw new Error("Patching arrays is not supported.");if(r)throw new Error("Patching primitives is not supported.");var i=e.getState(),o=q_(i,t.depth),s=Object.assign({},o);for(var a in n)s[a]=n[a];var u=U_(i,t.depth,s);return e.setState(u),u},setState:function(n){var r=e.getState();return r=U_(r,t.depth,n),e.setState(r),r},dispatch:function(t){return e.dispatch(t)}}},t}();eE.decorators=[{type:Be}],eE.ctorParameters=function(){return[{type:tE}]};var nE=function(){function t(t,e,n,r,i){this._injector=t,this._parentFactory=e,this._actions=n,this._actionResults=r,this._stateContextFactory=i,this._states=[],this._connected=!1}return Object.defineProperty(t.prototype,"states",{get:function(){return this._parentFactory?this._parentFactory.states:this._states},enumerable:!0,configurable:!0}),t.prototype.add=function(t){var e,n,r,i,o,s,a,u,l=function(t){var e=function(e){var n=t.find(function(t){return t===e});if(!n)throw new Error("Child state not found: "+e);if(!n[P_])throw new Error("States must be decorated with @State() decorator");return n[P_].name};return t.reduce(function(t,n){if(!n[P_])throw new Error("States must be decorated with @State() decorator");var r=n[P_],i=r.name,o=r.children;return t[i]=(o||[]).map(e),t},{})}(e=Array.isArray(t)?t:[t]),p=(n=l,r=[],i={},o=function(t,e){void 0===e&&(e=[]),Array.isArray(e)||(e=[]),e.push(t),i[t]=!0,n[t].forEach(function(n){if(e.indexOf(n)>=0)throw new Error("Circular dependency '"+n+"' is required by '"+t+"': "+e.join(" -> "));i[n]||o(n,e.slice(0))}),r.indexOf(t)<0&&r.push(t)},Object.keys(n).forEach(function(t){return o(t)}),r.reverse()),f=function(t,e){void 0===e&&(e={});var n=function(t,e){for(var r in t)if(t.hasOwnProperty(r)&&t[r].indexOf(e)>=0){var i=n(t,r);return null!==i?i+"."+r:r}return null};for(var r in t)if(t.hasOwnProperty(r)){var i=n(t,r);e[r]=i?i+"."+r:r}return e}(l),d=e.reduce(function(t,e){if(!e[P_])throw new Error("States must be decorated with @State() decorator");return t[e[P_].name]=e,t},{}),v=[],m=function(t){var e=d[t];if(!e[P_])throw new Error("States must be decorated with @State() decorator");var n,r=f[t],i=e[P_].actions,o=e[P_].defaults;if(e[P_].path=r,!y.states.find(function(e){return e.name===t})){Array.isArray(o)?o=h(o):"object"==typeof(n=o)&&null!==n||"function"==typeof n?o=Object.assign({},o):void 0===o&&(o={});var s=y._injector.get(e);v.push({actions:i,instance:s,defaults:o,name:t,depth:r})}},y=this;try{for(var g=c(p),b=g.next();!b.done;b=g.next()){m(b.value)}}catch(t){s={error:t}}finally{try{b&&!b.done&&(a=g.return)&&a.call(g)}finally{if(s)throw s.error}}return(u=this.states).push.apply(u,h(v)),v},t.prototype.addAndReturnDefaults=function(t){if(t){var e=this.add(t);return{defaults:e.reduce(function(t,e){return U_(t,e.depth,e.defaults)},{}),states:e}}},t.prototype.connectActionHandlers=function(){var t=this;this._connected||(this._actions.pipe(Jl(function(t){return"DISPATCHED"===t.status}),rt(function(e){var n=e.action;return t.invokeActions(t._actions,n).pipe(J(function(){return{action:n,status:"SUCCESSFUL"}}),lh({action:n,status:"CANCELED"}),yh(function(t){return Ql({action:n,status:"ERRORED",error:t})}))})).subscribe(function(e){return t._actionResults.next(e)}),this._connected=!0)},t.prototype.invokeInit=function(t){try{for(var e=c(t),n=e.next();!n.done;n=e.next()){var r=n.value,i=r.instance;if(i.ngxsOnInit){var o=this.createStateContext(r);i.ngxsOnInit(o)}}}catch(t){s={error:t}}finally{try{n&&!n.done&&(a=e.return)&&a.call(e)}finally{if(s)throw s.error}}var s,a},t.prototype.invokeActions=function(t,e){var n,r,i,o,s=[];try{for(var a=c(this.states),u=a.next();!u.done;u=a.next()){var l=u.value,h=B_(e),p=l.actions[h];if(p)try{for(var f=c(p),d=f.next();!d.done;d=f.next()){var v=d.value,m=this.createStateContext(l);try{var y=l.instance[v.fn](m,e);y instanceof Promise&&(y=nt(y)),y=y instanceof O?y.pipe(v.options.cancelUncompleted?x_(t.pipe(H_(e))):J(function(t){return t})):Ql({}).pipe(E_()),s.push(y)}catch(t){s.push(v_(t))}}}catch(t){i={error:t}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return s.length||s.push(Ql({})),yg(s)},t.prototype.createStateContext=function(t){return this._stateContextFactory.createStateContext(t)},t}();function rE(t,e){return t===e}function iE(t,e){void 0===e&&(e=rE);var n=null,r=null;return function(){return function(t,e,n){if(null===e||null===n||e.length!==n.length)return!1;for(var r=e.length,i=0;i<r;i++)if(!t(e[i],n[i]))return!1;return!0}(e,n,arguments)||(r=t.apply(null,arguments)),n=arguments,r}}function oE(t,e,n){var r=iE(function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=e.apply(void 0,h(t));return r instanceof Function?iE.apply(null,[r]):r}),i=n&&n.containerClass,o=function(t){t.hasOwnProperty(O_)||Object.defineProperty(t,O_,{value:{selectFromAppState:null,originalFn:null,containerClass:null,selectorName:null}});return j_(t)}(r);return o.originalFn=e,o.selectFromAppState=function(e){var n=[],o=[];i&&L_(i)&&o.push(i);t&&o.push.apply(o,h(t)),o&&n.push.apply(n,h(o.map(function(t){return sE(t)(e)})));try{return r.apply(void 0,h(n))}catch(t){if(t instanceof TypeError)return;throw t}},n&&(o.containerClass=n.containerClass,o.selectorName=n.selectorName),r}function sE(t){var e=j_(t);if(e){var n=e.selectFromAppState;if(n)return n}var r=L_(t);return r&&r.path?V_(r.path.split(".")):t}nE.decorators=[{type:Be}],nE.ctorParameters=function(){return[{type:me},{type:nE,decorators:[{type:ae},{type:ce}]},{type:K_},{type:Y_},{type:eE}]};var aE=function(){function t(t,e,n){this._ngZone=t,this._stateStream=e,this._internalStateOperations=n}return t.prototype.dispatch=function(t){return this._internalStateOperations.getRootStateOperations().dispatch(t)},t.prototype.select=function(t){var e,n,r=sE(t);return this._stateStream.pipe(J(r),yh(function(t){if(t instanceof TypeError)return Ql(void 0);throw t}),function(t){return t.lift(new D_(e,n))},z_(this._ngZone))},t.prototype.selectOnce=function(t){return this.select(t).pipe(wh(1))},t.prototype.selectSnapshot=function(t){return sE(t)(this._stateStream.getValue())},t.prototype.subscribe=function(t){return this._stateStream.pipe(z_(this._ngZone)).subscribe(t)},t.prototype.snapshot=function(){return this._internalStateOperations.getRootStateOperations().getState()},t.prototype.reset=function(t){return this._internalStateOperations.getRootStateOperations().setState(t)},t}();aE.decorators=[{type:Be}],aE.ctorParameters=function(){return[{type:hr},{type:X_},{type:tE}]};var uE=function(){return function t(e){t.store=e}}();function cE(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(n,r){var i="__"+r+"__selector";t||(t=r.lastIndexOf("$")===r.length-1?r.substring(0,r.length-1):r);if(n[i])throw new Error("You cannot use @Select decorator and a "+i+" property.");delete n[r]&&(Object.defineProperty(n,i,{writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(n,r,{get:function(){return this[i]||(this[i]=(function(t){var e=uE.store;if(!e)throw new Error("SelectFactory not connected to store!");return e.select(t)}).apply(this,["string"==typeof t?V_(e.length?h([t],e):t.split(".")):t[P_]&&t[P_].path?V_(t[P_].path.split(".")):t]))},enumerable:!0,configurable:!0}))}}uE.store=void 0,uE.decorators=[{type:Be}],uE.ctorParameters=function(){return[{type:aE}]};var lE=function(){return function(){}}();lE.type="@@INIT";var hE=function(){return function(){}}();hE.type="@@UPDATE_STATE";var pE=function(){return function(t,e,n,r,i){var o=t.addAndReturnDefaults(i),s=e.getRootStateOperations();if(o){var a=s.getState();s.setState(Object.assign({},a,o.defaults))}t.connectActionHandlers(),s.dispatch(new lE).subscribe(function(){o&&t.invokeInit(o.states)})}}();pE.decorators=[{type:qe}],pE.ctorParameters=function(){return[{type:nE},{type:tE},{type:aE},{type:uE},{type:Array,decorators:[{type:ae},{type:se,args:[N_]}]}]};var fE=function(){return function(t,e,n,r){var i=[].concat.apply([],h(r)),o=n.addAndReturnDefaults(i),s=e.getRootStateOperations();if(o){var a=s.getState();s.setState(Object.assign({},a,o.defaults))}s.dispatch(new hE).subscribe(function(){o&&n.invokeInit(o.states)})}}();function dE(t){return Object.assign(new R_,t)}fE.decorators=[{type:qe,args:[{}]}],fE.ctorParameters=function(){return[{type:aE},{type:tE},{type:nE},{type:Array,decorators:[{type:ae},{type:se,args:[k_]}]}]};var vE=new wt("ROOT_OPTIONS"),mE=function(){function t(){}return t.forRoot=function(t,e){return void 0===t&&(t=[]),void 0===e&&(e={}),{ngModule:pE,providers:h([nE,eE,G_,K_,J_,Y_,tE,aE,X_,uE,$_],t,[{provide:N_,useValue:t},{provide:vE,useValue:e},{provide:R_,useFactory:dE,deps:[vE]}])}},t.forFeature=function(t){return{ngModule:fE,providers:h([nE,$_],t,[{provide:k_,multi:!0,useValue:t}])}},t}();function yE(t,e){return function(n,r,i){var o,s,a=F_(n.constructor);Array.isArray(t)||(t=[t]);try{for(var u=c(t),l=u.next();!l.done;l=u.next()){var h=l.value,p=h.type;if(!h.type)throw new Error("Action "+h.name+' is missing a static "type" property');a.actions[p]||(a.actions[p]=[]),a.actions[p].push({fn:r,options:e||{},type:p})}}catch(t){o={error:t}}finally{try{l&&!l.done&&(s=u.return)&&s.call(u)}finally{if(o)throw o.error}}}}mE.decorators=[{type:qe,args:[{}]}];var gE=new RegExp("^[a-zA-Z0-9]+$"),bE=function(t){return t+" is not a valid state name. It needs to be a valid object property name."};function wE(t){return function(e,n,r){if(null!==r.value){var i=r.value,o=oE(t,i,{containerClass:e,selectorName:n});return{configurable:!0,get:function(){return o}}}throw new Error("Selectors only work on methods")}}var _E=function(){function t(t){this.payload=t}return t.type="[GAME] Create Game",t}(),EE=function(){function t(t){this.payload=t}return t.type="[GAME] Start Game",t}(),CE=function(){function t(t){this.success=t}return t.type="[GAME] End Game",t}(),SE=function(){function t(t){this.payload=t}return t.type="[GAME] Create Player",t}(),xE=function(){function t(){}return t.type="[GAME] Destroy Player",t}(),TE=function(){function t(t){this.payload=t}return t.type="[GAME] Update Timer",t}(),AE=function(){function t(t){this.payload=t}return t.type="[GAME] Push Page",t}(),DE=function(){function t(t){this.payload=t}return t.type="[GAME] Pop Page",t}(),IE=n("LvDl"),NE=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},kE=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},PE=function(){function t(t,e,n,r){this.store=t,this.router=e,this.fs=n,this.auth=r}return t.prototype.openGame=function(){var t=this;this.createPlayer(),this.fs.collection("games").valueChanges().subscribe(function(e){t.games=IE.shuffle(e);var n=t.games.pop();t.store.dispatch(new _E(n))}),this.watchStat()},Object.defineProperty(t.prototype,"rank$",{get:function(){var t=this;return this.fs.collection("players").valueChanges().pipe(J(function(e){var n=IE.orderBy(e,"points","desc");return t.player_id?IE.findIndex(n,{player_id:t.player_id})+1:-1}))},enumerable:!0,configurable:!0}),t.prototype.watchStat=function(){var t=this;this.store.select(function(t){return{game:t.game.game,stat:t.game.stat}}).subscribe(function(e){var n=e.game,r=e.stat;n&&r&&r.paths.length>0&&n.end.title===IE.last(r.paths).title&&(t.store.dispatch(new CE(!0)),t.games.length>0&&(t.games=IE.shuffle(t.games),t.store.dispatch(new _E(t.games.pop()))),t.router.navigate([""]))}),this.store.select(function(t){return t.game.player}).subscribe(function(e){t.fs.collection("players").doc(e.player_id).update(e)})},t.prototype.createPlayer=function(){return NE(this,void 0,void 0,function(){var t,e;return kE(this,function(n){switch(n.label){case 0:return t=this.auth.currentUser,this.player_id=this.fs.createId(),e={player_id:this.player_id,user:t,stats:[],points:0},[4,this.fs.collection("players").doc(e.player_id).set(e)];case 1:return n.sent(),this.store.dispatch(new SE(e)),[2]}})})},t.prototype.startGame=function(){return NE(this,void 0,void 0,function(){var t;return kE(this,function(e){switch(e.label){case 0:return this.store.dispatch(new EE(300)),[4,this.store.select(function(t){return t.game.game}).pipe(Ch(function(t){return null!=t})).toPromise()];case 1:return t=e.sent(),this.router.navigate(["wiki/"+t.start.title]),[2]}})})},t.ngInjectableDef=bt({factory:function(){return new t(Me(aE),Me(Fy),Me(r_),Me(u_))},token:t,providedIn:"root"}),t}(),OE=function(){function t(t,e){this.wikiGame=t,this.store=e}return t.prototype.ngOnInit=function(){this.game$=this.store.select(function(t){return t.game.game})},t.prototype.startGame=function(){this.wikiGame.startGame()},t}(),ME=xo({encapsulation:0,styles:[[""]],data:{}});function RE(t){return Aa(0,[(t()(),os(0,0,null,null,2,"button",[["class","button is-primary is-large is-fullwidth"]],null,[[null,"click"]],function(t,e,n){var r=!0,i=t.component;"click"===e&&(r=!1!==i.startGame()&&r);return r},null,null)),(t()(),os(1,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Sa(-1,null,["START GAME"]))],null,null)}function FE(t){return Aa(0,[(t()(),os(0,0,null,null,13,"section",[],null,null,null,null,null)),(t()(),os(1,0,null,null,10,"article",[["class","message is-primary"]],null,null,null,null,null)),(t()(),os(2,0,null,null,2,"div",[["class","message-header"]],null,null,null,null,null)),(t()(),os(3,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Sa(4,null,["",""])),(t()(),os(5,0,null,null,6,"div",[["class","message-body is has-text-centered"]],null,null,null,null,null)),(t()(),os(6,0,null,null,1,"div",[["class","is-size-3"]],null,null,null,null,null)),(t()(),Sa(7,null,["",""])),(t()(),os(8,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Sa(-1,null,["to"])),(t()(),os(10,0,null,null,1,"div",[["class","is-size-3"]],null,null,null,null,null)),(t()(),Sa(11,null,["",""])),(t()(),is(16777216,null,null,1,null,RE)),Xs(13,16384,null,0,zp,[Gr,Kr],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,13,0,!e.context.ngIf.started)},function(t,e){t(e,4,0,e.context.ngIf.started?"Current Game":"Next Game"),t(e,7,0,e.context.ngIf.start.title),t(e,11,0,e.context.ngIf.end.title)})}function LE(t){return Aa(0,[(t()(),os(0,0,null,null,1,"section",[["class","section has-text-centered"]],null,null,null,null,null)),(t()(),Sa(-1,null,[" No Games now!!\n"]))],null,null)}function jE(t){return Aa(0,[(t()(),is(16777216,null,null,2,null,FE)),Xs(1,16384,null,0,zp,[Gr,Kr],{ngIf:[0,"ngIf"]},null),$s(131072,Df,[Qr]),(t()(),is(16777216,null,null,2,null,LE)),Xs(4,16384,null,0,zp,[Gr,Kr],{ngIf:[0,"ngIf"]},null),$s(131072,Df,[Qr])],function(t,e){var n=e.component;t(e,1,0,Eo(e,1,0,Fs(e,2).transform(n.game$))),t(e,4,0,!Eo(e,4,0,Fs(e,5).transform(n.game$)))},null)}xs("app-current-game",OE,function(t){return Aa(0,[(t()(),os(0,0,null,null,1,"app-current-game",[],null,null,null,jE,ME)),Xs(1,114688,null,0,OE,[PE,aE],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]);var VE=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},BE=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},UE=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},qE=function(){function t(){}var e;return t.game=function(t){return t.game},t.player=function(t){return t.player},t.timeLeft=function(t){return t.timeLeft},t.stats=function(t){var e=t.player,n=t.game,r=t.stat;return e?{games:e.stats.length+(n&&n.started?1:0),paths:IE.sumBy(e.stats,function(t){return t.paths.length})+(r?r.paths.length:0),points:e.points,rank:0}:null},t.prototype.createGame=function(t,e){var n=e.payload;t.getState().player;t.patchState({game:VE({},n,{started:!1})})},t.prototype.startGame=function(t,e){var n=e.payload,r=t.getState(),i=r.game,o=r.player;t.patchState({game:VE({},i,{started:!0}),stat:{game:i,player:o,paths:[]},timeLeft:n})},t.prototype.endGame=function(t,e){var n=e.success,r=t.getState(),i=r.player,o=r.stat,s=r.game,a=n?i.points+Math.ceil(s.total_points/o.paths.length):i.points;t.patchState({player:VE({},i,{points:a,stats:i.stats.concat([o])}),stat:null,game:null})},t.prototype.createPlayer=function(t,e){var n=e.payload;t.patchState({player:n})},t.prototype.destroyPlayer=function(t,e){t.patchState({player:null})},t.prototype.pushPage=function(t,e){var n=e.payload,r=t.getState().stat;t.patchState({stat:VE({},r,{paths:r.paths.concat([n])})})},t.prototype.popPage=function(t,e){var n=t.getState().stat;t.patchState({stat:VE({},n,{paths:n.paths.slice(0,-1)})})},t.prototype.updateTimer=function(t,e){var n=e.payload,r=t.getState();t.patchState({timeLeft:Math.max(r.timeLeft-n,0)})},BE([yE(_E),UE("design:type",Function),UE("design:paramtypes",[Object,_E]),UE("design:returntype",void 0)],t.prototype,"createGame",null),BE([yE(EE),UE("design:type",Function),UE("design:paramtypes",[Object,EE]),UE("design:returntype",void 0)],t.prototype,"startGame",null),BE([yE(CE),UE("design:type",Function),UE("design:paramtypes",[Object,CE]),UE("design:returntype",void 0)],t.prototype,"endGame",null),BE([yE(SE),UE("design:type",Function),UE("design:paramtypes",[Object,SE]),UE("design:returntype",void 0)],t.prototype,"createPlayer",null),BE([yE(xE),UE("design:type",Function),UE("design:paramtypes",[Object,xE]),UE("design:returntype",void 0)],t.prototype,"destroyPlayer",null),BE([yE(AE),UE("design:type",Function),UE("design:paramtypes",[Object,AE]),UE("design:returntype",void 0)],t.prototype,"pushPage",null),BE([yE(DE),UE("design:type",Function),UE("design:paramtypes",[Object,DE]),UE("design:returntype",void 0)],t.prototype,"popPage",null),BE([yE(TE),UE("design:type",Function),UE("design:paramtypes",[Object,TE]),UE("design:returntype",void 0)],t.prototype,"updateTimer",null),BE([wE(),UE("design:type",Function),UE("design:paramtypes",[Object]),UE("design:returntype",void 0)],t,"game",null),BE([wE(),UE("design:type",Function),UE("design:paramtypes",[Object]),UE("design:returntype",void 0)],t,"player",null),BE([wE(),UE("design:type",Function),UE("design:paramtypes",[Object]),UE("design:returntype",void 0)],t,"timeLeft",null),BE([wE(),UE("design:type",Function),UE("design:paramtypes",[Object]),UE("design:returntype",void 0)],t,"stats",null),t=BE([(e={name:"game",defaults:{game:null,player:null,timeLeft:0,stat:null}},function(t){var n=F_(t);if(Object.getPrototypeOf(t).hasOwnProperty(P_)){var r=Object.getPrototypeOf(t)[P_];n.actions=Object.assign({},n.actions,r.actions)}if(n.children=e.children,n.defaults=e.defaults,n.name=e.name,!e.name)throw new Error("States must register a 'name' property");if(!gE.test(e.name))throw new Error(bE(e.name))})],t)}(),HE=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},WE=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},zE=function(){function t(t,e){this.store=t,this.game=e}return t.prototype.ngOnInit=function(){this.timeLeft$=this.store.select(function(t){var e=t.game.timeLeft;return{min:Math.floor(e/60),sec:e%60}}),this.stat$=this.store.select(function(t){return t.game.stat}),this.game.openGame(),this.rank$=this.game.rank$},HE([cE(qE.stats),WE("design:type",O)],t.prototype,"playerStats$",void 0),t}(),KE=xo({encapsulation:0,styles:[[".fixed[_ngcontent-%COMP%]{position:fixed;display:flex;height:100vh;flex-direction:column}"]],data:{}});function GE(t){return Aa(0,[(t()(),os(0,0,null,null,26,"div",[["class","section has-background-light"]],null,null,null,null,null)),(t()(),os(1,0,null,null,25,"nav",[["class","level"]],null,null,null,null,null)),(t()(),os(2,0,null,null,5,"div",[["class","level-item has-text-centered"]],null,null,null,null,null)),(t()(),os(3,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),os(4,0,null,null,1,"p",[["class","heading"]],null,null,null,null,null)),(t()(),Sa(-1,null,["Games"])),(t()(),os(6,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),Sa(7,null,["",""])),(t()(),os(8,0,null,null,5,"div",[["class","level-item has-text-centered"]],null,null,null,null,null)),(t()(),os(9,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),os(10,0,null,null,1,"p",[["class","heading"]],null,null,null,null,null)),(t()(),Sa(-1,null,["Paths"])),(t()(),os(12,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),Sa(13,null,["",""])),(t()(),os(14,0,null,null,5,"div",[["class","level-item has-text-centered"]],null,null,null,null,null)),(t()(),os(15,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),os(16,0,null,null,1,"p",[["class","heading"]],null,null,null,null,null)),(t()(),Sa(-1,null,["Points"])),(t()(),os(18,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),Sa(19,null,["",""])),(t()(),os(20,0,null,null,6,"div",[["class","level-item has-text-centered"]],null,null,null,null,null)),(t()(),os(21,0,null,null,5,"div",[],null,null,null,null,null)),(t()(),os(22,0,null,null,1,"p",[["class","heading"]],null,null,null,null,null)),(t()(),Sa(-1,null,["Rank"])),(t()(),os(24,0,null,null,2,"p",[["class","title"]],null,null,null,null,null)),(t()(),Sa(25,null,["",""])),$s(131072,Df,[Qr])],null,function(t,e){var n=e.component;t(e,7,0,e.context.ngIf.games),t(e,13,0,e.context.ngIf.paths),t(e,19,0,e.context.ngIf.points),t(e,25,0,Eo(e,25,0,Fs(e,26).transform(n.rank$)))})}function QE(t){return Aa(0,[(t()(),os(0,0,null,null,1,"li",[["class","has-text-primary"]],null,null,null,null,null)),(t()(),Sa(1,null,[" "," "]))],null,function(t,e){t(e,1,0,e.context.$implicit.title)})}function XE(t){return Aa(0,[(t()(),os(0,0,null,null,4,"div",[["class","section"]],null,null,null,null,null)),(t()(),os(1,0,null,null,3,"nav",[["aria-label","breadcrumbs"],["class","breadcrumb has-arrow-separator is-centered is-small"]],null,null,null,null,null)),(t()(),os(2,0,null,null,2,"ul",[],null,null,null,null,null)),(t()(),is(16777216,null,null,1,null,QE)),Xs(4,278528,null,0,Hp,[Gr,Kr,mi],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,4,0,e.context.ngIf.paths)},null)}function $E(t){return Aa(0,[(t()(),os(0,0,null,null,30,"div",[["class","container is-fullhd"]],null,null,null,null,null)),(t()(),os(1,0,null,null,29,"div",[["class","columns"]],null,null,null,null,null)),(t()(),os(2,0,null,null,8,"div",[["class","column is-one-quarter fixed"]],null,null,null,null,null)),(t()(),os(3,0,null,null,4,"section",[["class","hero is-primary"]],null,null,null,null,null)),(t()(),os(4,0,null,null,3,"div",[["class","hero-body"]],null,null,null,null,null)),(t()(),os(5,0,null,null,2,"div",[["class","container"]],null,null,null,null,null)),(t()(),os(6,0,null,null,1,"h1",[["class","title"]],null,null,null,null,null)),(t()(),Sa(-1,null,[" Explorer "])),(t()(),os(8,0,null,null,2,"section",[["class","section has-background-white-ter"]],null,null,null,null,null)),(t()(),os(9,0,null,null,1,"app-current-game",[],null,null,null,jE,ME)),Xs(10,114688,null,0,OE,[PE,aE],null,null),(t()(),os(11,0,null,null,19,"div",[["class","column is-three-quarters is-offset-one-quarter"]],null,null,null,null,null)),(t()(),is(16777216,null,null,2,null,GE)),Xs(13,16384,null,0,zp,[Gr,Kr],{ngIf:[0,"ngIf"]},null),$s(131072,Df,[Qr]),(t()(),is(16777216,null,null,2,null,XE)),Xs(16,16384,null,0,zp,[Gr,Kr],{ngIf:[0,"ngIf"]},null),$s(131072,Df,[Qr]),(t()(),os(18,0,null,null,2,"div",[["class","section"]],null,null,null,null,null)),(t()(),os(19,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Xs(20,212992,null,0,zy,[Wy,Gr,tr,[8,null],Qr],null,null),(t()(),os(21,0,null,null,9,"footer",[["class","footer"]],null,null,null,null,null)),(t()(),os(22,0,null,null,8,"div",[["class","content has-text-centered"]],null,null,null,null,null)),(t()(),os(23,0,null,null,5,"p",[],null,null,null,null,null)),(t()(),os(24,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),Sa(-1,null,["Explorer Game"])),(t()(),Sa(-1,null,[" developed as part of "])),(t()(),os(27,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),Sa(-1,null,["Dyuksha18"])),(t()(),os(29,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Sa(-1,null,[" Copyright \xa9 2018 NSS College of Engineering, Palakkad "]))],function(t,e){var n=e.component;t(e,10,0),t(e,13,0,Eo(e,13,0,Fs(e,14).transform(n.playerStats$))),t(e,16,0,Eo(e,16,0,Fs(e,17).transform(n.stat$))),t(e,20,0)},null)}var YE=xs("app-welcome",zE,function(t){return Aa(0,[(t()(),os(0,0,null,null,1,"app-welcome",[],null,null,null,$E,KE)),Xs(1,114688,null,0,zE,[aE,PE],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),JE=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),ZE=xo({encapsulation:0,styles:[[""]],data:{}});function tC(t){return Aa(0,[(t()(),os(0,0,null,null,4,"section",[["class","section has-text-centered"]],null,null,null,null,null)),(t()(),os(1,0,null,null,1,"h2",[["class","title"]],null,null,null,null,null)),(t()(),Sa(-1,null,["Qualifier Round"])),(t()(),os(3,0,null,null,1,"app-current-game",[],null,null,null,jE,ME)),Xs(4,114688,null,0,OE,[PE,aE],null,null)],function(t,e){t(e,4,0)},null)}var eC=xs("app-home",JE,function(t){return Aa(0,[(t()(),os(0,0,null,null,1,"app-home",[],null,null,null,tC,ZE)),Xs(1,114688,null,0,JE,[],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),nC=function(){return function(){}}(),rC=function(){function t(t,e,n){this.options=t,this.vcRef=e,this.compiler=n}return t.prototype.createComponentType=function(){var t=new Rt({selector:this.selector,template:this.template}),e=function(){return function(){}}();return Rt(t)(e)},t.prototype.createNgModuleType=function(t){var e=[].concat(this.options.ngModuleMetadata.declarations||[]);e.push(t);var n={imports:this.options.ngModuleMetadata.imports,providers:this.options.ngModuleMetadata.providers,schemas:this.options.ngModuleMetadata.schemas,declarations:e};return qe(n)(function(){return function(){}}())},t.prototype.ngOnChanges=function(t){var e=this;if(this.template){this.cmpType=this.createComponentType(),this.moduleType=this.createNgModuleType(this.cmpType);var n=yn.fromResolvedProviders([],this.vcRef.parentInjector);this.compiler.compileModuleAndAllComponentsAsync(this.moduleType).then(function(t){for(var n,r=t.componentFactories.length-1;r>=0;r--)if(t.componentFactories[r].componentType===e.cmpType){n=t.componentFactories[r];break}return n},function(t){}).then(function(t){t&&(e.vcRef.clear(),e.component=e.vcRef.createComponent(t,0,n),Object.assign(e.component.instance,e.context),e.component.changeDetectorRef.detectChanges())})}},t.prototype.ngOnDestroy=function(){this.component&&this.component.destroy(),this.compiler&&(this.cmpType&&this.compiler.clearCacheFor(this.cmpType),this.moduleType&&this.compiler.clearCacheFor(this.moduleType))},t}();rC.decorators=[{type:Mt,args:[{selector:"[dynamicComponent]"}]}],rC.ctorParameters=function(){return[{type:nC},{type:Gr},{type:Wn}]},rC.propDecorators={template:[{type:Lt,args:["dynamicComponent"]}],selector:[{type:Lt,args:["dynamicComponentSelector"]}],context:[{type:Lt,args:["dynamicComponentContext"]}]};var iC=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),oC=xo({encapsulation:0,styles:[[".loading[_ngcontent-%COMP%]{display:flex;width:100%;height:300px}.loading[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin:auto;width:30px;height:30px;border-radius:50rem;border-bottom:3px solid #00d1b2;border-top:3px solid #00d1b2;border-right:3px solid #00d1b2;border-left:3px solid transparent;-webkit-animation:.6s ease-in-out infinite spin;animation:.6s ease-in-out infinite spin}@-webkit-keyframes spin{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{from{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}"]],data:{}});function sC(t){return Aa(0,[(t()(),os(0,0,null,null,1,"div",[["class","loading"]],null,null,null,null,null)),(t()(),os(1,0,null,null,0,"div",[["class","loader"]],null,null,null,null,null))],null,null)}xs("app-loader",iC,function(t){return Aa(0,[(t()(),os(0,0,null,null,1,"app-loader",[],null,null,null,sC,oC)),Xs(1,114688,null,0,iC,[],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]);var aC=n("EVdn"),uC=n.n(aC),cC=function(){return function(){}}(),lC=function(){return function(){}}(),hC=function(){function t(t){var e=this;this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){e.headers=new Map,t.split("\n").forEach(function(t){var n=t.indexOf(":");if(n>0){var r=t.slice(0,n),i=r.toLowerCase(),o=t.slice(n+1).trim();e.maybeSetNormalizedName(r,i),e.headers.has(i)?e.headers.get(i).push(o):e.headers.set(i,[o])}})}:function(){e.headers=new Map,Object.keys(t).forEach(function(n){var r=t[n],i=n.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(e.headers.set(i,r),e.maybeSetNormalizedName(n,i))})}:this.headers=new Map}return t.prototype.has=function(t){return this.init(),this.headers.has(t.toLowerCase())},t.prototype.get=function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null},t.prototype.keys=function(){return this.init(),Array.from(this.normalizedNames.values())},t.prototype.getAll=function(t){return this.init(),this.headers.get(t.toLowerCase())||null},t.prototype.append=function(t,e){return this.clone({name:t,value:e,op:"a"})},t.prototype.set=function(t,e){return this.clone({name:t,value:e,op:"s"})},t.prototype.delete=function(t,e){return this.clone({name:t,value:e,op:"d"})},t.prototype.maybeSetNormalizedName=function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)},t.prototype.init=function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(t){return e.applyUpdate(t)}),this.lazyUpdate=null))},t.prototype.copyFrom=function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach(function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))})},t.prototype.clone=function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n},t.prototype.applyUpdate=function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var r=("a"===t.op?this.headers.get(e):void 0)||[];r.push.apply(r,h(n)),this.headers.set(e,r);break;case"d":var i=t.value;if(i){var o=this.headers.get(e);if(!o)return;0===(o=o.filter(function(t){return-1===i.indexOf(t)})).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}},t.prototype.forEach=function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return t(e.normalizedNames.get(n),e.headers.get(n))})},t}(),pC=function(){function t(){}return t.prototype.encodeKey=function(t){return fC(t)},t.prototype.encodeValue=function(t){return fC(t)},t.prototype.decodeKey=function(t){return decodeURIComponent(t)},t.prototype.decodeValue=function(t){return decodeURIComponent(t)},t}();function fC(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var dC=function(){function t(t){void 0===t&&(t={});var e,n,r,i=this;if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new pC,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=(e=t.fromString,n=this.encoder,r=new Map,e.length>0&&e.split("&").forEach(function(t){var e=t.indexOf("="),i=l(-1==e?[n.decodeKey(t),""]:[n.decodeKey(t.slice(0,e)),n.decodeValue(t.slice(e+1))],2),o=i[0],s=i[1],a=r.get(o)||[];a.push(s),r.set(o,a)}),r)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(function(e){var n=t.fromObject[e];i.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}return t.prototype.has=function(t){return this.init(),this.map.has(t)},t.prototype.get=function(t){this.init();var e=this.map.get(t);return e?e[0]:null},t.prototype.getAll=function(t){return this.init(),this.map.get(t)||null},t.prototype.keys=function(){return this.init(),Array.from(this.map.keys())},t.prototype.append=function(t,e){return this.clone({param:t,value:e,op:"a"})},t.prototype.set=function(t,e){return this.clone({param:t,value:e,op:"s"})},t.prototype.delete=function(t,e){return this.clone({param:t,value:e,op:"d"})},t.prototype.toString=function(){var t=this;return this.init(),this.keys().map(function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map(function(e){return n+"="+t.encoder.encodeValue(e)}).join("&")}).join("&")},t.prototype.clone=function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([e]),n},t.prototype.init=function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(e){return t.map.set(e,t.cloneFrom.map.get(e))}),this.updates.forEach(function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var r=t.map.get(e.param)||[],i=r.indexOf(e.value);-1!==i&&r.splice(i,1),r.length>0?t.map.set(e.param,r):t.map.delete(e.param)}}),this.cloneFrom=null)},t}();function vC(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function mC(t){return"undefined"!=typeof Blob&&t instanceof Blob}function yC(t){return"undefined"!=typeof FormData&&t instanceof FormData}var gC,bC=function(){function t(t,e,n,r){var i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new hC),this.params){var o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{var s=e.indexOf("?"),a=-1===s?"?":s<e.length-1?"&":"";this.urlWithParams=e+a+o}}else this.params=new dC,this.urlWithParams=e}return t.prototype.serializeBody=function(){return null===this.body?null:vC(this.body)||mC(this.body)||yC(this.body)||"string"==typeof this.body?this.body:this.body instanceof dC?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()},t.prototype.detectContentTypeHeader=function(){return null===this.body?null:yC(this.body)?null:mC(this.body)?this.body.type||null:vC(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof dC?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null},t.prototype.clone=function(e){void 0===e&&(e={});var n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,u=e.headers||this.headers,c=e.params||this.params;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce(function(t,n){return t.set(n,e.setHeaders[n])},u)),e.setParams&&(c=Object.keys(e.setParams).reduce(function(t,n){return t.set(n,e.setParams[n])},c)),new t(n,r,o,{params:c,headers:u,reportProgress:a,responseType:i,withCredentials:s})},t}();!function(t){t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User"}(gC||(gC={}));var wC=function(){return function(t,e,n){void 0===e&&(e=200),void 0===n&&(n="OK"),this.headers=t.headers||new hC,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}(),_C=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.type=gC.ResponseHeader,n}return i(e,t),e.prototype.clone=function(t){return void 0===t&&(t={}),new e({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})},e}(wC),EC=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.type=gC.Response,n.body=void 0!==e.body?e.body:null,n}return i(e,t),e.prototype.clone=function(t){return void 0===t&&(t={}),new e({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})},e}(wC),CC=function(t){function e(e){var n=t.call(this,e,0,"Unknown Error")||this;return n.name="HttpErrorResponse",n.ok=!1,n.status>=200&&n.status<300?n.message="Http failure during parsing for "+(e.url||"(unknown url)"):n.message="Http failure response for "+(e.url||"(unknown url)")+": "+e.status+" "+e.statusText,n.error=e.error||null,n}return i(e,t),e}(wC);function SC(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var xC=function(){function t(t){this.handler=t}return t.prototype.request=function(t,e,n){var r,i=this;if(void 0===n&&(n={}),t instanceof bC)r=t;else{var o=void 0;o=n.headers instanceof hC?n.headers:new hC(n.headers);var s=void 0;n.params&&(s=n.params instanceof dC?n.params:new dC({fromObject:n.params})),r=new bC(t,e,void 0!==n.body?n.body:null,{headers:o,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}var a=Ql(r).pipe(Sh(function(t){return i.handler.handle(t)}));if(t instanceof bC||"events"===n.observe)return a;var u=a.pipe(Jl(function(t){return t instanceof EC}));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return u.pipe(J(function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return u.pipe(J(function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return u.pipe(J(function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return u.pipe(J(function(t){return t.body}))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type "+n.observe+"}")}},t.prototype.delete=function(t,e){return void 0===e&&(e={}),this.request("DELETE",t,e)},t.prototype.get=function(t,e){return void 0===e&&(e={}),this.request("GET",t,e)},t.prototype.head=function(t,e){return void 0===e&&(e={}),this.request("HEAD",t,e)},t.prototype.jsonp=function(t,e){return this.request("JSONP",t,{params:(new dC).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})},t.prototype.options=function(t,e){return void 0===e&&(e={}),this.request("OPTIONS",t,e)},t.prototype.patch=function(t,e,n){return void 0===n&&(n={}),this.request("PATCH",t,SC(n,e))},t.prototype.post=function(t,e,n){return void 0===n&&(n={}),this.request("POST",t,SC(n,e))},t.prototype.put=function(t,e,n){return void 0===n&&(n={}),this.request("PUT",t,SC(n,e))},t=s([Be(),u("design:paramtypes",[cC])],t)}(),TC=function(){function t(t,e){this.next=t,this.interceptor=e}return t.prototype.handle=function(t){return this.interceptor.intercept(t,this.next)},t}(),AC=new wt("HTTP_INTERCEPTORS"),DC=function(){function t(){}return t.prototype.intercept=function(t,e){return e.handle(t)},t=s([Be()],t)}(),IC=0,NC=function(){return function(){}}(),kC=function(){function t(t,e){this.callbackMap=t,this.document=e}return t.prototype.nextCallback=function(){return"ng_jsonp_callback_"+IC++},t.prototype.handle=function(t){var e=this;if("JSONP"!==t.method)throw new Error("JSONP requests must use JSONP request method.");if("json"!==t.responseType)throw new Error("JSONP requests must use Json response type.");return new O(function(n){var r=e.nextCallback(),i=t.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,"="+r+"$1"),o=e.document.createElement("script");o.src=i;var s=null,a=!1,u=!1;e.callbackMap[r]=function(t){delete e.callbackMap[r],u||(s=t,a=!0)};var c=function(){o.parentNode&&o.parentNode.removeChild(o),delete e.callbackMap[r]},l=function(t){u||(c(),a?(n.next(new EC({body:s,status:200,statusText:"OK",url:i})),n.complete()):n.error(new CC({url:i,status:0,statusText:"JSONP Error",error:new Error("JSONP injected script did not invoke callback.")})))},h=function(t){u||(c(),n.error(new CC({error:t,status:0,statusText:"JSONP Error",url:i})))};return o.addEventListener("load",l),o.addEventListener("error",h),e.document.body.appendChild(o),n.next({type:gC.Sent}),function(){u=!0,o.removeEventListener("load",l),o.removeEventListener("error",h),c()}})},t=s([Be(),a(1,se(Xf)),u("design:paramtypes",[NC,Object])],t)}(),PC=function(){function t(t){this.jsonp=t}return t.prototype.intercept=function(t,e){return"JSONP"===t.method?this.jsonp.handle(t):e.handle(t)},t=s([Be(),u("design:paramtypes",[kC])],t)}(),OC=/^\)\]\}',?\n/;var MC=function(){return function(){}}(),RC=function(){function t(){}return t.prototype.build=function(){return new XMLHttpRequest},t=s([Be(),u("design:paramtypes",[])],t)}(),FC=function(){function t(t){this.xhrFactory=t}return t.prototype.handle=function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new O(function(n){var r=e.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach(function(t,e){return r.setRequestHeader(t,e.join(","))}),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var i=t.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(t.responseType){var o=t.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var s=t.serializeBody(),a=null,u=function(){if(null!==a)return a;var e=1223===r.status?204:r.status,n=r.statusText||"OK",i=new hC(r.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(r)||t.url;return a=new _C({headers:i,status:e,statusText:n,url:o})},c=function(){var e=u(),i=e.headers,o=e.status,s=e.statusText,a=e.url,c=null;204!==o&&(c=void 0===r.response?r.responseText:r.response),0===o&&(o=c?200:0);var l=o>=200&&o<300;if("json"===t.responseType&&"string"==typeof c){var h=c;c=c.replace(OC,"");try{c=""!==c?JSON.parse(c):null}catch(t){c=h,l&&(l=!1,c={error:t,text:c})}}l?(n.next(new EC({body:c,headers:i,status:o,statusText:s,url:a||void 0})),n.complete()):n.error(new CC({error:c,headers:i,status:o,statusText:s,url:a||void 0}))},l=function(t){var e=new CC({error:t,status:r.status||0,statusText:r.statusText||"Unknown Error"});n.error(e)},h=!1,p=function(e){h||(n.next(u()),h=!0);var i={type:gC.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(i.total=e.total),"text"===t.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},f=function(t){var e={type:gC.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return r.addEventListener("load",c),r.addEventListener("error",l),t.reportProgress&&(r.addEventListener("progress",p),null!==s&&r.upload&&r.upload.addEventListener("progress",f)),r.send(s),n.next({type:gC.Sent}),function(){r.removeEventListener("error",l),r.removeEventListener("load",c),t.reportProgress&&(r.removeEventListener("progress",p),null!==s&&r.upload&&r.upload.removeEventListener("progress",f)),r.abort()}})},t=s([Be(),u("design:paramtypes",[MC])],t)}(),LC=new wt("XSRF_COOKIE_NAME"),jC=new wt("XSRF_HEADER_NAME"),VC=function(){return function(){}}(),BC=function(){function t(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return t.prototype.getToken=function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Vp(t,this.cookieName),this.lastCookieString=t),this.lastToken},t=s([Be(),a(0,se(Xf)),a(1,se(Vn)),a(2,se(LC)),u("design:paramtypes",[Object,String,String])],t)}(),UC=function(){function t(t,e){this.tokenService=t,this.headerName=e}return t.prototype.intercept=function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)},t=s([Be(),a(1,se(jC)),u("design:paramtypes",[VC,String])],t)}(),qC=function(){function t(t,e){this.backend=t,this.injector=e,this.chain=null}return t.prototype.handle=function(t){if(null===this.chain){var e=this.injector.get(AC,[]);this.chain=e.reduceRight(function(t,e){return new TC(t,e)},this.backend)}return this.chain.handle(t)},t=s([Be(),u("design:paramtypes",[lC,me])],t)}();function HC(){return"object"==typeof window?window:{}}var WC=function(){function t(){}var e;return e=t,t.disable=function(){return{ngModule:e,providers:[{provide:UC,useClass:DC}]}},t.withOptions=function(t){return void 0===t&&(t={}),{ngModule:e,providers:[t.cookieName?{provide:LC,useValue:t.cookieName}:[],t.headerName?{provide:jC,useValue:t.headerName}:[]]}},t=e=s([qe({providers:[UC,{provide:AC,useExisting:UC,multi:!0},{provide:VC,useClass:BC},{provide:LC,useValue:"XSRF-TOKEN"},{provide:jC,useValue:"X-XSRF-TOKEN"}]})],t)}(),zC=function(){function t(){}return t=s([qe({imports:[WC.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})],providers:[xC,{provide:cC,useClass:qC},FC,{provide:lC,useExisting:FC},RC,{provide:MC,useExisting:RC}]})],t)}(),KC=(function(){function t(){}t=s([qe({providers:[kC,{provide:NC,useFactory:HC},{provide:AC,useClass:PC,multi:!0}]})],t)}(),Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}),GC=function(){function t(t){this.http=t,this.apiUrl="https://en.wikipedia.org/w/api.php",this.options={action:"parse",prop:"text",format:"json",disableeditsection:"true",disablelimitreport:"true",origin:"*",redirects:"true"}}return t.prototype.getPageText=function(t){return this.http.get(this.apiUrl,{params:KC({page:t},this.options)}).pipe(yh(this.handleError("getPageText",{})))},t.prototype.getParsedData=function(t){var e=this;return this.getPageText(t).pipe(J(function(t){var n=e.filterContent(t.parse.text["*"]);return{page:{page_id:t.parse.pageid,title:t.parse.title},content:n,redirects:t.parse.redirects}}))},t.prototype.handleError=function(t,e){return void 0===t&&(t="operation"),function(t){return console.log(t),Ql(e)}},t.prototype.filterContent=function(t){var e=document.createElement("div");return e.innerHTML=t,uC()(e).find('#References, .reflist, [role="navigation"], sup, .reference, .ambox-Refimprove').remove(),uC()(e).find("#See_also").parent().next().nextAll().remove(),uC()(e).find("a").each(function(){uC()(this).get(0).setAttributeNS("http://www.mozilla.org/ns/specialspace","routerLink",uC()(this).attr("href")),uC()(this).removeAttr("href")}),uC()(e).find("center").each(function(){uC()(this).replaceWith('<div style="text-align:center">'+uC()(this).html()+"</div>")}),uC()(e).find("big").each(function(){uC()(this).replaceWith('<span style="font-size: 1.1em">'+uC()(this).html()+"</span>")}),uC()(e).find("s, strike").each(function(){uC()(this).replaceWith('<span style="text-decoration: line-through;">'+uC()(this).html()+"</span>")}),uC()(e).find("u").each(function(){uC()(this).replaceWith('<span style="text-decoration: underline;">'+uC()(this).html()+"</span>")}),uC()(e).find("dir").each(function(){uC()(this).replaceWith("<ul>"+uC()(this).html()+"</ul>")}),uC()(e).find("tt").each(function(){uC()(this).replaceWith('<span style="font-family: monospace">'+uC()(this).html()+"</span>")}),uC()(e).find("acronym, applet, basefont, frame, frameset, isindex, noframes").remove(),uC()(e).find("acronym, applet, basefont, frame, frameset, isindex, noframes").remove(),uC()(e).find(".external").attr("href",""),this.applyStyling(e),e},t.prototype.applyStyling=function(t){uC()(t).find("h2").attr("style","font-size:1.5em; font-weight: 600;margin: 1em 0 0.5em 0;border-bottom:1px solid #2e2e2e"),uC()(t).find("h3").attr("style","font-size:1.3em; font-weight: 600; margin: 0.6em 0 0.3em 0;"),uC()(t).find("h4").attr("style","font-size:1.1em; font-weight: 600; margin: 0.6em 0 0.3em 0;"),uC()(t).find("#toc").attr("style","border: 1pt solid #aaa; background-color: #f9f9f9; padding: 16px; display: table;"),uC()(t).find("p").attr("style","text-align: justify; margin: 0.4em 0 0.5em 0;"),uC()(t).find("#toc h2").attr("style","text-align: center; font-weight: bold"),uC()(t).find(".tright").attr("style","float:right;clear:right;margin:0.5em 0 1.3em 1.4em;"),uC()(t).find(".tleft").attr("style","float:left;clear:left;margin:0.5em 1.4em 1.3em 0;"),uC()(t).find(".thumbinner").attr("style","border: 1px solid #c8ccd1; padding: 3px; background-color: #f8f9fa; font-size: 94%; text-align: center; overflow: hidden; width: 222px;"),uC()(t).find(".thumbcaption").attr("style","font-size: 88%"),uC()(t).find(".infobox").attr("style","border: 1px solid #a2a9b1; border-spacing: 3px; background-color: #f8f9fa; color: black; margin: 0.5em 0 0.5em 1em; padding: 16px; width:20%; font-size: 88%; float: right; clear: right; line-height: 1.5em"),uC()(t).find(".infobox td, .infobox th").attr("style","padding: 8px"),uC()(t).find(".infobox th .fn").parent().css("text-align","center")},t.ngInjectableDef=bt({factory:function(){return new t(Me(xC))},token:t,providedIn:"root"}),t}(),QC=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},XC=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},$C=function(){function t(t,e,n){this.route=t,this.wiki=e,this.store=n,this.sub=new w}return t.prototype.ngOnInit=function(){var t,e=this;this.sub.add(this.route.params.subscribe(function(n){t=n.title,e.content=null,e.getPageContent(t)}))},t.prototype.getPageContent=function(t){return QC(this,void 0,void 0,function(){var e,n;return XC(this,function(r){switch(r.label){case 0:return[4,this.wiki.getParsedData(t).pipe(Ch(function(t){return null!==t})).toPromise()];case 1:return e=r.sent(),this.content=e.content.innerHTML.replace("{","&#123;").replace("}","&#125;"),n=e.page,this.title=n.title,this.store.dispatch(new AE(n)),[2]}})})},t.prototype.ngOnDestroy=function(){this.sub.unsubscribe()},t}(),YC=xo({encapsulation:0,styles:[[""]],data:{}});function JC(t){return Aa(0,[(t()(),os(0,0,null,null,1,"h1",[["class","title is-size-1"],["style","border-bottom: 1px solid #2e2e2e;"]],null,null,null,null,null)),(t()(),Sa(1,null,["",""]))],null,function(t,e){t(e,1,0,e.component.title)})}function ZC(t){return Aa(0,[(t()(),os(0,0,null,null,0,"div",[],null,null,null,null,null))],null,null)}function tS(t){return Aa(0,[(t()(),os(0,0,null,null,4,"div",[["class","wiki-content"]],null,null,null,null,null)),(t()(),is(16777216,null,null,1,null,JC)),Xs(2,16384,null,0,zp,[Gr,Kr],{ngIf:[0,"ngIf"]},null),(t()(),is(16777216,null,null,1,null,ZC)),Xs(4,671744,null,0,rC,[nC,Gr,Wn],{template:[0,"template"]},null)],function(t,e){var n=e.component;t(e,2,0,n.title),t(e,4,0,n.content)},null)}function eS(t){return Aa(0,[(t()(),os(0,0,null,null,2,"section",[["class","section"]],null,null,null,null,null)),(t()(),os(1,0,null,null,1,"app-loader",[],null,null,null,sC,oC)),Xs(2,114688,null,0,iC,[],null,null)],function(t,e){t(e,2,0)},null)}function nS(t){return Aa(0,[(t()(),is(16777216,null,null,1,null,tS)),Xs(1,16384,null,0,zp,[Gr,Kr],{ngIf:[0,"ngIf"]},null),(t()(),is(16777216,null,null,1,null,eS)),Xs(3,16384,null,0,zp,[Gr,Kr],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,1,0,n.content),t(e,3,0,!n.content)},null)}var rS=xs("app-wiki-loader",$C,function(t){return Aa(0,[(t()(),os(0,0,null,null,1,"app-wiki-loader",[],null,null,null,nS,YC)),Xs(1,245760,null,0,$C,[Qm,GC,aE],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),iS=xo({encapsulation:0,styles:[[""]],data:{}});function oS(t){return Aa(0,[(t()(),os(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Xs(1,212992,null,0,zy,[Wy,Gr,tr,[8,null],Qr],null,null)],function(t,e){t(e,1,0)},null)}var sS=xs("app-root",zl,function(t){return Aa(0,[(t()(),os(0,0,null,null,1,"app-root",[],null,null,null,oS,iS)),Xs(1,49152,null,0,zl,[],null,null)],null,null)},{},{},[]);function aS(t){return new O(function(e){var n;try{n=t()}catch(t){return void e.error(t)}return(n?nt(n):Gl()).subscribe(e)})}Object.prototype.toString;function uS(t,e,n,r){return d(n)&&(r=n,n=void 0),r?uS(t,e,n).pipe(J(function(t){return p(t)?r.apply(void 0,t):r(t)})):new O(function(r){!function t(e,n,r,i,o){var s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var a=e;e.addEventListener(n,r,o),s=function(){return a.removeEventListener(n,r,o)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var u=e;e.on(n,r),s=function(){return u.off(n,r)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var c=e;e.addListener(n,r),s=function(){return c.removeListener(n,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var l=0,h=e.length;l<h;l++)t(e[l],n,r,i,o)}i.add(s)}(t,e,function(t){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(t)},r,n)})}var cS=new O(N);var lS="Service workers are disabled or not supported by this browser";var hS=function(){function t(t){if(this.serviceWorker=t,t){var e=uS(t,"controllerchange").pipe(J(function(){return t.controller})),n=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 1===t.length||2===t.length&&B(t[1])?nt(t[0]):Yl()(Ql.apply(void 0,t))}(aS(function(){return Ql(t.controller)}),e);this.worker=n.pipe(Jl(function(t){return!!t})),this.registration=this.worker.pipe(gw(function(){return t.getRegistration()}));var r=uS(t,"message").pipe(J(function(t){return t.data})).pipe(Jl(function(t){return t&&t.type})).pipe(i?vt(function(){return new j},i):vt(new j));r.connect(),this.events=r}else this.worker=this.events=this.registration=(o=lS,aS(function(){return v_(new Error(o))}));var i,o}return t.prototype.postMessage=function(t,e){return this.worker.pipe(wh(1),oh(function(n){n.postMessage(o({action:t},e))})).toPromise().then(function(){})},t.prototype.postMessageWithStatus=function(t,e,n){var r=this.waitForStatus(n),i=this.postMessage(t,e);return Promise.all([r,i]).then(function(){})},t.prototype.generateNonce=function(){return Math.round(1e7*Math.random())},t.prototype.eventsOfType=function(t){return this.events.pipe(Jl(function(e){return e.type===t}))},t.prototype.nextEventOfType=function(t){return this.eventsOfType(t).pipe(wh(1))},t.prototype.waitForStatus=function(t){return this.eventsOfType("STATUS").pipe(Jl(function(e){return e.nonce===t}),wh(1),J(function(t){if(!t.status)throw new Error(t.error)})).toPromise()},Object.defineProperty(t.prototype,"isEnabled",{get:function(){return!!this.serviceWorker},enumerable:!0,configurable:!0}),t}(),pS=function(){function t(t){if(this.sw=t,this.subscriptionChanges=new j,!t.isEnabled)return this.messages=cS,void(this.subscription=cS);this.messages=this.sw.eventsOfType("PUSH").pipe(J(function(t){return t.data})),this.pushManager=this.sw.registration.pipe(J(function(t){return t.pushManager}));var e=this.pushManager.pipe(gw(function(t){return t.getSubscription()}));this.subscription=ut(e,this.subscriptionChanges)}return Object.defineProperty(t.prototype,"isEnabled",{get:function(){return this.sw.isEnabled},enumerable:!0,configurable:!0}),t.prototype.requestSubscription=function(t){var e=this;if(!this.sw.isEnabled)return Promise.reject(new Error(lS));for(var n={userVisibleOnly:!0},r=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),i=new Uint8Array(new ArrayBuffer(r.length)),o=0;o<r.length;o++)i[o]=r.charCodeAt(o);return n.applicationServerKey=i,this.pushManager.pipe(gw(function(t){return t.subscribe(n)}),wh(1)).toPromise().then(function(t){return e.subscriptionChanges.next(t),t})},t.prototype.unsubscribe=function(){var t=this;if(!this.sw.isEnabled)return Promise.reject(new Error(lS));return this.subscription.pipe(wh(1),gw(function(e){if(null===e)throw new Error("Not subscribed to push notifications.");return e.unsubscribe().then(function(e){if(!e)throw new Error("Unsubscribe failed!");t.subscriptionChanges.next(null)})})).toPromise()},t.prototype.decodeBase64=function(t){return atob(t)},t=s([Be(),u("design:paramtypes",[hS])],t)}(),fS=function(){function t(t){if(this.sw=t,!t.isEnabled)return this.available=cS,void(this.activated=cS);this.available=this.sw.eventsOfType("UPDATE_AVAILABLE"),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED")}return Object.defineProperty(t.prototype,"isEnabled",{get:function(){return this.sw.isEnabled},enumerable:!0,configurable:!0}),t.prototype.checkForUpdate=function(){if(!this.sw.isEnabled)return Promise.reject(new Error(lS));var t=this.sw.generateNonce();return this.sw.postMessageWithStatus("CHECK_FOR_UPDATES",{statusNonce:t},t)},t.prototype.activateUpdate=function(){if(!this.sw.isEnabled)return Promise.reject(new Error(lS));var t=this.sw.generateNonce();return this.sw.postMessageWithStatus("ACTIVATE_UPDATE",{statusNonce:t},t)},t=s([Be(),u("design:paramtypes",[hS])],t)}(),dS=function(){return function(){}}(),vS=new wt("NGSW_REGISTER_SCRIPT");function mS(t,e,n,r){return function(){var i=t.get(kr);if(Jf(r)&&"serviceWorker"in navigator&&!1!==n.enabled){var o=i.isStable.pipe(Jl(function(t){return!!t}),wh(1)).toPromise();navigator.serviceWorker.addEventListener("controllerchange",function(){null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),o.then(function(){return navigator.serviceWorker.register(e,{scope:n.scope})})}}}function yS(t,e){return new hS(Jf(e)&&!1!==t.enabled?navigator.serviceWorker:void 0)}var gS,bS=function(){function t(){}var e;return e=t,t.register=function(t,n){return void 0===n&&(n={}),{ngModule:e,providers:[{provide:vS,useValue:t},{provide:dS,useValue:n},{provide:hS,useFactory:yS,deps:[dS,Vn]},{provide:Pn,useFactory:mS,deps:[me,vS,dS,Vn],multi:!0}]}},t=e=s([qe({providers:[pS,fS]})],t)}();function wS(t){if(":"!=t[0])return[null,t];var e=t.indexOf(":",1);if(-1==e)throw new Error('Unsupported format "'+t+'" expecting ":namespace:name"');return[t.slice(1,e),t.slice(e+1)]}function _S(t){return"ng-container"===wS(t)[1]}function ES(t){return"ng-content"===wS(t)[1]}function CS(t){return"ng-template"===wS(t)[1]}function SS(t){return null===t?null:wS(t)[0]}function xS(t,e){return t?":"+t+":"+e:e}!function(t){t[t.RAW_TEXT=0]="RAW_TEXT",t[t.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",t[t.PARSABLE_DATA=2]="PARSABLE_DATA"}(gS||(gS={}));var TS={Aacute:"\xc1",aacute:"\xe1",Acirc:"\xc2",acirc:"\xe2",acute:"\xb4",AElig:"\xc6",aelig:"\xe6",Agrave:"\xc0",agrave:"\xe0",alefsym:"\u2135",Alpha:"\u0391",alpha:"\u03b1",amp:"&",and:"\u2227",ang:"\u2220",apos:"'",Aring:"\xc5",aring:"\xe5",asymp:"\u2248",Atilde:"\xc3",atilde:"\xe3",Auml:"\xc4",auml:"\xe4",bdquo:"\u201e",Beta:"\u0392",beta:"\u03b2",brvbar:"\xa6",bull:"\u2022",cap:"\u2229",Ccedil:"\xc7",ccedil:"\xe7",cedil:"\xb8",cent:"\xa2",Chi:"\u03a7",chi:"\u03c7",circ:"\u02c6",clubs:"\u2663",cong:"\u2245",copy:"\xa9",crarr:"\u21b5",cup:"\u222a",curren:"\xa4",dagger:"\u2020",Dagger:"\u2021",darr:"\u2193",dArr:"\u21d3",deg:"\xb0",Delta:"\u0394",delta:"\u03b4",diams:"\u2666",divide:"\xf7",Eacute:"\xc9",eacute:"\xe9",Ecirc:"\xca",ecirc:"\xea",Egrave:"\xc8",egrave:"\xe8",empty:"\u2205",emsp:"\u2003",ensp:"\u2002",Epsilon:"\u0395",epsilon:"\u03b5",equiv:"\u2261",Eta:"\u0397",eta:"\u03b7",ETH:"\xd0",eth:"\xf0",Euml:"\xcb",euml:"\xeb",euro:"\u20ac",exist:"\u2203",fnof:"\u0192",forall:"\u2200",frac12:"\xbd",frac14:"\xbc",frac34:"\xbe",frasl:"\u2044",Gamma:"\u0393",gamma:"\u03b3",ge:"\u2265",gt:">",harr:"\u2194",hArr:"\u21d4",hearts:"\u2665",hellip:"\u2026",Iacute:"\xcd",iacute:"\xed",Icirc:"\xce",icirc:"\xee",iexcl:"\xa1",Igrave:"\xcc",igrave:"\xec",image:"\u2111",infin:"\u221e",int:"\u222b",Iota:"\u0399",iota:"\u03b9",iquest:"\xbf",isin:"\u2208",Iuml:"\xcf",iuml:"\xef",Kappa:"\u039a",kappa:"\u03ba",Lambda:"\u039b",lambda:"\u03bb",lang:"\u27e8",laquo:"\xab",larr:"\u2190",lArr:"\u21d0",lceil:"\u2308",ldquo:"\u201c",le:"\u2264",lfloor:"\u230a",lowast:"\u2217",loz:"\u25ca",lrm:"\u200e",lsaquo:"\u2039",lsquo:"\u2018",lt:"<",macr:"\xaf",mdash:"\u2014",micro:"\xb5",middot:"\xb7",minus:"\u2212",Mu:"\u039c",mu:"\u03bc",nabla:"\u2207",nbsp:"\xa0",ndash:"\u2013",ne:"\u2260",ni:"\u220b",not:"\xac",notin:"\u2209",nsub:"\u2284",Ntilde:"\xd1",ntilde:"\xf1",Nu:"\u039d",nu:"\u03bd",Oacute:"\xd3",oacute:"\xf3",Ocirc:"\xd4",ocirc:"\xf4",OElig:"\u0152",oelig:"\u0153",Ograve:"\xd2",ograve:"\xf2",oline:"\u203e",Omega:"\u03a9",omega:"\u03c9",Omicron:"\u039f",omicron:"\u03bf",oplus:"\u2295",or:"\u2228",ordf:"\xaa",ordm:"\xba",Oslash:"\xd8",oslash:"\xf8",Otilde:"\xd5",otilde:"\xf5",otimes:"\u2297",Ouml:"\xd6",ouml:"\xf6",para:"\xb6",permil:"\u2030",perp:"\u22a5",Phi:"\u03a6",phi:"\u03c6",Pi:"\u03a0",pi:"\u03c0",piv:"\u03d6",plusmn:"\xb1",pound:"\xa3",prime:"\u2032",Prime:"\u2033",prod:"\u220f",prop:"\u221d",Psi:"\u03a8",psi:"\u03c8",quot:'"',radic:"\u221a",rang:"\u27e9",raquo:"\xbb",rarr:"\u2192",rArr:"\u21d2",rceil:"\u2309",rdquo:"\u201d",real:"\u211c",reg:"\xae",rfloor:"\u230b",Rho:"\u03a1",rho:"\u03c1",rlm:"\u200f",rsaquo:"\u203a",rsquo:"\u2019",sbquo:"\u201a",Scaron:"\u0160",scaron:"\u0161",sdot:"\u22c5",sect:"\xa7",shy:"\xad",Sigma:"\u03a3",sigma:"\u03c3",sigmaf:"\u03c2",sim:"\u223c",spades:"\u2660",sub:"\u2282",sube:"\u2286",sum:"\u2211",sup:"\u2283",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",supe:"\u2287",szlig:"\xdf",Tau:"\u03a4",tau:"\u03c4",there4:"\u2234",Theta:"\u0398",theta:"\u03b8",thetasym:"\u03d1",thinsp:"\u2009",THORN:"\xde",thorn:"\xfe",tilde:"\u02dc",times:"\xd7",trade:"\u2122",Uacute:"\xda",uacute:"\xfa",uarr:"\u2191",uArr:"\u21d1",Ucirc:"\xdb",ucirc:"\xfb",Ugrave:"\xd9",ugrave:"\xf9",uml:"\xa8",upsih:"\u03d2",Upsilon:"\u03a5",upsilon:"\u03c5",Uuml:"\xdc",uuml:"\xfc",weierp:"\u2118",Xi:"\u039e",xi:"\u03be",Yacute:"\xdd",yacute:"\xfd",yen:"\xa5",yuml:"\xff",Yuml:"\u0178",Zeta:"\u0396",zeta:"\u03b6",zwj:"\u200d",zwnj:"\u200c"},AS="\ue500";TS.ngsp=AS;var DS,IS,NS=function(){function t(t){var e=void 0===t?{}:t,n=e.closedByChildren,r=e.requiredParents,i=e.implicitNamespacePrefix,o=e.contentType,s=void 0===o?gS.PARSABLE_DATA:o,a=e.closedByParent,u=void 0!==a&&a,c=e.isVoid,l=void 0!==c&&c,h=e.ignoreFirstLf,p=void 0!==h&&h,f=this;this.closedByChildren={},this.closedByParent=!1,this.canSelfClose=!1,n&&n.length>0&&n.forEach(function(t){return f.closedByChildren[t]=!0}),this.isVoid=l,this.closedByParent=u||l,r&&r.length>0&&(this.requiredParents={},this.parentToAdd=r[0],r.forEach(function(t){return f.requiredParents[t]=!0})),this.implicitNamespacePrefix=i||null,this.contentType=s,this.ignoreFirstLf=p}return t.prototype.requireExtraParent=function(t){if(!this.requiredParents)return!1;if(!t)return!0;var e=t.toLowerCase();return!("template"===e||"ng-template"===t)&&1!=this.requiredParents[e]},t.prototype.isClosedByChild=function(t){return this.isVoid||t.toLowerCase()in this.closedByChildren},t}();function kS(t){return IS||(DS=new NS,IS={base:new NS({isVoid:!0}),meta:new NS({isVoid:!0}),area:new NS({isVoid:!0}),embed:new NS({isVoid:!0}),link:new NS({isVoid:!0}),img:new NS({isVoid:!0}),input:new NS({isVoid:!0}),param:new NS({isVoid:!0}),hr:new NS({isVoid:!0}),br:new NS({isVoid:!0}),source:new NS({isVoid:!0}),track:new NS({isVoid:!0}),wbr:new NS({isVoid:!0}),p:new NS({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new NS({closedByChildren:["tbody","tfoot"]}),tbody:new NS({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new NS({closedByChildren:["tbody"],closedByParent:!0}),tr:new NS({closedByChildren:["tr"],requiredParents:["tbody","tfoot","thead"],closedByParent:!0}),td:new NS({closedByChildren:["td","th"],closedByParent:!0}),th:new NS({closedByChildren:["td","th"],closedByParent:!0}),col:new NS({requiredParents:["colgroup"],isVoid:!0}),svg:new NS({implicitNamespacePrefix:"svg"}),math:new NS({implicitNamespacePrefix:"math"}),li:new NS({closedByChildren:["li"],closedByParent:!0}),dt:new NS({closedByChildren:["dt","dd"]}),dd:new NS({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new NS({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new NS({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new NS({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new NS({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new NS({closedByChildren:["optgroup"],closedByParent:!0}),option:new NS({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new NS({ignoreFirstLf:!0}),listing:new NS({ignoreFirstLf:!0}),style:new NS({contentType:gS.RAW_TEXT}),script:new NS({contentType:gS.RAW_TEXT}),title:new NS({contentType:gS.ESCAPABLE_RAW_TEXT}),textarea:new NS({contentType:gS.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})}),IS[t.toLowerCase()]||DS}var PS,OS,MS=new RegExp("(\\:not\\()|([-\\w]+)|(?:\\.([-\\w]+))|(?:\\[([-.\\w*]+)(?:=([\"']?)([^\\]\"']*)\\5)?\\])|(\\))|(\\s*,\\s*)","g"),RS=function(){function t(){this.element=null,this.classNames=[],this.attrs=[],this.notSelectors=[]}return t.parse=function(e){var n,r=[],i=function(t,e){e.notSelectors.length>0&&!e.element&&0==e.classNames.length&&0==e.attrs.length&&(e.element="*"),t.push(e)},o=new t,s=o,a=!1;for(MS.lastIndex=0;n=MS.exec(e);){if(n[1]){if(a)throw new Error("Nesting :not is not allowed in a selector");a=!0,s=new t,o.notSelectors.push(s)}if(n[2]&&s.setElement(n[2]),n[3]&&s.addClassName(n[3]),n[4]&&s.addAttribute(n[4],n[6]),n[7]&&(a=!1,s=o),n[8]){if(a)throw new Error("Multiple selectors in :not are not supported");i(r,o),o=s=new t}}return i(r,o),r},t.prototype.isElementSelector=function(){return this.hasElementSelector()&&0==this.classNames.length&&0==this.attrs.length&&0===this.notSelectors.length},t.prototype.hasElementSelector=function(){return!!this.element},t.prototype.setElement=function(t){void 0===t&&(t=null),this.element=t},t.prototype.getMatchingElementTemplate=function(){for(var t=this.element||"div",e=this.classNames.length>0?' class="'+this.classNames.join(" ")+'"':"",n="",r=0;r<this.attrs.length;r+=2){n+=" "+this.attrs[r]+(""!==this.attrs[r+1]?'="'+this.attrs[r+1]+'"':"")}return kS(t).isVoid?"<"+t+e+n+"/>":"<"+t+e+n+"></"+t+">"},t.prototype.getAttrs=function(){var t=[];return this.classNames.length>0&&t.push("class",this.classNames.join(" ")),t.concat(this.attrs)},t.prototype.addAttribute=function(t,e){void 0===e&&(e=""),this.attrs.push(t,e&&e.toLowerCase()||"")},t.prototype.addClassName=function(t){this.classNames.push(t.toLowerCase())},t.prototype.toString=function(){var t=this.element||"";if(this.classNames&&this.classNames.forEach(function(e){return t+="."+e}),this.attrs)for(var e=0;e<this.attrs.length;e+=2){var n=this.attrs[e],r=this.attrs[e+1];t+="["+n+(r?"="+r:"")+"]"}return this.notSelectors.forEach(function(e){return t+=":not("+e+")"}),t},t}(),FS=function(){function t(){this._elementMap=new Map,this._elementPartialMap=new Map,this._classMap=new Map,this._classPartialMap=new Map,this._attrValueMap=new Map,this._attrValuePartialMap=new Map,this._listContexts=[]}return t.createNotMatcher=function(e){var n=new t;return n.addSelectables(e,null),n},t.prototype.addSelectables=function(t,e){var n=null;t.length>1&&(n=new LS(t),this._listContexts.push(n));for(var r=0;r<t.length;r++)this._addSelectable(t[r],e,n)},t.prototype._addSelectable=function(t,e,n){var r=this,i=t.element,o=t.classNames,s=t.attrs,a=new jS(t,e,n);i&&((c=0===s.length&&0===o.length)?this._addTerminal(r._elementMap,i,a):r=this._addPartial(r._elementPartialMap,i));if(o)for(var u=0;u<o.length;u++){var c=0===s.length&&u===o.length-1,l=o[u];c?this._addTerminal(r._classMap,l,a):r=this._addPartial(r._classPartialMap,l)}if(s)for(u=0;u<s.length;u+=2){c=u===s.length-2;var h=s[u],p=s[u+1];if(c){var f=r._attrValueMap,d=f.get(h);d||(d=new Map,f.set(h,d)),this._addTerminal(d,p,a)}else{var v=r._attrValuePartialMap,m=v.get(h);m||(m=new Map,v.set(h,m)),r=this._addPartial(m,p)}}},t.prototype._addTerminal=function(t,e,n){var r=t.get(e);r||(r=[],t.set(e,r)),r.push(n)},t.prototype._addPartial=function(e,n){var r=e.get(n);return r||(r=new t,e.set(n,r)),r},t.prototype.match=function(t,e){for(var n=!1,r=t.element,i=t.classNames,o=t.attrs,s=0;s<this._listContexts.length;s++)this._listContexts[s].alreadyMatched=!1;if(n=this._matchTerminal(this._elementMap,r,t,e)||n,n=this._matchPartial(this._elementPartialMap,r,t,e)||n,i)for(s=0;s<i.length;s++){var a=i[s];n=this._matchTerminal(this._classMap,a,t,e)||n,n=this._matchPartial(this._classPartialMap,a,t,e)||n}if(o)for(s=0;s<o.length;s+=2){var u=o[s],c=o[s+1],l=this._attrValueMap.get(u);c&&(n=this._matchTerminal(l,"",t,e)||n),n=this._matchTerminal(l,c,t,e)||n;var h=this._attrValuePartialMap.get(u);c&&(n=this._matchPartial(h,"",t,e)||n),n=this._matchPartial(h,c,t,e)||n}return n},t.prototype._matchTerminal=function(t,e,n,r){if(!t||"string"!=typeof e)return!1;var i=t.get(e)||[],o=t.get("*");if(o&&(i=i.concat(o)),0===i.length)return!1;for(var s=!1,a=0;a<i.length;a++)s=i[a].finalize(n,r)||s;return s},t.prototype._matchPartial=function(t,e,n,r){if(!t||"string"!=typeof e)return!1;var i=t.get(e);return!!i&&i.match(n,r)},t}(),LS=function(){return function(t){this.selectors=t,this.alreadyMatched=!1}}(),jS=function(){function t(t,e,n){this.selector=t,this.cbContext=e,this.listContext=n,this.notSelectors=t.notSelectors}return t.prototype.finalize=function(t,e){var n=!0;!(this.notSelectors.length>0)||this.listContext&&this.listContext.alreadyMatched||(n=!FS.createNotMatcher(this.notSelectors).match(t,null));return!n||!e||this.listContext&&this.listContext.alreadyMatched||(this.listContext&&(this.listContext.alreadyMatched=!0),e(this.selector,this.cbContext)),n},t}(),VS=lx("Inject",function(t){return{token:t}}),BS=lx("InjectionToken",function(t){return{_desc:t,ngInjectableDef:void 0}}),US=lx("Attribute",function(t){return{attributeName:t}}),qS=lx("ContentChildren",function(t,e){return void 0===e&&(e={}),o({selector:t,first:!1,isViewQuery:!1,descendants:!1},e)}),HS=lx("ContentChild",function(t,e){return void 0===e&&(e={}),o({selector:t,first:!0,isViewQuery:!1,descendants:!0},e)}),WS=lx("ViewChildren",function(t,e){return void 0===e&&(e={}),o({selector:t,first:!1,isViewQuery:!0,descendants:!0},e)}),zS=lx("ViewChild",function(t,e){return o({selector:t,first:!0,isViewQuery:!0,descendants:!0},e)}),KS=lx("Directive",function(t){return void 0===t&&(t={}),t});!function(t){t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom"}(PS||(PS={})),function(t){t[t.OnPush=0]="OnPush",t[t.Default=1]="Default"}(OS||(OS={}));var GS,QS,XS=lx("Component",function(t){return void 0===t&&(t={}),o({changeDetection:OS.Default},t)}),$S=lx("Pipe",function(t){return o({pure:!0},t)}),YS=lx("Input",function(t){return{bindingPropertyName:t}}),JS=lx("Output",function(t){return{bindingPropertyName:t}}),ZS=lx("HostBinding",function(t){return{hostPropertyName:t}}),tx=lx("HostListener",function(t,e){return{eventName:t,args:e}}),ex=lx("NgModule",function(t){return t}),nx=lx("Injectable",function(t){return void 0===t&&(t={}),t}),rx={name:"custom-elements"},ix={name:"no-errors-schema"},ox=lx("Optional"),sx=lx("Self"),ax=lx("SkipSelf"),ux=lx("Host"),cx=Function;function lx(t,e){var n=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e?e.apply(void 0,h(n)):{};return o({ngMetadataName:t},i)};return n.isTypeOf=function(e){return e&&e.ngMetadataName===t},n.ngMetadataName=t,n}function hx(t){var e=function(t){var e=t.classNames&&t.classNames.length?h([8],t.classNames):[];return h([t.element&&"*"!==t.element?t.element:""],t.attrs,e)}(t),n=t.notSelectors&&t.notSelectors.length?t.notSelectors.map(function(t){return n=(e=t).classNames&&e.classNames.length?h([8],e.classNames):[],e.element?h([5,e.element],e.attrs,n):e.attrs.length?h([3],e.attrs,n):e.classNames&&e.classNames.length?h([9],e.classNames):[];var e,n}):[];return e.concat.apply(e,h(n))}function px(t){return RS.parse(t).map(hx)}!function(t){t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL"}(GS||(GS={})),function(t){t[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Ignore=2]="Ignore"}(QS||(QS={}));var fx=/-+([a-z0-9])/g;function dx(t,e){return vx(t,":",e)}function vx(t,e,n){var r=t.indexOf(e);return-1==r?n:[t.slice(0,r).trim(),t.slice(r+1).trim()]}function mx(t,e,n){return Array.isArray(t)?e.visitArray(t,n):"object"==typeof(r=t)&&null!==r&&Object.getPrototypeOf(r)===Dx?e.visitStringMap(t,n):null==t||"string"==typeof t||"number"==typeof t||"boolean"==typeof t?e.visitPrimitive(t,n):e.visitOther(t,n);var r}function yx(t){return null!==t&&void 0!==t}function gx(t){return void 0===t?null:t}var bx=function(){function t(){}return t.prototype.visitArray=function(t,e){var n=this;return t.map(function(t){return mx(t,n,e)})},t.prototype.visitStringMap=function(t,e){var n=this,r={};return Object.keys(t).forEach(function(i){r[i]=mx(t[i],n,e)}),r},t.prototype.visitPrimitive=function(t,e){return t},t.prototype.visitOther=function(t,e){return t},t}(),wx=function(t){if(Px(t))throw new Error("Illegal state: value cannot be a promise");return t},_x=function(t,e){return Px(t)?t.then(e):e(t)},Ex=function(t){return t.some(Px)?Promise.all(t):t};function Cx(t){throw new Error("Internal Error: "+t)}function Sx(t,e){var n=Error(t);return n[xx]=!0,e&&(n[Tx]=e),n}var xx="ngSyntaxError",Tx="ngParseErrors";function Ax(t){return t.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}var Dx=Object.getPrototypeOf({});function Ix(t){for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r>=55296&&r<=56319&&t.length>n+1){var i=t.charCodeAt(n+1);i>=56320&&i<=57343&&(n++,r=(r-55296<<10)+i-56320+65536)}r<=127?e+=String.fromCharCode(r):r<=2047?e+=String.fromCharCode(r>>6&31|192,63&r|128):r<=65535?e+=String.fromCharCode(r>>12|224,r>>6&63|128,63&r|128):r<=2097151&&(e+=String.fromCharCode(r>>18&7|240,r>>12&63|128,r>>6&63|128,63&r|128))}return e}function Nx(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(Nx).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function kx(t){return"function"==typeof t&&t.hasOwnProperty("__forward_ref__")?t():t}function Px(t){return!!t&&"function"==typeof t.then}new(function(){return function(t){this.full=t;var e=t.split(".");this.major=e[0],this.minor=e[1],this.patch=e.slice(2).join(".")}}())("6.1.10");var Ox,Mx,Rx=function(){function t(t,e,n){this.value=t,this.ngContentIndex=e,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitText(this,e)},t}(),Fx=function(){function t(t,e,n){this.value=t,this.ngContentIndex=e,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitBoundText(this,e)},t}(),Lx=function(){function t(t,e,n){this.name=t,this.value=e,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitAttr(this,e)},t}(),jx=((Ox={})[4]=4,Ox[1]=1,Ox[2]=2,Ox[0]=0,Ox[3]=3,Ox),Vx=function(){function t(t,e,n,r,i,o){this.name=t,this.type=e,this.securityContext=n,this.value=r,this.unit=i,this.sourceSpan=o,this.isAnimation=4===this.type}return t.fromBoundProperty=function(e){var n=jx[e.type];return new t(e.name,n,e.securityContext,e.value,e.unit,e.sourceSpan)},t.prototype.visit=function(t,e){return t.visitElementProperty(this,e)},t}(),Bx=function(){function t(e,n,r,i,o){this.name=e,this.target=n,this.phase=r,this.handler=i,this.sourceSpan=o,this.fullName=t.calcFullName(this.name,this.target,this.phase),this.isAnimation=!!this.phase}return t.calcFullName=function(t,e,n){return e?e+":"+t:n?"@"+t+"."+n:t},t.fromParsedEvent=function(e){var n=0===e.type?e.targetOrPhase:null,r=1===e.type?e.targetOrPhase:null;return new t(e.name,n,r,e.handler,e.sourceSpan)},t.prototype.visit=function(t,e){return t.visitEvent(this,e)},t}(),Ux=function(){function t(t,e,n,r){this.name=t,this.value=e,this.originalValue=n,this.sourceSpan=r}return t.prototype.visit=function(t,e){return t.visitReference(this,e)},t}(),qx=function(){function t(t,e,n){this.name=t,this.value=e,this.sourceSpan=n}return t.fromParsedVariable=function(e){return new t(e.name,e.value,e.sourceSpan)},t.prototype.visit=function(t,e){return t.visitVariable(this,e)},t}(),Hx=function(){function t(t,e,n,r,i,o,s,a,u,c,l,h,p){this.name=t,this.attrs=e,this.inputs=n,this.outputs=r,this.references=i,this.directives=o,this.providers=s,this.hasViewContainer=a,this.queryMatches=u,this.children=c,this.ngContentIndex=l,this.sourceSpan=h,this.endSourceSpan=p}return t.prototype.visit=function(t,e){return t.visitElement(this,e)},t}(),Wx=function(){function t(t,e,n,r,i,o,s,a,u,c,l){this.attrs=t,this.outputs=e,this.references=n,this.variables=r,this.directives=i,this.providers=o,this.hasViewContainer=s,this.queryMatches=a,this.children=u,this.ngContentIndex=c,this.sourceSpan=l}return t.prototype.visit=function(t,e){return t.visitEmbeddedTemplate(this,e)},t}(),zx=function(){function t(t,e,n,r){this.directiveName=t,this.templateName=e,this.value=n,this.sourceSpan=r}return t.prototype.visit=function(t,e){return t.visitDirectiveProperty(this,e)},t}(),Kx=function(){function t(t,e,n,r,i,o){this.directive=t,this.inputs=e,this.hostProperties=n,this.hostEvents=r,this.contentQueryStartId=i,this.sourceSpan=o}return t.prototype.visit=function(t,e){return t.visitDirective(this,e)},t}(),Gx=function(){function t(t,e,n,r,i,o,s,a){this.token=t,this.multiProvider=e,this.eager=n,this.providers=r,this.providerType=i,this.lifecycleHooks=o,this.sourceSpan=s,this.isModule=a}return t.prototype.visit=function(t,e){return null},t}();!function(t){t[t.PublicService=0]="PublicService",t[t.PrivateService=1]="PrivateService",t[t.Component=2]="Component",t[t.Directive=3]="Directive",t[t.Builtin=4]="Builtin"}(Mx||(Mx={}));var Qx=function(){function t(t,e,n){this.index=t,this.ngContentIndex=e,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitNgContent(this,e)},t}();!function(t){function e(){return t.call(this)||this}i(e,t),e.prototype.visitEmbeddedTemplate=function(t,e){return this.visitChildren(e,function(e){e(t.attrs),e(t.references),e(t.variables),e(t.directives),e(t.providers),e(t.children)})},e.prototype.visitElement=function(t,e){return this.visitChildren(e,function(e){e(t.attrs),e(t.inputs),e(t.outputs),e(t.references),e(t.directives),e(t.providers),e(t.children)})},e.prototype.visitDirective=function(t,e){return this.visitChildren(e,function(e){e(t.inputs),e(t.hostProperties),e(t.hostEvents)})},e.prototype.visitChildren=function(t,e){var n=[],r=this;return e(function(e){e&&e.length&&n.push(Xx(r,e,t))}),[].concat.apply([],n)}}(function(){function t(){}return t.prototype.visitNgContent=function(t,e){},t.prototype.visitEmbeddedTemplate=function(t,e){},t.prototype.visitElement=function(t,e){},t.prototype.visitReference=function(t,e){},t.prototype.visitVariable=function(t,e){},t.prototype.visitEvent=function(t,e){},t.prototype.visitElementProperty=function(t,e){},t.prototype.visitAttr=function(t,e){},t.prototype.visitBoundText=function(t,e){},t.prototype.visitText=function(t,e){},t.prototype.visitDirective=function(t,e){},t.prototype.visitDirectiveProperty=function(t,e){},t}());function Xx(t,e,n){void 0===n&&(n=null);var r=[],i=t.visit?function(e){return t.visit(e,n)||e.visit(t,n)}:function(e){return e.visit(t,n)};return e.forEach(function(t){var e=i(t);e&&r.push(e)}),r}var $x=function(){return function(t){var e=void 0===t?{}:t,n=e.defaultEncapsulation,r=void 0===n?PS.Emulated:n,i=e.useJit,o=void 0===i||i,s=e.jitDevMode,a=void 0!==s&&s,u=e.missingTranslation,c=void 0===u?null:u,l=e.preserveWhitespaces,h=e.strictInjectionParameters;this.defaultEncapsulation=r,this.useJit=!!o,this.jitDevMode=!!a,this.missingTranslation=c,this.preserveWhitespaces=Yx(gx(l)),this.strictInjectionParameters=!0===h}}();function Yx(t,e){return void 0===e&&(e=!1),null===t?e:t}var Jx=function(){function t(t,e,n){this.filePath=t,this.name=e,this.members=n}return t.prototype.assertNoMembers=function(){if(this.members.length)throw new Error("Illegal state: symbol without members expected, but got "+JSON.stringify(this)+".")},t}(),Zx=function(){function t(){this.cache=new Map}return t.prototype.get=function(t,e,n){var r='"'+t+'".'+e+((n=n||[]).length?"."+n.join("."):""),i=this.cache.get(r);return i||(i=new Jx(t,e,n),this.cache.set(r,i)),i},t}(),tT=/^(?:(?:\[([^\]]+)\])|(?:\(([^\)]+)\)))|(\@[-\w]+)$/;function eT(t){return t.replace(/\W/g,"_")}var nT,rT=0;function iT(t){if(!t||!t.reference)return null;var e=t.reference;if(e instanceof Jx)return e.name;if(e.__anonymousType)return e.__anonymousType;var n=Nx(e);return n.indexOf("(")>=0?(n="anonymous_"+rT++,e.__anonymousType=n):n=eT(n),n}function oT(t){var e=t.reference;return e instanceof Jx?e.filePath:"./"+Nx(e)}function sT(t,e){return"View_"+iT({reference:t})+"_"+e}function aT(t){return"RenderType_"+iT({reference:t})}function uT(t){return iT({reference:t})+"NgFactory"}function cT(t){return null!=t.value?eT(t.value):iT(t.identifier)}function lT(t){return null!=t.identifier?t.identifier.reference:t.value}!function(t){t[t.Pipe=0]="Pipe",t[t.Directive=1]="Directive",t[t.NgModule=2]="NgModule",t[t.Injectable=3]="Injectable"}(nT||(nT={}));var hT=function(){return function(t){var e=void 0===t?{}:t,n=e.moduleUrl,r=e.styles,i=e.styleUrls;this.moduleUrl=n||null,this.styles=yT(r),this.styleUrls=yT(i)}}(),pT=function(){function t(t){var e=t.encapsulation,n=t.template,r=t.templateUrl,i=t.htmlAst,o=t.styles,s=t.styleUrls,a=t.externalStylesheets,u=t.animations,c=t.ngContentSelectors,l=t.interpolation,h=t.isInline,p=t.preserveWhitespaces;if(this.encapsulation=e,this.template=n,this.templateUrl=r,this.htmlAst=i,this.styles=yT(o),this.styleUrls=yT(s),this.externalStylesheets=yT(a),this.animations=u?bT(u):[],this.ngContentSelectors=c||[],l&&2!=l.length)throw new Error("'interpolation' should have a start and an end symbol.");this.interpolation=l,this.isInline=h,this.preserveWhitespaces=p}return t.prototype.toSummary=function(){return{ngContentSelectors:this.ngContentSelectors,encapsulation:this.encapsulation}},t}(),fT=function(){function t(t){var e=t.isHost,n=t.type,r=t.isComponent,i=t.selector,o=t.exportAs,s=t.changeDetection,a=t.inputs,u=t.outputs,c=t.hostListeners,l=t.hostProperties,h=t.hostAttributes,p=t.providers,f=t.viewProviders,d=t.queries,v=t.guards,m=t.viewQueries,y=t.entryComponents,g=t.template,b=t.componentViewType,w=t.rendererType,_=t.componentFactory;this.isHost=!!e,this.type=n,this.isComponent=r,this.selector=i,this.exportAs=o,this.changeDetection=s,this.inputs=a,this.outputs=u,this.hostListeners=c,this.hostProperties=l,this.hostAttributes=h,this.providers=yT(p),this.viewProviders=yT(f),this.queries=yT(d),this.guards=v,this.viewQueries=yT(m),this.entryComponents=yT(y),this.template=g,this.componentViewType=b,this.rendererType=w,this.componentFactory=_}return t.create=function(e){var n=e.isHost,r=e.type,i=e.isComponent,o=e.selector,s=e.exportAs,a=e.changeDetection,u=e.inputs,c=e.outputs,l=e.host,h=e.providers,p=e.viewProviders,f=e.queries,d=e.guards,v=e.viewQueries,m=e.entryComponents,y=e.template,g=e.componentViewType,b=e.rendererType,w=e.componentFactory,_={},E={},C={};null!=l&&Object.keys(l).forEach(function(t){var e=l[t],n=t.match(tT);null===n?C[t]=e:null!=n[1]?E[n[1]]=e:null!=n[2]&&(_[n[2]]=e)});var S={};null!=u&&u.forEach(function(t){var e=dx(t,[t,t]);S[e[0]]=e[1]});var x={};return null!=c&&c.forEach(function(t){var e=dx(t,[t,t]);x[e[0]]=e[1]}),new t({isHost:n,type:r,isComponent:!!i,selector:o,exportAs:s,changeDetection:a,inputs:S,outputs:x,hostListeners:_,hostProperties:E,hostAttributes:C,providers:h,viewProviders:p,queries:f,guards:d,viewQueries:v,entryComponents:m,template:y,componentViewType:g,rendererType:b,componentFactory:w})},t.prototype.toSummary=function(){return{summaryKind:nT.Directive,type:this.type,isComponent:this.isComponent,selector:this.selector,exportAs:this.exportAs,inputs:this.inputs,outputs:this.outputs,hostListeners:this.hostListeners,hostProperties:this.hostProperties,hostAttributes:this.hostAttributes,providers:this.providers,viewProviders:this.viewProviders,queries:this.queries,guards:this.guards,viewQueries:this.viewQueries,entryComponents:this.entryComponents,changeDetection:this.changeDetection,template:this.template&&this.template.toSummary(),componentViewType:this.componentViewType,rendererType:this.rendererType,componentFactory:this.componentFactory}},t}(),dT=function(){function t(t){var e=t.type,n=t.name,r=t.pure;this.type=e,this.name=n,this.pure=!!r}return t.prototype.toSummary=function(){return{summaryKind:nT.Pipe,type:this.type,name:this.name,pure:this.pure}},t}(),vT=(function(){}(),function(){function t(t){var e=t.type,n=t.providers,r=t.declaredDirectives,i=t.exportedDirectives,o=t.declaredPipes,s=t.exportedPipes,a=t.entryComponents,u=t.bootstrapComponents,c=t.importedModules,l=t.exportedModules,h=t.schemas,p=t.transitiveModule,f=t.id;this.type=e||null,this.declaredDirectives=yT(r),this.exportedDirectives=yT(i),this.declaredPipes=yT(o),this.exportedPipes=yT(s),this.providers=yT(n),this.entryComponents=yT(a),this.bootstrapComponents=yT(u),this.importedModules=yT(c),this.exportedModules=yT(l),this.schemas=yT(h),this.id=f||null,this.transitiveModule=p||null}return t.prototype.toSummary=function(){var t=this.transitiveModule;return{summaryKind:nT.NgModule,type:this.type,entryComponents:t.entryComponents,providers:t.providers,modules:t.modules,exportedDirectives:t.exportedDirectives,exportedPipes:t.exportedPipes}},t}()),mT=function(){function t(){this.directivesSet=new Set,this.directives=[],this.exportedDirectivesSet=new Set,this.exportedDirectives=[],this.pipesSet=new Set,this.pipes=[],this.exportedPipesSet=new Set,this.exportedPipes=[],this.modulesSet=new Set,this.modules=[],this.entryComponentsSet=new Set,this.entryComponents=[],this.providers=[]}return t.prototype.addProvider=function(t,e){this.providers.push({provider:t,module:e})},t.prototype.addDirective=function(t){this.directivesSet.has(t.reference)||(this.directivesSet.add(t.reference),this.directives.push(t))},t.prototype.addExportedDirective=function(t){this.exportedDirectivesSet.has(t.reference)||(this.exportedDirectivesSet.add(t.reference),this.exportedDirectives.push(t))},t.prototype.addPipe=function(t){this.pipesSet.has(t.reference)||(this.pipesSet.add(t.reference),this.pipes.push(t))},t.prototype.addExportedPipe=function(t){this.exportedPipesSet.has(t.reference)||(this.exportedPipesSet.add(t.reference),this.exportedPipes.push(t))},t.prototype.addModule=function(t){this.modulesSet.has(t.reference)||(this.modulesSet.add(t.reference),this.modules.push(t))},t.prototype.addEntryComponent=function(t){this.entryComponentsSet.has(t.componentType)||(this.entryComponentsSet.add(t.componentType),this.entryComponents.push(t))},t}();function yT(t){return t||[]}var gT=function(){return function(t,e){var n=e.useClass,r=e.useValue,i=e.useExisting,o=e.useFactory,s=e.deps,a=e.multi;this.token=t,this.useClass=n||null,this.useValue=r,this.useExisting=i,this.useFactory=o||null,this.dependencies=s||null,this.multi=!!a}}();function bT(t){return t.reduce(function(t,e){var n=Array.isArray(e)?bT(e):e;return t.concat(n)},[])}function wT(t){return t.replace(/(\w+:\/\/[\w:-]+)?(\/+)?/,"ng:///")}function _T(t,e,n){var r;return r=n.isInline?e.type.reference instanceof Jx?e.type.reference.filePath+"."+e.type.reference.name+".html":iT(t)+"/"+iT(e.type)+".html":n.templateUrl,e.type.reference instanceof Jx?r:wT(r)}!function(){function t(t,e){void 0===e&&(e=-1),this.path=t,this.position=e}Object.defineProperty(t.prototype,"empty",{get:function(){return!this.path||!this.path.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"head",{get:function(){return this.path[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tail",{get:function(){return this.path[this.path.length-1]},enumerable:!0,configurable:!0}),t.prototype.parentOf=function(t){return t&&this.path[this.path.indexOf(t)-1]},t.prototype.childOf=function(t){return this.path[this.path.indexOf(t)+1]},t.prototype.first=function(t){for(var e=this.path.length-1;e>=0;e--){var n=this.path[e];if(n instanceof t)return n}},t.prototype.push=function(t){this.path.push(t)},t.prototype.pop=function(){return this.path.pop()}}();var ET=function(){function t(t,e){this.value=t,this.sourceSpan=e}return t.prototype.visit=function(t,e){return t.visitText(this,e)},t}(),CT=function(){function t(t,e,n,r,i){this.switchValue=t,this.type=e,this.cases=n,this.sourceSpan=r,this.switchValueSourceSpan=i}return t.prototype.visit=function(t,e){return t.visitExpansion(this,e)},t}(),ST=function(){function t(t,e,n,r,i){this.value=t,this.expression=e,this.sourceSpan=n,this.valueSourceSpan=r,this.expSourceSpan=i}return t.prototype.visit=function(t,e){return t.visitExpansionCase(this,e)},t}(),xT=function(){function t(t,e,n,r){this.name=t,this.value=e,this.sourceSpan=n,this.valueSpan=r}return t.prototype.visit=function(t,e){return t.visitAttribute(this,e)},t}(),TT=function(){function t(t,e,n,r,i,o){void 0===i&&(i=null),void 0===o&&(o=null),this.name=t,this.attrs=e,this.children=n,this.sourceSpan=r,this.startSourceSpan=i,this.endSourceSpan=o}return t.prototype.visit=function(t,e){return t.visitElement(this,e)},t}(),AT=function(){function t(t,e){this.value=t,this.sourceSpan=e}return t.prototype.visit=function(t,e){return t.visitComment(this,e)},t}();function DT(t,e,n){void 0===n&&(n=null);var r=[],i=t.visit?function(e){return t.visit(e,n)||e.visit(t,n)}:function(e){return e.visit(t,n)};return e.forEach(function(t){var e=i(t);e&&r.push(e)}),r}!function(){function t(){}t.prototype.visitElement=function(t,e){this.visitChildren(e,function(e){e(t.attrs),e(t.children)})},t.prototype.visitAttribute=function(t,e){},t.prototype.visitText=function(t,e){},t.prototype.visitComment=function(t,e){},t.prototype.visitExpansion=function(t,e){return this.visitChildren(e,function(e){e(t.cases)})},t.prototype.visitExpansionCase=function(t,e){},t.prototype.visitChildren=function(t,e){var n=[],r=this;return e(function(e){e&&n.push(DT(r,e,t))}),[].concat.apply([],n)}}();function IT(t,e){if(null!=e){if(!Array.isArray(e))throw new Error("Expected '"+t+"' to be an array of strings.");for(var n=0;n<e.length;n+=1)if("string"!=typeof e[n])throw new Error("Expected '"+t+"' to be an array of strings.")}}var NT=[/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//];function kT(t,e){if(!(null==e||Array.isArray(e)&&2==e.length))throw new Error("Expected '"+t+"' to be an array, [start, end].");if(null!=e){var n=e[0],r=e[1];NT.forEach(function(t){if(t.test(n)||t.test(r))throw new Error("['"+n+"', '"+r+"'] contains unusable interpolation symbol.")})}}var PT=function(){function t(t,e){this.start=t,this.end=e}return t.fromArray=function(e){return e?(kT("interpolation",e),new t(e[0],e[1])):OT},t}(),OT=new PT("{{","}}"),MT=function(){return function(t,e){this.style=t,this.styleUrls=e}}();function RT(t){if(null==t||0===t.length||"/"==t[0])return!1;var e=t.match(VT);return null===e||"package"==e[1]||"asset"==e[1]}var FT,LT=/@import\s+(?:url\()?\s*(?:(?:['"]([^'"]*))|([^;\)\s]*))[^;]*;?/g,jT=/\/\*(?!#\s*(?:sourceURL|sourceMappingURL)=)[\s\S]+?\*\//g,VT=/^([^:/?#]+):/,BT="select",UT="link",qT="rel",HT="href",WT="stylesheet",zT="style",KT="script",GT="ngNonBindable",QT="ngProjectAs";function XT(t){var e=null,n=null,r=null,i=!1,o="";t.attrs.forEach(function(t){var s=t.name.toLowerCase();s==BT?e=t.value:s==HT?n=t.value:s==qT?r=t.value:t.name==GT?i=!0:t.name==QT&&t.value.length>0&&(o=t.value)}),e=function(t){if(null===t||0===t.length)return"*";return t}(e);var s=t.name.toLowerCase(),a=FT.OTHER;return ES(s)?a=FT.NG_CONTENT:s==zT?a=FT.STYLE:s==KT?a=FT.SCRIPT:s==UT&&r==WT&&(a=FT.STYLESHEET),new $T(a,e,n,i,o)}!function(t){t[t.NG_CONTENT=0]="NG_CONTENT",t[t.STYLE=1]="STYLE",t[t.STYLESHEET=2]="STYLESHEET",t[t.SCRIPT=3]="SCRIPT",t[t.OTHER=4]="OTHER"}(FT||(FT={}));var $T=function(){return function(t,e,n,r,i){this.type=t,this.selectAttr=e,this.hrefAttr=n,this.nonBindable=r,this.projectAs=i}}();var YT=function(){function t(t,e,n,r){this._resourceLoader=t,this._urlResolver=e,this._htmlParser=n,this._config=r,this._resourceLoaderCache=new Map}return t.prototype.clearCache=function(){this._resourceLoaderCache.clear()},t.prototype.clearCacheFor=function(t){var e=this;if(t.isComponent){var n=t.template;this._resourceLoaderCache.delete(n.templateUrl),n.externalStylesheets.forEach(function(t){e._resourceLoaderCache.delete(t.moduleUrl)})}},t.prototype._fetch=function(t){var e=this._resourceLoaderCache.get(t);return e||(e=this._resourceLoader.get(t),this._resourceLoaderCache.set(t,e)),e},t.prototype.normalizeTemplate=function(t){var e=this;if(yx(t.template)){if(yx(t.templateUrl))throw Sx("'"+Nx(t.componentType)+"' component cannot define both template and templateUrl");if("string"!=typeof t.template)throw Sx("The template specified for component "+Nx(t.componentType)+" is not a string")}else{if(!yx(t.templateUrl))throw Sx("No template specified for component "+Nx(t.componentType));if("string"!=typeof t.templateUrl)throw Sx("The templateUrl specified for component "+Nx(t.componentType)+" is not a string")}if(yx(t.preserveWhitespaces)&&"boolean"!=typeof t.preserveWhitespaces)throw Sx("The preserveWhitespaces option for component "+Nx(t.componentType)+" must be a boolean");return _x(this._preParseTemplate(t),function(n){return e._normalizeTemplateMetadata(t,n)})},t.prototype._preParseTemplate=function(t){var e,n,r=this;return null!=t.template?(e=t.template,n=t.moduleUrl):(n=this._urlResolver.resolve(t.moduleUrl,t.templateUrl),e=this._fetch(n)),_x(e,function(e){return r._preparseLoadedTemplate(t,e,n)})},t.prototype._preparseLoadedTemplate=function(t,e,n){var r=!!t.template,i=PT.fromArray(t.interpolation),o=this._htmlParser.parse(e,_T({reference:t.ngModuleType},{type:{reference:t.componentType}},{isInline:r,templateUrl:n}),!0,i);if(o.errors.length>0)throw Sx("Template parse errors:\n"+o.errors.join("\n"));var s=this._normalizeStylesheet(new hT({styles:t.styles,moduleUrl:t.moduleUrl})),a=new JT;DT(a,o.rootNodes);var u=this._normalizeStylesheet(new hT({styles:a.styles,styleUrls:a.styleUrls,moduleUrl:n}));return{template:e,templateUrl:n,isInline:r,htmlAst:o,styles:s.styles.concat(u.styles),inlineStyleUrls:s.styleUrls.concat(u.styleUrls),styleUrls:this._normalizeStylesheet(new hT({styleUrls:t.styleUrls,moduleUrl:t.moduleUrl})).styleUrls,ngContentSelectors:a.ngContentSelectors}},t.prototype._normalizeTemplateMetadata=function(t,e){var n=this;return _x(this._loadMissingExternalStylesheets(e.styleUrls.concat(e.inlineStyleUrls)),function(r){return n._normalizeLoadedTemplateMetadata(t,e,r)})},t.prototype._normalizeLoadedTemplateMetadata=function(t,e,n){var r=this,i=h(e.styles);this._inlineStyles(e.inlineStyleUrls,n,i);var o=e.styleUrls,s=o.map(function(t){var e=n.get(t),i=h(e.styles);return r._inlineStyles(e.styleUrls,n,i),new hT({moduleUrl:t,styles:i})}),a=t.encapsulation;return null==a&&(a=this._config.defaultEncapsulation),a===PS.Emulated&&0===i.length&&0===o.length&&(a=PS.None),new pT({encapsulation:a,template:e.template,templateUrl:e.templateUrl,htmlAst:e.htmlAst,styles:i,styleUrls:o,ngContentSelectors:e.ngContentSelectors,animations:t.animations,interpolation:t.interpolation,isInline:e.isInline,externalStylesheets:s,preserveWhitespaces:Yx(t.preserveWhitespaces,this._config.preserveWhitespaces)})},t.prototype._inlineStyles=function(t,e,n){var r=this;t.forEach(function(t){var i=e.get(t);i.styles.forEach(function(t){return n.push(t)}),r._inlineStyles(i.styleUrls,e,n)})},t.prototype._loadMissingExternalStylesheets=function(t,e){var n=this;return void 0===e&&(e=new Map),_x(Ex(t.filter(function(t){return!e.has(t)}).map(function(t){return _x(n._fetch(t),function(r){var i=n._normalizeStylesheet(new hT({styles:[r],moduleUrl:t}));return e.set(t,i),n._loadMissingExternalStylesheets(i.styleUrls,e)})})),function(t){return e})},t.prototype._normalizeStylesheet=function(t){var e=this,n=t.moduleUrl,r=t.styleUrls.filter(RT).map(function(t){return e._urlResolver.resolve(n,t)}),i=t.styles.map(function(t){var i,o,s,a,u=(i=e._urlResolver,o=n,s=[],a=t.replace(jT,"").replace(LT,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[1]||t[2];return RT(n)?(s.push(i.resolve(o,n)),""):t[0]}),new MT(a,s));return r.push.apply(r,h(u.styleUrls)),u.style});return new hT({styles:i,styleUrls:r,moduleUrl:n})},t}(),JT=function(){function t(){this.ngContentSelectors=[],this.styles=[],this.styleUrls=[],this.ngNonBindableStackCount=0}return t.prototype.visitElement=function(t,e){var n=XT(t);switch(n.type){case FT.NG_CONTENT:0===this.ngNonBindableStackCount&&this.ngContentSelectors.push(n.selectAttr);break;case FT.STYLE:var r="";t.children.forEach(function(t){t instanceof ET&&(r+=t.value)}),this.styles.push(r);break;case FT.STYLESHEET:this.styleUrls.push(n.hrefAttr)}return n.nonBindable&&this.ngNonBindableStackCount++,DT(this,t.children),n.nonBindable&&this.ngNonBindableStackCount--,null},t.prototype.visitExpansion=function(t,e){DT(this,t.cases)},t.prototype.visitExpansionCase=function(t,e){DT(this,t.expression)},t.prototype.visitComment=function(t,e){return null},t.prototype.visitAttribute=function(t,e){return null},t.prototype.visitText=function(t,e){return null},t}(),ZT=[zS,WS,HS,qS],tA=function(){function t(t){this._reflector=t}return t.prototype.isDirective=function(t){var e=this._reflector.annotations(kx(t));return e&&e.some(eA)},t.prototype.resolve=function(t,e){void 0===e&&(e=!0);var n=this._reflector.annotations(kx(t));if(n){var r=nA(n,eA);if(r){var i=this._reflector.propMetadata(t),o=this._reflector.guards(t);return this._mergeWithPropertyMetadata(r,i,o,t)}}if(e)throw new Error("No Directive annotation found on "+Nx(t));return null},t.prototype._mergeWithPropertyMetadata=function(t,e,n,r){var i=[],o=[],s={},a={};return Object.keys(e).forEach(function(t){var n=nA(e[t],function(t){return YS.isTypeOf(t)});n&&(n.bindingPropertyName?i.push(t+": "+n.bindingPropertyName):i.push(t));var r=nA(e[t],function(t){return JS.isTypeOf(t)});r&&(r.bindingPropertyName?o.push(t+": "+r.bindingPropertyName):o.push(t)),e[t].filter(function(t){return ZS.isTypeOf(t)}).forEach(function(e){if(e.hostPropertyName){var n=e.hostPropertyName[0];if("("===n)throw new Error("@HostBinding can not bind to events. Use @HostListener instead.");if("["===n)throw new Error("@HostBinding parameter should be a property name, 'class.<name>', or 'attr.<name>'.");s["["+e.hostPropertyName+"]"]=t}else s["["+t+"]"]=t}),e[t].filter(function(t){return tx.isTypeOf(t)}).forEach(function(e){var n=e.args||[];s["("+e.eventName+")"]=t+"("+n.join(",")+")"});var u=nA(e[t],function(t){return ZT.some(function(e){return e.isTypeOf(t)})});u&&(a[t]=u)}),this._merge(t,i,o,s,a,n,r)},t.prototype._extractPublicName=function(t){return dx(t,[null,t])[1].trim()},t.prototype._dedupeBindings=function(t){for(var e=new Set,n=new Set,r=[],i=t.length-1;i>=0;i--){var o=t[i],s=this._extractPublicName(o);n.add(s),e.has(s)||(e.add(s),r.push(o))}return r.reverse()},t.prototype._merge=function(t,e,n,r,i,s,a){var u=this._dedupeBindings(t.inputs?t.inputs.concat(e):e),c=this._dedupeBindings(t.outputs?t.outputs.concat(n):n),l=t.host?o({},t.host,r):r,h=t.queries?o({},t.queries,i):i;if(XS.isTypeOf(t)){var p=t;return XS({selector:p.selector,inputs:u,outputs:c,host:l,exportAs:p.exportAs,moduleId:p.moduleId,queries:h,changeDetection:p.changeDetection,providers:p.providers,viewProviders:p.viewProviders,entryComponents:p.entryComponents,template:p.template,templateUrl:p.templateUrl,styles:p.styles,styleUrls:p.styleUrls,encapsulation:p.encapsulation,animations:p.animations,interpolation:p.interpolation,preserveWhitespaces:t.preserveWhitespaces})}return KS({selector:t.selector,inputs:u,outputs:c,host:l,exportAs:t.exportAs,queries:h,providers:t.providers,guards:s})},t}();function eA(t){return KS.isTypeOf(t)||XS.isTypeOf(t)}function nA(t,e){for(var n=t.length-1;n>=0;n--)if(e(t[n]))return t[n];return null}var rA,iA=0,oA=9,sA=10,aA=11,uA=12,cA=13,lA=32,hA=34,pA=36,fA=39,dA=43,vA=45,mA=47,yA=59,gA=61,bA=62,wA=48,_A=57,EA=65,CA=69,SA=70,xA=90,TA=95,AA=97,DA=101,IA=102,NA=110,kA=114,PA=116,OA=118,MA=122,RA=123,FA=160,LA=96;function jA(t){return t>=oA&&t<=lA||t==FA}function VA(t){return wA<=t&&t<=_A}function BA(t){return t>=AA&&t<=MA||t>=EA&&t<=xA}!function(t){t[t.Character=0]="Character",t[t.Identifier=1]="Identifier",t[t.Keyword=2]="Keyword",t[t.String=3]="String",t[t.Operator=4]="Operator",t[t.Number=5]="Number",t[t.Error=6]="Error"}(rA||(rA={}));var UA=["var","let","as","null","undefined","true","false","if","else","this"],qA=function(){function t(){}return t.prototype.tokenize=function(t){for(var e=new GA(t),n=[],r=e.scanToken();null!=r;)n.push(r),r=e.scanToken();return n},t}(),HA=function(){function t(t,e,n,r){this.index=t,this.type=e,this.numValue=n,this.strValue=r}return t.prototype.isCharacter=function(t){return this.type==rA.Character&&this.numValue==t},t.prototype.isNumber=function(){return this.type==rA.Number},t.prototype.isString=function(){return this.type==rA.String},t.prototype.isOperator=function(t){return this.type==rA.Operator&&this.strValue==t},t.prototype.isIdentifier=function(){return this.type==rA.Identifier},t.prototype.isKeyword=function(){return this.type==rA.Keyword},t.prototype.isKeywordLet=function(){return this.type==rA.Keyword&&"let"==this.strValue},t.prototype.isKeywordAs=function(){return this.type==rA.Keyword&&"as"==this.strValue},t.prototype.isKeywordNull=function(){return this.type==rA.Keyword&&"null"==this.strValue},t.prototype.isKeywordUndefined=function(){return this.type==rA.Keyword&&"undefined"==this.strValue},t.prototype.isKeywordTrue=function(){return this.type==rA.Keyword&&"true"==this.strValue},t.prototype.isKeywordFalse=function(){return this.type==rA.Keyword&&"false"==this.strValue},t.prototype.isKeywordThis=function(){return this.type==rA.Keyword&&"this"==this.strValue},t.prototype.isError=function(){return this.type==rA.Error},t.prototype.toNumber=function(){return this.type==rA.Number?this.numValue:-1},t.prototype.toString=function(){switch(this.type){case rA.Character:case rA.Identifier:case rA.Keyword:case rA.Operator:case rA.String:case rA.Error:return this.strValue;case rA.Number:return this.numValue.toString();default:return null}},t}();function WA(t,e){return new HA(t,rA.Character,e,String.fromCharCode(e))}function zA(t,e){return new HA(t,rA.Operator,0,e)}var KA=new HA(-1,rA.Character,0,""),GA=function(){function t(t){this.input=t,this.peek=0,this.index=-1,this.length=t.length,this.advance()}return t.prototype.advance=function(){this.peek=++this.index>=this.length?iA:this.input.charCodeAt(this.index)},t.prototype.scanToken=function(){for(var t=this.input,e=this.length,n=this.peek,r=this.index;n<=lA;){if(++r>=e){n=iA;break}n=t.charCodeAt(r)}if(this.peek=n,this.index=r,r>=e)return null;if(QA(n))return this.scanIdentifier();if(VA(n))return this.scanNumber(r);var i=r;switch(n){case 46:return this.advance(),VA(this.peek)?this.scanNumber(i):WA(i,46);case 40:case 41:case RA:case 125:case 91:case 93:case 44:case 58:case yA:return this.scanCharacter(i,n);case fA:case hA:return this.scanString();case 35:case dA:case vA:case 42:case mA:case 37:case 94:return this.scanOperator(i,String.fromCharCode(n));case 63:return this.scanComplexOperator(i,"?",46,".");case 60:case bA:return this.scanComplexOperator(i,String.fromCharCode(n),gA,"=");case 33:case gA:return this.scanComplexOperator(i,String.fromCharCode(n),gA,"=",gA,"=");case 38:return this.scanComplexOperator(i,"&",38,"&");case 124:return this.scanComplexOperator(i,"|",124,"|");case FA:for(;jA(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error("Unexpected character ["+String.fromCharCode(n)+"]",0)},t.prototype.scanCharacter=function(t,e){return this.advance(),WA(t,e)},t.prototype.scanOperator=function(t,e){return this.advance(),zA(t,e)},t.prototype.scanComplexOperator=function(t,e,n,r,i,o){this.advance();var s=e;return this.peek==n&&(this.advance(),s+=r),null!=i&&this.peek==i&&(this.advance(),s+=o),zA(t,s)},t.prototype.scanIdentifier=function(){var t=this.index;for(this.advance();XA(this.peek);)this.advance();var e,n=this.input.substring(t,this.index);return UA.indexOf(n)>-1?(e=n,new HA(t,rA.Keyword,0,e)):function(t,e){return new HA(t,rA.Identifier,0,e)}(t,n)},t.prototype.scanNumber=function(t){var e,n=this.index===t;for(this.advance();;){if(VA(this.peek));else if(46==this.peek)n=!1;else{if((e=this.peek)!=DA&&e!=CA)break;if(this.advance(),$A(this.peek)&&this.advance(),!VA(this.peek))return this.error("Invalid exponent",-1);n=!1}this.advance()}var r,i=this.input.substring(t,this.index),o=n?function(t){var e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}(i):parseFloat(i);return r=o,new HA(t,rA.Number,r,"")},t.prototype.scanString=function(){var t=this.index,e=this.peek;this.advance();for(var n="",r=this.index,i=this.input;this.peek!=e;)if(92==this.peek){n+=i.substring(r,this.index),this.advance();var o=void 0;if(this.peek=this.peek,117==this.peek){var s=i.substring(this.index+1,this.index+5);if(!/^[0-9a-f]+$/i.test(s))return this.error("Invalid unicode escape [\\u"+s+"]",0);o=parseInt(s,16);for(var a=0;a<5;a++)this.advance()}else o=YA(this.peek),this.advance();n+=String.fromCharCode(o),r=this.index}else{if(this.peek==iA)return this.error("Unterminated quote",0);this.advance()}var u,c=i.substring(r,this.index);return this.advance(),u=n+c,new HA(t,rA.String,0,u)},t.prototype.error=function(t,e){var n=this.index+e;return function(t,e){return new HA(t,rA.Error,0,e)}(n,"Lexer Error: "+t+" at column "+n+" in expression ["+this.input+"]")},t}();function QA(t){return AA<=t&&t<=MA||EA<=t&&t<=xA||t==TA||t==pA}function XA(t){return BA(t)||VA(t)||t==TA||t==pA}function $A(t){return t==vA||t==dA}function YA(t){switch(t){case NA:return sA;case IA:return uA;case kA:return cA;case PA:return oA;case OA:return aA;default:return t}}var JA=function(){return function(t,e,n,r){this.input=e,this.errLocation=n,this.ctxLocation=r,this.message="Parser Error: "+t+" "+n+" ["+e+"] in "+r}}(),ZA=function(){return function(t,e){this.start=t,this.end=e}}(),tD=function(){function t(t){this.span=t}return t.prototype.visit=function(t,e){return void 0===e&&(e=null),null},t.prototype.toString=function(){return"AST"},t}(),eD=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.prefix=n,o.uninterpretedExpression=r,o.location=i,o}return i(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitQuote(this,e)},e.prototype.toString=function(){return"Quote"},e}(tD),nD=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.visit=function(t,e){void 0===e&&(e=null)},e}(tD),rD=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitImplicitReceiver(this,e)},e}(tD),iD=function(t){function e(e,n){var r=t.call(this,e)||this;return r.expressions=n,r}return i(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitChain(this,e)},e}(tD),oD=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.condition=n,o.trueExp=r,o.falseExp=i,o}return i(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitConditional(this,e)},e}(tD),sD=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.receiver=n,i.name=r,i}return i(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitPropertyRead(this,e)},e}(tD),aD=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.receiver=n,o.name=r,o.value=i,o}return i(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitPropertyWrite(this,e)},e}(tD),uD=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.receiver=n,i.name=r,i}return i(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitSafePropertyRead(this,e)},e}(tD),cD=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.obj=n,i.key=r,i}return i(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitKeyedRead(this,e)},e}(tD),lD=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.obj=n,o.key=r,o.value=i,o}return i(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitKeyedWrite(this,e)},e}(tD),hD=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.exp=n,o.name=r,o.args=i,o}return i(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitPipe(this,e)},e}(tD),pD=function(t){function e(e,n){var r=t.call(this,e)||this;return r.value=n,r}return i(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitLiteralPrimitive(this,e)},e}(tD),fD=function(t){function e(e,n){var r=t.call(this,e)||this;return r.expressions=n,r}return i(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitLiteralArray(this,e)},e}(tD),dD=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.keys=n,i.values=r,i}return i(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitLiteralMap(this,e)},e}(tD),vD=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.strings=n,i.expressions=r,i}return i(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitInterpolation(this,e)},e}(tD),mD=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.operation=n,o.left=r,o.right=i,o}return i(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitBinary(this,e)},e}(tD),yD=function(t){function e(e,n){var r=t.call(this,e)||this;return r.expression=n,r}return i(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitPrefixNot(this,e)},e}(tD),gD=function(t){function e(e,n){var r=t.call(this,e)||this;return r.expression=n,r}return i(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitNonNullAssert(this,e)},e}(tD),bD=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.receiver=n,o.name=r,o.args=i,o}return i(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitMethodCall(this,e)},e}(tD),wD=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.receiver=n,o.name=r,o.args=i,o}return i(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitSafeMethodCall(this,e)},e}(tD),_D=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.target=n,i.args=r,i}return i(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitFunctionCall(this,e)},e}(tD),ED=function(t){function e(e,n,r,i){var o=t.call(this,new ZA(0,null==n?0:n.length))||this;return o.ast=e,o.source=n,o.location=r,o.errors=i,o}return i(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),this.ast.visit(t,e)},e.prototype.toString=function(){return this.source+" in "+this.location},e}(tD),CD=function(){return function(t,e,n,r,i){this.span=t,this.key=e,this.keyIsVar=n,this.name=r,this.expression=i}}(),SD=(function(){function t(){}t.prototype.visitBinary=function(t,e){},t.prototype.visitChain=function(t,e){},t.prototype.visitConditional=function(t,e){},t.prototype.visitFunctionCall=function(t,e){},t.prototype.visitImplicitReceiver=function(t,e){},t.prototype.visitInterpolation=function(t,e){},t.prototype.visitKeyedRead=function(t,e){},t.prototype.visitKeyedWrite=function(t,e){},t.prototype.visitLiteralArray=function(t,e){},t.prototype.visitLiteralMap=function(t,e){},t.prototype.visitLiteralPrimitive=function(t,e){},t.prototype.visitMethodCall=function(t,e){},t.prototype.visitPipe=function(t,e){},t.prototype.visitPrefixNot=function(t,e){},t.prototype.visitNonNullAssert=function(t,e){},t.prototype.visitPropertyRead=function(t,e){},t.prototype.visitPropertyWrite=function(t,e){},t.prototype.visitQuote=function(t,e){},t.prototype.visitSafeMethodCall=function(t,e){},t.prototype.visitSafePropertyRead=function(t,e){}}(),function(){function t(){}return t.prototype.visitBinary=function(t,e){return t.left.visit(this),t.right.visit(this),null},t.prototype.visitChain=function(t,e){return this.visitAll(t.expressions,e)},t.prototype.visitConditional=function(t,e){return t.condition.visit(this),t.trueExp.visit(this),t.falseExp.visit(this),null},t.prototype.visitPipe=function(t,e){return t.exp.visit(this),this.visitAll(t.args,e),null},t.prototype.visitFunctionCall=function(t,e){return t.target.visit(this),this.visitAll(t.args,e),null},t.prototype.visitImplicitReceiver=function(t,e){return null},t.prototype.visitInterpolation=function(t,e){return this.visitAll(t.expressions,e)},t.prototype.visitKeyedRead=function(t,e){return t.obj.visit(this),t.key.visit(this),null},t.prototype.visitKeyedWrite=function(t,e){return t.obj.visit(this),t.key.visit(this),t.value.visit(this),null},t.prototype.visitLiteralArray=function(t,e){return this.visitAll(t.expressions,e)},t.prototype.visitLiteralMap=function(t,e){return this.visitAll(t.values,e)},t.prototype.visitLiteralPrimitive=function(t,e){return null},t.prototype.visitMethodCall=function(t,e){return t.receiver.visit(this),this.visitAll(t.args,e)},t.prototype.visitPrefixNot=function(t,e){return t.expression.visit(this),null},t.prototype.visitNonNullAssert=function(t,e){return t.expression.visit(this),null},t.prototype.visitPropertyRead=function(t,e){return t.receiver.visit(this),null},t.prototype.visitPropertyWrite=function(t,e){return t.receiver.visit(this),t.value.visit(this),null},t.prototype.visitSafePropertyRead=function(t,e){return t.receiver.visit(this),null},t.prototype.visitSafeMethodCall=function(t,e){return t.receiver.visit(this),this.visitAll(t.args,e)},t.prototype.visitAll=function(t,e){var n=this;return t.forEach(function(t){return t.visit(n,e)}),null},t.prototype.visitQuote=function(t,e){return null},t}()),xD=function(){function t(){}return t.prototype.visitImplicitReceiver=function(t,e){return t},t.prototype.visitInterpolation=function(t,e){return new vD(t.span,t.strings,this.visitAll(t.expressions))},t.prototype.visitLiteralPrimitive=function(t,e){return new pD(t.span,t.value)},t.prototype.visitPropertyRead=function(t,e){return new sD(t.span,t.receiver.visit(this),t.name)},t.prototype.visitPropertyWrite=function(t,e){return new aD(t.span,t.receiver.visit(this),t.name,t.value.visit(this))},t.prototype.visitSafePropertyRead=function(t,e){return new uD(t.span,t.receiver.visit(this),t.name)},t.prototype.visitMethodCall=function(t,e){return new bD(t.span,t.receiver.visit(this),t.name,this.visitAll(t.args))},t.prototype.visitSafeMethodCall=function(t,e){return new wD(t.span,t.receiver.visit(this),t.name,this.visitAll(t.args))},t.prototype.visitFunctionCall=function(t,e){return new _D(t.span,t.target.visit(this),this.visitAll(t.args))},t.prototype.visitLiteralArray=function(t,e){return new fD(t.span,this.visitAll(t.expressions))},t.prototype.visitLiteralMap=function(t,e){return new dD(t.span,t.keys,this.visitAll(t.values))},t.prototype.visitBinary=function(t,e){return new mD(t.span,t.operation,t.left.visit(this),t.right.visit(this))},t.prototype.visitPrefixNot=function(t,e){return new yD(t.span,t.expression.visit(this))},t.prototype.visitNonNullAssert=function(t,e){return new gD(t.span,t.expression.visit(this))},t.prototype.visitConditional=function(t,e){return new oD(t.span,t.condition.visit(this),t.trueExp.visit(this),t.falseExp.visit(this))},t.prototype.visitPipe=function(t,e){return new hD(t.span,t.exp.visit(this),t.name,this.visitAll(t.args))},t.prototype.visitKeyedRead=function(t,e){return new cD(t.span,t.obj.visit(this),t.key.visit(this))},t.prototype.visitKeyedWrite=function(t,e){return new lD(t.span,t.obj.visit(this),t.key.visit(this),t.value.visit(this))},t.prototype.visitAll=function(t){for(var e=new Array(t.length),n=0;n<t.length;++n)e[n]=t[n].visit(this);return e},t.prototype.visitChain=function(t,e){return new iD(t.span,this.visitAll(t.expressions))},t.prototype.visitQuote=function(t,e){return new eD(t.span,t.prefix,t.uninterpretedExpression,t.location)},t}(),TD=function(){function t(){}return t.prototype.visitImplicitReceiver=function(t,e){return t},t.prototype.visitInterpolation=function(t,e){var n=this.visitAll(t.expressions);return n!==t.expressions?new vD(t.span,t.strings,n):t},t.prototype.visitLiteralPrimitive=function(t,e){return t},t.prototype.visitPropertyRead=function(t,e){var n=t.receiver.visit(this);return n!==t.receiver?new sD(t.span,n,t.name):t},t.prototype.visitPropertyWrite=function(t,e){var n=t.receiver.visit(this),r=t.value.visit(this);return n!==t.receiver||r!==t.value?new aD(t.span,n,t.name,r):t},t.prototype.visitSafePropertyRead=function(t,e){var n=t.receiver.visit(this);return n!==t.receiver?new uD(t.span,n,t.name):t},t.prototype.visitMethodCall=function(t,e){var n=t.receiver.visit(this);return n!==t.receiver?new bD(t.span,n,t.name,this.visitAll(t.args)):t},t.prototype.visitSafeMethodCall=function(t,e){var n=t.receiver.visit(this),r=this.visitAll(t.args);return n!==t.receiver||r!==t.args?new wD(t.span,n,t.name,r):t},t.prototype.visitFunctionCall=function(t,e){var n=t.target&&t.target.visit(this),r=this.visitAll(t.args);return n!==t.target||r!==t.args?new _D(t.span,n,r):t},t.prototype.visitLiteralArray=function(t,e){var n=this.visitAll(t.expressions);return n!==t.expressions?new fD(t.span,n):t},t.prototype.visitLiteralMap=function(t,e){var n=this.visitAll(t.values);return n!==t.values?new dD(t.span,t.keys,n):t},t.prototype.visitBinary=function(t,e){var n=t.left.visit(this),r=t.right.visit(this);return n!==t.left||r!==t.right?new mD(t.span,t.operation,n,r):t},t.prototype.visitPrefixNot=function(t,e){var n=t.expression.visit(this);return n!==t.expression?new yD(t.span,n):t},t.prototype.visitNonNullAssert=function(t,e){var n=t.expression.visit(this);return n!==t.expression?new gD(t.span,n):t},t.prototype.visitConditional=function(t,e){var n=t.condition.visit(this),r=t.trueExp.visit(this),i=t.falseExp.visit(this);return n!==t.condition||r!==t.trueExp||i!=i?new oD(t.span,n,r,i):t},t.prototype.visitPipe=function(t,e){var n=t.exp.visit(this),r=this.visitAll(t.args);return n!==t.exp||r!==t.args?new hD(t.span,n,t.name,r):t},t.prototype.visitKeyedRead=function(t,e){var n=t.obj.visit(this),r=t.key.visit(this);return n!==t.obj||r!==t.key?new cD(t.span,n,r):t},t.prototype.visitKeyedWrite=function(t,e){var n=t.obj.visit(this),r=t.key.visit(this),i=t.value.visit(this);return n!==t.obj||r!==t.key||i!==t.value?new lD(t.span,n,r,i):t},t.prototype.visitAll=function(t){for(var e=new Array(t.length),n=!1,r=0;r<t.length;++r){var i=t[r],o=i.visit(this);e[r]=o,n=n||o!==i}return n?e:t},t.prototype.visitChain=function(t,e){var n=this.visitAll(t.expressions);return n!==t.expressions?new iD(t.span,n):t},t.prototype.visitQuote=function(t,e){return t},t}();var AD,DD=function(){return function(t,e,n,r){this.name=t,this.expression=e,this.type=n,this.sourceSpan=r,this.isLiteral=this.type===AD.LITERAL_ATTR,this.isAnimation=this.type===AD.ANIMATION}}();!function(t){t[t.DEFAULT=0]="DEFAULT",t[t.LITERAL_ATTR=1]="LITERAL_ATTR",t[t.ANIMATION=2]="ANIMATION"}(AD||(AD={}));var ID=function(){return function(t,e,n,r,i){this.name=t,this.targetOrPhase=e,this.type=n,this.handler=r,this.sourceSpan=i}}(),ND=function(){return function(t,e,n){this.name=t,this.value=e,this.sourceSpan=n}}(),kD=function(){return function(t,e,n,r,i,o){this.name=t,this.type=e,this.securityContext=n,this.value=r,this.unit=i,this.sourceSpan=o}}(),PD=function(){return function(t,e,n){this.strings=t,this.expressions=e,this.offsets=n}}(),OD=function(){return function(t,e,n){this.templateBindings=t,this.warnings=e,this.errors=n}}();function MD(t){var e=Ax(t.start)+"([\\s\\S]*?)"+Ax(t.end);return new RegExp(e,"g")}var RD,FD=function(){function t(t){this._lexer=t,this.errors=[]}return t.prototype.parseAction=function(t,e,n){void 0===n&&(n=OT),this._checkNoInterpolation(t,e,n);var r=this._stripComments(t),i=this._lexer.tokenize(this._stripComments(t)),o=new LD(t,e,i,r.length,!0,this.errors,t.length-r.length).parseChain();return new ED(o,t,e,this.errors)},t.prototype.parseBinding=function(t,e,n){void 0===n&&(n=OT);var r=this._parseBindingAst(t,e,n);return new ED(r,t,e,this.errors)},t.prototype.parseSimpleBinding=function(t,e,n){void 0===n&&(n=OT);var r=this._parseBindingAst(t,e,n),i=jD.check(r);return i.length>0&&this._reportError("Host binding expression cannot contain "+i.join(" "),t,e),new ED(r,t,e,this.errors)},t.prototype._reportError=function(t,e,n,r){this.errors.push(new JA(t,e,n,r))},t.prototype._parseBindingAst=function(t,e,n){var r=this._parseQuote(t,e);if(null!=r)return r;this._checkNoInterpolation(t,e,n);var i=this._stripComments(t),o=this._lexer.tokenize(i);return new LD(t,e,o,i.length,!1,this.errors,t.length-i.length).parseChain()},t.prototype._parseQuote=function(t,e){if(null==t)return null;var n=t.indexOf(":");if(-1==n)return null;var r=t.substring(0,n).trim();if(!function(t){if(0==t.length)return!1;var e=new GA(t);if(!QA(e.peek))return!1;for(e.advance();e.peek!==iA;){if(!XA(e.peek))return!1;e.advance()}return!0}(r))return null;var i=t.substring(n+1);return new eD(new ZA(0,t.length),r,i,e)},t.prototype.parseTemplateBindings=function(t,e,n){var r=this._lexer.tokenize(e);return new LD(e,n,r,e.length,!1,this.errors,0).parseTemplateBindings(t)},t.prototype.parseInterpolation=function(t,e,n){void 0===n&&(n=OT);var r=this.splitInterpolation(t,e,n);if(null==r)return null;for(var i=[],o=0;o<r.expressions.length;++o){var s=r.expressions[o],a=this._stripComments(s),u=this._lexer.tokenize(a),c=new LD(t,e,u,a.length,!1,this.errors,r.offsets[o]+(s.length-a.length)).parseChain();i.push(c)}return new ED(new vD(new ZA(0,null==t?0:t.length),r.strings,i),t,e,this.errors)},t.prototype.splitInterpolation=function(t,e,n){void 0===n&&(n=OT);var r=MD(n),i=t.split(r);if(i.length<=1)return null;for(var o=[],s=[],a=[],u=0,c=0;c<i.length;c++){var l=i[c];c%2==0?(o.push(l),u+=l.length):l.trim().length>0?(u+=n.start.length,s.push(l),a.push(u),u+=l.length+n.end.length):(this._reportError("Blank expressions are not allowed in interpolated strings",t,"at column "+this._findInterpolationErrorColumn(i,c,n)+" in",e),s.push("$implict"),a.push(u))}return new PD(o,s,a)},t.prototype.wrapLiteralPrimitive=function(t,e){return new ED(new pD(new ZA(0,null==t?0:t.length),t),t,e,this.errors)},t.prototype._stripComments=function(t){var e=this._commentStart(t);return null!=e?t.substring(0,e).trim():t},t.prototype._commentStart=function(t){for(var e,n=null,r=0;r<t.length-1;r++){var i=t.charCodeAt(r),o=t.charCodeAt(r+1);if(i===mA&&o==mA&&null==n)return r;n===i?n=null:null==n&&((e=i)===fA||e===hA||e===LA)&&(n=i)}return null},t.prototype._checkNoInterpolation=function(t,e,n){var r=MD(n),i=t.split(r);i.length>1&&this._reportError("Got interpolation ("+n.start+n.end+") where expression was expected",t,"at column "+this._findInterpolationErrorColumn(i,1,n)+" in",e)},t.prototype._findInterpolationErrorColumn=function(t,e,n){for(var r="",i=0;i<e;i++)r+=i%2==0?t[i]:""+n.start+t[i]+n.end;return r.length},t}(),LD=function(){function t(t,e,n,r,i,o,s){this.input=t,this.location=e,this.tokens=n,this.inputLength=r,this.parseAction=i,this.errors=o,this.offset=s,this.rparensExpected=0,this.rbracketsExpected=0,this.rbracesExpected=0,this.index=0}return t.prototype.peek=function(t){var e=this.index+t;return e<this.tokens.length?this.tokens[e]:KA},Object.defineProperty(t.prototype,"next",{get:function(){return this.peek(0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputIndex",{get:function(){return this.index<this.tokens.length?this.next.index+this.offset:this.inputLength+this.offset},enumerable:!0,configurable:!0}),t.prototype.span=function(t){return new ZA(t,this.inputIndex)},t.prototype.advance=function(){this.index++},t.prototype.optionalCharacter=function(t){return!!this.next.isCharacter(t)&&(this.advance(),!0)},t.prototype.peekKeywordLet=function(){return this.next.isKeywordLet()},t.prototype.peekKeywordAs=function(){return this.next.isKeywordAs()},t.prototype.expectCharacter=function(t){this.optionalCharacter(t)||this.error("Missing expected "+String.fromCharCode(t))},t.prototype.optionalOperator=function(t){return!!this.next.isOperator(t)&&(this.advance(),!0)},t.prototype.expectOperator=function(t){this.optionalOperator(t)||this.error("Missing expected operator "+t)},t.prototype.expectIdentifierOrKeyword=function(){var t=this.next;return t.isIdentifier()||t.isKeyword()?(this.advance(),t.toString()):(this.error("Unexpected token "+t+", expected identifier or keyword"),"")},t.prototype.expectIdentifierOrKeywordOrString=function(){var t=this.next;return t.isIdentifier()||t.isKeyword()||t.isString()?(this.advance(),t.toString()):(this.error("Unexpected token "+t+", expected identifier, keyword, or string"),"")},t.prototype.parseChain=function(){for(var t=[],e=this.inputIndex;this.index<this.tokens.length;){var n=this.parsePipe();if(t.push(n),this.optionalCharacter(yA))for(this.parseAction||this.error("Binding expression cannot contain chained expression");this.optionalCharacter(yA););else this.index<this.tokens.length&&this.error("Unexpected token '"+this.next+"'")}return 0==t.length?new nD(this.span(e)):1==t.length?t[0]:new iD(this.span(e),t)},t.prototype.parsePipe=function(){var t=this.parseExpression();if(this.optionalOperator("|")){this.parseAction&&this.error("Cannot have a pipe in an action expression");do{for(var e=this.expectIdentifierOrKeyword(),n=[];this.optionalCharacter(58);)n.push(this.parseExpression());t=new hD(this.span(t.span.start),t,e,n)}while(this.optionalOperator("|"))}return t},t.prototype.parseExpression=function(){return this.parseConditional()},t.prototype.parseConditional=function(){var t=this.inputIndex,e=this.parseLogicalOr();if(this.optionalOperator("?")){var n=this.parsePipe(),r=void 0;if(this.optionalCharacter(58))r=this.parsePipe();else{var i=this.inputIndex,o=this.input.substring(t,i);this.error("Conditional expression "+o+" requires all 3 expressions"),r=new nD(this.span(t))}return new oD(this.span(t),e,n,r)}return e},t.prototype.parseLogicalOr=function(){for(var t=this.parseLogicalAnd();this.optionalOperator("||");){var e=this.parseLogicalAnd();t=new mD(this.span(t.span.start),"||",t,e)}return t},t.prototype.parseLogicalAnd=function(){for(var t=this.parseEquality();this.optionalOperator("&&");){var e=this.parseEquality();t=new mD(this.span(t.span.start),"&&",t,e)}return t},t.prototype.parseEquality=function(){for(var t=this.parseRelational();this.next.type==rA.Operator;){var e=this.next.strValue;switch(e){case"==":case"===":case"!=":case"!==":this.advance();var n=this.parseRelational();t=new mD(this.span(t.span.start),e,t,n);continue}break}return t},t.prototype.parseRelational=function(){for(var t=this.parseAdditive();this.next.type==rA.Operator;){var e=this.next.strValue;switch(e){case"<":case">":case"<=":case">=":this.advance();var n=this.parseAdditive();t=new mD(this.span(t.span.start),e,t,n);continue}break}return t},t.prototype.parseAdditive=function(){for(var t=this.parseMultiplicative();this.next.type==rA.Operator;){var e=this.next.strValue;switch(e){case"+":case"-":this.advance();var n=this.parseMultiplicative();t=new mD(this.span(t.span.start),e,t,n);continue}break}return t},t.prototype.parseMultiplicative=function(){for(var t=this.parsePrefix();this.next.type==rA.Operator;){var e=this.next.strValue;switch(e){case"*":case"%":case"/":this.advance();var n=this.parsePrefix();t=new mD(this.span(t.span.start),e,t,n);continue}break}return t},t.prototype.parsePrefix=function(){if(this.next.type==rA.Operator){var t=this.inputIndex,e=this.next.strValue,n=void 0;switch(e){case"+":return this.advance(),n=this.parsePrefix(),new mD(this.span(t),"-",n,new pD(new ZA(t,t),0));case"-":return this.advance(),n=this.parsePrefix(),new mD(this.span(t),e,new pD(new ZA(t,t),0),n);case"!":return this.advance(),n=this.parsePrefix(),new yD(this.span(t),n)}}return this.parseCallChain()},t.prototype.parseCallChain=function(){for(var t=this.parsePrimary();;)if(this.optionalCharacter(46))t=this.parseAccessMemberOrMethodCall(t,!1);else if(this.optionalOperator("?."))t=this.parseAccessMemberOrMethodCall(t,!0);else if(this.optionalCharacter(91)){this.rbracketsExpected++;var e=this.parsePipe();if(this.rbracketsExpected--,this.expectCharacter(93),this.optionalOperator("=")){var n=this.parseConditional();t=new lD(this.span(t.span.start),t,e,n)}else t=new cD(this.span(t.span.start),t,e)}else if(this.optionalCharacter(40)){this.rparensExpected++;var r=this.parseCallArguments();this.rparensExpected--,this.expectCharacter(41),t=new _D(this.span(t.span.start),t,r)}else{if(!this.optionalOperator("!"))return t;t=new gD(this.span(t.span.start),t)}},t.prototype.parsePrimary=function(){var t=this.inputIndex;if(this.optionalCharacter(40)){this.rparensExpected++;var e=this.parsePipe();return this.rparensExpected--,this.expectCharacter(41),e}if(this.next.isKeywordNull())return this.advance(),new pD(this.span(t),null);if(this.next.isKeywordUndefined())return this.advance(),new pD(this.span(t),void 0);if(this.next.isKeywordTrue())return this.advance(),new pD(this.span(t),!0);if(this.next.isKeywordFalse())return this.advance(),new pD(this.span(t),!1);if(this.next.isKeywordThis())return this.advance(),new rD(this.span(t));if(this.optionalCharacter(91)){this.rbracketsExpected++;var n=this.parseExpressionList(93);return this.rbracketsExpected--,this.expectCharacter(93),new fD(this.span(t),n)}if(this.next.isCharacter(RA))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMemberOrMethodCall(new rD(this.span(t)),!1);if(this.next.isNumber()){var r=this.next.toNumber();return this.advance(),new pD(this.span(t),r)}if(this.next.isString()){var i=this.next.toString();return this.advance(),new pD(this.span(t),i)}return this.index>=this.tokens.length?(this.error("Unexpected end of expression: "+this.input),new nD(this.span(t))):(this.error("Unexpected token "+this.next),new nD(this.span(t)))},t.prototype.parseExpressionList=function(t){var e=[];if(!this.next.isCharacter(t))do{e.push(this.parsePipe())}while(this.optionalCharacter(44));return e},t.prototype.parseLiteralMap=function(){var t=[],e=[],n=this.inputIndex;if(this.expectCharacter(RA),!this.optionalCharacter(125)){this.rbracesExpected++;do{var r=this.next.isString(),i=this.expectIdentifierOrKeywordOrString();t.push({key:i,quoted:r}),this.expectCharacter(58),e.push(this.parsePipe())}while(this.optionalCharacter(44));this.rbracesExpected--,this.expectCharacter(125)}return new dD(this.span(n),t,e)},t.prototype.parseAccessMemberOrMethodCall=function(t,e){void 0===e&&(e=!1);var n=t.span.start,r=this.expectIdentifierOrKeyword();if(this.optionalCharacter(40)){this.rparensExpected++;var i=this.parseCallArguments();this.expectCharacter(41),this.rparensExpected--;var o=this.span(n);return e?new wD(o,t,r,i):new bD(o,t,r,i)}if(e)return this.optionalOperator("=")?(this.error("The '?.' operator cannot be used in the assignment"),new nD(this.span(n))):new uD(this.span(n),t,r);if(this.optionalOperator("=")){if(!this.parseAction)return this.error("Bindings cannot contain assignments"),new nD(this.span(n));var s=this.parseConditional();return new aD(this.span(n),t,r,s)}return new sD(this.span(n),t,r)},t.prototype.parseCallArguments=function(){if(this.next.isCharacter(41))return[];var t=[];do{t.push(this.parsePipe())}while(this.optionalCharacter(44));return t},t.prototype.expectTemplateBindingKey=function(){var t="",e=!1;do{t+=this.expectIdentifierOrKeywordOrString(),(e=this.optionalOperator("-"))&&(t+="-")}while(e);return t.toString()},t.prototype.parseTemplateBindings=function(t){var e=!0,n=[];do{var r=this.inputIndex,i=void 0,o=void 0,s=!1;e?(i=o=t,e=!1):((s=this.peekKeywordLet())&&this.advance(),i=this.expectTemplateBindingKey(),o=s?i:t+i[0].toUpperCase()+i.substring(1),this.optionalCharacter(58));var a=null,u=null;if(s)a=this.optionalOperator("=")?this.expectTemplateBindingKey():"$implicit";else if(this.peekKeywordAs())this.advance(),a=i,o=this.expectTemplateBindingKey(),s=!0;else if(this.next!==KA&&!this.peekKeywordLet()){var c=this.inputIndex,l=this.parsePipe(),h=this.input.substring(c-this.offset,this.inputIndex-this.offset);u=new ED(l,h,this.location,this.errors)}if(n.push(new CD(this.span(r),o,s,a,u)),this.peekKeywordAs()&&!s){var p=this.inputIndex;this.advance();var f=this.expectTemplateBindingKey();n.push(new CD(this.span(p),f,!0,o,null))}this.optionalCharacter(yA)||this.optionalCharacter(44)}while(this.index<this.tokens.length);return new OD(n,[],this.errors)},t.prototype.error=function(t,e){void 0===e&&(e=null),this.errors.push(new JA(t,this.input,this.locationText(e),this.location)),this.skip()},t.prototype.locationText=function(t){return void 0===t&&(t=null),null==t&&(t=this.index),t<this.tokens.length?"at column "+(this.tokens[t].index+1)+" in":"at the end of the expression"},t.prototype.skip=function(){for(var t=this.next;this.index<this.tokens.length&&!t.isCharacter(yA)&&(this.rparensExpected<=0||!t.isCharacter(41))&&(this.rbracesExpected<=0||!t.isCharacter(125))&&(this.rbracketsExpected<=0||!t.isCharacter(93));)this.next.isError()&&this.errors.push(new JA(this.next.toString(),this.input,this.locationText(),this.location)),this.advance(),t=this.next},t}(),jD=function(){function t(){this.errors=[]}return t.check=function(e){var n=new t;return e.visit(n),n.errors},t.prototype.visitImplicitReceiver=function(t,e){},t.prototype.visitInterpolation=function(t,e){},t.prototype.visitLiteralPrimitive=function(t,e){},t.prototype.visitPropertyRead=function(t,e){},t.prototype.visitPropertyWrite=function(t,e){},t.prototype.visitSafePropertyRead=function(t,e){},t.prototype.visitMethodCall=function(t,e){},t.prototype.visitSafeMethodCall=function(t,e){},t.prototype.visitFunctionCall=function(t,e){},t.prototype.visitLiteralArray=function(t,e){this.visitAll(t.expressions)},t.prototype.visitLiteralMap=function(t,e){this.visitAll(t.values)},t.prototype.visitBinary=function(t,e){},t.prototype.visitPrefixNot=function(t,e){},t.prototype.visitNonNullAssert=function(t,e){},t.prototype.visitConditional=function(t,e){},t.prototype.visitPipe=function(t,e){this.errors.push("pipes")},t.prototype.visitKeyedRead=function(t,e){},t.prototype.visitKeyedWrite=function(t,e){},t.prototype.visitAll=function(t){var e=this;return t.map(function(t){return t.visit(e)})},t.prototype.visitChain=function(t,e){},t.prototype.visitQuote=function(t,e){},t}(),VD=function(){function t(t,e,n,r){this.file=t,this.offset=e,this.line=n,this.col=r}return t.prototype.toString=function(){return null!=this.offset?this.file.url+"@"+this.line+":"+this.col:this.file.url},t.prototype.moveBy=function(e){for(var n=this.file.content,r=n.length,i=this.offset,o=this.line,s=this.col;i>0&&e<0;){if(i--,e++,(u=n.charCodeAt(i))==sA){o--;var a=n.substr(0,i-1).lastIndexOf(String.fromCharCode(sA));s=a>0?i-a:i}else s--}for(;i<r&&e>0;){var u=n.charCodeAt(i);i++,e--,u==sA?(o++,s=0):s++}return new t(this.file,i,o,s)},t.prototype.getContext=function(t,e){var n=this.file.content,r=this.offset;if(null!=r){r>n.length-1&&(r=n.length-1);for(var i=r,o=0,s=0;o<t&&r>0&&(o++,"\n"!=n[--r]||++s!=e););for(o=0,s=0;o<t&&i<n.length-1&&(o++,"\n"!=n[++i]||++s!=e););return{before:n.substring(r,this.offset),after:n.substring(this.offset,i+1)}}return null},t}(),BD=function(){return function(t,e){this.content=t,this.url=e}}(),UD=function(){function t(t,e,n){void 0===n&&(n=null),this.start=t,this.end=e,this.details=n}return t.prototype.toString=function(){return this.start.file.content.substring(this.start.offset,this.end.offset)},t}();!function(t){t[t.WARNING=0]="WARNING",t[t.ERROR=1]="ERROR"}(RD||(RD={}));var qD,HD=function(){function t(t,e,n){void 0===n&&(n=RD.ERROR),this.span=t,this.msg=e,this.level=n}return t.prototype.contextualMessage=function(){var t=this.span.start.getContext(100,3);return t?this.msg+' ("'+t.before+"["+RD[this.level]+" ->]"+t.after+'")':this.msg},t.prototype.toString=function(){var t=this.span.details?", "+this.span.details:"";return this.contextualMessage()+": "+this.span.start+t},t}();function WD(t,e){var n=oT(e),r=null!=n?"in "+t+" "+iT(e)+" in "+n:"in "+t+" "+iT(e),i=new BD("",r);return new UD(new VD(i,-1,-1,-1),new VD(i,-1,-1,-1))}!function(t){t[t.TAG_OPEN_START=0]="TAG_OPEN_START",t[t.TAG_OPEN_END=1]="TAG_OPEN_END",t[t.TAG_OPEN_END_VOID=2]="TAG_OPEN_END_VOID",t[t.TAG_CLOSE=3]="TAG_CLOSE",t[t.TEXT=4]="TEXT",t[t.ESCAPABLE_RAW_TEXT=5]="ESCAPABLE_RAW_TEXT",t[t.RAW_TEXT=6]="RAW_TEXT",t[t.COMMENT_START=7]="COMMENT_START",t[t.COMMENT_END=8]="COMMENT_END",t[t.CDATA_START=9]="CDATA_START",t[t.CDATA_END=10]="CDATA_END",t[t.ATTR_NAME=11]="ATTR_NAME",t[t.ATTR_VALUE=12]="ATTR_VALUE",t[t.DOC_TYPE=13]="DOC_TYPE",t[t.EXPANSION_FORM_START=14]="EXPANSION_FORM_START",t[t.EXPANSION_CASE_VALUE=15]="EXPANSION_CASE_VALUE",t[t.EXPANSION_CASE_EXP_START=16]="EXPANSION_CASE_EXP_START",t[t.EXPANSION_CASE_EXP_END=17]="EXPANSION_CASE_EXP_END",t[t.EXPANSION_FORM_END=18]="EXPANSION_FORM_END",t[t.EOF=19]="EOF"}(qD||(qD={}));var zD=function(){return function(t,e,n){this.type=t,this.parts=e,this.sourceSpan=n}}(),KD=function(t){function e(e,n,r){var i=t.call(this,r,e)||this;return i.tokenType=n,i}return i(e,t),e}(HD),GD=function(){return function(t,e){this.tokens=t,this.errors=e}}();var QD=/\r\n?/g;function XD(t){return'Unexpected character "'+(t===iA?"EOF":String.fromCharCode(t))+'"'}function $D(t){return'Unknown entity "'+t+'" - use the "&#<decimal>;" or  "&#x<hex>;" syntax'}var YD=function(){return function(t){this.error=t}}(),JD=function(){function t(t,e,n,r){void 0===r&&(r=OT),this._file=t,this._getTagDefinition=e,this._tokenizeIcu=n,this._interpolationConfig=r,this._peek=-1,this._nextPeek=-1,this._index=-1,this._line=0,this._column=-1,this._expansionCaseStack=[],this._inInterpolation=!1,this.tokens=[],this.errors=[],this._input=t.content,this._length=t.content.length,this._advance()}return t.prototype._processCarriageReturns=function(t){return t.replace(QD,"\n")},t.prototype.tokenize=function(){for(;this._peek!==iA;){var t=this._getLocation();try{this._attemptCharCode(60)?this._attemptCharCode(33)?this._attemptCharCode(91)?this._consumeCdata(t):this._attemptCharCode(vA)?this._consumeComment(t):this._consumeDocType(t):this._attemptCharCode(mA)?this._consumeTagClose(t):this._consumeTagOpen(t):this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeText()}catch(t){if(!(t instanceof YD))throw t;this.errors.push(t.error)}}return this._beginToken(qD.EOF),this._endToken([]),new GD(function(t){for(var e=[],n=void 0,r=0;r<t.length;r++){var i=t[r];n&&n.type==qD.TEXT&&i.type==qD.TEXT?(n.parts[0]+=i.parts[0],n.sourceSpan.end=i.sourceSpan.end):(n=i,e.push(n))}return e}(this.tokens),this.errors)},t.prototype._tokenizeExpansionForm=function(){if(rI(this._input,this._index,this._interpolationConfig))return this._consumeExpansionFormStart(),!0;if(((t=this._peek)===gA||BA(t)||VA(t))&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;var t;if(125===this._peek){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1},t.prototype._getLocation=function(){return new VD(this._file,this._index,this._line,this._column)},t.prototype._getSpan=function(t,e){return void 0===t&&(t=this._getLocation()),void 0===e&&(e=this._getLocation()),new UD(t,e)},t.prototype._beginToken=function(t,e){void 0===e&&(e=this._getLocation()),this._currentTokenStart=e,this._currentTokenType=t},t.prototype._endToken=function(t,e){void 0===e&&(e=this._getLocation());var n=new zD(this._currentTokenType,t,new UD(this._currentTokenStart,e));return this.tokens.push(n),this._currentTokenStart=null,this._currentTokenType=null,n},t.prototype._createError=function(t,e){this._isInExpansionForm()&&(t+=' (Do you have an unescaped "{" in your template? Use "{{ \'{\' }}") to escape it.)');var n=new KD(t,this._currentTokenType,e);return this._currentTokenStart=null,this._currentTokenType=null,new YD(n)},t.prototype._advance=function(){if(this._index>=this._length)throw this._createError(XD(iA),this._getSpan());this._peek===sA?(this._line++,this._column=0):this._peek!==sA&&this._peek!==cA&&this._column++,this._index++,this._peek=this._index>=this._length?iA:this._input.charCodeAt(this._index),this._nextPeek=this._index+1>=this._length?iA:this._input.charCodeAt(this._index+1)},t.prototype._attemptCharCode=function(t){return this._peek===t&&(this._advance(),!0)},t.prototype._attemptCharCodeCaseInsensitive=function(t){return e=this._peek,n=t,iI(e)==iI(n)&&(this._advance(),!0);var e,n},t.prototype._requireCharCode=function(t){var e=this._getLocation();if(!this._attemptCharCode(t))throw this._createError(XD(this._peek),this._getSpan(e,e))},t.prototype._attemptStr=function(t){var e=t.length;if(this._index+e>this._length)return!1;for(var n=this._savePosition(),r=0;r<e;r++)if(!this._attemptCharCode(t.charCodeAt(r)))return this._restorePosition(n),!1;return!0},t.prototype._attemptStrCaseInsensitive=function(t){for(var e=0;e<t.length;e++)if(!this._attemptCharCodeCaseInsensitive(t.charCodeAt(e)))return!1;return!0},t.prototype._requireStr=function(t){var e=this._getLocation();if(!this._attemptStr(t))throw this._createError(XD(this._peek),this._getSpan(e))},t.prototype._attemptCharCodeUntilFn=function(t){for(;!t(this._peek);)this._advance()},t.prototype._requireCharCodeUntilFn=function(t,e){var n=this._getLocation();if(this._attemptCharCodeUntilFn(t),this._index-n.offset<e)throw this._createError(XD(this._peek),this._getSpan(n,n))},t.prototype._attemptUntilChar=function(t){for(;this._peek!==t;)this._advance()},t.prototype._readChar=function(t){if(t&&38===this._peek)return this._decodeEntity();var e=this._index;return this._advance(),this._input[e]},t.prototype._decodeEntity=function(){var t=this._getLocation();if(this._advance(),!this._attemptCharCode(35)){var e=this._savePosition();if(this._attemptCharCodeUntilFn(nI),this._peek!=yA)return this._restorePosition(e),"&";this._advance();var n=this._input.substring(t.offset+1,this._index-1),r=TS[n];if(!r)throw this._createError($D(n),this._getSpan(t));return r}var i=this._attemptCharCode(120)||this._attemptCharCode(88),o=this._getLocation().offset;if(this._attemptCharCodeUntilFn(eI),this._peek!=yA)throw this._createError(XD(this._peek),this._getSpan());this._advance();var s=this._input.substring(o,this._index-1);try{var a=parseInt(s,i?16:10);return String.fromCharCode(a)}catch(e){var u=this._input.substring(t.offset+1,this._index-1);throw this._createError($D(u),this._getSpan(t))}},t.prototype._consumeRawText=function(t,e,n){var r,i=this._getLocation();this._beginToken(t?qD.ESCAPABLE_RAW_TEXT:qD.RAW_TEXT,i);for(var o=[];r=this._getLocation(),!this._attemptCharCode(e)||!n();)for(this._index>r.offset&&o.push(this._input.substring(r.offset,this._index));this._peek!==e;)o.push(this._readChar(t));return this._endToken([this._processCarriageReturns(o.join(""))],r)},t.prototype._consumeComment=function(t){var e=this;this._beginToken(qD.COMMENT_START,t),this._requireCharCode(vA),this._endToken([]);var n=this._consumeRawText(!1,vA,function(){return e._attemptStr("->")});this._beginToken(qD.COMMENT_END,n.sourceSpan.end),this._endToken([])},t.prototype._consumeCdata=function(t){var e=this;this._beginToken(qD.CDATA_START,t),this._requireStr("CDATA["),this._endToken([]);var n=this._consumeRawText(!1,93,function(){return e._attemptStr("]>")});this._beginToken(qD.CDATA_END,n.sourceSpan.end),this._endToken([])},t.prototype._consumeDocType=function(t){this._beginToken(qD.DOC_TYPE,t),this._attemptUntilChar(bA),this._advance(),this._endToken([this._input.substring(t.offset+2,this._index-1)])},t.prototype._consumePrefixAndName=function(){for(var t,e,n=this._index,r=null;58!==this._peek&&!(((t=this._peek)<AA||MA<t)&&(t<EA||xA<t)&&(t<wA||t>_A));)this._advance();return 58===this._peek?(this._advance(),r=this._input.substring(n,this._index-1),e=this._index):e=n,this._requireCharCodeUntilFn(tI,this._index===e?1:0),[r,this._input.substring(e,this._index)]},t.prototype._consumeTagOpen=function(t){var e,n,r=this._savePosition();try{if(!BA(this._peek))throw this._createError(XD(this._peek),this._getSpan());var i=this._index;for(this._consumeTagOpenStart(t),n=(e=this._input.substring(i,this._index)).toLowerCase(),this._attemptCharCodeUntilFn(ZD);this._peek!==mA&&this._peek!==bA;)this._consumeAttributeName(),this._attemptCharCodeUntilFn(ZD),this._attemptCharCode(gA)&&(this._attemptCharCodeUntilFn(ZD),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(ZD);this._consumeTagOpenEnd()}catch(e){if(e instanceof YD)return this._restorePosition(r),this._beginToken(qD.TEXT,t),void this._endToken(["<"]);throw e}var o=this._getTagDefinition(e).contentType;o===gS.RAW_TEXT?this._consumeRawTextWithTagClose(n,!1):o===gS.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(n,!0)},t.prototype._consumeRawTextWithTagClose=function(t,e){var n=this,r=this._consumeRawText(e,60,function(){return!!n._attemptCharCode(mA)&&(n._attemptCharCodeUntilFn(ZD),!!n._attemptStrCaseInsensitive(t)&&(n._attemptCharCodeUntilFn(ZD),n._attemptCharCode(bA)))});this._beginToken(qD.TAG_CLOSE,r.sourceSpan.end),this._endToken([null,t])},t.prototype._consumeTagOpenStart=function(t){this._beginToken(qD.TAG_OPEN_START,t);var e=this._consumePrefixAndName();this._endToken(e)},t.prototype._consumeAttributeName=function(){this._beginToken(qD.ATTR_NAME);var t=this._consumePrefixAndName();this._endToken(t)},t.prototype._consumeAttributeValue=function(){var t;if(this._beginToken(qD.ATTR_VALUE),this._peek===fA||this._peek===hA){var e=this._peek;this._advance();for(var n=[];this._peek!==e;)n.push(this._readChar(!0));t=n.join(""),this._advance()}else{var r=this._index;this._requireCharCodeUntilFn(tI,1),t=this._input.substring(r,this._index)}this._endToken([this._processCarriageReturns(t)])},t.prototype._consumeTagOpenEnd=function(){var t=this._attemptCharCode(mA)?qD.TAG_OPEN_END_VOID:qD.TAG_OPEN_END;this._beginToken(t),this._requireCharCode(bA),this._endToken([])},t.prototype._consumeTagClose=function(t){this._beginToken(qD.TAG_CLOSE,t),this._attemptCharCodeUntilFn(ZD);var e=this._consumePrefixAndName();this._attemptCharCodeUntilFn(ZD),this._requireCharCode(bA),this._endToken(e)},t.prototype._consumeExpansionFormStart=function(){this._beginToken(qD.EXPANSION_FORM_START,this._getLocation()),this._requireCharCode(RA),this._endToken([]),this._expansionCaseStack.push(qD.EXPANSION_FORM_START),this._beginToken(qD.RAW_TEXT,this._getLocation());var t=this._readUntil(44);this._endToken([t],this._getLocation()),this._requireCharCode(44),this._attemptCharCodeUntilFn(ZD),this._beginToken(qD.RAW_TEXT,this._getLocation());var e=this._readUntil(44);this._endToken([e],this._getLocation()),this._requireCharCode(44),this._attemptCharCodeUntilFn(ZD)},t.prototype._consumeExpansionCaseStart=function(){this._beginToken(qD.EXPANSION_CASE_VALUE,this._getLocation());var t=this._readUntil(RA).trim();this._endToken([t],this._getLocation()),this._attemptCharCodeUntilFn(ZD),this._beginToken(qD.EXPANSION_CASE_EXP_START,this._getLocation()),this._requireCharCode(RA),this._endToken([],this._getLocation()),this._attemptCharCodeUntilFn(ZD),this._expansionCaseStack.push(qD.EXPANSION_CASE_EXP_START)},t.prototype._consumeExpansionCaseEnd=function(){this._beginToken(qD.EXPANSION_CASE_EXP_END,this._getLocation()),this._requireCharCode(125),this._endToken([],this._getLocation()),this._attemptCharCodeUntilFn(ZD),this._expansionCaseStack.pop()},t.prototype._consumeExpansionFormEnd=function(){this._beginToken(qD.EXPANSION_FORM_END,this._getLocation()),this._requireCharCode(125),this._endToken([]),this._expansionCaseStack.pop()},t.prototype._consumeText=function(){var t=this._getLocation();this._beginToken(qD.TEXT,t);var e=[];do{this._interpolationConfig&&this._attemptStr(this._interpolationConfig.start)?(e.push(this._interpolationConfig.start),this._inInterpolation=!0):this._interpolationConfig&&this._inInterpolation&&this._attemptStr(this._interpolationConfig.end)?(e.push(this._interpolationConfig.end),this._inInterpolation=!1):e.push(this._readChar(!0))}while(!this._isTextEnd());this._endToken([this._processCarriageReturns(e.join(""))])},t.prototype._isTextEnd=function(){if(60===this._peek||this._peek===iA)return!0;if(this._tokenizeIcu&&!this._inInterpolation){if(rI(this._input,this._index,this._interpolationConfig))return!0;if(125===this._peek&&this._isInExpansionCase())return!0}return!1},t.prototype._savePosition=function(){return[this._peek,this._index,this._column,this._line,this.tokens.length]},t.prototype._readUntil=function(t){var e=this._index;return this._attemptUntilChar(t),this._input.substring(e,this._index)},t.prototype._restorePosition=function(t){this._peek=t[0],this._index=t[1],this._column=t[2],this._line=t[3];var e=t[4];e<this.tokens.length&&(this.tokens=this.tokens.slice(0,e))},t.prototype._isInExpansionCase=function(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===qD.EXPANSION_CASE_EXP_START},t.prototype._isInExpansionForm=function(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===qD.EXPANSION_FORM_START},t}();function ZD(t){return!jA(t)||t===iA}function tI(t){return jA(t)||t===bA||t===mA||t===fA||t===hA||t===gA}function eI(t){return t==yA||t==iA||!function(t){return t>=AA&&t<=IA||t>=EA&&t<=SA||VA(t)}(t)}function nI(t){return t==yA||t==iA||!BA(t)}function rI(t,e,n){var r=!!n&&t.indexOf(n.start,e)==e;return t.charCodeAt(e)==RA&&!r}function iI(t){return t>=AA&&t<=MA?t-AA+EA:t}var oI=function(t){function e(e,n,r){var i=t.call(this,n,r)||this;return i.elementName=e,i}return i(e,t),e.create=function(t,n,r){return new e(t,n,r)},e}(HD),sI=function(){return function(t,e){this.rootNodes=t,this.errors=e}}(),aI=function(){function t(t){this.getTagDefinition=t}return t.prototype.parse=function(t,e,n,r){void 0===n&&(n=!1),void 0===r&&(r=OT);var i=function(t,e,n,r,i){return void 0===r&&(r=!1),void 0===i&&(i=OT),new JD(new BD(t,e),n,r,i).tokenize()}(t,e,this.getTagDefinition,n,r),o=new uI(i.tokens,this.getTagDefinition).build();return new sI(o.rootNodes,i.errors.concat(o.errors))},t}(),uI=function(){function t(t,e){this.tokens=t,this.getTagDefinition=e,this._index=-1,this._rootNodes=[],this._errors=[],this._elementStack=[],this._advance()}return t.prototype.build=function(){for(;this._peek.type!==qD.EOF;)this._peek.type===qD.TAG_OPEN_START?this._consumeStartTag(this._advance()):this._peek.type===qD.TAG_CLOSE?this._consumeEndTag(this._advance()):this._peek.type===qD.CDATA_START?(this._closeVoidElement(),this._consumeCdata(this._advance())):this._peek.type===qD.COMMENT_START?(this._closeVoidElement(),this._consumeComment(this._advance())):this._peek.type===qD.TEXT||this._peek.type===qD.RAW_TEXT||this._peek.type===qD.ESCAPABLE_RAW_TEXT?(this._closeVoidElement(),this._consumeText(this._advance())):this._peek.type===qD.EXPANSION_FORM_START?this._consumeExpansion(this._advance()):this._advance();return new sI(this._rootNodes,this._errors)},t.prototype._advance=function(){var t=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],t},t.prototype._advanceIf=function(t){return this._peek.type===t?this._advance():null},t.prototype._consumeCdata=function(t){this._consumeText(this._advance()),this._advanceIf(qD.CDATA_END)},t.prototype._consumeComment=function(t){var e=this._advanceIf(qD.RAW_TEXT);this._advanceIf(qD.COMMENT_END);var n=null!=e?e.parts[0].trim():null;this._addToParent(new AT(n,t.sourceSpan))},t.prototype._consumeExpansion=function(t){for(var e=this._advance(),n=this._advance(),r=[];this._peek.type===qD.EXPANSION_CASE_VALUE;){var i=this._parseExpansionCase();if(!i)return;r.push(i)}if(this._peek.type===qD.EXPANSION_FORM_END){var o=new UD(t.sourceSpan.start,this._peek.sourceSpan.end);this._addToParent(new CT(e.parts[0],n.parts[0],r,o,e.sourceSpan)),this._advance()}else this._errors.push(oI.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'."))},t.prototype._parseExpansionCase=function(){var e=this._advance();if(this._peek.type!==qD.EXPANSION_CASE_EXP_START)return this._errors.push(oI.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;var n=this._advance(),r=this._collectExpansionExpTokens(n);if(!r)return null;var i=this._advance();r.push(new zD(qD.EOF,[],i.sourceSpan));var o=new t(r,this.getTagDefinition).build();if(o.errors.length>0)return this._errors=this._errors.concat(o.errors),null;var s=new UD(e.sourceSpan.start,i.sourceSpan.end),a=new UD(n.sourceSpan.start,i.sourceSpan.end);return new ST(e.parts[0],o.rootNodes,s,e.sourceSpan,a)},t.prototype._collectExpansionExpTokens=function(t){for(var e=[],n=[qD.EXPANSION_CASE_EXP_START];;){if(this._peek.type!==qD.EXPANSION_FORM_START&&this._peek.type!==qD.EXPANSION_CASE_EXP_START||n.push(this._peek.type),this._peek.type===qD.EXPANSION_CASE_EXP_END){if(!cI(n,qD.EXPANSION_CASE_EXP_START))return this._errors.push(oI.create(null,t.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(n.pop(),0==n.length)return e}if(this._peek.type===qD.EXPANSION_FORM_END){if(!cI(n,qD.EXPANSION_FORM_START))return this._errors.push(oI.create(null,t.sourceSpan,"Invalid ICU message. Missing '}'.")),null;n.pop()}if(this._peek.type===qD.EOF)return this._errors.push(oI.create(null,t.sourceSpan,"Invalid ICU message. Missing '}'.")),null;e.push(this._advance())}},t.prototype._consumeText=function(t){var e=t.parts[0];if(e.length>0&&"\n"==e[0]){var n=this._getParentElement();null!=n&&0==n.children.length&&this.getTagDefinition(n.name).ignoreFirstLf&&(e=e.substring(1))}e.length>0&&this._addToParent(new ET(e,t.sourceSpan))},t.prototype._closeVoidElement=function(){var t=this._getParentElement();t&&this.getTagDefinition(t.name).isVoid&&this._elementStack.pop()},t.prototype._consumeStartTag=function(t){for(var e=t.parts[0],n=t.parts[1],r=[];this._peek.type===qD.ATTR_NAME;)r.push(this._consumeAttr(this._advance()));var i=this._getElementFullName(e,n,this._getParentElement()),o=!1;if(this._peek.type===qD.TAG_OPEN_END_VOID){this._advance(),o=!0;var s=this.getTagDefinition(i);s.canSelfClose||null!==SS(i)||s.isVoid||this._errors.push(oI.create(i,t.sourceSpan,'Only void and foreign elements can be self closed "'+t.parts[1]+'"'))}else this._peek.type===qD.TAG_OPEN_END&&(this._advance(),o=!1);var a=this._peek.sourceSpan.start,u=new UD(t.sourceSpan.start,a),c=new TT(i,r,[],u,u,void 0);this._pushElement(c),o&&(this._popElement(i),c.endSourceSpan=u)},t.prototype._pushElement=function(t){var e=this._getParentElement();e&&this.getTagDefinition(e.name).isClosedByChild(t.name)&&this._elementStack.pop();var n=this.getTagDefinition(t.name),r=this._getParentElementSkippingContainers(),i=r.parent,o=r.container;if(i&&n.requireExtraParent(i.name)){var s=new TT(n.parentToAdd,[],[],t.sourceSpan,t.startSourceSpan,t.endSourceSpan);this._insertBeforeContainer(i,o,s)}this._addToParent(t),this._elementStack.push(t)},t.prototype._consumeEndTag=function(t){var e=this._getElementFullName(t.parts[0],t.parts[1],this._getParentElement());if(this._getParentElement()&&(this._getParentElement().endSourceSpan=t.sourceSpan),this.getTagDefinition(e).isVoid)this._errors.push(oI.create(e,t.sourceSpan,'Void elements do not have end tags "'+t.parts[1]+'"'));else if(!this._popElement(e)){var n='Unexpected closing tag "'+e+'". It may happen when the tag has already been closed by another tag. For more info see https://www.w3.org/TR/html5/syntax.html#closing-elements-that-have-implied-end-tags';this._errors.push(oI.create(e,t.sourceSpan,n))}},t.prototype._popElement=function(t){for(var e=this._elementStack.length-1;e>=0;e--){var n=this._elementStack[e];if(n.name==t)return this._elementStack.splice(e,this._elementStack.length-e),!0;if(!this.getTagDefinition(n.name).closedByParent)return!1}return!1},t.prototype._consumeAttr=function(t){var e=xS(t.parts[0],t.parts[1]),n=t.sourceSpan.end,r="",i=void 0;if(this._peek.type===qD.ATTR_VALUE){var o=this._advance();r=o.parts[0],n=o.sourceSpan.end,i=o.sourceSpan}return new xT(e,r,new UD(t.sourceSpan.start,n),i)},t.prototype._getParentElement=function(){return this._elementStack.length>0?this._elementStack[this._elementStack.length-1]:null},t.prototype._getParentElementSkippingContainers=function(){for(var t=null,e=this._elementStack.length-1;e>=0;e--){if(!_S(this._elementStack[e].name))return{parent:this._elementStack[e],container:t};t=this._elementStack[e]}return{parent:null,container:t}},t.prototype._addToParent=function(t){var e=this._getParentElement();null!=e?e.children.push(t):this._rootNodes.push(t)},t.prototype._insertBeforeContainer=function(t,e,n){if(e){if(t){var r=t.children.indexOf(e);t.children[r]=n}else this._rootNodes.push(n);n.children.push(e),this._elementStack.splice(this._elementStack.indexOf(e),0,n)}else this._addToParent(n),this._elementStack.push(n)},t.prototype._getElementFullName=function(t,e,n){return null==t&&null==(t=this.getTagDefinition(e).implicitNamespacePrefix)&&null!=n&&(t=SS(n.name)),xS(t,e)},t}();function cI(t,e){return t.length>0&&t[t.length-1]===e}function lI(t){return t.id||function(t){var e,n,r=Ix(t),i=function(t,e){for(var n=Array(t.length+3>>>2),r=0;r<n.length;r++)n[r]=xI(t,4*r,e);return n}(r,dI.Big),o=8*r.length,s=new Array(80),a=l([1732584193,4023233417,2562383102,271733878,3285377520],5),u=a[0],c=a[1],h=a[2],p=a[3],f=a[4];i[o>>5]|=128<<24-o%32,i[15+(o+64>>9<<4)]=o;for(var d=0;d<i.length;d+=16){for(var v=l([u,c,h,p,f],5),m=v[0],y=v[1],g=v[2],b=v[3],w=v[4],_=0;_<80;_++){s[_]=_<16?i[d+_]:CI(s[_-3]^s[_-8]^s[_-14]^s[_-16],1);var E=l(mI(_,c,h,p),2),C=E[0],S=E[1],x=[CI(u,5),C,f,S,s[_]].reduce(wI);e=l([p,h,CI(c,30),u,x],5),f=e[0],p=e[1],h=e[2],c=e[3],u=e[4]}n=l([wI(u,m),wI(c,y),wI(h,g),wI(p,b),wI(f,w)],5),u=n[0],c=n[1],h=n[2],p=n[3],f=n[4]}return function(t){for(var e="",n=0;n<t.length;n++){var r=SI(t,n);e+=(r>>>4).toString(16)+(15&r).toString(16)}return e.toLowerCase()}(TI([u,c,h,p,f]))}((e=t.nodes,e.map(function(t){return t.visit(fI,null)})).join("")+"["+t.meaning+"]");var e}function hI(t){if(t.id)return t.id;var e=new vI;return function(t,e){var n,r=l(yI(t),2),i=r[0],o=r[1];if(e){var s=l(yI(e),2),a=s[0],u=s[1];n=l(function(t,e){var n=l(t,2),r=n[0],i=n[1],o=l(e,2),s=o[0],a=o[1],u=l(_I(i,a),2),c=u[0],h=u[1];return[wI(wI(r,s),c),h]}(function(t,e){var n=l(t,2),r=n[0],i=n[1];return[r<<e|i>>>32-e,i<<e|r>>>32-e]}([i,o],1),[a,u]),2),i=n[0],o=n[1]}return function(t){for(var e="",n="1",r=t.length-1;r>=0;r--)e=AI(e,DI(SI(t,r),n)),n=DI(256,n);return e.split("").reverse().join("")}(TI([2147483647&i,o]))}(t.nodes.map(function(t){return t.visit(e,null)}).join(""),t.meaning)}var pI=function(){function t(){}return t.prototype.visitText=function(t,e){return t.value},t.prototype.visitContainer=function(t,e){var n=this;return"["+t.children.map(function(t){return t.visit(n)}).join(", ")+"]"},t.prototype.visitIcu=function(t,e){var n=this,r=Object.keys(t.cases).map(function(e){return e+" {"+t.cases[e].visit(n)+"}"});return"{"+t.expression+", "+t.type+", "+r.join(", ")+"}"},t.prototype.visitTagPlaceholder=function(t,e){var n=this;return t.isVoid?'<ph tag name="'+t.startName+'"/>':'<ph tag name="'+t.startName+'">'+t.children.map(function(t){return t.visit(n)}).join(", ")+'</ph name="'+t.closeName+'">'},t.prototype.visitPlaceholder=function(t,e){return t.value?'<ph name="'+t.name+'">'+t.value+"</ph>":'<ph name="'+t.name+'"/>'},t.prototype.visitIcuPlaceholder=function(t,e){return'<ph icu name="'+t.name+'">'+t.value.visit(this)+"</ph>"},t}(),fI=new pI;var dI,vI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.visitIcu=function(t,e){var n=this,r=Object.keys(t.cases).map(function(e){return e+" {"+t.cases[e].visit(n)+"}"});return"{"+t.type+", "+r.join(", ")+"}"},e}(pI);function mI(t,e,n,r){return t<20?[e&n|~e&r,1518500249]:t<40?[e^n^r,1859775393]:t<60?[e&n|e&r|n&r,2400959708]:[e^n^r,3395469782]}function yI(t){var e=Ix(t),n=l([gI(e,0),gI(e,102072)],2),r=n[0],i=n[1];return 0!=r||0!=i&&1!=i||(r^=319790063,i^=-1801410264),[r,i]}function gI(t,e){var n,r,i=l([2654435769,2654435769],2),o=i[0],s=i[1],a=t.length;for(r=0;r+12<=a;r+=12)o=(n=l(bI([o=wI(o,xI(t,r,dI.Little)),s=wI(s,xI(t,r+4,dI.Little)),e=wI(e,xI(t,r+8,dI.Little))]),3))[0],s=n[1],e=n[2];return bI([o=wI(o,xI(t,r,dI.Little)),s=wI(s,xI(t,r+4,dI.Little)),e=wI(e=wI(e,a),xI(t,r+8,dI.Little)<<8)])[2]}function bI(t){var e=l(t,3),n=e[0],r=e[1],i=e[2];return n=EI(n=EI(n,r),i),n^=i>>>13,r=EI(r=EI(r,i),n),r^=n<<8,i=EI(i=EI(i,n),r),i^=r>>>13,n=EI(n=EI(n,r),i),n^=i>>>12,r=EI(r=EI(r,i),n),r^=n<<16,i=EI(i=EI(i,n),r),i^=r>>>5,n=EI(n=EI(n,r),i),n^=i>>>3,r=EI(r=EI(r,i),n),r^=n<<10,i=EI(i=EI(i,n),r),[n,r,i^=r>>>15]}function wI(t,e){return _I(t,e)[1]}function _I(t,e){var n=(65535&t)+(65535&e),r=(t>>>16)+(e>>>16)+(n>>>16);return[r>>>16,r<<16|65535&n]}function EI(t,e){var n=(65535&t)-(65535&e);return(t>>16)-(e>>16)+(n>>16)<<16|65535&n}function CI(t,e){return t<<e|t>>>32-e}function SI(t,e){return e>=t.length?0:255&t.charCodeAt(e)}function xI(t,e,n){var r=0;if(n===dI.Big)for(var i=0;i<4;i++)r+=SI(t,e+i)<<24-8*i;else for(i=0;i<4;i++)r+=SI(t,e+i)<<8*i;return r}function TI(t){return t.reduce(function(t,e){return t+function(t){for(var e="",n=0;n<4;n++)e+=String.fromCharCode(t>>>8*(3-n)&255);return e}(e)},"")}function AI(t,e){for(var n="",r=Math.max(t.length,e.length),i=0,o=0;i<r||o;i++){var s=o+ +(t[i]||0)+ +(e[i]||0);s>=10?(o=1,n+=s-10):(o=0,n+=s)}return n}function DI(t,e){for(var n="",r=e;0!==t;t>>>=1)1&t&&(n=AI(n,r)),r=AI(r,r);return n}!function(t){t[t.Little=0]="Little",t[t.Big=1]="Big"}(dI||(dI={}));var II=function(){return function(t,e,n,r,i,o){this.nodes=t,this.placeholders=e,this.placeholderToMessage=n,this.meaning=r,this.description=i,this.id=o,t.length?this.sources=[{filePath:t[0].sourceSpan.start.file.url,startLine:t[0].sourceSpan.start.line+1,startCol:t[0].sourceSpan.start.col+1,endLine:t[t.length-1].sourceSpan.end.line+1,endCol:t[0].sourceSpan.start.col+1}]:this.sources=[]}}(),NI=function(){function t(t,e){this.value=t,this.sourceSpan=e}return t.prototype.visit=function(t,e){return t.visitText(this,e)},t}(),kI=function(){function t(t,e){this.children=t,this.sourceSpan=e}return t.prototype.visit=function(t,e){return t.visitContainer(this,e)},t}(),PI=function(){function t(t,e,n,r){this.expression=t,this.type=e,this.cases=n,this.sourceSpan=r}return t.prototype.visit=function(t,e){return t.visitIcu(this,e)},t}(),OI=function(){function t(t,e,n,r,i,o,s){this.tag=t,this.attrs=e,this.startName=n,this.closeName=r,this.children=i,this.isVoid=o,this.sourceSpan=s}return t.prototype.visit=function(t,e){return t.visitTagPlaceholder(this,e)},t}(),MI=function(){function t(t,e,n){this.value=t,this.name=e,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitPlaceholder(this,e)},t}(),RI=function(){function t(t,e,n){this.value=t,this.name=e,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitIcuPlaceholder(this,e)},t}(),FI=function(){function t(){}return t.prototype.visitText=function(t,e){return new NI(t.value,t.sourceSpan)},t.prototype.visitContainer=function(t,e){var n=this,r=t.children.map(function(t){return t.visit(n,e)});return new kI(r,t.sourceSpan)},t.prototype.visitIcu=function(t,e){var n=this,r={};Object.keys(t.cases).forEach(function(i){return r[i]=t.cases[i].visit(n,e)});var i=new PI(t.expression,t.type,r,t.sourceSpan);return i.expressionPlaceholder=t.expressionPlaceholder,i},t.prototype.visitTagPlaceholder=function(t,e){var n=this,r=t.children.map(function(t){return t.visit(n,e)});return new OI(t.tag,t.attrs,t.startName,t.closeName,r,t.isVoid,t.sourceSpan)},t.prototype.visitPlaceholder=function(t,e){return new MI(t.value,t.name,t.sourceSpan)},t.prototype.visitIcuPlaceholder=function(t,e){return new RI(t.value,t.name,t.sourceSpan)},t}(),LI=function(){function t(){}return t.prototype.visitText=function(t,e){},t.prototype.visitContainer=function(t,e){var n=this;t.children.forEach(function(t){return t.visit(n)})},t.prototype.visitIcu=function(t,e){var n=this;Object.keys(t.cases).forEach(function(e){t.cases[e].visit(n)})},t.prototype.visitTagPlaceholder=function(t,e){var n=this;t.children.forEach(function(t){return t.visit(n)})},t.prototype.visitPlaceholder=function(t,e){},t.prototype.visitIcuPlaceholder=function(t,e){},t}(),jI={A:"LINK",B:"BOLD_TEXT",BR:"LINE_BREAK",EM:"EMPHASISED_TEXT",H1:"HEADING_LEVEL1",H2:"HEADING_LEVEL2",H3:"HEADING_LEVEL3",H4:"HEADING_LEVEL4",H5:"HEADING_LEVEL5",H6:"HEADING_LEVEL6",HR:"HORIZONTAL_RULE",I:"ITALIC_TEXT",LI:"LIST_ITEM",LINK:"MEDIA_LINK",OL:"ORDERED_LIST",P:"PARAGRAPH",Q:"QUOTATION",S:"STRIKETHROUGH_TEXT",SMALL:"SMALL_TEXT",SUB:"SUBSTRIPT",SUP:"SUPERSCRIPT",TBODY:"TABLE_BODY",TD:"TABLE_CELL",TFOOT:"TABLE_FOOTER",TH:"TABLE_HEADER_CELL",THEAD:"TABLE_HEADER",TR:"TABLE_ROW",TT:"MONOSPACED_TEXT",U:"UNDERLINED_TEXT",UL:"UNORDERED_LIST"},VI=function(){function t(){this._placeHolderNameCounts={},this._signatureToName={}}return t.prototype.getStartTagPlaceholderName=function(t,e,n){var r=this._hashTag(t,e,n);if(this._signatureToName[r])return this._signatureToName[r];var i=t.toUpperCase(),o=jI[i]||"TAG_"+i,s=this._generateUniqueName(n?o:"START_"+o);return this._signatureToName[r]=s,s},t.prototype.getCloseTagPlaceholderName=function(t){var e=this._hashClosingTag(t);if(this._signatureToName[e])return this._signatureToName[e];var n=t.toUpperCase(),r=jI[n]||"TAG_"+n,i=this._generateUniqueName("CLOSE_"+r);return this._signatureToName[e]=i,i},t.prototype.getPlaceholderName=function(t,e){var n=t.toUpperCase(),r="PH: "+n+"="+e;if(this._signatureToName[r])return this._signatureToName[r];var i=this._generateUniqueName(n);return this._signatureToName[r]=i,i},t.prototype.getUniquePlaceholder=function(t){return this._generateUniqueName(t.toUpperCase())},t.prototype._hashTag=function(t,e,n){return"<"+t+Object.keys(e).sort().map(function(t){return" "+t+"="+e[t]}).join("")+(n?"/>":"></"+t+">")},t.prototype._hashClosingTag=function(t){return this._hashTag("/"+t,{},!1)},t.prototype._generateUniqueName=function(t){if(!this._placeHolderNameCounts.hasOwnProperty(t))return this._placeHolderNameCounts[t]=1,t;var e=this._placeHolderNameCounts[t];return this._placeHolderNameCounts[t]=e+1,t+"_"+e},t}(),BI=new FD(new qA);var UI=function(){function t(t,e){this._expressionParser=t,this._interpolationConfig=e}return t.prototype.toI18nMessage=function(t,e,n,r){this._isIcu=1==t.length&&t[0]instanceof CT,this._icuDepth=0,this._placeholderRegistry=new VI,this._placeholderToContent={},this._placeholderToMessage={};var i=DT(this,t,{});return new II(i,this._placeholderToContent,this._placeholderToMessage,e,n,r)},t.prototype.visitElement=function(t,e){var n=DT(this,t.children),r={};t.attrs.forEach(function(t){r[t.name]=t.value});var i=kS(t.name).isVoid,o=this._placeholderRegistry.getStartTagPlaceholderName(t.name,r,i);this._placeholderToContent[o]=t.sourceSpan.toString();var s="";return i||(s=this._placeholderRegistry.getCloseTagPlaceholderName(t.name),this._placeholderToContent[s]="</"+t.name+">"),new OI(t.name,r,o,s,n,i,t.sourceSpan)},t.prototype.visitAttribute=function(t,e){return this._visitTextWithInterpolation(t.value,t.sourceSpan)},t.prototype.visitText=function(t,e){return this._visitTextWithInterpolation(t.value,t.sourceSpan)},t.prototype.visitComment=function(t,e){return null},t.prototype.visitExpansion=function(e,n){var r=this;this._icuDepth++;var i={},o=new PI(e.switchValue,e.type,i,e.sourceSpan);if(e.cases.forEach(function(t){i[t.value]=new kI(t.expression.map(function(t){return t.visit(r,{})}),t.expSourceSpan)}),this._icuDepth--,this._isIcu||this._icuDepth>0){var s=this._placeholderRegistry.getUniquePlaceholder("VAR_"+e.type);return o.expressionPlaceholder=s,this._placeholderToContent[s]=e.switchValue,o}var a=this._placeholderRegistry.getPlaceholderName("ICU",e.sourceSpan.toString()),u=new t(this._expressionParser,this._interpolationConfig);return this._placeholderToMessage[a]=u.toI18nMessage([e],"","",""),new RI(o,a,e.sourceSpan)},t.prototype.visitExpansionCase=function(t,e){throw new Error("Unreachable code")},t.prototype._visitTextWithInterpolation=function(t,e){var n=this._expressionParser.splitInterpolation(t,e.start.toString(),this._interpolationConfig);if(!n)return new NI(t,e);for(var r=[],i=new kI(r,e),o=this._interpolationConfig,s=o.start,a=o.end,u=0;u<n.strings.length-1;u++){var c=n.expressions[u],l=c.split(qI)[2]||"INTERPOLATION",h=this._placeholderRegistry.getPlaceholderName(l,c);n.strings[u].length&&r.push(new NI(n.strings[u],e)),r.push(new MI(c,h,e)),this._placeholderToContent[h]=s+c+a}var p=n.strings.length-1;return n.strings[p].length&&r.push(new NI(n.strings[p],e)),i},t}(),qI=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*("|')([\s\S]*?)\1[\s\S]*\)/g;var HI=function(t){function e(e,n){return t.call(this,e,n)||this}return i(e,t),e}(HD),WI="i18n",zI=/^i18n:?/,KI="|",GI="@@",QI=!1;var XI,$I=function(){return function(t,e){this.messages=t,this.errors=e}}();!function(t){t[t.Extract=0]="Extract",t[t.Merge=1]="Merge"}(XI||(XI={}));var YI=function(){function t(t,e){this._implicitTags=t,this._implicitAttrs=e}return t.prototype.extract=function(t,e){var n=this;return this._init(XI.Extract,e),t.forEach(function(t){return t.visit(n,null)}),this._inI18nBlock&&this._reportError(t[t.length-1],"Unclosed block"),new $I(this._messages,this._errors)},t.prototype.merge=function(t,e,n){this._init(XI.Merge,n),this._translations=e;var r=new TT("wrapper",[],t,void 0,void 0,void 0).visit(this,null);return this._inI18nBlock&&this._reportError(t[t.length-1],"Unclosed block"),new sI(r.children,this._errors)},t.prototype.visitExpansionCase=function(t,e){var n=DT(this,t.expression,e);if(this._mode===XI.Merge)return new ST(t.value,n,t.sourceSpan,t.valueSourceSpan,t.expSourceSpan)},t.prototype.visitExpansion=function(t,e){this._mayBeAddBlockChildren(t);var n=this._inIcu;this._inIcu||(this._isInTranslatableSection&&this._addMessage([t]),this._inIcu=!0);var r=DT(this,t.cases,e);return this._mode===XI.Merge&&(t=new CT(t.switchValue,t.type,r,t.sourceSpan,t.switchValueSourceSpan)),this._inIcu=n,t},t.prototype.visitComment=function(t,e){var n,r=!!((n=t)instanceof AT&&n.value&&n.value.startsWith("i18n"));if(r&&this._isInTranslatableSection)this._reportError(t,"Could not start a block inside a translatable section");else{var i=function(t){return!!(t instanceof AT&&t.value&&"/i18n"===t.value)}(t);if(!i||this._inI18nBlock){if(!this._inI18nNode&&!this._inIcu)if(this._inI18nBlock){if(i){if(this._depth==this._blockStartDepth){this._closeTranslatableSection(t,this._blockChildren),this._inI18nBlock=!1;var o=this._addMessage(this._blockChildren,this._blockMeaningAndDesc);return DT(this,this._translateMessage(t,o))}return void this._reportError(t,"I18N blocks should not cross element boundaries")}}else if(r){if(!QI&&console&&console.warn){QI=!0;var s=t.sourceSpan.details?", "+t.sourceSpan.details:"";console.warn("I18n comments are deprecated, use an <ng-container> element instead ("+t.sourceSpan.start+s+")")}this._inI18nBlock=!0,this._blockStartDepth=this._depth,this._blockChildren=[],this._blockMeaningAndDesc=t.value.replace(zI,"").trim(),this._openTranslatableSection(t)}}else this._reportError(t,"Trying to close an unopened block")}},t.prototype.visitText=function(t,e){return this._isInTranslatableSection&&this._mayBeAddBlockChildren(t),t},t.prototype.visitElement=function(t,e){var n=this;this._mayBeAddBlockChildren(t),this._depth++;var r=this._inI18nNode,i=this._inImplicitNode,o=[],s=void 0,a=t.attrs.find(function(t){return t.name===WI})||null,u=a?a.value:"",c=this._implicitTags.some(function(e){return t.name===e})&&!this._inIcu&&!this._isInTranslatableSection,l=!i&&c;if(this._inImplicitNode=i||c,this._isInTranslatableSection||this._inIcu)(a||l)&&this._reportError(t,"Could not mark an element as translatable inside a translatable section"),this._mode==XI.Extract&&DT(this,t.children);else{if(a||l){this._inI18nNode=!0;var h=this._addMessage(t.children,u);s=this._translateMessage(t,h)}if(this._mode==XI.Extract){var p=a||l;p&&this._openTranslatableSection(t),DT(this,t.children),p&&this._closeTranslatableSection(t,t.children)}}this._mode===XI.Merge&&(s||t.children).forEach(function(t){var r=t.visit(n,e);r&&!n._isInTranslatableSection&&(o=o.concat(r))});if(this._visitAttributesOf(t),this._depth--,this._inI18nNode=r,this._inImplicitNode=i,this._mode===XI.Merge){var f=this._translateAttributes(t);return new TT(t.name,f,o,t.sourceSpan,t.startSourceSpan,t.endSourceSpan)}return null},t.prototype.visitAttribute=function(t,e){throw new Error("unreachable code")},t.prototype._init=function(t,e){this._mode=t,this._inI18nBlock=!1,this._inI18nNode=!1,this._depth=0,this._inIcu=!1,this._msgCountAtSectionStart=void 0,this._errors=[],this._messages=[],this._inImplicitNode=!1,this._createI18nMessage=function(t){var e=new UI(BI,t);return function(t,n,r,i){return e.toI18nMessage(t,n,r,i)}}(e)},t.prototype._visitAttributesOf=function(t){var e=this,n={},r=this._implicitAttrs[t.name]||[];t.attrs.filter(function(t){return t.name.startsWith("i18n-")}).forEach(function(t){return n[t.name.slice("i18n-".length)]=t.value}),t.attrs.forEach(function(t){t.name in n?e._addMessage([t],n[t.name]):r.some(function(e){return t.name===e})&&e._addMessage([t])})},t.prototype._addMessage=function(t,e){if(0==t.length||1==t.length&&t[0]instanceof xT&&!t[0].value)return null;var n=JI(e),r=n.meaning,i=n.description,o=n.id,s=this._createI18nMessage(t,r,i,o);return this._messages.push(s),s},t.prototype._translateMessage=function(t,e){if(e&&this._mode===XI.Merge){var n=this._translations.get(e);if(n)return n;this._reportError(t,'Translation unavailable for message id="'+this._translations.digest(e)+'"')}return[]},t.prototype._translateAttributes=function(t){var e=this,n=t.attrs,r={};n.forEach(function(t){t.name.startsWith("i18n-")&&(r[t.name.slice("i18n-".length)]=JI(t.value))});var i=[];return n.forEach(function(n){if(n.name!==WI&&!n.name.startsWith("i18n-"))if(n.value&&""!=n.value&&r.hasOwnProperty(n.name)){var o=r[n.name],s=o.meaning,a=o.description,u=o.id,c=e._createI18nMessage([n],s,a,u),l=e._translations.get(c);if(l)if(0==l.length)i.push(new xT(n.name,"",n.sourceSpan));else if(l[0]instanceof ET){var h=l[0].value;i.push(new xT(n.name,h,n.sourceSpan))}else e._reportError(t,'Unexpected translation for attribute "'+n.name+'" (id="'+(u||e._translations.digest(c))+'")');else e._reportError(t,'Translation unavailable for attribute "'+n.name+'" (id="'+(u||e._translations.digest(c))+'")')}else i.push(n)}),i},t.prototype._mayBeAddBlockChildren=function(t){this._inI18nBlock&&!this._inIcu&&this._depth==this._blockStartDepth&&this._blockChildren.push(t)},t.prototype._openTranslatableSection=function(t){this._isInTranslatableSection?this._reportError(t,"Unexpected section start"):this._msgCountAtSectionStart=this._messages.length},Object.defineProperty(t.prototype,"_isInTranslatableSection",{get:function(){return void 0!==this._msgCountAtSectionStart},enumerable:!0,configurable:!0}),t.prototype._closeTranslatableSection=function(t,e){if(this._isInTranslatableSection){var n=this._msgCountAtSectionStart;if(1==e.reduce(function(t,e){return t+(e instanceof AT?0:1)},0))for(var r=this._messages.length-1;r>=n;r--){var i=this._messages[r].nodes;if(!(1==i.length&&i[0]instanceof NI)){this._messages.splice(r,1);break}}this._msgCountAtSectionStart=void 0}else this._reportError(t,"Unexpected section end")},t.prototype._reportError=function(t,e){this._errors.push(new HI(t.sourceSpan,e))},t}();function JI(t){if(!t)return{meaning:"",description:"",id:""};var e=t.indexOf(GI),n=t.indexOf(KI),r=l(e>-1?[t.slice(0,e),t.slice(e+2)]:[t,""],2),i=r[0],o=r[1],s=l(n>-1?[i.slice(0,n),i.slice(n+1)]:["",i],2);return{meaning:s[0],description:s[1],id:o}}var ZI=new(function(){function t(){this.closedByParent=!1,this.contentType=gS.PARSABLE_DATA,this.isVoid=!1,this.ignoreFirstLf=!1,this.canSelfClose=!0}return t.prototype.requireExtraParent=function(t){return!1},t.prototype.isClosedByChild=function(t){return!1},t}());function tN(t){return ZI}var eN=function(t){function e(){return t.call(this,tN)||this}return i(e,t),e.prototype.parse=function(e,n,r){return void 0===r&&(r=!1),t.prototype.parse.call(this,e,n,r)},e}(aI),nN=function(){function t(){}return t.prototype.createNameMapper=function(t){return null},t}(),rN=function(t){function e(e,n){var r=t.call(this)||this;return r.mapName=n,r.internalToPublic={},r.publicToNextId={},r.publicToInternal={},e.nodes.forEach(function(t){return t.visit(r)}),r}return i(e,t),e.prototype.toPublicName=function(t){return this.internalToPublic.hasOwnProperty(t)?this.internalToPublic[t]:null},e.prototype.toInternalName=function(t){return this.publicToInternal.hasOwnProperty(t)?this.publicToInternal[t]:null},e.prototype.visitText=function(t,e){return null},e.prototype.visitTagPlaceholder=function(e,n){this.visitPlaceholderName(e.startName),t.prototype.visitTagPlaceholder.call(this,e,n),this.visitPlaceholderName(e.closeName)},e.prototype.visitPlaceholder=function(t,e){this.visitPlaceholderName(t.name)},e.prototype.visitIcuPlaceholder=function(t,e){this.visitPlaceholderName(t.name)},e.prototype.visitPlaceholderName=function(t){if(t&&!this.internalToPublic.hasOwnProperty(t)){var e=this.mapName(t);if(this.publicToInternal.hasOwnProperty(e)){var n=this.publicToNextId[e];this.publicToNextId[e]=n+1,e=e+"_"+n}else this.publicToNextId[e]=1;this.internalToPublic[t]=e,this.publicToInternal[e]=t}},e}(LI),iN=new(function(){function t(){}return t.prototype.visitTag=function(t){var e=this,n=this._serializeAttributes(t.attrs);if(0==t.children.length)return"<"+t.name+n+"/>";var r=t.children.map(function(t){return t.visit(e)});return"<"+t.name+n+">"+r.join("")+"</"+t.name+">"},t.prototype.visitText=function(t){return t.value},t.prototype.visitDeclaration=function(t){return"<?xml"+this._serializeAttributes(t.attrs)+" ?>"},t.prototype._serializeAttributes=function(t){var e=Object.keys(t).map(function(e){return e+'="'+t[e]+'"'}).join(" ");return e.length>0?" "+e:""},t.prototype.visitDoctype=function(t){return"<!DOCTYPE "+t.rootTag+" [\n"+t.dtd+"\n]>"},t}());function oN(t){return t.map(function(t){return t.visit(iN)}).join("")}var sN=function(){function t(t){var e=this;this.attrs={},Object.keys(t).forEach(function(n){e.attrs[n]=pN(t[n])})}return t.prototype.visit=function(t){return t.visitDeclaration(this)},t}(),aN=function(){function t(t,e){this.rootTag=t,this.dtd=e}return t.prototype.visit=function(t){return t.visitDoctype(this)},t}(),uN=function(){function t(t,e,n){void 0===e&&(e={}),void 0===n&&(n=[]);var r=this;this.name=t,this.children=n,this.attrs={},Object.keys(e).forEach(function(t){r.attrs[t]=pN(e[t])})}return t.prototype.visit=function(t){return t.visitTag(this)},t}(),cN=function(){function t(t){this.value=pN(t)}return t.prototype.visit=function(t){return t.visitText(this)},t}(),lN=function(t){function e(e){return void 0===e&&(e=0),t.call(this,"\n"+new Array(e+1).join(" "))||this}return i(e,t),e}(cN),hN=[[/&/g,"&amp;"],[/"/g,"&quot;"],[/'/g,"&apos;"],[/</g,"&lt;"],[/>/g,"&gt;"]];function pN(t){return hN.reduce(function(t,e){return t.replace(e[0],e[1])},t)}var fN=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.write=function(t,e){var n=new dN,r=[];t.forEach(function(t){var e,i=[];t.sources.forEach(function(t){var e=new uN("context-group",{purpose:"location"});e.children.push(new lN(10),new uN("context",{"context-type":"sourcefile"},[new cN(t.filePath)]),new lN(10),new uN("context",{"context-type":"linenumber"},[new cN(""+t.startLine)]),new lN(8)),i.push(new lN(8),e)});var o=new uN("trans-unit",{id:t.id,datatype:"html"});(e=o.children).push.apply(e,h([new lN(8),new uN("source",{},n.serialize(t.nodes))],i)),t.description&&o.children.push(new lN(8),new uN("note",{priority:"1",from:"description"},[new cN(t.description)])),t.meaning&&o.children.push(new lN(8),new uN("note",{priority:"1",from:"meaning"},[new cN(t.meaning)])),o.children.push(new lN(6)),r.push(new lN(6),o)});var i=new uN("body",{},h(r,[new lN(4)])),o=new uN("file",{"source-language":e||"en",datatype:"plaintext",original:"ng2.template"},[new lN(4),i,new lN(2)]),s=new uN("xliff",{version:"1.2",xmlns:"urn:oasis:names:tc:xliff:document:1.2"},[new lN(2),o,new lN]);return oN([new sN({version:"1.0",encoding:"UTF-8"}),new lN,s,new lN])},e.prototype.load=function(t,e){var n=(new vN).parse(t,e),r=n.locale,i=n.msgIdToHtml,o=n.errors,s={},a=new mN;if(Object.keys(i).forEach(function(t){var n=a.convert(i[t],e),r=n.i18nNodes,u=n.errors;o.push.apply(o,h(u)),s[t]=r}),o.length)throw new Error("xliff parse errors:\n"+o.join("\n"));return{locale:r,i18nNodesByMsgId:s}},e.prototype.digest=function(t){return lI(t)},e}(nN),dN=function(){function t(){}return t.prototype.visitText=function(t,e){return[new cN(t.value)]},t.prototype.visitContainer=function(t,e){var n=this,r=[];return t.children.forEach(function(t){return r.push.apply(r,h(t.visit(n)))}),r},t.prototype.visitIcu=function(t,e){var n=this,r=[new cN("{"+t.expressionPlaceholder+", "+t.type+", ")];return Object.keys(t.cases).forEach(function(e){r.push.apply(r,h([new cN(e+" {")],t.cases[e].visit(n),[new cN("} ")]))}),r.push(new cN("}")),r},t.prototype.visitTagPlaceholder=function(t,e){var n=function(t){switch(t.toLowerCase()){case"br":return"lb";case"img":return"image";default:return"x-"+t}}(t.tag);if(t.isVoid)return[new uN("x",{id:t.startName,ctype:n,"equiv-text":"<"+t.tag+"/>"})];var r=new uN("x",{id:t.startName,ctype:n,"equiv-text":"<"+t.tag+">"}),i=new uN("x",{id:t.closeName,ctype:n,"equiv-text":"</"+t.tag+">"});return h([r],this.serialize(t.children),[i])},t.prototype.visitPlaceholder=function(t,e){return[new uN("x",{id:t.name,"equiv-text":"{{"+t.value+"}}"})]},t.prototype.visitIcuPlaceholder=function(t,e){var n="{"+t.value.expression+", "+t.value.type+", "+Object.keys(t.value.cases).map(function(t){return t+" {...}"}).join(" ")+"}";return[new uN("x",{id:t.name,"equiv-text":n})]},t.prototype.serialize=function(t){var e=this;return[].concat.apply([],h(t.map(function(t){return t.visit(e)})))},t}(),vN=function(){function t(){this._locale=null}return t.prototype.parse=function(t,e){this._unitMlString=null,this._msgIdToHtml={};var n=(new eN).parse(t,e,!1);return this._errors=n.errors,DT(this,n.rootNodes,null),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}},t.prototype.visitElement=function(t,e){switch(t.name){case"trans-unit":this._unitMlString=null;var n=t.attrs.find(function(t){return"id"===t.name});if(n){var r=n.value;this._msgIdToHtml.hasOwnProperty(r)?this._addError(t,"Duplicated translations for msg "+r):(DT(this,t.children,null),"string"==typeof this._unitMlString?this._msgIdToHtml[r]=this._unitMlString:this._addError(t,"Message "+r+" misses a translation"))}else this._addError(t,'<trans-unit> misses the "id" attribute');break;case"source":case"seg-source":break;case"target":var i=t.startSourceSpan.end.offset,o=t.endSourceSpan.start.offset,s=t.startSourceSpan.start.file.content.slice(i,o);this._unitMlString=s;break;case"file":var a=t.attrs.find(function(t){return"target-language"===t.name});a&&(this._locale=a.value),DT(this,t.children,null);break;default:DT(this,t.children,null)}},t.prototype.visitAttribute=function(t,e){},t.prototype.visitText=function(t,e){},t.prototype.visitComment=function(t,e){},t.prototype.visitExpansion=function(t,e){},t.prototype.visitExpansionCase=function(t,e){},t.prototype._addError=function(t,e){this._errors.push(new HI(t.sourceSpan,e))},t}(),mN=function(){function t(){}return t.prototype.convert=function(t,e){var n=(new eN).parse(t,e,!0);return this._errors=n.errors,{i18nNodes:this._errors.length>0||0==n.rootNodes.length?[]:[].concat.apply([],h(DT(this,n.rootNodes))),errors:this._errors}},t.prototype.visitText=function(t,e){return new NI(t.value,t.sourceSpan)},t.prototype.visitElement=function(t,e){if("x"===t.name){var n=t.attrs.find(function(t){return"id"===t.name});return n?new MI("",n.value,t.sourceSpan):(this._addError(t,'<x> misses the "id" attribute'),null)}return"mrk"===t.name?[].concat.apply([],h(DT(this,t.children))):(this._addError(t,"Unexpected tag"),null)},t.prototype.visitExpansion=function(t,e){var n={};return DT(this,t.cases).forEach(function(e){n[e.value]=new kI(e.nodes,t.sourceSpan)}),new PI(t.switchValue,t.type,n,t.sourceSpan)},t.prototype.visitExpansionCase=function(t,e){return{value:t.value,nodes:DT(this,t.expression)}},t.prototype.visitComment=function(t,e){},t.prototype.visitAttribute=function(t,e){},t.prototype._addError=function(t,e){this._errors.push(new HI(t.sourceSpan,e))},t}();var yN=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.write=function(t,e){var n=new gN,r=[];t.forEach(function(t){var e=new uN("unit",{id:t.id}),i=new uN("notes");(t.description||t.meaning)&&(t.description&&i.children.push(new lN(8),new uN("note",{category:"description"},[new cN(t.description)])),t.meaning&&i.children.push(new lN(8),new uN("note",{category:"meaning"},[new cN(t.meaning)]))),t.sources.forEach(function(t){i.children.push(new lN(8),new uN("note",{category:"location"},[new cN(t.filePath+":"+t.startLine+(t.endLine!==t.startLine?","+t.endLine:""))]))}),i.children.push(new lN(6)),e.children.push(new lN(6),i);var o=new uN("segment");o.children.push(new lN(8),new uN("source",{},n.serialize(t.nodes)),new lN(6)),e.children.push(new lN(6),o,new lN(4)),r.push(new lN(4),e)});var i=new uN("file",{original:"ng.template",id:"ngi18n"},h(r,[new lN(2)])),o=new uN("xliff",{version:"2.0",xmlns:"urn:oasis:names:tc:xliff:document:2.0",srcLang:e||"en"},[new lN(2),i,new lN]);return oN([new sN({version:"1.0",encoding:"UTF-8"}),new lN,o,new lN])},e.prototype.load=function(t,e){var n=(new bN).parse(t,e),r=n.locale,i=n.msgIdToHtml,o=n.errors,s={},a=new wN;if(Object.keys(i).forEach(function(t){var n=a.convert(i[t],e),r=n.i18nNodes,u=n.errors;o.push.apply(o,h(u)),s[t]=r}),o.length)throw new Error("xliff2 parse errors:\n"+o.join("\n"));return{locale:r,i18nNodesByMsgId:s}},e.prototype.digest=function(t){return hI(t)},e}(nN),gN=function(){function t(){}return t.prototype.visitText=function(t,e){return[new cN(t.value)]},t.prototype.visitContainer=function(t,e){var n=this,r=[];return t.children.forEach(function(t){return r.push.apply(r,h(t.visit(n)))}),r},t.prototype.visitIcu=function(t,e){var n=this,r=[new cN("{"+t.expressionPlaceholder+", "+t.type+", ")];return Object.keys(t.cases).forEach(function(e){r.push.apply(r,h([new cN(e+" {")],t.cases[e].visit(n),[new cN("} ")]))}),r.push(new cN("}")),r},t.prototype.visitTagPlaceholder=function(t,e){var n=this,r=function(t){switch(t.toLowerCase()){case"br":case"b":case"i":case"u":return"fmt";case"img":return"image";case"a":return"link";default:return"other"}}(t.tag);if(t.isVoid)return[new uN("ph",{id:(this._nextPlaceholderId++).toString(),equiv:t.startName,type:r,disp:"<"+t.tag+"/>"})];var i=new uN("pc",{id:(this._nextPlaceholderId++).toString(),equivStart:t.startName,equivEnd:t.closeName,type:r,dispStart:"<"+t.tag+">",dispEnd:"</"+t.tag+">"}),o=[].concat.apply([],h(t.children.map(function(t){return t.visit(n)})));return o.length?o.forEach(function(t){return i.children.push(t)}):i.children.push(new cN("")),[i]},t.prototype.visitPlaceholder=function(t,e){var n=(this._nextPlaceholderId++).toString();return[new uN("ph",{id:n,equiv:t.name,disp:"{{"+t.value+"}}"})]},t.prototype.visitIcuPlaceholder=function(t,e){var n=Object.keys(t.value.cases).map(function(t){return t+" {...}"}).join(" "),r=(this._nextPlaceholderId++).toString();return[new uN("ph",{id:r,equiv:t.name,disp:"{"+t.value.expression+", "+t.value.type+", "+n+"}"})]},t.prototype.serialize=function(t){var e=this;return this._nextPlaceholderId=0,[].concat.apply([],h(t.map(function(t){return t.visit(e)})))},t}(),bN=function(){function t(){this._locale=null}return t.prototype.parse=function(t,e){this._unitMlString=null,this._msgIdToHtml={};var n=(new eN).parse(t,e,!1);return this._errors=n.errors,DT(this,n.rootNodes,null),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}},t.prototype.visitElement=function(t,e){switch(t.name){case"unit":this._unitMlString=null;var n=t.attrs.find(function(t){return"id"===t.name});if(n){var r=n.value;this._msgIdToHtml.hasOwnProperty(r)?this._addError(t,"Duplicated translations for msg "+r):(DT(this,t.children,null),"string"==typeof this._unitMlString?this._msgIdToHtml[r]=this._unitMlString:this._addError(t,"Message "+r+" misses a translation"))}else this._addError(t,'<unit> misses the "id" attribute');break;case"source":break;case"target":var i=t.startSourceSpan.end.offset,o=t.endSourceSpan.start.offset,s=t.startSourceSpan.start.file.content.slice(i,o);this._unitMlString=s;break;case"xliff":var a=t.attrs.find(function(t){return"trgLang"===t.name});a&&(this._locale=a.value);var u=t.attrs.find(function(t){return"version"===t.name});if(u){var c=u.value;"2.0"!==c?this._addError(t,"The XLIFF file version "+c+" is not compatible with XLIFF 2.0 serializer"):DT(this,t.children,null)}break;default:DT(this,t.children,null)}},t.prototype.visitAttribute=function(t,e){},t.prototype.visitText=function(t,e){},t.prototype.visitComment=function(t,e){},t.prototype.visitExpansion=function(t,e){},t.prototype.visitExpansionCase=function(t,e){},t.prototype._addError=function(t,e){this._errors.push(new HI(t.sourceSpan,e))},t}(),wN=function(){function t(){}return t.prototype.convert=function(t,e){var n=(new eN).parse(t,e,!0);return this._errors=n.errors,{i18nNodes:this._errors.length>0||0==n.rootNodes.length?[]:[].concat.apply([],h(DT(this,n.rootNodes))),errors:this._errors}},t.prototype.visitText=function(t,e){return new NI(t.value,t.sourceSpan)},t.prototype.visitElement=function(t,e){var n=this;switch(t.name){case"ph":var r=t.attrs.find(function(t){return"equiv"===t.name});if(r)return[new MI("",r.value,t.sourceSpan)];this._addError(t,'<ph> misses the "equiv" attribute');break;case"pc":var i=t.attrs.find(function(t){return"equivStart"===t.name}),o=t.attrs.find(function(t){return"equivEnd"===t.name});if(i){if(o){var s=i.value,a=o.value,u=[];return u.concat.apply(u,h([new MI("",s,t.sourceSpan)],t.children.map(function(t){return t.visit(n,null)}),[new MI("",a,t.sourceSpan)]))}this._addError(t,'<ph> misses the "equivEnd" attribute')}else this._addError(t,'<ph> misses the "equivStart" attribute');break;case"mrk":return[].concat.apply([],h(DT(this,t.children)));default:this._addError(t,"Unexpected tag")}return null},t.prototype.visitExpansion=function(t,e){var n={};return DT(this,t.cases).forEach(function(e){n[e.value]=new kI(e.nodes,t.sourceSpan)}),new PI(t.switchValue,t.type,n,t.sourceSpan)},t.prototype.visitExpansionCase=function(t,e){return{value:t.value,nodes:[].concat.apply([],h(DT(this,t.expression)))}},t.prototype.visitComment=function(t,e){},t.prototype.visitAttribute=function(t,e){},t.prototype._addError=function(t,e){this._errors.push(new HI(t.sourceSpan,e))},t}();var _N=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.write=function(t,e){var n=new SN,r=new EN,i=new uN("messagebundle");return t.forEach(function(t){var e={id:t.id};t.description&&(e.desc=t.description),t.meaning&&(e.meaning=t.meaning);var n=[];t.sources.forEach(function(t){n.push(new uN("source",{},[new cN(t.filePath+":"+t.startLine+(t.endLine!==t.startLine?","+t.endLine:""))]))}),i.children.push(new lN(2),new uN("msg",e,h(n,r.serialize(t.nodes))))}),i.children.push(new lN),oN([new sN({version:"1.0",encoding:"UTF-8"}),new lN,new aN("messagebundle",'<!ELEMENT messagebundle (msg)*>\n<!ATTLIST messagebundle class CDATA #IMPLIED>\n\n<!ELEMENT msg (#PCDATA|ph|source)*>\n<!ATTLIST msg id CDATA #IMPLIED>\n<!ATTLIST msg seq CDATA #IMPLIED>\n<!ATTLIST msg name CDATA #IMPLIED>\n<!ATTLIST msg desc CDATA #IMPLIED>\n<!ATTLIST msg meaning CDATA #IMPLIED>\n<!ATTLIST msg obsolete (obsolete) #IMPLIED>\n<!ATTLIST msg xml:space (default|preserve) "default">\n<!ATTLIST msg is_hidden CDATA #IMPLIED>\n\n<!ELEMENT source (#PCDATA)>\n\n<!ELEMENT ph (#PCDATA|ex)*>\n<!ATTLIST ph name CDATA #REQUIRED>\n\n<!ELEMENT ex (#PCDATA)>'),new lN,n.addDefaultExamples(i),new lN])},e.prototype.load=function(t,e){throw new Error("Unsupported")},e.prototype.digest=function(t){return CN(t)},e.prototype.createNameMapper=function(t){return new rN(t,xN)},e}(nN),EN=function(){function t(){}return t.prototype.visitText=function(t,e){return[new cN(t.value)]},t.prototype.visitContainer=function(t,e){var n=this,r=[];return t.children.forEach(function(t){return r.push.apply(r,h(t.visit(n)))}),r},t.prototype.visitIcu=function(t,e){var n=this,r=[new cN("{"+t.expressionPlaceholder+", "+t.type+", ")];return Object.keys(t.cases).forEach(function(e){r.push.apply(r,h([new cN(e+" {")],t.cases[e].visit(n),[new cN("} ")]))}),r.push(new cN("}")),r},t.prototype.visitTagPlaceholder=function(t,e){var n=new uN("ex",{},[new cN("<"+t.tag+">")]),r=new uN("ph",{name:t.startName},[n]);if(t.isVoid)return[r];var i=new uN("ex",{},[new cN("</"+t.tag+">")]),o=new uN("ph",{name:t.closeName},[i]);return h([r],this.serialize(t.children),[o])},t.prototype.visitPlaceholder=function(t,e){var n=new uN("ex",{},[new cN("{{"+t.value+"}}")]);return[new uN("ph",{name:t.name},[n])]},t.prototype.visitIcuPlaceholder=function(t,e){var n=new uN("ex",{},[new cN("{"+t.value.expression+", "+t.value.type+", "+Object.keys(t.value.cases).map(function(t){return t+" {...}"}).join(" ")+"}")]);return[new uN("ph",{name:t.name},[n])]},t.prototype.serialize=function(t){var e=this;return[].concat.apply([],h(t.map(function(t){return t.visit(e)})))},t}();function CN(t){return hI(t)}var SN=function(){function t(){}return t.prototype.addDefaultExamples=function(t){return t.visit(this),t},t.prototype.visitTag=function(t){var e=this;if("ph"===t.name){if(!t.children||0==t.children.length){var n=new cN(t.attrs.name||"...");t.children=[new uN("ex",{},[n])]}}else t.children&&t.children.forEach(function(t){return t.visit(e)})},t.prototype.visitText=function(t){},t.prototype.visitDeclaration=function(t){},t.prototype.visitDoctype=function(t){},t}();function xN(t){return t.toUpperCase().replace(/[^A-Z0-9_]/g,"_")}var TN=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.write=function(t,e){throw new Error("Unsupported")},e.prototype.load=function(t,e){var n=(new AN).parse(t,e),r=n.locale,i=n.msgIdToHtml,o=n.errors,s={},a=new DN;if(Object.keys(i).forEach(function(t){!function(t,e,n){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var r=n();return Object.defineProperty(t,e,{enumerable:!0,value:r}),r},set:function(t){throw new Error("Could not overwrite an XTB translation")}})}(s,t,function(){var n=a.convert(i[t],e),r=n.i18nNodes,o=n.errors;if(o.length)throw new Error("xtb parse errors:\n"+o.join("\n"));return r})}),o.length)throw new Error("xtb parse errors:\n"+o.join("\n"));return{locale:r,i18nNodesByMsgId:s}},e.prototype.digest=function(t){return CN(t)},e.prototype.createNameMapper=function(t){return new rN(t,xN)},e}(nN);var AN=function(){function t(){this._locale=null}return t.prototype.parse=function(t,e){this._bundleDepth=0,this._msgIdToHtml={};var n=(new eN).parse(t,e,!1);return this._errors=n.errors,DT(this,n.rootNodes),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}},t.prototype.visitElement=function(t,e){switch(t.name){case"translationbundle":this._bundleDepth++,this._bundleDepth>1&&this._addError(t,"<translationbundle> elements can not be nested");var n=t.attrs.find(function(t){return"lang"===t.name});n&&(this._locale=n.value),DT(this,t.children,null),this._bundleDepth--;break;case"translation":var r=t.attrs.find(function(t){return"id"===t.name});if(r){var i=r.value;if(this._msgIdToHtml.hasOwnProperty(i))this._addError(t,"Duplicated translations for msg "+i);else{var o=t.startSourceSpan.end.offset,s=t.endSourceSpan.start.offset,a=t.startSourceSpan.start.file.content.slice(o,s);this._msgIdToHtml[i]=a}}else this._addError(t,'<translation> misses the "id" attribute');break;default:this._addError(t,"Unexpected tag")}},t.prototype.visitAttribute=function(t,e){},t.prototype.visitText=function(t,e){},t.prototype.visitComment=function(t,e){},t.prototype.visitExpansion=function(t,e){},t.prototype.visitExpansionCase=function(t,e){},t.prototype._addError=function(t,e){this._errors.push(new HI(t.sourceSpan,e))},t}(),DN=function(){function t(){}return t.prototype.convert=function(t,e){var n=(new eN).parse(t,e,!0);return this._errors=n.errors,{i18nNodes:this._errors.length>0||0==n.rootNodes.length?[]:DT(this,n.rootNodes),errors:this._errors}},t.prototype.visitText=function(t,e){return new NI(t.value,t.sourceSpan)},t.prototype.visitExpansion=function(t,e){var n={};return DT(this,t.cases).forEach(function(e){n[e.value]=new kI(e.nodes,t.sourceSpan)}),new PI(t.switchValue,t.type,n,t.sourceSpan)},t.prototype.visitExpansionCase=function(t,e){return{value:t.value,nodes:DT(this,t.expression)}},t.prototype.visitElement=function(t,e){if("ph"===t.name){var n=t.attrs.find(function(t){return"name"===t.name});if(n)return new MI("",n.value,t.sourceSpan);this._addError(t,'<ph> misses the "name" attribute')}else this._addError(t,"Unexpected tag");return null},t.prototype.visitComment=function(t,e){},t.prototype.visitAttribute=function(t,e){},t.prototype._addError=function(t,e){this._errors.push(new HI(t.sourceSpan,e))},t}(),IN=function(t){function e(){return t.call(this,kS)||this}return i(e,t),e.prototype.parse=function(e,n,r,i){return void 0===r&&(r=!1),void 0===i&&(i=OT),t.prototype.parse.call(this,e,n,r,i)},e}(aI),NN=function(){function t(t,e,n,r,i,o){void 0===t&&(t={}),void 0===i&&(i=QS.Warning),this._i18nNodesByMsgId=t,this.digest=n,this.mapperFactory=r,this._i18nToHtml=new kN(t,e,n,r,i,o)}return t.load=function(e,n,r,i,o){var s=r.load(e,n),a=s.locale;return new t(s.i18nNodesByMsgId,a,function(t){return r.digest(t)},function(t){return r.createNameMapper(t)},i,o)},t.prototype.get=function(t){var e=this._i18nToHtml.convert(t);if(e.errors.length)throw new Error(e.errors.join("\n"));return e.nodes},t.prototype.has=function(t){return this.digest(t)in this._i18nNodesByMsgId},t}(),kN=function(){function t(t,e,n,r,i,o){void 0===t&&(t={}),this._i18nNodesByMsgId=t,this._locale=e,this._digest=n,this._mapperFactory=r,this._missingTranslationStrategy=i,this._console=o,this._contextStack=[],this._errors=[]}return t.prototype.convert=function(t){this._contextStack.length=0,this._errors.length=0;var e=this._convertToText(t),n=t.nodes[0].sourceSpan.start.file.url,r=(new IN).parse(e,n,!0);return{nodes:r.rootNodes,errors:h(this._errors,r.errors)}},t.prototype.visitText=function(t,e){return pN(t.value)},t.prototype.visitContainer=function(t,e){var n=this;return t.children.map(function(t){return t.visit(n)}).join("")},t.prototype.visitIcu=function(t,e){var n=this,r=Object.keys(t.cases).map(function(e){return e+" {"+t.cases[e].visit(n)+"}"});return"{"+(this._srcMsg.placeholders.hasOwnProperty(t.expression)?this._srcMsg.placeholders[t.expression]:t.expression)+", "+t.type+", "+r.join(" ")+"}"},t.prototype.visitPlaceholder=function(t,e){var n=this._mapper(t.name);return this._srcMsg.placeholders.hasOwnProperty(n)?this._srcMsg.placeholders[n]:this._srcMsg.placeholderToMessage.hasOwnProperty(n)?this._convertToText(this._srcMsg.placeholderToMessage[n]):(this._addError(t,'Unknown placeholder "'+t.name+'"'),"")},t.prototype.visitTagPlaceholder=function(t,e){var n=this,r=""+t.tag,i=Object.keys(t.attrs).map(function(e){return e+'="'+t.attrs[e]+'"'}).join(" ");return t.isVoid?"<"+r+" "+i+"/>":"<"+r+" "+i+">"+t.children.map(function(t){return t.visit(n)}).join("")+"</"+r+">"},t.prototype.visitIcuPlaceholder=function(t,e){return this._convertToText(this._srcMsg.placeholderToMessage[t.name])},t.prototype._convertToText=function(t){var e,n=this,r=this._digest(t),i=this._mapperFactory?this._mapperFactory(t):null;if(this._contextStack.push({msg:this._srcMsg,mapper:this._mapper}),this._srcMsg=t,this._i18nNodesByMsgId.hasOwnProperty(r))e=this._i18nNodesByMsgId[r],this._mapper=function(t){return i?i.toInternalName(t):t};else{if(this._missingTranslationStrategy===QS.Error){var o=this._locale?' for locale "'+this._locale+'"':"";this._addError(t.nodes[0],'Missing translation for message "'+r+'"'+o)}else if(this._console&&this._missingTranslationStrategy===QS.Warning){o=this._locale?' for locale "'+this._locale+'"':"";this._console.warn('Missing translation for message "'+r+'"'+o)}e=t.nodes,this._mapper=function(t){return t}}var s=e.map(function(t){return t.visit(n)}).join(""),a=this._contextStack.pop();return this._srcMsg=a.msg,this._mapper=a.mapper,s},t.prototype._addError=function(t,e){this._errors.push(new HI(t.sourceSpan,e))},t}(),PN=function(){function t(t,e,n,r,i){if(void 0===r&&(r=QS.Warning),this._htmlParser=t,e){var o=function(t){switch(t=(t||"xlf").toLowerCase()){case"xmb":return new _N;case"xtb":return new TN;case"xliff2":case"xlf2":return new yN;case"xliff":case"xlf":default:return new fN}}(n);this._translationBundle=NN.load(e,"i18n",o,r,i)}else this._translationBundle=new NN({},null,lI,void 0,r,i)}return t.prototype.parse=function(t,e,n,r){void 0===n&&(n=!1),void 0===r&&(r=OT);var i=this._htmlParser.parse(t,e,n,r);return i.errors.length?new sI(i.rootNodes,i.errors):function(t,e,n,r,i){return new YI(r,i).merge(t,e,n)}(i.rootNodes,this._translationBundle,r,[],{})},t}();var ON,MN="@angular/core",RN=function(){function t(){}return t.ANALYZE_FOR_ENTRY_COMPONENTS={name:"ANALYZE_FOR_ENTRY_COMPONENTS",moduleName:MN},t.ElementRef={name:"ElementRef",moduleName:MN},t.NgModuleRef={name:"NgModuleRef",moduleName:MN},t.ViewContainerRef={name:"ViewContainerRef",moduleName:MN},t.ChangeDetectorRef={name:"ChangeDetectorRef",moduleName:MN},t.QueryList={name:"QueryList",moduleName:MN},t.TemplateRef={name:"TemplateRef",moduleName:MN},t.CodegenComponentFactoryResolver={name:"\u0275CodegenComponentFactoryResolver",moduleName:MN},t.ComponentFactoryResolver={name:"ComponentFactoryResolver",moduleName:MN},t.ComponentFactory={name:"ComponentFactory",moduleName:MN},t.ComponentRef={name:"ComponentRef",moduleName:MN},t.NgModuleFactory={name:"NgModuleFactory",moduleName:MN},t.createModuleFactory={name:"\u0275cmf",moduleName:MN},t.moduleDef={name:"\u0275mod",moduleName:MN},t.moduleProviderDef={name:"\u0275mpd",moduleName:MN},t.RegisterModuleFactoryFn={name:"\u0275registerModuleFactory",moduleName:MN},t.inject={name:"inject",moduleName:MN},t.INJECTOR={name:"INJECTOR",moduleName:MN},t.Injector={name:"Injector",moduleName:MN},t.defineInjectable={name:"defineInjectable",moduleName:MN},t.InjectableDef={name:"\u0275InjectableDef",moduleName:MN},t.ViewEncapsulation={name:"ViewEncapsulation",moduleName:MN},t.ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleName:MN},t.SecurityContext={name:"SecurityContext",moduleName:MN},t.LOCALE_ID={name:"LOCALE_ID",moduleName:MN},t.TRANSLATIONS_FORMAT={name:"TRANSLATIONS_FORMAT",moduleName:MN},t.inlineInterpolate={name:"\u0275inlineInterpolate",moduleName:MN},t.interpolate={name:"\u0275interpolate",moduleName:MN},t.EMPTY_ARRAY={name:"\u0275EMPTY_ARRAY",moduleName:MN},t.EMPTY_MAP={name:"\u0275EMPTY_MAP",moduleName:MN},t.Renderer={name:"Renderer",moduleName:MN},t.viewDef={name:"\u0275vid",moduleName:MN},t.elementDef={name:"\u0275eld",moduleName:MN},t.anchorDef={name:"\u0275and",moduleName:MN},t.textDef={name:"\u0275ted",moduleName:MN},t.directiveDef={name:"\u0275did",moduleName:MN},t.providerDef={name:"\u0275prd",moduleName:MN},t.queryDef={name:"\u0275qud",moduleName:MN},t.pureArrayDef={name:"\u0275pad",moduleName:MN},t.pureObjectDef={name:"\u0275pod",moduleName:MN},t.purePipeDef={name:"\u0275ppd",moduleName:MN},t.pipeDef={name:"\u0275pid",moduleName:MN},t.nodeValue={name:"\u0275nov",moduleName:MN},t.ngContentDef={name:"\u0275ncd",moduleName:MN},t.unwrapValue={name:"\u0275unv",moduleName:MN},t.createRendererType2={name:"\u0275crt",moduleName:MN},t.RendererType2={name:"RendererType2",moduleName:MN},t.ViewDefinition={name:"\u0275ViewDefinition",moduleName:MN},t.createComponentFactory={name:"\u0275ccf",moduleName:MN},t}();function FN(t){return{identifier:{reference:t}}}function LN(t,e){return FN(t.resolveExternalReference(e))}!function(t){t[t.Const=0]="Const"}(ON||(ON={}));var jN,VN=function(){function t(t){void 0===t&&(t=null),this.modifiers=t,t||(this.modifiers=[])}return t.prototype.hasModifier=function(t){return-1!==this.modifiers.indexOf(t)},t}();!function(t){t[t.Dynamic=0]="Dynamic",t[t.Bool=1]="Bool",t[t.String=2]="String",t[t.Int=3]="Int",t[t.Number=4]="Number",t[t.Function=5]="Function",t[t.Inferred=6]="Inferred",t[t.None=7]="None"}(jN||(jN={}));var BN,UN=function(t){function e(e,n){void 0===n&&(n=null);var r=t.call(this,n)||this;return r.name=e,r}return i(e,t),e.prototype.visitType=function(t,e){return t.visitBuiltinType(this,e)},e}(VN),qN=function(t){function e(e,n,r){void 0===n&&(n=null),void 0===r&&(r=null);var i=t.call(this,n)||this;return i.value=e,i.typeParams=r,i}return i(e,t),e.prototype.visitType=function(t,e){return t.visitExpressionType(this,e)},e}(VN),HN=function(t){function e(e,n){void 0===n&&(n=null);var r=t.call(this,n)||this;return r.of=e,r}return i(e,t),e.prototype.visitType=function(t,e){return t.visitArrayType(this,e)},e}(VN),WN=function(t){function e(e,n){void 0===n&&(n=null);var r=t.call(this,n)||this;return r.valueType=e||null,r}return i(e,t),e.prototype.visitType=function(t,e){return t.visitMapType(this,e)},e}(VN),zN=new UN(jN.Dynamic),KN=new UN(jN.Inferred),GN=new UN(jN.Bool),QN=(new UN(jN.Int),new UN(jN.Number));new UN(jN.String),new UN(jN.Function),new UN(jN.None);function XN(t,e){return null==t||null==e?t==e:t.isEquivalent(e)}function $N(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(!t[r].isEquivalent(e[r]))return!1;return!0}!function(t){t[t.Equals=0]="Equals",t[t.NotEquals=1]="NotEquals",t[t.Identical=2]="Identical",t[t.NotIdentical=3]="NotIdentical",t[t.Minus=4]="Minus",t[t.Plus=5]="Plus",t[t.Divide=6]="Divide",t[t.Multiply=7]="Multiply",t[t.Modulo=8]="Modulo",t[t.And=9]="And",t[t.Or=10]="Or",t[t.BitwiseAnd=11]="BitwiseAnd",t[t.Lower=12]="Lower",t[t.LowerEquals=13]="LowerEquals",t[t.Bigger=14]="Bigger",t[t.BiggerEquals=15]="BiggerEquals"}(BN||(BN={}));var YN,JN=function(){function t(t,e){this.type=t||null,this.sourceSpan=e||null}return t.prototype.prop=function(t,e){return new bk(this,t,null,e)},t.prototype.key=function(t,e,n){return new wk(this,t,e,n)},t.prototype.callMethod=function(t,e,n){return new sk(this,t,e,null,n)},t.prototype.callFn=function(t,e){return new ak(this,t,null,e)},t.prototype.instantiate=function(t,e,n){return new uk(this,t,e,n)},t.prototype.conditional=function(t,e,n){return void 0===e&&(e=null),new pk(this,t,e,null,n)},t.prototype.equals=function(t,e){return new gk(BN.Equals,this,t,null,e)},t.prototype.notEquals=function(t,e){return new gk(BN.NotEquals,this,t,null,e)},t.prototype.identical=function(t,e){return new gk(BN.Identical,this,t,null,e)},t.prototype.notIdentical=function(t,e){return new gk(BN.NotIdentical,this,t,null,e)},t.prototype.minus=function(t,e){return new gk(BN.Minus,this,t,null,e)},t.prototype.plus=function(t,e){return new gk(BN.Plus,this,t,null,e)},t.prototype.divide=function(t,e){return new gk(BN.Divide,this,t,null,e)},t.prototype.multiply=function(t,e){return new gk(BN.Multiply,this,t,null,e)},t.prototype.modulo=function(t,e){return new gk(BN.Modulo,this,t,null,e)},t.prototype.and=function(t,e){return new gk(BN.And,this,t,null,e)},t.prototype.bitwiseAnd=function(t,e,n){return void 0===n&&(n=!0),new gk(BN.BitwiseAnd,this,t,null,e,n)},t.prototype.or=function(t,e){return new gk(BN.Or,this,t,null,e)},t.prototype.lower=function(t,e){return new gk(BN.Lower,this,t,null,e)},t.prototype.lowerEquals=function(t,e){return new gk(BN.LowerEquals,this,t,null,e)},t.prototype.bigger=function(t,e){return new gk(BN.Bigger,this,t,null,e)},t.prototype.biggerEquals=function(t,e){return new gk(BN.BiggerEquals,this,t,null,e)},t.prototype.isBlank=function(t){return this.equals(Tk,t)},t.prototype.cast=function(t,e){return new vk(this,t,e)},t.prototype.toStmt=function(){return new Nk(this,null)},t}();!function(t){t[t.This=0]="This",t[t.Super=1]="Super",t[t.CatchError=2]="CatchError",t[t.CatchStack=3]="CatchStack"}(YN||(YN={}));var ZN,tk=function(t){function e(e,n,r){var i=t.call(this,n,r)||this;return"string"==typeof e?(i.name=e,i.builtin=null):(i.name=null,i.builtin=e),i}return i(e,t),e.prototype.isEquivalent=function(t){return t instanceof e&&this.name===t.name&&this.builtin===t.builtin},e.prototype.isConstant=function(){return!1},e.prototype.visitExpression=function(t,e){return t.visitReadVarExpr(this,e)},e.prototype.set=function(t){if(!this.name)throw new Error("Built in variable "+this.builtin+" can not be assigned to.");return new nk(this.name,t,null,this.sourceSpan)},e}(JN),ek=function(t){function e(e,n,r){var i=t.call(this,n,r)||this;return i.expr=e,i}return i(e,t),e.prototype.visitExpression=function(t,e){return t.visitTypeofExpr(this,e)},e.prototype.isEquivalent=function(t){return t instanceof e&&t.expr.isEquivalent(this.expr)},e.prototype.isConstant=function(){return this.expr.isConstant()},e}(JN),nk=(function(t){function e(e,n,r){var i=t.call(this,n,r)||this;return i.node=e,i}i(e,t),e.prototype.isEquivalent=function(t){return t instanceof e&&this.node===t.node},e.prototype.isConstant=function(){return!1},e.prototype.visitExpression=function(t,e){return t.visitWrappedNodeExpr(this,e)}}(JN),function(t){function e(e,n,r,i){var o=t.call(this,r||n.type,i)||this;return o.name=e,o.value=n,o}return i(e,t),e.prototype.isEquivalent=function(t){return t instanceof e&&this.name===t.name&&this.value.isEquivalent(t.value)},e.prototype.isConstant=function(){return!1},e.prototype.visitExpression=function(t,e){return t.visitWriteVarExpr(this,e)},e.prototype.toDeclStmt=function(t,e){return new Dk(this.name,this.value,t,e,this.sourceSpan)},e}(JN)),rk=function(t){function e(e,n,r,i,o){var s=t.call(this,i||r.type,o)||this;return s.receiver=e,s.index=n,s.value=r,s}return i(e,t),e.prototype.isEquivalent=function(t){return t instanceof e&&this.receiver.isEquivalent(t.receiver)&&this.index.isEquivalent(t.index)&&this.value.isEquivalent(t.value)},e.prototype.isConstant=function(){return!1},e.prototype.visitExpression=function(t,e){return t.visitWriteKeyExpr(this,e)},e}(JN),ik=function(t){function e(e,n,r,i,o){var s=t.call(this,i||r.type,o)||this;return s.receiver=e,s.name=n,s.value=r,s}return i(e,t),e.prototype.isEquivalent=function(t){return t instanceof e&&this.receiver.isEquivalent(t.receiver)&&this.name===t.name&&this.value.isEquivalent(t.value)},e.prototype.isConstant=function(){return!1},e.prototype.visitExpression=function(t,e){return t.visitWritePropExpr(this,e)},e}(JN);!function(t){t[t.ConcatArray=0]="ConcatArray",t[t.SubscribeObservable=1]="SubscribeObservable",t[t.Bind=2]="Bind"}(ZN||(ZN={}));var ok,sk=function(t){function e(e,n,r,i,o){var s=t.call(this,i,o)||this;return s.receiver=e,s.args=r,"string"==typeof n?(s.name=n,s.builtin=null):(s.name=null,s.builtin=n),s}return i(e,t),e.prototype.isEquivalent=function(t){return t instanceof e&&this.receiver.isEquivalent(t.receiver)&&this.name===t.name&&this.builtin===t.builtin&&$N(this.args,t.args)},e.prototype.isConstant=function(){return!1},e.prototype.visitExpression=function(t,e){return t.visitInvokeMethodExpr(this,e)},e}(JN),ak=function(t){function e(e,n,r,i){var o=t.call(this,r,i)||this;return o.fn=e,o.args=n,o}return i(e,t),e.prototype.isEquivalent=function(t){return t instanceof e&&this.fn.isEquivalent(t.fn)&&$N(this.args,t.args)},e.prototype.isConstant=function(){return!1},e.prototype.visitExpression=function(t,e){return t.visitInvokeFunctionExpr(this,e)},e}(JN),uk=function(t){function e(e,n,r,i){var o=t.call(this,r,i)||this;return o.classExpr=e,o.args=n,o}return i(e,t),e.prototype.isEquivalent=function(t){return t instanceof e&&this.classExpr.isEquivalent(t.classExpr)&&$N(this.args,t.args)},e.prototype.isConstant=function(){return!1},e.prototype.visitExpression=function(t,e){return t.visitInstantiateExpr(this,e)},e}(JN),ck=function(t){function e(e,n,r){var i=t.call(this,n,r)||this;return i.value=e,i}return i(e,t),e.prototype.isEquivalent=function(t){return t instanceof e&&this.value===t.value},e.prototype.isConstant=function(){return!0},e.prototype.visitExpression=function(t,e){return t.visitLiteralExpr(this,e)},e}(JN),lk=function(t){function e(e,n,r,i){void 0===r&&(r=null);var o=t.call(this,n,i)||this;return o.value=e,o.typeParams=r,o}return i(e,t),e.prototype.isEquivalent=function(t){return t instanceof e&&this.value.name===t.value.name&&this.value.moduleName===t.value.moduleName&&this.value.runtime===t.value.runtime},e.prototype.isConstant=function(){return!1},e.prototype.visitExpression=function(t,e){return t.visitExternalExpr(this,e)},e}(JN),hk=function(){return function(t,e,n){this.moduleName=t,this.name=e,this.runtime=n}}(),pk=function(t){function e(e,n,r,i,o){void 0===r&&(r=null);var s=t.call(this,i||n.type,o)||this;return s.condition=e,s.falseCase=r,s.trueCase=n,s}return i(e,t),e.prototype.isEquivalent=function(t){return t instanceof e&&this.condition.isEquivalent(t.condition)&&this.trueCase.isEquivalent(t.trueCase)&&XN(this.falseCase,t.falseCase)},e.prototype.isConstant=function(){return!1},e.prototype.visitExpression=function(t,e){return t.visitConditionalExpr(this,e)},e}(JN),fk=function(t){function e(e,n){var r=t.call(this,GN,n)||this;return r.condition=e,r}return i(e,t),e.prototype.isEquivalent=function(t){return t instanceof e&&this.condition.isEquivalent(t.condition)},e.prototype.isConstant=function(){return!1},e.prototype.visitExpression=function(t,e){return t.visitNotExpr(this,e)},e}(JN),dk=function(t){function e(e,n){var r=t.call(this,e.type,n)||this;return r.condition=e,r}return i(e,t),e.prototype.isEquivalent=function(t){return t instanceof e&&this.condition.isEquivalent(t.condition)},e.prototype.isConstant=function(){return!1},e.prototype.visitExpression=function(t,e){return t.visitAssertNotNullExpr(this,e)},e}(JN),vk=function(t){function e(e,n,r){var i=t.call(this,n,r)||this;return i.value=e,i}return i(e,t),e.prototype.isEquivalent=function(t){return t instanceof e&&this.value.isEquivalent(t.value)},e.prototype.isConstant=function(){return!1},e.prototype.visitExpression=function(t,e){return t.visitCastExpr(this,e)},e}(JN),mk=function(){function t(t,e){void 0===e&&(e=null),this.name=t,this.type=e}return t.prototype.isEquivalent=function(t){return this.name===t.name},t}(),yk=function(t){function e(e,n,r,i,o){var s=t.call(this,r,i)||this;return s.params=e,s.statements=n,s.name=o,s}return i(e,t),e.prototype.isEquivalent=function(t){return t instanceof e&&$N(this.params,t.params)&&$N(this.statements,t.statements)},e.prototype.isConstant=function(){return!1},e.prototype.visitExpression=function(t,e){return t.visitFunctionExpr(this,e)},e.prototype.toDeclStmt=function(t,e){return void 0===e&&(e=null),new Ik(t,this.params,this.statements,this.type,e,this.sourceSpan)},e}(JN),gk=function(t){function e(e,n,r,i,o,s){void 0===s&&(s=!0);var a=t.call(this,i||n.type,o)||this;return a.operator=e,a.rhs=r,a.parens=s,a.lhs=n,a}return i(e,t),e.prototype.isEquivalent=function(t){return t instanceof e&&this.operator===t.operator&&this.lhs.isEquivalent(t.lhs)&&this.rhs.isEquivalent(t.rhs)},e.prototype.isConstant=function(){return!1},e.prototype.visitExpression=function(t,e){return t.visitBinaryOperatorExpr(this,e)},e}(JN),bk=function(t){function e(e,n,r,i){var o=t.call(this,r,i)||this;return o.receiver=e,o.name=n,o}return i(e,t),e.prototype.isEquivalent=function(t){return t instanceof e&&this.receiver.isEquivalent(t.receiver)&&this.name===t.name},e.prototype.isConstant=function(){return!1},e.prototype.visitExpression=function(t,e){return t.visitReadPropExpr(this,e)},e.prototype.set=function(t){return new ik(this.receiver,this.name,t,null,this.sourceSpan)},e}(JN),wk=function(t){function e(e,n,r,i){var o=t.call(this,r,i)||this;return o.receiver=e,o.index=n,o}return i(e,t),e.prototype.isEquivalent=function(t){return t instanceof e&&this.receiver.isEquivalent(t.receiver)&&this.index.isEquivalent(t.index)},e.prototype.isConstant=function(){return!1},e.prototype.visitExpression=function(t,e){return t.visitReadKeyExpr(this,e)},e.prototype.set=function(t){return new rk(this.receiver,this.index,t,null,this.sourceSpan)},e}(JN),_k=function(t){function e(e,n,r){var i=t.call(this,n,r)||this;return i.entries=e,i}return i(e,t),e.prototype.isConstant=function(){return this.entries.every(function(t){return t.isConstant()})},e.prototype.isEquivalent=function(t){return t instanceof e&&$N(this.entries,t.entries)},e.prototype.visitExpression=function(t,e){return t.visitLiteralArrayExpr(this,e)},e}(JN),Ek=function(){function t(t,e,n){this.key=t,this.value=e,this.quoted=n}return t.prototype.isEquivalent=function(t){return this.key===t.key&&this.value.isEquivalent(t.value)},t}(),Ck=function(t){function e(e,n,r){var i=t.call(this,n,r)||this;return i.entries=e,i.valueType=null,n&&(i.valueType=n.valueType),i}return i(e,t),e.prototype.isEquivalent=function(t){return t instanceof e&&$N(this.entries,t.entries)},e.prototype.isConstant=function(){return this.entries.every(function(t){return t.value.isConstant()})},e.prototype.visitExpression=function(t,e){return t.visitLiteralMapExpr(this,e)},e}(JN),Sk=function(t){function e(e,n){var r=t.call(this,e[e.length-1].type,n)||this;return r.parts=e,r}return i(e,t),e.prototype.isEquivalent=function(t){return t instanceof e&&$N(this.parts,t.parts)},e.prototype.isConstant=function(){return!1},e.prototype.visitExpression=function(t,e){return t.visitCommaExpr(this,e)},e}(JN),xk=(new tk(YN.This,null,null),new tk(YN.Super,null,null),new tk(YN.CatchError,null,null),new tk(YN.CatchStack,null,null),new ck(null,null,null)),Tk=new ck(null,KN,null);!function(t){t[t.Final=0]="Final",t[t.Private=1]="Private",t[t.Exported=2]="Exported",t[t.Static=3]="Static"}(ok||(ok={}));var Ak=function(){function t(t,e){this.modifiers=t||[],this.sourceSpan=e||null}return t.prototype.hasModifier=function(t){return-1!==this.modifiers.indexOf(t)},t}(),Dk=function(t){function e(e,n,r,i,o){void 0===i&&(i=null);var s=t.call(this,i,o)||this;return s.name=e,s.value=n,s.type=r||n&&n.type||null,s}return i(e,t),e.prototype.isEquivalent=function(t){return t instanceof e&&this.name===t.name&&(this.value?!!t.value&&this.value.isEquivalent(t.value):!t.value)},e.prototype.visitStatement=function(t,e){return t.visitDeclareVarStmt(this,e)},e}(Ak),Ik=function(t){function e(e,n,r,i,o,s){void 0===o&&(o=null);var a=t.call(this,o,s)||this;return a.name=e,a.params=n,a.statements=r,a.type=i||null,a}return i(e,t),e.prototype.isEquivalent=function(t){return t instanceof e&&$N(this.params,t.params)&&$N(this.statements,t.statements)},e.prototype.visitStatement=function(t,e){return t.visitDeclareFunctionStmt(this,e)},e}(Ak),Nk=function(t){function e(e,n){var r=t.call(this,null,n)||this;return r.expr=e,r}return i(e,t),e.prototype.isEquivalent=function(t){return t instanceof e&&this.expr.isEquivalent(t.expr)},e.prototype.visitStatement=function(t,e){return t.visitExpressionStmt(this,e)},e}(Ak),kk=function(t){function e(e,n){var r=t.call(this,null,n)||this;return r.value=e,r}return i(e,t),e.prototype.isEquivalent=function(t){return t instanceof e&&this.value.isEquivalent(t.value)},e.prototype.visitStatement=function(t,e){return t.visitReturnStmt(this,e)},e}(Ak),Pk=function(){function t(t,e){this.modifiers=e,e||(this.modifiers=[]),this.type=t||null}return t.prototype.hasModifier=function(t){return-1!==this.modifiers.indexOf(t)},t}(),Ok=function(t){function e(e,n,r,i){void 0===r&&(r=null);var o=t.call(this,n,r)||this;return o.name=e,o.initializer=i,o}return i(e,t),e.prototype.isEquivalent=function(t){return this.name===t.name},e}(Pk),Mk=function(t){function e(e,n,r,i,o){void 0===o&&(o=null);var s=t.call(this,i,o)||this;return s.name=e,s.params=n,s.body=r,s}return i(e,t),e.prototype.isEquivalent=function(t){return this.name===t.name&&$N(this.body,t.body)},e}(Pk),Rk=function(t){function e(e,n,r,i){void 0===i&&(i=null);var o=t.call(this,r,i)||this;return o.name=e,o.body=n,o}return i(e,t),e.prototype.isEquivalent=function(t){return this.name===t.name&&$N(this.body,t.body)},e}(Pk),Fk=function(t){function e(e,n,r,i,o,s,a,u){void 0===a&&(a=null);var c=t.call(this,a,u)||this;return c.name=e,c.parent=n,c.fields=r,c.getters=i,c.constructorMethod=o,c.methods=s,c}return i(e,t),e.prototype.isEquivalent=function(t){return t instanceof e&&this.name===t.name&&XN(this.parent,t.parent)&&$N(this.fields,t.fields)&&$N(this.getters,t.getters)&&this.constructorMethod.isEquivalent(t.constructorMethod)&&$N(this.methods,t.methods)},e.prototype.visitStatement=function(t,e){return t.visitDeclareClassStmt(this,e)},e}(Ak),Lk=function(t){function e(e,n,r,i){void 0===r&&(r=[]);var o=t.call(this,null,i)||this;return o.condition=e,o.trueCase=n,o.falseCase=r,o}return i(e,t),e.prototype.isEquivalent=function(t){return t instanceof e&&this.condition.isEquivalent(t.condition)&&$N(this.trueCase,t.trueCase)&&$N(this.falseCase,t.falseCase)},e.prototype.visitStatement=function(t,e){return t.visitIfStmt(this,e)},e}(Ak),jk=(function(t){function e(e,n,r){void 0===n&&(n=!1);var i=t.call(this,null,r)||this;return i.comment=e,i.multiline=n,i}i(e,t),e.prototype.isEquivalent=function(t){return t instanceof e},e.prototype.visitStatement=function(t,e){return t.visitCommentStmt(this,e)}}(Ak),function(t){function e(e,n){void 0===e&&(e=[]);var r=t.call(this,null,n)||this;return r.tags=e,r}return i(e,t),e.prototype.isEquivalent=function(t){return t instanceof e&&this.toString()===t.toString()},e.prototype.visitStatement=function(t,e){return t.visitJSDocCommentStmt(this,e)},e.prototype.toString=function(){return function(t){var e,n;if(0===t.length)return"";var r="*\n";try{for(var i=c(t),o=i.next();!o.done;o=i.next()){var s=o.value;r+=" *",r+=nP(s).replace(/\n/g,"\n * "),r+="\n"}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r+=" "}(this.tags)},e}(Ak)),Vk=function(t){function e(e,n,r){var i=t.call(this,null,r)||this;return i.bodyStmts=e,i.catchStmts=n,i}return i(e,t),e.prototype.isEquivalent=function(t){return t instanceof e&&$N(this.bodyStmts,t.bodyStmts)&&$N(this.catchStmts,t.catchStmts)},e.prototype.visitStatement=function(t,e){return t.visitTryCatchStmt(this,e)},e}(Ak),Bk=function(t){function e(e,n){var r=t.call(this,null,n)||this;return r.error=e,r}return i(e,t),e.prototype.isEquivalent=function(t){return t instanceof Vk&&this.error.isEquivalent(t.error)},e.prototype.visitStatement=function(t,e){return t.visitThrowStmt(this,e)},e}(Ak),Uk=function(){function t(){}return t.prototype.transformExpr=function(t,e){return t},t.prototype.transformStmt=function(t,e){return t},t.prototype.visitReadVarExpr=function(t,e){return this.transformExpr(t,e)},t.prototype.visitWrappedNodeExpr=function(t,e){return this.transformExpr(t,e)},t.prototype.visitTypeofExpr=function(t,e){return this.transformExpr(new ek(t.expr.visitExpression(this,e),t.type,t.sourceSpan),e)},t.prototype.visitWriteVarExpr=function(t,e){return this.transformExpr(new nk(t.name,t.value.visitExpression(this,e),t.type,t.sourceSpan),e)},t.prototype.visitWriteKeyExpr=function(t,e){return this.transformExpr(new rk(t.receiver.visitExpression(this,e),t.index.visitExpression(this,e),t.value.visitExpression(this,e),t.type,t.sourceSpan),e)},t.prototype.visitWritePropExpr=function(t,e){return this.transformExpr(new ik(t.receiver.visitExpression(this,e),t.name,t.value.visitExpression(this,e),t.type,t.sourceSpan),e)},t.prototype.visitInvokeMethodExpr=function(t,e){var n=t.builtin||t.name;return this.transformExpr(new sk(t.receiver.visitExpression(this,e),n,this.visitAllExpressions(t.args,e),t.type,t.sourceSpan),e)},t.prototype.visitInvokeFunctionExpr=function(t,e){return this.transformExpr(new ak(t.fn.visitExpression(this,e),this.visitAllExpressions(t.args,e),t.type,t.sourceSpan),e)},t.prototype.visitInstantiateExpr=function(t,e){return this.transformExpr(new uk(t.classExpr.visitExpression(this,e),this.visitAllExpressions(t.args,e),t.type,t.sourceSpan),e)},t.prototype.visitLiteralExpr=function(t,e){return this.transformExpr(t,e)},t.prototype.visitExternalExpr=function(t,e){return this.transformExpr(t,e)},t.prototype.visitConditionalExpr=function(t,e){return this.transformExpr(new pk(t.condition.visitExpression(this,e),t.trueCase.visitExpression(this,e),t.falseCase.visitExpression(this,e),t.type,t.sourceSpan),e)},t.prototype.visitNotExpr=function(t,e){return this.transformExpr(new fk(t.condition.visitExpression(this,e),t.sourceSpan),e)},t.prototype.visitAssertNotNullExpr=function(t,e){return this.transformExpr(new dk(t.condition.visitExpression(this,e),t.sourceSpan),e)},t.prototype.visitCastExpr=function(t,e){return this.transformExpr(new vk(t.value.visitExpression(this,e),t.type,t.sourceSpan),e)},t.prototype.visitFunctionExpr=function(t,e){return this.transformExpr(new yk(t.params,this.visitAllStatements(t.statements,e),t.type,t.sourceSpan),e)},t.prototype.visitBinaryOperatorExpr=function(t,e){return this.transformExpr(new gk(t.operator,t.lhs.visitExpression(this,e),t.rhs.visitExpression(this,e),t.type,t.sourceSpan),e)},t.prototype.visitReadPropExpr=function(t,e){return this.transformExpr(new bk(t.receiver.visitExpression(this,e),t.name,t.type,t.sourceSpan),e)},t.prototype.visitReadKeyExpr=function(t,e){return this.transformExpr(new wk(t.receiver.visitExpression(this,e),t.index.visitExpression(this,e),t.type,t.sourceSpan),e)},t.prototype.visitLiteralArrayExpr=function(t,e){return this.transformExpr(new _k(this.visitAllExpressions(t.entries,e),t.type,t.sourceSpan),e)},t.prototype.visitLiteralMapExpr=function(t,e){var n=this,r=t.entries.map(function(t){return new Ek(t.key,t.value.visitExpression(n,e),t.quoted)}),i=new WN(t.valueType,null);return this.transformExpr(new Ck(r,i,t.sourceSpan),e)},t.prototype.visitCommaExpr=function(t,e){return this.transformExpr(new Sk(this.visitAllExpressions(t.parts,e),t.sourceSpan),e)},t.prototype.visitAllExpressions=function(t,e){var n=this;return t.map(function(t){return t.visitExpression(n,e)})},t.prototype.visitDeclareVarStmt=function(t,e){var n=t.value&&t.value.visitExpression(this,e);return this.transformStmt(new Dk(t.name,n,t.type,t.modifiers,t.sourceSpan),e)},t.prototype.visitDeclareFunctionStmt=function(t,e){return this.transformStmt(new Ik(t.name,t.params,this.visitAllStatements(t.statements,e),t.type,t.modifiers,t.sourceSpan),e)},t.prototype.visitExpressionStmt=function(t,e){return this.transformStmt(new Nk(t.expr.visitExpression(this,e),t.sourceSpan),e)},t.prototype.visitReturnStmt=function(t,e){return this.transformStmt(new kk(t.value.visitExpression(this,e),t.sourceSpan),e)},t.prototype.visitDeclareClassStmt=function(t,e){var n=this,r=t.parent.visitExpression(this,e),i=t.getters.map(function(t){return new Rk(t.name,n.visitAllStatements(t.body,e),t.type,t.modifiers)}),o=t.constructorMethod&&new Mk(t.constructorMethod.name,t.constructorMethod.params,this.visitAllStatements(t.constructorMethod.body,e),t.constructorMethod.type,t.constructorMethod.modifiers),s=t.methods.map(function(t){return new Mk(t.name,t.params,n.visitAllStatements(t.body,e),t.type,t.modifiers)});return this.transformStmt(new Fk(t.name,r,t.fields,i,o,s,t.modifiers,t.sourceSpan),e)},t.prototype.visitIfStmt=function(t,e){return this.transformStmt(new Lk(t.condition.visitExpression(this,e),this.visitAllStatements(t.trueCase,e),this.visitAllStatements(t.falseCase,e),t.sourceSpan),e)},t.prototype.visitTryCatchStmt=function(t,e){return this.transformStmt(new Vk(this.visitAllStatements(t.bodyStmts,e),this.visitAllStatements(t.catchStmts,e),t.sourceSpan),e)},t.prototype.visitThrowStmt=function(t,e){return this.transformStmt(new Bk(t.error.visitExpression(this,e),t.sourceSpan),e)},t.prototype.visitCommentStmt=function(t,e){return this.transformStmt(t,e)},t.prototype.visitJSDocCommentStmt=function(t,e){return this.transformStmt(t,e)},t.prototype.visitAllStatements=function(t,e){var n=this;return t.map(function(t){return t.visitStatement(n,e)})},t}(),qk=function(){function t(){}return t.prototype.visitType=function(t,e){return t},t.prototype.visitExpression=function(t,e){return t.type&&t.type.visitType(this,e),t},t.prototype.visitBuiltinType=function(t,e){return this.visitType(t,e)},t.prototype.visitExpressionType=function(t,e){var n=this;return t.value.visitExpression(this,e),null!==t.typeParams&&t.typeParams.forEach(function(t){return n.visitType(t,e)}),this.visitType(t,e)},t.prototype.visitArrayType=function(t,e){return this.visitType(t,e)},t.prototype.visitMapType=function(t,e){return this.visitType(t,e)},t.prototype.visitWrappedNodeExpr=function(t,e){return t},t.prototype.visitTypeofExpr=function(t,e){return this.visitExpression(t,e)},t.prototype.visitReadVarExpr=function(t,e){return this.visitExpression(t,e)},t.prototype.visitWriteVarExpr=function(t,e){return t.value.visitExpression(this,e),this.visitExpression(t,e)},t.prototype.visitWriteKeyExpr=function(t,e){return t.receiver.visitExpression(this,e),t.index.visitExpression(this,e),t.value.visitExpression(this,e),this.visitExpression(t,e)},t.prototype.visitWritePropExpr=function(t,e){return t.receiver.visitExpression(this,e),t.value.visitExpression(this,e),this.visitExpression(t,e)},t.prototype.visitInvokeMethodExpr=function(t,e){return t.receiver.visitExpression(this,e),this.visitAllExpressions(t.args,e),this.visitExpression(t,e)},t.prototype.visitInvokeFunctionExpr=function(t,e){return t.fn.visitExpression(this,e),this.visitAllExpressions(t.args,e),this.visitExpression(t,e)},t.prototype.visitInstantiateExpr=function(t,e){return t.classExpr.visitExpression(this,e),this.visitAllExpressions(t.args,e),this.visitExpression(t,e)},t.prototype.visitLiteralExpr=function(t,e){return this.visitExpression(t,e)},t.prototype.visitExternalExpr=function(t,e){var n=this;return t.typeParams&&t.typeParams.forEach(function(t){return t.visitType(n,e)}),this.visitExpression(t,e)},t.prototype.visitConditionalExpr=function(t,e){return t.condition.visitExpression(this,e),t.trueCase.visitExpression(this,e),t.falseCase.visitExpression(this,e),this.visitExpression(t,e)},t.prototype.visitNotExpr=function(t,e){return t.condition.visitExpression(this,e),this.visitExpression(t,e)},t.prototype.visitAssertNotNullExpr=function(t,e){return t.condition.visitExpression(this,e),this.visitExpression(t,e)},t.prototype.visitCastExpr=function(t,e){return t.value.visitExpression(this,e),this.visitExpression(t,e)},t.prototype.visitFunctionExpr=function(t,e){return this.visitAllStatements(t.statements,e),this.visitExpression(t,e)},t.prototype.visitBinaryOperatorExpr=function(t,e){return t.lhs.visitExpression(this,e),t.rhs.visitExpression(this,e),this.visitExpression(t,e)},t.prototype.visitReadPropExpr=function(t,e){return t.receiver.visitExpression(this,e),this.visitExpression(t,e)},t.prototype.visitReadKeyExpr=function(t,e){return t.receiver.visitExpression(this,e),t.index.visitExpression(this,e),this.visitExpression(t,e)},t.prototype.visitLiteralArrayExpr=function(t,e){return this.visitAllExpressions(t.entries,e),this.visitExpression(t,e)},t.prototype.visitLiteralMapExpr=function(t,e){var n=this;return t.entries.forEach(function(t){return t.value.visitExpression(n,e)}),this.visitExpression(t,e)},t.prototype.visitCommaExpr=function(t,e){return this.visitAllExpressions(t.parts,e),this.visitExpression(t,e)},t.prototype.visitAllExpressions=function(t,e){var n=this;t.forEach(function(t){return t.visitExpression(n,e)})},t.prototype.visitDeclareVarStmt=function(t,e){return t.value&&t.value.visitExpression(this,e),t.type&&t.type.visitType(this,e),t},t.prototype.visitDeclareFunctionStmt=function(t,e){return this.visitAllStatements(t.statements,e),t.type&&t.type.visitType(this,e),t},t.prototype.visitExpressionStmt=function(t,e){return t.expr.visitExpression(this,e),t},t.prototype.visitReturnStmt=function(t,e){return t.value.visitExpression(this,e),t},t.prototype.visitDeclareClassStmt=function(t,e){var n=this;return t.parent.visitExpression(this,e),t.getters.forEach(function(t){return n.visitAllStatements(t.body,e)}),t.constructorMethod&&this.visitAllStatements(t.constructorMethod.body,e),t.methods.forEach(function(t){return n.visitAllStatements(t.body,e)}),t},t.prototype.visitIfStmt=function(t,e){return t.condition.visitExpression(this,e),this.visitAllStatements(t.trueCase,e),this.visitAllStatements(t.falseCase,e),t},t.prototype.visitTryCatchStmt=function(t,e){return this.visitAllStatements(t.bodyStmts,e),this.visitAllStatements(t.catchStmts,e),t},t.prototype.visitThrowStmt=function(t,e){return t.error.visitExpression(this,e),t},t.prototype.visitCommentStmt=function(t,e){return t},t.prototype.visitJSDocCommentStmt=function(t,e){return t},t.prototype.visitAllStatements=function(t,e){var n=this;t.forEach(function(t){return t.visitStatement(n,e)})},t}();function Hk(t){var e=new Wk;return e.visitAllStatements(t,null),e.varNames}var Wk=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.varNames=new Set,e}return i(e,t),e.prototype.visitDeclareFunctionStmt=function(t,e){return t},e.prototype.visitDeclareClassStmt=function(t,e){return t},e.prototype.visitReadVarExpr=function(t,e){return t.name&&this.varNames.add(t.name),null},e}(qk);!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.externalReferences=[],e}i(e,t),e.prototype.visitExternalExpr=function(e,n){return this.externalReferences.push(e.value),t.prototype.visitExternalExpr.call(this,e,n)}}(qk);function zk(t,e){if(!e)return t;var n=new Gk(e);return t.visitStatement(n,null)}function Kk(t,e){if(!e)return t;var n=new Gk(e);return t.visitExpression(n,null)}var Gk=function(t){function e(e){var n=t.call(this)||this;return n.sourceSpan=e,n}return i(e,t),e.prototype._clone=function(t){var e=Object.create(t.constructor.prototype);for(var n in t)e[n]=t[n];return e},e.prototype.transformExpr=function(t,e){return t.sourceSpan||((t=this._clone(t)).sourceSpan=this.sourceSpan),t},e.prototype.transformStmt=function(t,e){return t.sourceSpan||((t=this._clone(t)).sourceSpan=this.sourceSpan),t},e}(Uk);function Qk(t,e,n){return new tk(t,e,n)}function Xk(t,e,n){return void 0===e&&(e=null),new lk(t,null,e,n)}function $k(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=null),null!=t?Yk(Xk(t,e,null),n):null}function Yk(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=null),new qN(t,e,n)}function Jk(t,e,n){return new _k(t,e,n)}function Zk(t,e){return void 0===e&&(e=null),new Ck(t.map(function(t){return new Ek(t.key,t.value,t.quoted)}),e,null)}function tP(t,e,n,r,i){return new yk(t,e,n,r,i)}function eP(t,e,n){return new ck(t,e,n)}function nP(t){var e="";if(t.tagName&&(e+=" @"+t.tagName),t.text){if(t.text.match(/\/\*|\*\//))throw new Error('JSDoc text cannot contain "/*" and "*/"');e+=" "+t.text.replace(/@/g,"\\@")}return e}function rP(t,e,n){return void 0===n&&(n=null),mx(e,new iP(t),n)}var iP=function(){function t(t){this.ctx=t}return t.prototype.visitArray=function(t,e){var n=this;return Jk(t.map(function(t){return mx(t,n,null)}),e)},t.prototype.visitStringMap=function(t,e){var n=this,r=[],i=new Set(t&&t.$quoted$);return Object.keys(t).forEach(function(e){r.push(new Ek(e,mx(t[e],n,null),i.has(e)))}),new Ck(r,e)},t.prototype.visitPrimitive=function(t,e){return eP(t,e)},t.prototype.visitOther=function(t,e){return t instanceof JN?t:this.ctx.importExpr(t)},t}();function oP(t,e){return{key:t,value:e,quoted:!1}}!function(){function t(t,e){this.reflector=t,this.alwaysGenerateDef=e,this.tokenInjector=t.resolveExternalReference(RN.Injector)}t.prototype.depsArray=function(t,e){var n=this;return t.map(function(t){var r,i=t,o=[i],s=0;if(Array.isArray(t))for(var a=0;a<t.length;a++){var u=t[a];u&&("Optional"===u.ngMetadataName?s|=8:"SkipSelf"===u.ngMetadataName?s|=4:"Self"===u.ngMetadataName?s|=2:i="Inject"===u.ngMetadataName?u.token:u)}return r="string"==typeof i?eP(i):i===n.tokenInjector?Xk(RN.INJECTOR):e.importExpr(i),o=0!==s?[r,eP(s)]:[r],Xk(RN.inject).callFn(o)})},t.prototype.factoryFor=function(t,e){var n;if(t.useExisting)n=Xk(RN.inject).callFn([e.importExpr(t.useExisting)]);else if(t.useFactory){var r=t.deps||[];if(!(r.length>0))return e.importExpr(t.useFactory);n=e.importExpr(t.useFactory).callFn(this.depsArray(r,e))}else if(t.useValue)n=rP(e,t.useValue);else{var i=t.useClass||t.symbol,o=this.depsArray(this.reflector.parameters(i),e);n=new uk(e.importExpr(i),o)}return tP([],[new kk(n)],void 0,void 0,t.symbol.name+"_Factory")},t.prototype.injectableDef=function(t,e){var n=xk;void 0!==t.providedIn&&(n=null===t.providedIn?xk:"string"==typeof t.providedIn?eP(t.providedIn):e.importExpr(t.providedIn));var r=[oP("factory",this.factoryFor(t,e)),oP("token",e.importExpr(t.type.reference)),oP("providedIn",n)];return Xk(RN.defineInjectable).callFn([Zk(r)])},t.prototype.compile=function(t,e){if(this.alwaysGenerateDef||void 0!==t.providedIn){var n=iT(t.type),r=new Fk(n,null,[new Ok("ngInjectableDef",KN,[ok.Static],this.injectableDef(t,e))],[],new Mk(null,[],[]),[]);e.statements.push(r)}}}();var sP=/(\.ts|\.d\.ts|\.js|\.jsx|\.tsx)$/,aP=/\.ngfactory\.|\.ngsummary\./,uP=/\.ngsummary\./,cP=/NgSummary$/;function lP(t,e){void 0===e&&(e=!1);var n=pP(t,e);return n[0]+".ngfactory"+fP(n[1])}function hP(t){return t.replace(aP,".")}function pP(t,e){if(void 0===e&&(e=!1),t.endsWith(".d.ts"))return[t.slice(0,-5),e?".ts":".d.ts"];var n=t.lastIndexOf(".");return-1!==n?[t.substring(0,n),t.substring(n)]:[t,""]}function fP(t){return".tsx"===t?".ts":t}function dP(t){return t.replace(sP,"")+".ngsummary.json"}function vP(t,e){void 0===e&&(e=!1);var n=pP(hP(t),e);return n[0]+".ngsummary"+n[1]}function mP(t){return t+"NgSummary"}var yP,gP=/\u0275\d+/;!function(t){t[t.OnInit=0]="OnInit",t[t.OnDestroy=1]="OnDestroy",t[t.DoCheck=2]="DoCheck",t[t.OnChanges=3]="OnChanges",t[t.AfterContentInit=4]="AfterContentInit",t[t.AfterContentChecked=5]="AfterContentChecked",t[t.AfterViewInit=6]="AfterViewInit",t[t.AfterViewChecked=7]="AfterViewChecked"}(yP||(yP={}));var bP=[yP.OnInit,yP.OnDestroy,yP.DoCheck,yP.OnChanges,yP.AfterContentInit,yP.AfterContentChecked,yP.AfterViewInit,yP.AfterViewChecked];function wP(t,e,n){return t.hasLifecycleHook(n,function(t){switch(t){case yP.OnInit:return"ngOnInit";case yP.OnDestroy:return"ngOnDestroy";case yP.DoCheck:return"ngDoCheck";case yP.OnChanges:return"ngOnChanges";case yP.AfterContentInit:return"ngAfterContentInit";case yP.AfterContentChecked:return"ngAfterContentChecked";case yP.AfterViewInit:return"ngAfterViewInit";case yP.AfterViewChecked:return"ngAfterViewChecked"}}(e))}var _P="ngComponentType",EP=function(){function t(t,e,n,r,i,o,s,a,u,c,l,h){this._config=t,this._htmlParser=e,this._ngModuleResolver=n,this._directiveResolver=r,this._pipeResolver=i,this._summaryResolver=o,this._schemaRegistry=s,this._directiveNormalizer=a,this._console=u,this._staticSymbolCache=c,this._reflector=l,this._errorCollector=h,this._nonNormalizedDirectiveCache=new Map,this._directiveCache=new Map,this._summaryCache=new Map,this._pipeCache=new Map,this._ngModuleCache=new Map,this._ngModuleOfTypes=new Map,this._shallowModuleCache=new Map}return t.prototype.getReflector=function(){return this._reflector},t.prototype.clearCacheFor=function(t){var e=this._directiveCache.get(t);this._directiveCache.delete(t),this._nonNormalizedDirectiveCache.delete(t),this._summaryCache.delete(t),this._pipeCache.delete(t),this._ngModuleOfTypes.delete(t),this._ngModuleCache.clear(),e&&this._directiveNormalizer.clearCacheFor(e)},t.prototype.clearCache=function(){this._directiveCache.clear(),this._nonNormalizedDirectiveCache.clear(),this._summaryCache.clear(),this._pipeCache.clear(),this._ngModuleCache.clear(),this._ngModuleOfTypes.clear(),this._directiveNormalizer.clearCache()},t.prototype._createProxyClass=function(t,e){var n=null,r=function(){if(!n)throw new Error("Illegal state: Class "+e+" for type "+Nx(t)+" is not compiled yet!");return n.apply(this,arguments)};return r.setDelegate=function(t){n=t,r.prototype=t.prototype},r.overriddenName=e,r},t.prototype.getGeneratedClass=function(t,e){return t instanceof Jx?this._staticSymbolCache.get(lP(t.filePath),e):this._createProxyClass(t,e)},t.prototype.getComponentViewClass=function(t){return this.getGeneratedClass(t,sT(t,0))},t.prototype.getHostComponentViewClass=function(t){return this.getGeneratedClass(t,"HostView_"+iT({reference:t}))},t.prototype.getHostComponentType=function(t){var e=iT({reference:t})+"_Host";if(t instanceof Jx)return this._staticSymbolCache.get(t.filePath,e);var n=function(){};return n.overriddenName=e,n},t.prototype.getRendererType=function(t){return t instanceof Jx?this._staticSymbolCache.get(lP(t.filePath),aT(t)):{}},t.prototype.getComponentFactory=function(t,e,n,r){if(e instanceof Jx)return this._staticSymbolCache.get(lP(e.filePath),uT(e));var i=this.getHostComponentViewClass(e);return this._reflector.resolveExternalReference(RN.createComponentFactory)(t,e,i,n,r,[])},t.prototype.initComponentFactory=function(t,e){var n;t instanceof Jx||(n=t.ngContentSelectors).push.apply(n,h(e))},t.prototype._loadSummary=function(t,e){var n=this._summaryCache.get(t);if(!n){var r=this._summaryResolver.resolveSummary(t);n=r?r.type:null,this._summaryCache.set(t,n||null)}return n&&n.summaryKind===e?n:null},t.prototype.getHostComponentMetadata=function(t,e){var n=this.getHostComponentType(t.type.reference);e||(e=this.getHostComponentViewClass(n));var r=RS.parse(t.selector)[0].getMatchingElementTemplate(),i=this._htmlParser.parse(r,"");return fT.create({isHost:!0,type:{reference:n,diDeps:[],lifecycleHooks:[]},template:new pT({encapsulation:PS.None,template:r,templateUrl:"",htmlAst:i,styles:[],styleUrls:[],ngContentSelectors:[],animations:[],isInline:!0,externalStylesheets:[],interpolation:null,preserveWhitespaces:!1}),exportAs:null,changeDetection:OS.Default,inputs:[],outputs:[],host:{},isComponent:!0,selector:"*",providers:[],viewProviders:[],queries:[],guards:{},viewQueries:[],componentViewType:e,rendererType:{id:"__Host__",encapsulation:PS.None,styles:[],data:{}},entryComponents:[],componentFactory:null})},t.prototype.loadDirectiveMetadata=function(t,e,n){var r=this;if(this._directiveCache.has(e))return null;e=kx(e);var i,o,s=this.getNonNormalizedDirectiveMetadata(e),a=s.annotation,u=s.metadata,c=function(t){var n=new fT({isHost:!1,type:u.type,isComponent:u.isComponent,selector:u.selector,exportAs:u.exportAs,changeDetection:u.changeDetection,inputs:u.inputs,outputs:u.outputs,hostListeners:u.hostListeners,hostProperties:u.hostProperties,hostAttributes:u.hostAttributes,providers:u.providers,viewProviders:u.viewProviders,queries:u.queries,guards:u.guards,viewQueries:u.viewQueries,entryComponents:u.entryComponents,componentViewType:u.componentViewType,rendererType:u.rendererType,componentFactory:u.componentFactory,template:t});return t&&r.initComponentFactory(u.componentFactory,t.ngContentSelectors),r._directiveCache.set(e,n),r._summaryCache.set(e,n.toSummary()),null};if(u.isComponent){var l=u.template,h=this._directiveNormalizer.normalizeTemplate({ngModuleType:t,componentType:e,moduleUrl:this._reflector.componentModuleUrl(e,a),encapsulation:l.encapsulation,template:l.template,templateUrl:l.templateUrl,styles:l.styles,styleUrls:l.styleUrls,animations:l.animations,interpolation:l.interpolation,preserveWhitespaces:l.preserveWhitespaces});return Px(h)&&n?(this._reportError((i=e,(o=Error("Can't compile synchronously as "+Nx(i)+" is still being loaded!"))[_P]=i,o),e),null):_x(h,c)}return c(null),null},t.prototype.getNonNormalizedDirectiveMetadata=function(t){var e=this;if(!(t=kx(t)))return null;var n=this._nonNormalizedDirectiveCache.get(t);if(n)return n;var r=this._directiveResolver.resolve(t,!1);if(!r)return null;var i=void 0;if(XS.isTypeOf(r)){IT("styles",(s=r).styles),IT("styleUrls",s.styleUrls),kT("interpolation",s.interpolation);var o=s.animations;i=new pT({encapsulation:gx(s.encapsulation),template:gx(s.template),templateUrl:gx(s.templateUrl),htmlAst:null,styles:s.styles||[],styleUrls:s.styleUrls||[],animations:o||[],interpolation:gx(s.interpolation),isInline:!!s.template,externalStylesheets:[],ngContentSelectors:[],preserveWhitespaces:gx(r.preserveWhitespaces)})}var s,a=null,u=[],c=[],l=r.selector;XS.isTypeOf(r)?(a=(s=r).changeDetection,s.viewProviders&&(u=this._getProvidersMetadata(s.viewProviders,c,'viewProviders for "'+TP(t)+'"',[],t)),s.entryComponents&&(c=CP(s.entryComponents).map(function(t){return e._getEntryComponentMetadata(t)}).concat(c)),l||(l=this._schemaRegistry.getDefaultComponentElementName())):l||(this._reportError(Sx("Directive "+TP(t)+" has no selector, please add it!"),t),l="error");var h=[];null!=r.providers&&(h=this._getProvidersMetadata(r.providers,c,'providers for "'+TP(t)+'"',[],t));var p=[],f=[];null!=r.queries&&(p=this._getQueriesMetadata(r.queries,!1,t),f=this._getQueriesMetadata(r.queries,!0,t));var d=fT.create({isHost:!1,selector:l,exportAs:gx(r.exportAs),isComponent:!!i,type:this._getTypeMetadata(t),template:i,changeDetection:a,inputs:r.inputs||[],outputs:r.outputs||[],host:r.host||{},providers:h||[],viewProviders:u||[],queries:p||[],guards:r.guards||{},viewQueries:f||[],entryComponents:c,componentViewType:i?this.getComponentViewClass(t):null,rendererType:i?this.getRendererType(t):null,componentFactory:null});return i&&(d.componentFactory=this.getComponentFactory(l,t,d.inputs,d.outputs)),n={metadata:d,annotation:r},this._nonNormalizedDirectiveCache.set(t,n),n},t.prototype.getDirectiveMetadata=function(t){var e=this._directiveCache.get(t);return e||this._reportError(Sx("Illegal state: getDirectiveMetadata can only be called after loadNgModuleDirectiveAndPipeMetadata for a module that declares it. Directive "+TP(t)+"."),t),e},t.prototype.getDirectiveSummary=function(t){var e=this._loadSummary(t,nT.Directive);return e||this._reportError(Sx("Illegal state: Could not load the summary for directive "+TP(t)+"."),t),e},t.prototype.isDirective=function(t){return!!this._loadSummary(t,nT.Directive)||this._directiveResolver.isDirective(t)},t.prototype.isPipe=function(t){return!!this._loadSummary(t,nT.Pipe)||this._pipeResolver.isPipe(t)},t.prototype.isNgModule=function(t){return!!this._loadSummary(t,nT.NgModule)||this._ngModuleResolver.isNgModule(t)},t.prototype.getNgModuleSummary=function(t,e){void 0===e&&(e=null);var n=this._loadSummary(t,nT.NgModule);if(!n){var r=this.getNgModuleMetadata(t,!1,e);(n=r?r.toSummary():null)&&this._summaryCache.set(t,n)}return n},t.prototype.loadNgModuleDirectiveAndPipeMetadata=function(t,e,n){var r=this;void 0===n&&(n=!0);var i=this.getNgModuleMetadata(t,n),o=[];return i&&(i.declaredDirectives.forEach(function(n){var i=r.loadDirectiveMetadata(t,n.reference,e);i&&o.push(i)}),i.declaredPipes.forEach(function(t){return r._loadPipeMetadata(t.reference)})),Promise.all(o)},t.prototype.getShallowModuleMetadata=function(t){var e=this._shallowModuleCache.get(t);if(e)return e;var n=nA(this._reflector.shallowAnnotations(t),ex.isTypeOf);return e={type:this._getTypeMetadata(t),rawExports:n.exports,rawImports:n.imports,rawProviders:n.providers},this._shallowModuleCache.set(t,e),e},t.prototype.getNgModuleMetadata=function(t,e,n){var r=this;void 0===e&&(e=!0),void 0===n&&(n=null),t=kx(t);var i=this._ngModuleCache.get(t);if(i)return i;var o=this._ngModuleResolver.resolve(t,e);if(!o)return null;var s=[],a=[],u=[],c=[],l=[],p=[],f=[],d=[],v=[];o.imports&&CP(o.imports).forEach(function(e){var i=void 0;if(SP(e))i=e;else if(e&&e.ngModule){var o=e;i=o.ngModule,o.providers&&p.push.apply(p,h(r._getProvidersMetadata(o.providers,f,"provider for the NgModule '"+TP(i)+"'",[],e)))}if(i){if(!r._checkSelfImport(t,i))if(n||(n=new Set),n.has(i))r._reportError(Sx(r._getTypeDescriptor(i)+" '"+TP(e)+"' is imported recursively by the module '"+TP(t)+"'."),t);else{n.add(i);var s=r.getNgModuleSummary(i,n);n.delete(i),s?c.push(s):r._reportError(Sx("Unexpected "+r._getTypeDescriptor(e)+" '"+TP(e)+"' imported by the module '"+TP(t)+"'. Please add a @NgModule annotation."),t)}}else r._reportError(Sx("Unexpected value '"+TP(e)+"' imported by the module '"+TP(t)+"'"),t)}),o.exports&&CP(o.exports).forEach(function(e){if(SP(e))if(n||(n=new Set),n.has(e))r._reportError(Sx(r._getTypeDescriptor(e)+" '"+Nx(e)+"' is exported recursively by the module '"+TP(t)+"'"),t);else{n.add(e);var i=r.getNgModuleSummary(e,n);n.delete(e),i?l.push(i):a.push(r._getIdentifierMetadata(e))}else r._reportError(Sx("Unexpected value '"+TP(e)+"' exported by the module '"+TP(t)+"'"),t)});var m=this._getTransitiveNgModuleMetadata(c,l);o.declarations&&CP(o.declarations).forEach(function(e){if(SP(e)){var n=r._getIdentifierMetadata(e);if(r.isDirective(e))m.addDirective(n),s.push(n),r._addTypeToModule(e,t);else{if(!r.isPipe(e))return void r._reportError(Sx("Unexpected "+r._getTypeDescriptor(e)+" '"+TP(e)+"' declared by the module '"+TP(t)+"'. Please add a @Pipe/@Directive/@Component annotation."),t);m.addPipe(n),m.pipes.push(n),u.push(n),r._addTypeToModule(e,t)}}else r._reportError(Sx("Unexpected value '"+TP(e)+"' declared by the module '"+TP(t)+"'"),t)});var y=[],g=[];return a.forEach(function(e){if(m.directivesSet.has(e.reference))y.push(e),m.addExportedDirective(e);else{if(!m.pipesSet.has(e.reference))return void r._reportError(Sx("Can't export "+r._getTypeDescriptor(e.reference)+" "+TP(e.reference)+" from "+TP(t)+" as it was neither declared nor imported!"),t);g.push(e),m.addExportedPipe(e)}}),o.providers&&p.push.apply(p,h(this._getProvidersMetadata(o.providers,f,"provider for the NgModule '"+TP(t)+"'",[],t))),o.entryComponents&&f.push.apply(f,h(CP(o.entryComponents).map(function(t){return r._getEntryComponentMetadata(t)}))),o.bootstrap&&CP(o.bootstrap).forEach(function(e){SP(e)?d.push(r._getIdentifierMetadata(e)):r._reportError(Sx("Unexpected value '"+TP(e)+"' used in the bootstrap property of module '"+TP(t)+"'"),t)}),f.push.apply(f,h(d.map(function(t){return r._getEntryComponentMetadata(t.reference)}))),o.schemas&&v.push.apply(v,h(CP(o.schemas))),i=new vT({type:this._getTypeMetadata(t),providers:p,entryComponents:f,bootstrapComponents:d,schemas:v,declaredDirectives:s,exportedDirectives:y,declaredPipes:u,exportedPipes:g,importedModules:c,exportedModules:l,transitiveModule:m,id:o.id||null}),f.forEach(function(t){return m.addEntryComponent(t)}),p.forEach(function(t){return m.addProvider(t,i.type)}),m.addModule(i.type),this._ngModuleCache.set(t,i),i},t.prototype._checkSelfImport=function(t,e){return t===e&&(this._reportError(Sx("'"+TP(t)+"' module can't import itself"),t),!0)},t.prototype._getTypeDescriptor=function(t){if(SP(t)){if(this.isDirective(t))return"directive";if(this.isPipe(t))return"pipe";if(this.isNgModule(t))return"module"}return t.provide?"provider":"value"},t.prototype._addTypeToModule=function(t,e){var n=this._ngModuleOfTypes.get(t);n&&n!==e?this._reportError(Sx("Type "+TP(t)+" is part of the declarations of 2 modules: "+TP(n)+" and "+TP(e)+"! Please consider moving "+TP(t)+" to a higher module that imports "+TP(n)+" and "+TP(e)+". You can also create a new NgModule that exports and includes "+TP(t)+" then import that NgModule in "+TP(n)+" and "+TP(e)+"."),e):this._ngModuleOfTypes.set(t,e)},t.prototype._getTransitiveNgModuleMetadata=function(t,e){var n=new mT,r=new Map;return t.concat(e).forEach(function(t){t.modules.forEach(function(t){return n.addModule(t)}),t.entryComponents.forEach(function(t){return n.addEntryComponent(t)});var e=new Set;t.providers.forEach(function(t){var i=lT(t.provider.token),o=r.get(i);o||(o=new Set,r.set(i,o));var s=t.module.reference;!e.has(i)&&o.has(s)||(o.add(s),e.add(i),n.addProvider(t.provider,t.module))})}),e.forEach(function(t){t.exportedDirectives.forEach(function(t){return n.addExportedDirective(t)}),t.exportedPipes.forEach(function(t){return n.addExportedPipe(t)})}),t.forEach(function(t){t.exportedDirectives.forEach(function(t){return n.addDirective(t)}),t.exportedPipes.forEach(function(t){return n.addPipe(t)})}),n},t.prototype._getIdentifierMetadata=function(t){return{reference:t=kx(t)}},t.prototype.isInjectable=function(t){return this._reflector.tryAnnotations(t).some(function(t){return nx.isTypeOf(t)})},t.prototype.getInjectableSummary=function(t){return{summaryKind:nT.Injectable,type:this._getTypeMetadata(t,null,!1)}},t.prototype.getInjectableMetadata=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!0);var r=this._loadSummary(t,nT.Injectable),i=r?r.type:this._getTypeMetadata(t,e,n),o=this._reflector.annotations(t).filter(function(t){return nx.isTypeOf(t)});if(0===o.length)return null;var s=o[o.length-1];return{symbol:t,type:i,providedIn:s.providedIn,useValue:s.useValue,useClass:s.useClass,useExisting:s.useExisting,useFactory:s.useFactory,deps:s.deps}},t.prototype._getTypeMetadata=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!0);var r,i,o=this._getIdentifierMetadata(t);return{reference:o.reference,diDeps:this._getDependenciesMetadata(o.reference,e,n),lifecycleHooks:(r=this._reflector,i=o.reference,bP.filter(function(t){return wP(r,t,i)}))}},t.prototype._getFactoryMetadata=function(t,e){return void 0===e&&(e=null),{reference:t=kx(t),diDeps:this._getDependenciesMetadata(t,e)}},t.prototype.getPipeMetadata=function(t){var e=this._pipeCache.get(t);return e||this._reportError(Sx("Illegal state: getPipeMetadata can only be called after loadNgModuleDirectiveAndPipeMetadata for a module that declares it. Pipe "+TP(t)+"."),t),e||null},t.prototype.getPipeSummary=function(t){var e=this._loadSummary(t,nT.Pipe);return e||this._reportError(Sx("Illegal state: Could not load the summary for pipe "+TP(t)+"."),t),e},t.prototype.getOrLoadPipeMetadata=function(t){var e=this._pipeCache.get(t);return e||(e=this._loadPipeMetadata(t)),e},t.prototype._loadPipeMetadata=function(t){t=kx(t);var e=this._pipeResolver.resolve(t),n=new dT({type:this._getTypeMetadata(t),name:e.name,pure:!!e.pure});return this._pipeCache.set(t,n),this._summaryCache.set(t,n.toSummary()),n},t.prototype._getDependenciesMetadata=function(t,e,n){var r=this;void 0===n&&(n=!0);var i=!1,o=(e||this._reflector.parameters(t)||[]).map(function(t){var e=!1,n=!1,o=!1,s=!1,a=!1,u=null;return Array.isArray(t)?t.forEach(function(t){ux.isTypeOf(t)?n=!0:sx.isTypeOf(t)?o=!0:ax.isTypeOf(t)?s=!0:ox.isTypeOf(t)?a=!0:US.isTypeOf(t)?(e=!0,u=t.attributeName):VS.isTypeOf(t)?u=t.token:BS.isTypeOf(t)||t instanceof Jx?u=t:SP(t)&&null==u&&(u=t)}):u=t,null==u?(i=!0,null):{isAttribute:e,isHost:n,isSelf:o,isSkipSelf:s,isOptional:a,token:r._getTokenMetadata(u)}});if(i){var s=o.map(function(t){return t?TP(t.token):"?"}).join(", "),a="Can't resolve all parameters for "+TP(t)+": ("+s+").";n||this._config.strictInjectionParameters?this._reportError(Sx(a),t):this._console.warn("Warning: "+a+" This will become an error in Angular v6.x")}return o},t.prototype._getTokenMetadata=function(t){return"string"==typeof(t=kx(t))?{value:t}:{identifier:{reference:t}}},t.prototype._getProvidersMetadata=function(t,e,n,r,i){var o=this;return void 0===r&&(r=[]),t.forEach(function(s,a){if(Array.isArray(s))o._getProvidersMetadata(s,e,n,r);else{var u=void 0;if((s=kx(s))&&"object"==typeof s&&s.hasOwnProperty("provide"))o._validateProvider(s),u=new gT(s.provide,s);else{if(!SP(s)){if(void 0===s)return void o._reportError(Sx("Encountered undefined provider! Usually this means you have a circular dependencies. This might be caused by using 'barrel' index.ts files."));var c=t.reduce(function(t,e,n){return n<a?t.push(""+TP(e)):n==a?t.push("?"+TP(e)+"?"):n==a+1&&t.push("..."),t},[]).join(", ");return void o._reportError(Sx("Invalid "+(n||"provider")+" - only instances of Provider and Type are allowed, got: ["+c+"]"),i)}u=new gT(s,{useClass:s})}u.token===o._reflector.resolveExternalReference(RN.ANALYZE_FOR_ENTRY_COMPONENTS)?e.push.apply(e,h(o._getEntryComponentsFromProvider(u,i))):r.push(o.getProviderMetadata(u))}}),r},t.prototype._validateProvider=function(t){t.hasOwnProperty("useClass")&&null==t.useClass&&this._reportError(Sx("Invalid provider for "+TP(t.provide)+". useClass cannot be "+t.useClass+".\n           Usually it happens when:\n           1. There's a circular dependency (might be caused by using index.ts (barrel) files).\n           2. Class was used before it was declared. Use forwardRef in this case."))},t.prototype._getEntryComponentsFromProvider=function(t,e){var n,r,i=this,o=[],s=[];return t.useFactory||t.useExisting||t.useClass?(this._reportError(Sx("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports useValue!"),e),[]):t.multi?(n=t.useValue,r=s,mx(n,new xP,r),s.forEach(function(t){var e=i._getEntryComponentMetadata(t.reference,!1);e&&o.push(e)}),o):(this._reportError(Sx("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports 'multi = true'!"),e),[])},t.prototype._getEntryComponentMetadata=function(t,e){void 0===e&&(e=!0);var n=this.getNonNormalizedDirectiveMetadata(t);if(n&&n.metadata.isComponent)return{componentType:t,componentFactory:n.metadata.componentFactory};var r=this._loadSummary(t,nT.Directive);if(r&&r.isComponent)return{componentType:t,componentFactory:r.componentFactory};if(e)throw Sx(t.name+" cannot be used as an entry component.");return null},t.prototype._getInjectableTypeMetadata=function(t,e){void 0===e&&(e=null);var n=this._loadSummary(t,nT.Injectable);return n?n.type:this._getTypeMetadata(t,e)},t.prototype.getProviderMetadata=function(t){var e=void 0,n=null,r=null,i=this._getTokenMetadata(t.token);return t.useClass?(e=(n=this._getInjectableTypeMetadata(t.useClass,t.dependencies)).diDeps,t.token===t.useClass&&(i={identifier:n})):t.useFactory&&(e=(r=this._getFactoryMetadata(t.useFactory,t.dependencies)).diDeps),{token:i,useClass:n,useValue:t.useValue,useFactory:r,useExisting:t.useExisting?this._getTokenMetadata(t.useExisting):void 0,deps:e,multi:t.multi}},t.prototype._getQueriesMetadata=function(t,e,n){var r=this,i=[];return Object.keys(t).forEach(function(o){var s=t[o];s.isViewQuery===e&&i.push(r._getQueryMetadata(s,o,n))}),i},t.prototype._queryVarBindings=function(t){return t.split(/\s*,\s*/)},t.prototype._getQueryMetadata=function(t,e,n){var r,i=this;return"string"==typeof t.selector?r=this._queryVarBindings(t.selector).map(function(t){return i._getTokenMetadata(t)}):t.selector?r=[this._getTokenMetadata(t.selector)]:(this._reportError(Sx("Can't construct a query for the property \""+e+'" of "'+TP(n)+"\" since the query selector wasn't defined."),n),r=[]),{selectors:r,first:t.first,descendants:t.descendants,propertyName:e,read:t.read?this._getTokenMetadata(t.read):null}},t.prototype._reportError=function(t,e,n){if(!this._errorCollector)throw t;this._errorCollector(t,e),n&&this._errorCollector(t,n)},t}();function CP(t){return(e=function t(e,n){if(void 0===n&&(n=[]),e)for(var r=0;r<e.length;r++){var i=kx(e[r]);Array.isArray(i)?t(i,n):n.push(i)}return n}(t))?Array.from(new Set(e)):[];var e}function SP(t){return t instanceof Jx||t instanceof cx}var xP=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.visitOther=function(t,e){e.push({reference:t})},e}(bx);function TP(t){return t instanceof Jx?t.name+" in "+t.filePath:Nx(t)}var AP=function(t){function e(e,n){return t.call(this,n,e)||this}return i(e,t),e}(HD),DP=function(){return function(t,e){var n=this;this.reflector=t,this.component=e,this.errors=[],this.viewQueries=function(t){var e=1,n=new Map;return t.viewQueries&&t.viewQueries.forEach(function(t){return MP(n,{meta:t,queryId:e++})}),n}(e),this.viewProviders=new Map,e.viewProviders.forEach(function(t){null==n.viewProviders.get(lT(t.token))&&n.viewProviders.set(lT(t.token),!0)})}}(),IP=function(){function t(t,e,n,r,i,o,s,a,u){var c=this;this.viewContext=t,this._parent=e,this._isViewRoot=n,this._directiveAsts=r,this._sourceSpan=u,this._transformedProviders=new Map,this._seenProviders=new Map,this._queriedTokens=new Map,this.transformedHasViewContainer=!1,this._attrs={},i.forEach(function(t){return c._attrs[t.name]=t.value});var l,h,p,f,d=r.map(function(t){return t.directive});if(this._allProviders=(l=d,h=u,p=t.errors,f=new Map,l.forEach(function(t){OP([{token:{identifier:t.type},useClass:t.type}],t.isComponent?Mx.Component:Mx.Directive,!0,h,p,f,!1)}),l.filter(function(t){return t.isComponent}).concat(l.filter(function(t){return!t.isComponent})).forEach(function(t){OP(t.providers,Mx.PublicService,!1,h,p,f,!1),OP(t.viewProviders,Mx.PrivateService,!1,h,p,f,!1)}),f),this._contentQueries=function(t,e){var n=t,r=new Map;return e.forEach(function(t,e){t.queries&&t.queries.forEach(function(t){return MP(r,{meta:t,queryId:n++})})}),r}(a,d),Array.from(this._allProviders.values()).forEach(function(t){c._addQueryReadsTo(t.token,t.token,c._queriedTokens)}),s){var v=LN(this.viewContext.reflector,RN.TemplateRef);this._addQueryReadsTo(v,v,this._queriedTokens)}o.forEach(function(t){var e=t.value||LN(c.viewContext.reflector,RN.ElementRef);c._addQueryReadsTo({value:t.name},e,c._queriedTokens)}),this._queriedTokens.get(this.viewContext.reflector.resolveExternalReference(RN.ViewContainerRef))&&(this.transformedHasViewContainer=!0),Array.from(this._allProviders.values()).forEach(function(t){(t.eager||c._queriedTokens.get(lT(t.token)))&&c._getOrCreateLocalProvider(t.providerType,t.token,!0)})}return t.prototype.afterElement=function(){var t=this;Array.from(this._allProviders.values()).forEach(function(e){t._getOrCreateLocalProvider(e.providerType,e.token,!1)})},Object.defineProperty(t.prototype,"transformProviders",{get:function(){var t=[],e=[];return this._transformedProviders.forEach(function(n){n.eager?e.push(n):t.push(n)}),t.concat(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"transformedDirectiveAsts",{get:function(){var t=this.transformProviders.map(function(t){return t.token.identifier}),e=this._directiveAsts.slice();return e.sort(function(e,n){return t.indexOf(e.directive.type)-t.indexOf(n.directive.type)}),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryMatches",{get:function(){var t=[];return this._queriedTokens.forEach(function(e){t.push.apply(t,h(e))}),t},enumerable:!0,configurable:!0}),t.prototype._addQueryReadsTo=function(t,e,n){this._getQueriesFor(t).forEach(function(t){var r=t.meta.read||e,i=lT(r),o=n.get(i);o||(o=[],n.set(i,o)),o.push({queryId:t.queryId,value:r})})},t.prototype._getQueriesFor=function(t){for(var e,n=[],r=this,i=0;null!==r;)(e=r._contentQueries.get(lT(t)))&&n.push.apply(n,h(e.filter(function(t){return t.meta.descendants||i<=1}))),r._directiveAsts.length>0&&i++,r=r._parent;return(e=this.viewContext.viewQueries.get(lT(t)))&&n.push.apply(n,h(e)),n},t.prototype._getOrCreateLocalProvider=function(t,e,n){var r=this,i=this._allProviders.get(lT(e));if(!i||(t===Mx.Directive||t===Mx.PublicService)&&i.providerType===Mx.PrivateService||(t===Mx.PrivateService||t===Mx.PublicService)&&i.providerType===Mx.Builtin)return null;var o=this._transformedProviders.get(lT(e));if(o)return o;if(null!=this._seenProviders.get(lT(e)))return this.viewContext.errors.push(new AP("Cannot instantiate cyclic dependency! "+cT(e),this._sourceSpan)),null;this._seenProviders.set(lT(e),!0);var s=i.providers.map(function(t){var e=t.useValue,o=t.useExisting,s=void 0;if(null!=t.useExisting){var a=r._getDependency(i.providerType,{token:t.useExisting},n);null!=a.token?o=a.token:(o=null,e=a.value)}else if(t.useFactory){s=(t.deps||t.useFactory.diDeps).map(function(t){return r._getDependency(i.providerType,t,n)})}else if(t.useClass){s=(t.deps||t.useClass.diDeps).map(function(t){return r._getDependency(i.providerType,t,n)})}return kP(t,{useExisting:o,useValue:e,deps:s})});return o=PP(i,{eager:n,providers:s}),this._transformedProviders.set(lT(e),o),o},t.prototype._getLocalDependency=function(t,e,n){if(void 0===n&&(n=!1),e.isAttribute){var r=this._attrs[e.token.value];return{isValue:!0,value:null==r?null:r}}if(null!=e.token){if(t===Mx.Directive||t===Mx.Component){if(lT(e.token)===this.viewContext.reflector.resolveExternalReference(RN.Renderer)||lT(e.token)===this.viewContext.reflector.resolveExternalReference(RN.ElementRef)||lT(e.token)===this.viewContext.reflector.resolveExternalReference(RN.ChangeDetectorRef)||lT(e.token)===this.viewContext.reflector.resolveExternalReference(RN.TemplateRef))return e;lT(e.token)===this.viewContext.reflector.resolveExternalReference(RN.ViewContainerRef)&&(this.transformedHasViewContainer=!0)}if(lT(e.token)===this.viewContext.reflector.resolveExternalReference(RN.Injector))return e;if(null!=this._getOrCreateLocalProvider(t,e.token,n))return e}return null},t.prototype._getDependency=function(t,e,n){void 0===n&&(n=!1);var r=this,i=n,o=null;if(e.isSkipSelf||(o=this._getLocalDependency(t,e,n)),e.isSelf)!o&&e.isOptional&&(o={isValue:!0,value:null});else{for(;!o&&r._parent;){var s=r;r=r._parent,s._isViewRoot&&(i=!1),o=r._getLocalDependency(Mx.PublicService,e,i)}o||(o=!e.isHost||this.viewContext.component.isHost||this.viewContext.component.type.reference===lT(e.token)||null!=this.viewContext.viewProviders.get(lT(e.token))?e:e.isOptional?{isValue:!0,value:null}:null)}return o||this.viewContext.errors.push(new AP("No provider for "+cT(e.token),this._sourceSpan)),o},t}(),NP=function(){function t(t,e,n,r){var i=this;this.reflector=t,this._transformedProviders=new Map,this._seenProviders=new Map,this._errors=[],this._allProviders=new Map,e.transitiveModule.modules.forEach(function(t){OP([{token:{identifier:t},useClass:t}],Mx.PublicService,!0,r,i._errors,i._allProviders,!0)}),OP(e.transitiveModule.providers.map(function(t){return t.provider}).concat(n),Mx.PublicService,!1,r,this._errors,this._allProviders,!1)}return t.prototype.parse=function(){var t=this;if(Array.from(this._allProviders.values()).forEach(function(e){t._getOrCreateLocalProvider(e.token,e.eager)}),this._errors.length>0){var e=this._errors.join("\n");throw new Error("Provider parse errors:\n"+e)}var n=[],r=[];return this._transformedProviders.forEach(function(t){t.eager?r.push(t):n.push(t)}),n.concat(r)},t.prototype._getOrCreateLocalProvider=function(t,e){var n=this,r=this._allProviders.get(lT(t));if(!r)return null;var i=this._transformedProviders.get(lT(t));if(i)return i;if(null!=this._seenProviders.get(lT(t)))return this._errors.push(new AP("Cannot instantiate cyclic dependency! "+cT(t),r.sourceSpan)),null;this._seenProviders.set(lT(t),!0);var o=r.providers.map(function(t){var i=t.useValue,o=t.useExisting,s=void 0;if(null!=t.useExisting){var a=n._getDependency({token:t.useExisting},e,r.sourceSpan);null!=a.token?o=a.token:(o=null,i=a.value)}else if(t.useFactory){s=(t.deps||t.useFactory.diDeps).map(function(t){return n._getDependency(t,e,r.sourceSpan)})}else if(t.useClass){s=(t.deps||t.useClass.diDeps).map(function(t){return n._getDependency(t,e,r.sourceSpan)})}return kP(t,{useExisting:o,useValue:i,deps:s})});return i=PP(r,{eager:e,providers:o}),this._transformedProviders.set(lT(t),i),i},t.prototype._getDependency=function(t,e,n){return void 0===e&&(e=!1),t.isSkipSelf||null==t.token||lT(t.token)===this.reflector.resolveExternalReference(RN.Injector)||lT(t.token)===this.reflector.resolveExternalReference(RN.ComponentFactoryResolver)||this._getOrCreateLocalProvider(t.token,e),t},t}();function kP(t,e){var n=e.useExisting,r=e.useValue,i=e.deps;return{token:t.token,useClass:t.useClass,useExisting:n,useFactory:t.useFactory,useValue:r,deps:i,multi:t.multi}}function PP(t,e){var n=e.eager,r=e.providers;return new Gx(t.token,t.multiProvider,t.eager||n,r,t.providerType,t.lifecycleHooks,t.sourceSpan,t.isModule)}function OP(t,e,n,r,i,o,s){t.forEach(function(t){var a=o.get(lT(t.token));if(null!=a&&!!a.multiProvider!=!!t.multi&&i.push(new AP("Mixing multi and non multi provider is not possible for token "+cT(a.token),r)),a)t.multi||(a.providers.length=0),a.providers.push(t);else{var u=t.token.identifier&&t.token.identifier.lifecycleHooks?t.token.identifier.lifecycleHooks:[],c=!(t.useClass||t.useExisting||t.useFactory);a=new Gx(t.token,!!t.multi,n||c,[t],e,u,r,s),o.set(lT(t.token),a)}})}function MP(t,e){e.meta.selectors.forEach(function(n){var r=t.get(lT(n));r||(r=[],t.set(lT(n),r)),r.push(e)})}function RP(t,e){var n=0;e.eager||(n|=4096),e.providerType===Mx.PrivateService&&(n|=8192),e.isModule&&(n|=1073741824),e.lifecycleHooks.forEach(function(t){t!==yP.OnDestroy&&e.providerType!==Mx.Directive&&e.providerType!==Mx.Component||(n|=VP(t))});var r=e.multiProvider?function(t,e,n){var r=[],i=[],o=n.map(function(e,n){var r;if(e.useClass){var i=s(n,e.deps||e.useClass.diDeps);r=t.importExpr(e.useClass.reference).instantiate(i)}else if(e.useFactory){var i=s(n,e.deps||e.useFactory.diDeps);r=t.importExpr(e.useFactory.reference).callFn(i)}else if(e.useExisting){var i=s(n,[{token:e.useExisting}]);r=i[0]}else r=rP(t,e.useValue);return r});return{providerExpr:tP(i,[new kk(Jk(o))],KN),flags:1024|e,depsExpr:Jk(r)};function s(e,n){return n.map(function(n,o){var s="p"+e+"_"+o;return i.push(new mk(s,zN)),r.push(jP(t,n)),Qk(s)})}}(t,n,e.providers):FP(t,n,e.providerType,e.providers[0]);return{providerExpr:r.providerExpr,flags:r.flags,depsExpr:r.depsExpr,tokenExpr:LP(t,e.token)}}function FP(t,e,n,r){var i,o;return n===Mx.Directive||n===Mx.Component?(i=t.importExpr(r.useClass.reference),e|=16384,o=r.deps||r.useClass.diDeps):r.useClass?(i=t.importExpr(r.useClass.reference),e|=512,o=r.deps||r.useClass.diDeps):r.useFactory?(i=t.importExpr(r.useFactory.reference),e|=1024,o=r.deps||r.useFactory.diDeps):r.useExisting?(i=xk,e|=2048,o=[{token:r.useExisting}]):(i=rP(t,r.useValue),e|=256,o=[]),{providerExpr:i,flags:e,depsExpr:Jk(o.map(function(e){return jP(t,e)}))}}function LP(t,e){return e.identifier?t.importExpr(e.identifier.reference):eP(e.value)}function jP(t,e){var n=e.isValue?rP(t,e.value):LP(t,e.token),r=0;return e.isSkipSelf&&(r|=1),e.isOptional&&(r|=2),e.isSelf&&(r|=4),e.isValue&&(r|=8),0===r?n:Jk([eP(r),n])}function VP(t){var e=0;switch(t){case yP.AfterContentChecked:e=2097152;break;case yP.AfterContentInit:e=1048576;break;case yP.AfterViewChecked:e=8388608;break;case yP.AfterViewInit:e=4194304;break;case yP.DoCheck:e=262144;break;case yP.OnChanges:e=524288;break;case yP.OnDestroy:e=131072;break;case yP.OnInit:e=65536}return e}function BP(t,e,n,r){var i=r.map(function(t){return e.importExpr(t.componentFactory)}),o=LN(t,RN.ComponentFactoryResolver),s={diDeps:[{isValue:!0,value:Jk(i)},{token:o,isSkipSelf:!0,isOptional:!0},{token:LN(t,RN.NgModuleRef)}],lifecycleHooks:[],reference:t.resolveExternalReference(RN.CodegenComponentFactoryResolver)},a=FP(e,n,Mx.PrivateService,{token:o,multi:!1,useClass:s});return{providerExpr:a.providerExpr,flags:a.flags,depsExpr:a.depsExpr,tokenExpr:LP(e,o)}}var UP=function(){return function(t){this.ngModuleFactoryVar=t}}(),qP=Qk("_l"),HP=function(){function t(t){this.reflector=t}return t.prototype.compile=function(t,e,n){var r=WD("NgModule",e.type),i=e.transitiveModule.entryComponents,o=e.bootstrapComponents,s=new NP(this.reflector,e,n,r),a=[BP(this.reflector,t,0,i)].concat(s.parse().map(function(e){return RP(t,e)})).map(function(t){var e=t.providerExpr,n=t.depsExpr,r=t.flags,i=t.tokenExpr;return Xk(RN.moduleProviderDef).callFn([eP(r),i,e,n])}),u=Xk(RN.moduleDef).callFn([Jk(a)]),c=tP([new mk(qP.name)],[new kk(u)],KN),l=iT(e.type)+"NgFactory";if(this._createNgModuleFactory(t,e.type.reference,Xk(RN.createModuleFactory).callFn([t.importExpr(e.type.reference),Jk(o.map(function(e){return t.importExpr(e.reference)})),c])),e.id){var h="string"==typeof e.id?eP(e.id):t.importExpr(e.id),p=Xk(RN.RegisterModuleFactoryFn).callFn([h,Qk(l)]).toStmt();t.statements.push(p)}return new UP(l)},t.prototype.createStub=function(t,e){this._createNgModuleFactory(t,e,xk)},t.prototype._createNgModuleFactory=function(t,e,n){var r=Qk(iT({reference:e})+"NgFactory").set(n).toDeclStmt($k(RN.NgModuleFactory,[Yk(t.importExpr(e))],[ON.Const]),[ok.Final,ok.Exported]);t.statements.push(r)},t}(),WP=function(){function t(t){this._reflector=t}return t.prototype.isNgModule=function(t){return this._reflector.annotations(t).some(ex.isTypeOf)},t.prototype.resolve=function(t,e){void 0===e&&(e=!0);var n=nA(this._reflector.annotations(t),ex.isTypeOf);if(n)return n;if(e)throw new Error("No NgModule metadata found for '"+Nx(t)+"'.");return null},t}(),zP=function(){function t(t){void 0===t&&(t=null),this.file=t,this.sourcesContent=new Map,this.lines=[],this.lastCol0=0,this.hasMappings=!1}return t.prototype.addSource=function(t,e){return void 0===e&&(e=null),this.sourcesContent.has(t)||this.sourcesContent.set(t,e),this},t.prototype.addLine=function(){return this.lines.push([]),this.lastCol0=0,this},t.prototype.addMapping=function(t,e,n,r){if(!this.currentLine)throw new Error("A line must be added before mappings can be added");if(null!=e&&!this.sourcesContent.has(e))throw new Error('Unknown source file "'+e+'"');if(null==t)throw new Error("The column in the generated code must be provided");if(t<this.lastCol0)throw new Error("Mapping should be added in output order");if(e&&(null==n||null==r))throw new Error("The source location must be provided when a source url is provided");return this.hasMappings=!0,this.lastCol0=t,this.currentLine.push({col0:t,sourceUrl:e,sourceLine0:n,sourceCol0:r}),this},Object.defineProperty(t.prototype,"currentLine",{get:function(){return this.lines.slice(-1)[0]},enumerable:!0,configurable:!0}),t.prototype.toJSON=function(){var t=this;if(!this.hasMappings)return null;var e=new Map,n=[],r=[];Array.from(this.sourcesContent.keys()).forEach(function(i,o){e.set(i,o),n.push(i),r.push(t.sourcesContent.get(i)||null)});var i="",o=0,s=0,a=0,u=0;return this.lines.forEach(function(t){o=0,i+=t.map(function(t){var n=KP(t.col0-o);return o=t.col0,null!=t.sourceUrl&&(n+=KP(e.get(t.sourceUrl)-s),s=e.get(t.sourceUrl),n+=KP(t.sourceLine0-a),a=t.sourceLine0,n+=KP(t.sourceCol0-u),u=t.sourceCol0),n}).join(","),i+=";"}),i=i.slice(0,-1),{file:this.file||"",version:3,sourceRoot:"",sources:n,sourcesContent:r,mappings:i}},t.prototype.toJsComment=function(){return this.hasMappings?"//# sourceMappingURL=data:application/json;base64,"+function(t){var e="";t=Ix(t);for(var n=0;n<t.length;){var r=t.charCodeAt(n++),i=t.charCodeAt(n++),o=t.charCodeAt(n++);e+=QP(r>>2),e+=QP((3&r)<<4|(isNaN(i)?0:i>>4)),e+=isNaN(i)?"=":QP((15&i)<<2|o>>6),e+=isNaN(i)||isNaN(o)?"=":QP(63&o)}return e}(JSON.stringify(this,null,0)):""},t}();function KP(t){t=t<0?1+(-t<<1):t<<1;var e="";do{var n=31&t;(t>>=5)>0&&(n|=32),e+=QP(n)}while(t>0);return e}var GP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function QP(t){if(t<0||t>=64)throw new Error("Can only encode value in the range [0, 63]");return GP[t]}var XP=/'|\\|\n|\r|\$/g,$P=/^[$A-Z_][0-9A-Z_$]*$/i,YP="  ",JP=Qk("error",null,null),ZP=Qk("stack",null,null),tO=function(){return function(t){this.indent=t,this.partsLength=0,this.parts=[],this.srcSpans=[]}}(),eO=function(){function t(t){this._indent=t,this._classes=[],this._preambleLineCount=0,this._lines=[new tO(t)]}return t.createRoot=function(){return new t(0)},Object.defineProperty(t.prototype,"_currentLine",{get:function(){return this._lines[this._lines.length-1]},enumerable:!0,configurable:!0}),t.prototype.println=function(t,e){void 0===e&&(e=""),this.print(t||null,e,!0)},t.prototype.lineIsEmpty=function(){return 0===this._currentLine.parts.length},t.prototype.lineLength=function(){return this._currentLine.indent*YP.length+this._currentLine.partsLength},t.prototype.print=function(t,e,n){void 0===n&&(n=!1),e.length>0&&(this._currentLine.parts.push(e),this._currentLine.partsLength+=e.length,this._currentLine.srcSpans.push(t&&t.sourceSpan||null)),n&&this._lines.push(new tO(this._indent))},t.prototype.removeEmptyLastLine=function(){this.lineIsEmpty()&&this._lines.pop()},t.prototype.incIndent=function(){this._indent++,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)},t.prototype.decIndent=function(){this._indent--,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)},t.prototype.pushClass=function(t){this._classes.push(t)},t.prototype.popClass=function(){return this._classes.pop()},Object.defineProperty(t.prototype,"currentClass",{get:function(){return this._classes.length>0?this._classes[this._classes.length-1]:null},enumerable:!0,configurable:!0}),t.prototype.toSource=function(){return this.sourceLines.map(function(t){return t.parts.length>0?iO(t.indent)+t.parts.join(""):""}).join("\n")},t.prototype.toSourceMapGenerator=function(t,e){void 0===e&&(e=0);for(var n=new zP(t),r=!1,i=function(){r||(n.addSource(t," ").addMapping(0,t,0,0),r=!0)},o=0;o<e;o++)n.addLine(),i();return this.sourceLines.forEach(function(t,e){n.addLine();for(var o=t.srcSpans,s=t.parts,a=t.indent*YP.length,u=0;u<o.length&&!o[u];)a+=s[u].length,u++;for(u<o.length&&0===e&&0===a?r=!0:i();u<o.length;){var c=o[u],l=c.start.file,h=c.start.line,p=c.start.col;for(n.addSource(l.url,l.content).addMapping(a,l.url,h,p),a+=s[u].length,u++;u<o.length&&(c===o[u]||!o[u]);)a+=s[u].length,u++}}),n},t.prototype.setPreambleLineCount=function(t){return this._preambleLineCount=t},t.prototype.spanOf=function(t,e){var n=this._lines[t-this._preambleLineCount];if(n)for(var r=e-iO(n.indent).length,i=0;i<n.parts.length;i++){var o=n.parts[i];if(o.length>r)return n.srcSpans[i];r-=o.length}return null},Object.defineProperty(t.prototype,"sourceLines",{get:function(){return this._lines.length&&0===this._lines[this._lines.length-1].parts.length?this._lines.slice(0,-1):this._lines},enumerable:!0,configurable:!0}),t}(),nO=function(){function t(t){this._escapeDollarInStrings=t}return t.prototype.visitExpressionStmt=function(t,e){return t.expr.visitExpression(this,e),e.println(t,";"),null},t.prototype.visitReturnStmt=function(t,e){return e.print(t,"return "),t.value.visitExpression(this,e),e.println(t,";"),null},t.prototype.visitIfStmt=function(t,e){e.print(t,"if ("),t.condition.visitExpression(this,e),e.print(t,") {");var n=null!=t.falseCase&&t.falseCase.length>0;return t.trueCase.length<=1&&!n?(e.print(t," "),this.visitAllStatements(t.trueCase,e),e.removeEmptyLastLine(),e.print(t," ")):(e.println(),e.incIndent(),this.visitAllStatements(t.trueCase,e),e.decIndent(),n&&(e.println(t,"} else {"),e.incIndent(),this.visitAllStatements(t.falseCase,e),e.decIndent())),e.println(t,"}"),null},t.prototype.visitThrowStmt=function(t,e){return e.print(t,"throw "),t.error.visitExpression(this,e),e.println(t,";"),null},t.prototype.visitCommentStmt=function(t,e){return t.multiline?e.println(t,"/* "+t.comment+" */"):t.comment.split("\n").forEach(function(n){e.println(t,"// "+n)}),null},t.prototype.visitJSDocCommentStmt=function(t,e){return e.println(t,"/*"+t.toString()+"*/"),null},t.prototype.visitWriteVarExpr=function(t,e){var n=e.lineIsEmpty();return n||e.print(t,"("),e.print(t,t.name+" = "),t.value.visitExpression(this,e),n||e.print(t,")"),null},t.prototype.visitWriteKeyExpr=function(t,e){var n=e.lineIsEmpty();return n||e.print(t,"("),t.receiver.visitExpression(this,e),e.print(t,"["),t.index.visitExpression(this,e),e.print(t,"] = "),t.value.visitExpression(this,e),n||e.print(t,")"),null},t.prototype.visitWritePropExpr=function(t,e){var n=e.lineIsEmpty();return n||e.print(t,"("),t.receiver.visitExpression(this,e),e.print(t,"."+t.name+" = "),t.value.visitExpression(this,e),n||e.print(t,")"),null},t.prototype.visitInvokeMethodExpr=function(t,e){t.receiver.visitExpression(this,e);var n=t.name;return null!=t.builtin&&null==(n=this.getBuiltinMethodName(t.builtin))?null:(e.print(t,"."+n+"("),this.visitAllExpressions(t.args,e,","),e.print(t,")"),null)},t.prototype.visitInvokeFunctionExpr=function(t,e){return t.fn.visitExpression(this,e),e.print(t,"("),this.visitAllExpressions(t.args,e,","),e.print(t,")"),null},t.prototype.visitWrappedNodeExpr=function(t,e){throw new Error("Abstract emitter cannot visit WrappedNodeExpr.")},t.prototype.visitTypeofExpr=function(t,e){e.print(t,"typeof "),t.expr.visitExpression(this,e)},t.prototype.visitReadVarExpr=function(t,e){var n=t.name;if(null!=t.builtin)switch(t.builtin){case YN.Super:n="super";break;case YN.This:n="this";break;case YN.CatchError:n=JP.name;break;case YN.CatchStack:n=ZP.name;break;default:throw new Error("Unknown builtin variable "+t.builtin)}return e.print(t,n),null},t.prototype.visitInstantiateExpr=function(t,e){return e.print(t,"new "),t.classExpr.visitExpression(this,e),e.print(t,"("),this.visitAllExpressions(t.args,e,","),e.print(t,")"),null},t.prototype.visitLiteralExpr=function(t,e){var n=t.value;return"string"==typeof n?e.print(t,rO(n,this._escapeDollarInStrings)):e.print(t,""+n),null},t.prototype.visitConditionalExpr=function(t,e){return e.print(t,"("),t.condition.visitExpression(this,e),e.print(t,"? "),t.trueCase.visitExpression(this,e),e.print(t,": "),t.falseCase.visitExpression(this,e),e.print(t,")"),null},t.prototype.visitNotExpr=function(t,e){return e.print(t,"!"),t.condition.visitExpression(this,e),null},t.prototype.visitAssertNotNullExpr=function(t,e){return t.condition.visitExpression(this,e),null},t.prototype.visitBinaryOperatorExpr=function(t,e){var n;switch(t.operator){case BN.Equals:n="==";break;case BN.Identical:n="===";break;case BN.NotEquals:n="!=";break;case BN.NotIdentical:n="!==";break;case BN.And:n="&&";break;case BN.BitwiseAnd:n="&";break;case BN.Or:n="||";break;case BN.Plus:n="+";break;case BN.Minus:n="-";break;case BN.Divide:n="/";break;case BN.Multiply:n="*";break;case BN.Modulo:n="%";break;case BN.Lower:n="<";break;case BN.LowerEquals:n="<=";break;case BN.Bigger:n=">";break;case BN.BiggerEquals:n=">=";break;default:throw new Error("Unknown operator "+t.operator)}return t.parens&&e.print(t,"("),t.lhs.visitExpression(this,e),e.print(t," "+n+" "),t.rhs.visitExpression(this,e),t.parens&&e.print(t,")"),null},t.prototype.visitReadPropExpr=function(t,e){return t.receiver.visitExpression(this,e),e.print(t,"."),e.print(t,t.name),null},t.prototype.visitReadKeyExpr=function(t,e){return t.receiver.visitExpression(this,e),e.print(t,"["),t.index.visitExpression(this,e),e.print(t,"]"),null},t.prototype.visitLiteralArrayExpr=function(t,e){return e.print(t,"["),this.visitAllExpressions(t.entries,e,","),e.print(t,"]"),null},t.prototype.visitLiteralMapExpr=function(t,e){var n=this;return e.print(t,"{"),this.visitAllObjects(function(r){e.print(t,rO(r.key,n._escapeDollarInStrings,r.quoted)+":"),r.value.visitExpression(n,e)},t.entries,e,","),e.print(t,"}"),null},t.prototype.visitCommaExpr=function(t,e){return e.print(t,"("),this.visitAllExpressions(t.parts,e,","),e.print(t,")"),null},t.prototype.visitAllExpressions=function(t,e,n){var r=this;this.visitAllObjects(function(t){return t.visitExpression(r,e)},t,e,n)},t.prototype.visitAllObjects=function(t,e,n,r){for(var i=!1,o=0;o<e.length;o++)o>0&&(n.lineLength()>80?(n.print(null,r,!0),i||(n.incIndent(),n.incIndent(),i=!0)):n.print(null,r,!1)),t(e[o]);i&&(n.decIndent(),n.decIndent())},t.prototype.visitAllStatements=function(t,e){var n=this;t.forEach(function(t){return t.visitStatement(n,e)})},t}();function rO(t,e,n){if(void 0===n&&(n=!0),null==t)return null;var r=t.replace(XP,function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return"$"==t[0]?e?"\\$":"$":"\n"==t[0]?"\\n":"\r"==t[0]?"\\r":"\\"+t[0]});return n||!$P.test(r)?"'"+r+"'":r}function iO(t){for(var e="",n=0;n<t;n++)e+=YP;return e}!function(){function t(){}t.prototype.emitStatementsAndContext=function(t,e,n,r,i,o){void 0===n&&(n=""),void 0===r&&(r=!0);var s=new sO(i,o),a=eO.createRoot();s.visitAllStatements(e,a);var u=n?n.split("\n"):[];s.reexports.forEach(function(t,e){var n=t.map(function(t){return t.name+" as "+t.as}).join(",");u.push("export {"+n+"} from '"+e+"';")}),s.importsWithPrefixes.forEach(function(t,e){u.push("import * as "+t+" from '"+e+"';")});var c=r?a.toSourceMapGenerator(t,u.length).toJsComment():"",l=h(u,[a.toSource(),c]);return c&&l.push(""),a.setPreambleLineCount(u.length),{sourceText:l.join("\n"),context:a}},t.prototype.emitStatements=function(t,e,n){return void 0===n&&(n=""),this.emitStatementsAndContext(t,e,n).sourceText}}();var oO,sO=function(t){function e(e,n){var r=t.call(this,!1)||this;return r.referenceFilter=e,r.importFilter=n,r.typeExpression=0,r.importsWithPrefixes=new Map,r.reexports=new Map,r}return i(e,t),e.prototype.visitType=function(t,e,n){void 0===n&&(n="any"),t?(this.typeExpression++,t.visitType(this,e),this.typeExpression--):e.print(null,n)},e.prototype.visitLiteralExpr=function(e,n){var r=e.value;return null==r&&e.type!=KN?(n.print(e,"("+r+" as any)"),null):t.prototype.visitLiteralExpr.call(this,e,n)},e.prototype.visitLiteralArrayExpr=function(e,n){0===e.entries.length&&n.print(e,"(");var r=t.prototype.visitLiteralArrayExpr.call(this,e,n);return 0===e.entries.length&&n.print(e," as any[])"),r},e.prototype.visitExternalExpr=function(t,e){return this._visitIdentifier(t.value,t.typeParams,e),null},e.prototype.visitAssertNotNullExpr=function(e,n){var r=t.prototype.visitAssertNotNullExpr.call(this,e,n);return n.print(e,"!"),r},e.prototype.visitDeclareVarStmt=function(t,e){if(t.hasModifier(ok.Exported)&&t.value instanceof lk&&!t.type){var n=t.value.value,r=n.name,i=n.moduleName;if(i){var o=this.reexports.get(i);return o||(o=[],this.reexports.set(i,o)),o.push({name:r,as:t.name}),null}}return t.hasModifier(ok.Exported)&&e.print(t,"export "),t.hasModifier(ok.Final)?e.print(t,"const"):e.print(t,"var"),e.print(t," "+t.name),this._printColonType(t.type,e),t.value&&(e.print(t," = "),t.value.visitExpression(this,e)),e.println(t,";"),null},e.prototype.visitWrappedNodeExpr=function(t,e){throw new Error("Cannot visit a WrappedNodeExpr when outputting Typescript.")},e.prototype.visitCastExpr=function(t,e){return e.print(t,"(<"),t.type.visitType(this,e),e.print(t,">"),t.value.visitExpression(this,e),e.print(t,")"),null},e.prototype.visitInstantiateExpr=function(t,e){return e.print(t,"new "),this.typeExpression++,t.classExpr.visitExpression(this,e),this.typeExpression--,e.print(t,"("),this.visitAllExpressions(t.args,e,","),e.print(t,")"),null},e.prototype.visitDeclareClassStmt=function(t,e){var n=this;return e.pushClass(t),t.hasModifier(ok.Exported)&&e.print(t,"export "),e.print(t,"class "+t.name),null!=t.parent&&(e.print(t," extends "),this.typeExpression++,t.parent.visitExpression(this,e),this.typeExpression--),e.println(t," {"),e.incIndent(),t.fields.forEach(function(t){return n._visitClassField(t,e)}),null!=t.constructorMethod&&this._visitClassConstructor(t,e),t.getters.forEach(function(t){return n._visitClassGetter(t,e)}),t.methods.forEach(function(t){return n._visitClassMethod(t,e)}),e.decIndent(),e.println(t,"}"),e.popClass(),null},e.prototype._visitClassField=function(t,e){t.hasModifier(ok.Private)&&e.print(null,"/*private*/ "),t.hasModifier(ok.Static)&&e.print(null,"static "),e.print(null,t.name),this._printColonType(t.type,e),t.initializer&&(e.print(null," = "),t.initializer.visitExpression(this,e)),e.println(null,";")},e.prototype._visitClassGetter=function(t,e){t.hasModifier(ok.Private)&&e.print(null,"private "),e.print(null,"get "+t.name+"()"),this._printColonType(t.type,e),e.println(null," {"),e.incIndent(),this.visitAllStatements(t.body,e),e.decIndent(),e.println(null,"}")},e.prototype._visitClassConstructor=function(t,e){e.print(t,"constructor("),this._visitParams(t.constructorMethod.params,e),e.println(t,") {"),e.incIndent(),this.visitAllStatements(t.constructorMethod.body,e),e.decIndent(),e.println(t,"}")},e.prototype._visitClassMethod=function(t,e){t.hasModifier(ok.Private)&&e.print(null,"private "),e.print(null,t.name+"("),this._visitParams(t.params,e),e.print(null,")"),this._printColonType(t.type,e,"void"),e.println(null," {"),e.incIndent(),this.visitAllStatements(t.body,e),e.decIndent(),e.println(null,"}")},e.prototype.visitFunctionExpr=function(t,e){return t.name&&(e.print(t,"function "),e.print(t,t.name)),e.print(t,"("),this._visitParams(t.params,e),e.print(t,")"),this._printColonType(t.type,e,"void"),t.name||e.print(t," => "),e.println(t,"{"),e.incIndent(),this.visitAllStatements(t.statements,e),e.decIndent(),e.print(t,"}"),null},e.prototype.visitDeclareFunctionStmt=function(t,e){return t.hasModifier(ok.Exported)&&e.print(t,"export "),e.print(t,"function "+t.name+"("),this._visitParams(t.params,e),e.print(t,")"),this._printColonType(t.type,e,"void"),e.println(t," {"),e.incIndent(),this.visitAllStatements(t.statements,e),e.decIndent(),e.println(t,"}"),null},e.prototype.visitTryCatchStmt=function(t,e){e.println(t,"try {"),e.incIndent(),this.visitAllStatements(t.bodyStmts,e),e.decIndent(),e.println(t,"} catch ("+JP.name+") {"),e.incIndent();var n=[ZP.set(JP.prop("stack",null)).toDeclStmt(null,[ok.Final])].concat(t.catchStmts);return this.visitAllStatements(n,e),e.decIndent(),e.println(t,"}"),null},e.prototype.visitBuiltinType=function(t,e){var n;switch(t.name){case jN.Bool:n="boolean";break;case jN.Dynamic:n="any";break;case jN.Function:n="Function";break;case jN.Number:case jN.Int:n="number";break;case jN.String:n="string";break;case jN.None:n="never";break;default:throw new Error("Unsupported builtin type "+t.name)}return e.print(null,n),null},e.prototype.visitExpressionType=function(t,e){var n=this;return t.value.visitExpression(this,e),null!==t.typeParams&&(e.print(null,"<"),this.visitAllObjects(function(t){return n.visitType(t,e)},t.typeParams,e,","),e.print(null,">")),null},e.prototype.visitArrayType=function(t,e){return this.visitType(t.of,e),e.print(null,"[]"),null},e.prototype.visitMapType=function(t,e){return e.print(null,"{[key: string]:"),this.visitType(t.valueType,e),e.print(null,"}"),null},e.prototype.getBuiltinMethodName=function(t){var e;switch(t){case ZN.ConcatArray:e="concat";break;case ZN.SubscribeObservable:e="subscribe";break;case ZN.Bind:e="bind";break;default:throw new Error("Unknown builtin method: "+t)}return e},e.prototype._visitParams=function(t,e){var n=this;this.visitAllObjects(function(t){e.print(null,t.name),n._printColonType(t.type,e)},t,e,",")},e.prototype._visitIdentifier=function(t,e,n){var r=this,i=t.name,o=t.moduleName;if(this.referenceFilter&&this.referenceFilter(t))n.print(null,"(null as any)");else{if(o&&(!this.importFilter||!this.importFilter(t))){var s=this.importsWithPrefixes.get(o);null==s&&(s="i"+this.importsWithPrefixes.size,this.importsWithPrefixes.set(o,s)),n.print(null,s+".")}if(n.print(null,i),this.typeExpression>0)(e||[]).length>0&&(n.print(null,"<"),this.visitAllObjects(function(t){return t.visitType(r,n)},e,n,","),n.print(null,">"))}},e.prototype._printColonType=function(t,e,n){t!==KN&&(e.print(null,":"),this.visitType(t,e,n))},e}(nO),aO=function(){function t(t){this._reflector=t}return t.prototype.isPipe=function(t){var e=this._reflector.annotations(kx(t));return e&&e.some($S.isTypeOf)},t.prototype.resolve=function(t,e){void 0===e&&(e=!0);var n=this._reflector.annotations(kx(t));if(n){var r=nA(n,$S.isTypeOf);if(r)return r}if(e)throw new Error("No Pipe decorator found on "+Nx(t));return null},t}();function uO(){return oO||(oO={},cO(GS.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),cO(GS.STYLE,["*|style"]),cO(GS.URL,["*|formAction","area|href","area|ping","audio|src","a|href","a|ping","blockquote|cite","body|background","del|cite","form|action","img|src","img|srcset","input|src","ins|cite","q|cite","source|src","source|srcset","track|src","video|poster","video|src"]),cO(GS.RESOURCE_URL,["applet|code","applet|codebase","base|href","embed|src","frame|src","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])),oO}function cO(t,e){var n,r;try{for(var i=c(e),o=i.next();!o.done;o=i.next()){var s=o.value;oO[s.toLowerCase()]=t}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}var lO=function(){return function(){}}(),hO="boolean",pO="number",fO="string",dO="object",vO=["[Element]|textContent,%classList,className,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*copy,*cut,*paste,*search,*selectstart,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerHTML,#scrollLeft,#scrollTop,slot,*message,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored","[HTMLElement]^[Element]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,outerText,!spellcheck,%style,#tabIndex,title,!translate","abbr,address,article,aside,b,bdi,bdo,cite,code,dd,dfn,dt,em,figcaption,figure,footer,header,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,outerText,!spellcheck,%style,#tabIndex,title,!translate","media^[HTMLElement]|!autoplay,!controls,%controlsList,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,*waitingforkey,#playbackRate,preload,src,%srcObject,#volume",":svg:^[HTMLElement]|*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,rev,search,shape,target,text,type,username","area^[HTMLElement]|alt,coords,download,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,rel,search,shape,target,username","audio^media|","br^[HTMLElement]|clear","base^[HTMLElement]|href,target","body^[HTMLElement]|aLink,background,bgColor,link,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^[HTMLElement]|!autofocus,!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^[HTMLElement]|#height,#width","content^[HTMLElement]|select","dl^[HTMLElement]|!compact","datalist^[HTMLElement]|","details^[HTMLElement]|!open","dialog^[HTMLElement]|!open,returnValue","dir^[HTMLElement]|!compact","div^[HTMLElement]|align","embed^[HTMLElement]|align,height,name,src,type,width","fieldset^[HTMLElement]|!disabled,name","font^[HTMLElement]|color,face,size","form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^[HTMLElement]|cols,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^[HTMLElement]|align,color,!noShade,size,width","head^[HTMLElement]|","h1,h2,h3,h4,h5,h6^[HTMLElement]|align","html^[HTMLElement]|version","iframe^[HTMLElement]|align,!allowFullscreen,frameBorder,height,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^[HTMLElement]|align,alt,border,%crossOrigin,#height,#hspace,!isMap,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^[HTMLElement]|accept,align,alt,autocapitalize,autocomplete,!autofocus,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","li^[HTMLElement]|type,#value","label^[HTMLElement]|htmlFor","legend^[HTMLElement]|align","link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,integrity,media,referrerPolicy,rel,%relList,rev,%sizes,target,type","map^[HTMLElement]|name","marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^[HTMLElement]|!compact","meta^[HTMLElement]|content,httpEquiv,name,scheme","meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value","ins,del^[HTMLElement]|cite,dateTime","ol^[HTMLElement]|!compact,!reversed,#start,type","object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^[HTMLElement]|!disabled,label","option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value","output^[HTMLElement]|defaultValue,%htmlFor,name,value","p^[HTMLElement]|align","param^[HTMLElement]|name,type,value,valueType","picture^[HTMLElement]|","pre^[HTMLElement]|#width","progress^[HTMLElement]|#max,#value","q,blockquote,cite^[HTMLElement]|","script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,src,text,type","select^[HTMLElement]|!autofocus,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","shadow^[HTMLElement]|","slot^[HTMLElement]|name","source^[HTMLElement]|media,sizes,src,srcset,type","span^[HTMLElement]|","style^[HTMLElement]|!disabled,media,type","caption^[HTMLElement]|align","th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width","table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign","template^[HTMLElement]|","textarea^[HTMLElement]|autocapitalize,!autofocus,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","title^[HTMLElement]|text","track^[HTMLElement]|!default,kind,label,src,srclang","ul^[HTMLElement]|!compact,type","unknown^[HTMLElement]|","video^media|#height,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan","data^[HTMLElement]|value","keygen^[HTMLElement]|!autofocus,challenge,!disabled,form,keytype,name","menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default","summary^[HTMLElement]|","time^[HTMLElement]|dateTime",":svg:cursor^:svg:|"],mO={class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},yO=function(t){function e(){var e=t.call(this)||this;return e._schema={},vO.forEach(function(t){var n={},r=l(t.split("|"),2),i=r[0],o=r[1].split(","),s=l(i.split("^"),2),a=s[0],u=s[1];a.split(",").forEach(function(t){return e._schema[t.toLowerCase()]=n});var c=u&&e._schema[u.toLowerCase()];c&&Object.keys(c).forEach(function(t){n[t]=c[t]}),o.forEach(function(t){if(t.length>0)switch(t[0]){case"*":break;case"!":n[t.substring(1)]=hO;break;case"#":n[t.substring(1)]=pO;break;case"%":n[t.substring(1)]=dO;break;default:n[t]=fO}})}),e}return i(e,t),e.prototype.hasProperty=function(t,e,n){if(n.some(function(t){return t.name===ix.name}))return!0;if(t.indexOf("-")>-1){if(_S(t)||ES(t))return!1;if(n.some(function(t){return t.name===rx.name}))return!0}return!!(this._schema[t.toLowerCase()]||this._schema.unknown)[e]},e.prototype.hasElement=function(t,e){if(e.some(function(t){return t.name===ix.name}))return!0;if(t.indexOf("-")>-1){if(_S(t)||ES(t))return!0;if(e.some(function(t){return t.name===rx.name}))return!0}return!!this._schema[t.toLowerCase()]},e.prototype.securityContext=function(t,e,n){n&&(e=this.getMappedPropName(e)),t=t.toLowerCase(),e=e.toLowerCase();var r=uO()[t+"|"+e];return r||((r=uO()["*|"+e])||GS.NONE)},e.prototype.getMappedPropName=function(t){return mO[t]||t},e.prototype.getDefaultComponentElementName=function(){return"ng-component"},e.prototype.validateProperty=function(t){return t.toLowerCase().startsWith("on")?{error:!0,msg:"Binding to event property '"+t+"' is disallowed for security reasons, please use ("+t.slice(2)+")=...\nIf '"+t+"' is a directive input, make sure the directive is imported by the current module."}:{error:!1}},e.prototype.validateAttribute=function(t){return t.toLowerCase().startsWith("on")?{error:!0,msg:"Binding to event attribute '"+t+"' is disallowed for security reasons, please use ("+t.slice(2)+")=..."}:{error:!1}},e.prototype.allKnownElementNames=function(){return Object.keys(this._schema)},e.prototype.normalizeAnimationStyleProperty=function(t){return t.replace(fx,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t[1].toUpperCase()})},e.prototype.normalizeAnimationStyleValue=function(t,e,n){var r="",i=n.toString().trim(),o=null;if(function(t){switch(t){case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":case"left":case"top":case"bottom":case"right":case"fontSize":case"outlineWidth":case"outlineOffset":case"paddingTop":case"paddingLeft":case"paddingBottom":case"paddingRight":case"marginTop":case"marginLeft":case"marginBottom":case"marginRight":case"borderRadius":case"borderWidth":case"borderTopWidth":case"borderLeftWidth":case"borderRightWidth":case"borderBottomWidth":case"textIndent":return!0;default:return!1}}(t)&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{var s=n.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&0==s[1].length&&(o="Please provide a CSS unit value for "+e+":"+n)}return{error:o,value:i+r}},e}(lO);var gO=function(){function t(){this.strictStyling=!0}return t.prototype.shimCssText=function(t,e,n){void 0===n&&(n="");var r=t.match(LO)||[];return t=function(t){return t.replace(FO,"")}(t),t=this._insertDirectives(t),h([this._scopeCssText(t,e,n)],r).join("\n")},t.prototype._insertDirectives=function(t){return t=this._insertPolyfillDirectivesInCssText(t),this._insertPolyfillRulesInCssText(t)},t.prototype._insertPolyfillDirectivesInCssText=function(t){return t.replace(wO,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t[2]+"{"})},t.prototype._insertPolyfillRulesInCssText=function(t){return t.replace(_O,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0].replace(t[1],"").replace(t[2],"");return t[4]+n})},t.prototype._scopeCssText=function(t,e,n){var r=this._extractUnscopedRulesFromCssText(t);return t=this._insertPolyfillHostInCssText(t),t=this._convertColonHost(t),t=this._convertColonHostContext(t),t=this._convertShadowDOMSelectors(t),e&&(t=this._scopeSelectors(t,e,n)),(t=t+"\n"+r).trim()},t.prototype._extractUnscopedRulesFromCssText=function(t){var e,n="";for(EO.lastIndex=0;null!==(e=EO.exec(t));){n+=e[0].replace(e[2],"").replace(e[1],e[4])+"\n\n"}return n},t.prototype._convertColonHost=function(t){return this._convertColonRule(t,TO,this._colonHostPartReplacer)},t.prototype._convertColonHostContext=function(t){return this._convertColonRule(t,AO,this._colonHostContextPartReplacer)},t.prototype._convertColonRule=function(t,e,n){return t.replace(e,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t[2]){for(var r=t[2].split(","),i=[],o=0;o<r.length;o++){var s=r[o].trim();if(!s)break;i.push(n(DO,s,t[3]))}return i.join(",")}return DO+t[3]})},t.prototype._colonHostContextPartReplacer=function(t,e,n){return e.indexOf(CO)>-1?this._colonHostPartReplacer(t,e,n):t+e+n+", "+e+" "+t+n},t.prototype._colonHostPartReplacer=function(t,e,n){return t+e.replace(CO,"")+n},t.prototype._convertShadowDOMSelectors=function(t){return NO.reduce(function(t,e){return t.replace(e," ")},t)},t.prototype._scopeSelectors=function(t,e,n){var r,i,o,s=this;return r=function(t){var r=t.selector,i=t.content;return"@"!=t.selector[0]?r=s._scopeSelector(t.selector,e,n,s.strictStyling):(t.selector.startsWith("@media")||t.selector.startsWith("@supports")||t.selector.startsWith("@page")||t.selector.startsWith("@document"))&&(i=s._scopeSelectors(t.content,e,n)),new HO(r,i)},i=function(t){for(var e=t.split(VO),n=[],r=[],i=0,o=[],s=0;s<e.length;s++){var a=e[s];a==UO&&i--,i>0?o.push(a):(o.length>0&&(r.push(o.join("")),n.push(qO),o=[]),n.push(a)),a==BO&&i++}o.length>0&&(r.push(o.join("")),n.push(qO));return new WO(n.join(""),r)}(t),o=0,i.escapedString.replace(jO,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[2],s="",a=t[4],u="";a&&a.startsWith("{"+qO)&&(s=i.blocks[o++],a=a.substring(qO.length+1),u="{");var c=r(new HO(n,s));return""+t[1]+c.selector+t[3]+u+c.content+a})},t.prototype._scopeSelector=function(t,e,n,r){var i=this;return t.split(",").map(function(t){return t.trim().split(kO)}).map(function(t){var o=l(t),s=o[0],a=o.slice(1);return h([function(t){return i._selectorNeedsScoping(t,e)?r?i._applyStrictSelectorScope(t,e,n):i._applySelectorScope(t,e,n):t}(s)],a).join(" ")}).join(", ")},t.prototype._selectorNeedsScoping=function(t,e){return!this._makeScopeMatcher(e).test(t)},t.prototype._makeScopeMatcher=function(t){return t=t.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),new RegExp("^("+t+")"+PO,"m")},t.prototype._applySelectorScope=function(t,e,n){return this._applySimpleSelectorScope(t,e,n)},t.prototype._applySimpleSelectorScope=function(t,e,n){if(OO.lastIndex=0,OO.test(t)){var r=this.strictStyling?"["+n+"]":e;return t.replace(IO,function(t,e){return e.replace(/([^:]*)(:*)(.*)/,function(t,e,n,i){return e+r+n+i})}).replace(OO,r+" ")}return e+" "+t},t.prototype._applyStrictSelectorScope=function(t,e,n){for(var r,i=this,o="["+(e=e.replace(/\[is=([^\]]*)\]/g,function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e[0]}))+"]",s=function(t){var r=t.trim();if(!r)return"";if(t.indexOf(DO)>-1)r=i._applySimpleSelectorScope(t,e,n);else{var s=t.replace(OO,"");if(s.length>0){var a=s.match(/([^:]*)(:*)(.*)/);a&&(r=a[1]+o+a[2]+a[3])}}return r},a=new bO(t),u="",c=0,l=/( |>|\+|~(?!=))\s*/g,h=!((t=a.content()).indexOf(DO)>-1);null!==(r=l.exec(t));){var p=r[1],f=t.slice(c,r.index).trim();u+=((h=h||f.indexOf(DO)>-1)?s(f):f)+" "+p+" ",c=l.lastIndex}var d=t.substring(c);return u+=(h=h||d.indexOf(DO)>-1)?s(d):d,a.restore(u)},t.prototype._insertPolyfillHostInCssText=function(t){return t.replace(RO,SO).replace(MO,CO)},t}(),bO=function(){function t(t){var e=this;this.placeholders=[],this.index=0,t=t.replace(/(\[[^\]]*\])/g,function(t,n){var r="__ph-"+e.index+"__";return e.placeholders.push(n),e.index++,r}),this._content=t.replace(/(:nth-[-\w]+)(\([^)]+\))/g,function(t,n,r){var i="__ph-"+e.index+"__";return e.placeholders.push(r),e.index++,n+i})}return t.prototype.restore=function(t){var e=this;return t.replace(/__ph-(\d+)__/g,function(t,n){return e.placeholders[+n]})},t.prototype.content=function(){return this._content},t}(),wO=/polyfill-next-selector[^}]*content:[\s]*?(['"])(.*?)\1[;\s]*}([^{]*?){/gim,_O=/(polyfill-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,EO=/(polyfill-unscoped-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,CO="-shadowcsshost",SO="-shadowcsscontext",xO=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",TO=new RegExp("("+CO+xO,"gim"),AO=new RegExp("("+SO+xO,"gim"),DO=CO+"-no-combinator",IO=/-shadowcsshost-no-combinator([^\s]*)/,NO=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],kO=/(?:>>>)|(?:\/deep\/)|(?:::ng-deep)/g,PO="([>\\s~+[.,{:][\\s\\S]*)?$",OO=/-shadowcsshost/gim,MO=/:host/gim,RO=/:host-context/gim,FO=/\/\*\s*[\s\S]*?\*\//g;var LO=/\/\*\s*#\s*source(Mapping)?URL=[\s\S]+?\*\//g;var jO=/(\s*)([^;\{\}]+?)(\s*)((?:{%BLOCK%}?\s*;?)|(?:\s*;))/g,VO=/([{}])/g,BO="{",UO="}",qO="%BLOCK%",HO=function(){return function(t,e){this.selector=t,this.content=e}}();var WO=function(){return function(t,e){this.escapedString=t,this.blocks=e}}();var zO=function(){return function(t,e,n){this.name=t,this.moduleUrl=e,this.setValue=n}}(),KO=function(){return function(t,e,n,r,i){this.outputCtx=t,this.stylesVar=e,this.dependencies=n,this.isShimmed=r,this.meta=i}}(),GO=function(){function t(t){this._urlResolver=t,this._shadowCss=new gO}return t.prototype.compileComponent=function(t,e){var n=e.template;return this._compileStyles(t,e,new hT({styles:n.styles,styleUrls:n.styleUrls,moduleUrl:oT(e.type)}),this.needsStyleShim(e),!0)},t.prototype.compileStyles=function(t,e,n,r){return void 0===r&&(r=this.needsStyleShim(e)),this._compileStyles(t,e,n,r,!1)},t.prototype.needsStyleShim=function(t){return t.template.encapsulation===PS.Emulated},t.prototype._compileStyles=function(t,e,n,r,i){var o=this,s=n.styles.map(function(t){return eP(o._shimIfNeeded(t,r))}),a=[];n.styleUrls.forEach(function(e){var n=s.length;s.push(null),a.push(new zO(QO(null),e,function(e){return s[n]=t.importExpr(e)}))});var u=QO(i?e:null),c=Qk(u).set(Jk(s,new HN(zN,[ON.Const]))).toDeclStmt(null,i?[ok.Final]:[ok.Final,ok.Exported]);return t.statements.push(c),new KO(t,u,a,r,n)},t.prototype._shimIfNeeded=function(t,e){return e?this._shadowCss.shimCssText(t,"_ngcontent-%COMP%","_nghost-%COMP%"):t},t}();function QO(t){var e="styles";return t&&(e+="_"+iT(t.type)),e}var XO="ngPreserveWhitespaces",$O=new Set(["pre","template","textarea","script","style"]),YO=" \f\n\r\t\v\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff",JO=new RegExp("[^"+YO+"]"),ZO=new RegExp("["+YO+"]{2,}","g");function tM(t){return t.replace(new RegExp(AS,"g")," ")}var eM=function(){function t(){}return t.prototype.visitElement=function(t,e){return $O.has(t.name)||t.attrs.some(function(t){return t.name===XO})?new TT(t.name,DT(this,t.attrs),t.children,t.sourceSpan,t.startSourceSpan,t.endSourceSpan):new TT(t.name,t.attrs,DT(this,t.children),t.sourceSpan,t.startSourceSpan,t.endSourceSpan)},t.prototype.visitAttribute=function(t,e){return t.name!==XO?t:null},t.prototype.visitText=function(t,e){return t.value.match(JO)?new ET(tM(t.value).replace(ZO," "),t.sourceSpan):null},t.prototype.visitComment=function(t,e){return t},t.prototype.visitExpansion=function(t,e){return t},t.prototype.visitExpansionCase=function(t,e){return t},t}();function nM(t){return new sI(DT(new eM,t.rootNodes),t.errors)}var rM=["zero","one","two","few","many","other"];function iM(t){var e=new aM;return new oM(DT(e,t),e.isExpanded,e.errors)}var oM=function(){return function(t,e,n){this.nodes=t,this.expanded=e,this.errors=n}}(),sM=function(t){function e(e,n){return t.call(this,e,n)||this}return i(e,t),e}(HD),aM=function(){function t(){this.isExpanded=!1,this.errors=[]}return t.prototype.visitElement=function(t,e){return new TT(t.name,t.attrs,DT(this,t.children),t.sourceSpan,t.startSourceSpan,t.endSourceSpan)},t.prototype.visitAttribute=function(t,e){return t},t.prototype.visitText=function(t,e){return t},t.prototype.visitComment=function(t,e){return t},t.prototype.visitExpansion=function(t,e){return this.isExpanded=!0,"plural"==t.type?(n=t,r=this.errors,i=n.cases.map(function(t){-1!=rM.indexOf(t.value)||t.value.match(/^=\d+$/)||r.push(new sM(t.valueSourceSpan,'Plural cases should be "=<number>" or one of '+rM.join(", ")));var e=iM(t.expression);return r.push.apply(r,h(e.errors)),new TT("ng-template",[new xT("ngPluralCase",""+t.value,t.valueSourceSpan)],e.nodes,t.sourceSpan,t.sourceSpan,t.sourceSpan)}),o=new xT("[ngPlural]",n.switchValue,n.switchValueSourceSpan),new TT("ng-container",[o],i,n.sourceSpan,n.sourceSpan,n.sourceSpan)):function(t,e){var n=t.cases.map(function(t){var n=iM(t.expression);return e.push.apply(e,h(n.errors)),"other"===t.value?new TT("ng-template",[new xT("ngSwitchDefault","",t.valueSourceSpan)],n.nodes,t.sourceSpan,t.sourceSpan,t.sourceSpan):new TT("ng-template",[new xT("ngSwitchCase",""+t.value,t.valueSourceSpan)],n.nodes,t.sourceSpan,t.sourceSpan,t.sourceSpan)}),r=new xT("[ngSwitch]",t.switchValue,t.switchValueSourceSpan);return new TT("ng-container",[r],n,t.sourceSpan,t.sourceSpan,t.sourceSpan)}(t,this.errors);var n,r,i,o},t.prototype.visitExpansionCase=function(t,e){throw new Error("Should not be reached")},t}();var uM=function(){function t(t,e,n,r,i){if(this._exprParser=t,this._interpolationConfig=e,this._schemaRegistry=n,this.errors=i,this.pipesByName=null,this._usedPipes=new Map,r){var o=new Map;r.forEach(function(t){return o.set(t.name,t)}),this.pipesByName=o}}return t.prototype.getUsedPipes=function(){return Array.from(this._usedPipes.values())},t.prototype.createBoundHostProperties=function(t,e){var n=this;if(t.hostProperties){var r=[];return Object.keys(t.hostProperties).forEach(function(i){var o=t.hostProperties[i];"string"==typeof o?n.parsePropertyBinding(i,o,!0,e,[],r):n._reportError('Value of the host property binding "'+i+'" needs to be a string representing an expression but got "'+o+'" ('+typeof o+")",e)}),r}return null},t.prototype.createDirectiveHostPropertyAsts=function(t,e,n){var r=this,i=this.createBoundHostProperties(t,n);return i&&i.map(function(t){return r.createBoundElementProperty(e,t)})},t.prototype.createDirectiveHostEventAsts=function(t,e){var n=this;if(t.hostListeners){var r=[];return Object.keys(t.hostListeners).forEach(function(i){var o=t.hostListeners[i];"string"==typeof o?n.parseEvent(i,o,e,[],r):n._reportError('Value of the host listener "'+i+'" needs to be a string representing an expression but got "'+o+'" ('+typeof o+")",e)}),r}return null},t.prototype.parseInterpolation=function(t,e){var n=e.start.toString();try{var r=this._exprParser.parseInterpolation(t,n,this._interpolationConfig);return r&&this._reportExpressionParserErrors(r.errors,e),this._checkPipes(r,e),r}catch(t){return this._reportError(""+t,e),this._exprParser.wrapLiteralPrimitive("ERROR",n)}},t.prototype.parseInlineTemplateBinding=function(t,e,n,r,i,o){for(var s=this._parseTemplateBindings(t,e,n),a=0;a<s.length;a++){var u=s[a];u.keyIsVar?o.push(new ND(u.key,u.name,n)):u.expression?this._parsePropertyAst(u.key,u.expression,n,r,i):(r.push([u.key,""]),this.parseLiteralAttr(u.key,null,n,r,i))}},t.prototype._parseTemplateBindings=function(t,e,n){var r=this,i=n.start.toString();try{var o=this._exprParser.parseTemplateBindings(t,e,i);return this._reportExpressionParserErrors(o.errors,n),o.templateBindings.forEach(function(t){t.expression&&r._checkPipes(t.expression,n)}),o.warnings.forEach(function(t){r._reportError(t,n,RD.WARNING)}),o.templateBindings}catch(t){return this._reportError(""+t,n),[]}},t.prototype.parseLiteralAttr=function(t,e,n,r,i){lM(t)?(t=t.substring(1),e&&this._reportError('Assigning animation triggers via @prop="exp" attributes with an expression is invalid. Use property bindings (e.g. [@prop]="exp") or use an attribute without a value (e.g. @prop) instead.',n,RD.ERROR),this._parseAnimation(t,e,n,r,i)):i.push(new DD(t,this._exprParser.wrapLiteralPrimitive(e,""),AD.LITERAL_ATTR,n))},t.prototype.parsePropertyBinding=function(t,e,n,r,i,o){var s=!1;t.startsWith("animate-")?(s=!0,t=t.substring("animate-".length)):lM(t)&&(s=!0,t=t.substring(1)),s?this._parseAnimation(t,e,r,i,o):this._parsePropertyAst(t,this._parseBinding(e,n,r),r,i,o)},t.prototype.parsePropertyInterpolation=function(t,e,n,r,i){var o=this.parseInterpolation(e,n);return!!o&&(this._parsePropertyAst(t,o,n,r,i),!0)},t.prototype._parsePropertyAst=function(t,e,n,r,i){r.push([t,e.source]),i.push(new DD(t,e,AD.DEFAULT,n))},t.prototype._parseAnimation=function(t,e,n,r,i){var o=this._parseBinding(e||"undefined",!1,n);r.push([t,o.source]),i.push(new DD(t,o,AD.ANIMATION,n))},t.prototype._parseBinding=function(t,e,n){var r=(n&&n.start||"(unknown)").toString();try{var i=e?this._exprParser.parseSimpleBinding(t,r,this._interpolationConfig):this._exprParser.parseBinding(t,r,this._interpolationConfig);return i&&this._reportExpressionParserErrors(i.errors,n),this._checkPipes(i,n),i}catch(t){return this._reportError(""+t,n),this._exprParser.wrapLiteralPrimitive("ERROR",r)}},t.prototype.createBoundElementProperty=function(t,e){if(e.isAnimation)return new kD(e.name,4,GS.NONE,e.expression,null,e.sourceSpan);var n=null,r=void 0,i=null,o=e.name.split("."),s=void 0;if(o.length>1)if("attr"==o[0]){i=o[1],this._validatePropertyOrAttributeName(i,e.sourceSpan,!0),s=hM(this._schemaRegistry,t,i,!0);var a=i.indexOf(":");if(a>-1)i=xS(i.substring(0,a),i.substring(a+1));r=1}else"class"==o[0]?(i=o[1],r=2,s=[GS.NONE]):"style"==o[0]&&(n=o.length>2?o[2]:null,i=o[1],r=3,s=[GS.STYLE]);return null===i&&(i=this._schemaRegistry.getMappedPropName(e.name),s=hM(this._schemaRegistry,t,i,!1),r=0,this._validatePropertyOrAttributeName(i,e.sourceSpan,!1)),new kD(i,r,s[0],e.expression,n,e.sourceSpan)},t.prototype.parseEvent=function(t,e,n,r,i){lM(t)?(t=t.substr(1),this._parseAnimationEvent(t,e,n,i)):this._parseRegularEvent(t,e,n,r,i)},t.prototype._parseAnimationEvent=function(t,e,n,r){var i=vx(t,".",[t,""]),o=i[0],s=i[1].toLowerCase();if(s)switch(s){case"start":case"done":var a=this._parseAction(e,n);r.push(new ID(o,s,1,a,n));break;default:this._reportError('The provided animation output phase value "'+s+'" for "@'+o+'" is not supported (use start or done)',n)}else this._reportError("The animation trigger output event (@"+o+") is missing its phase value name (start or done are currently supported)",n)},t.prototype._parseRegularEvent=function(t,e,n,r,i){var o=l(dx(t,[null,t]),2),s=o[0],a=o[1],u=this._parseAction(e,n);r.push([t,u.source]),i.push(new ID(a,s,0,u,n))},t.prototype._parseAction=function(t,e){var n=(e&&e.start||"(unknown").toString();try{var r=this._exprParser.parseAction(t,n,this._interpolationConfig);return r&&this._reportExpressionParserErrors(r.errors,e),!r||r.ast instanceof nD?(this._reportError("Empty expressions are not allowed",e),this._exprParser.wrapLiteralPrimitive("ERROR",n)):(this._checkPipes(r,e),r)}catch(t){return this._reportError(""+t,e),this._exprParser.wrapLiteralPrimitive("ERROR",n)}},t.prototype._reportError=function(t,e,n){void 0===n&&(n=RD.ERROR),this.errors.push(new HD(e,t,n))},t.prototype._reportExpressionParserErrors=function(t,e){var n,r;try{for(var i=c(t),o=i.next();!o.done;o=i.next()){var s=o.value;this._reportError(s.message,e)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype._checkPipes=function(t,e){var n=this;if(t&&this.pipesByName){var r=new cM;t.visit(r),r.pipes.forEach(function(t,r){var i=n.pipesByName.get(r);i?n._usedPipes.set(r,i):n._reportError("The pipe '"+r+"' could not be found",new UD(e.start.moveBy(t.span.start),e.start.moveBy(t.span.end)))})}},t.prototype._validatePropertyOrAttributeName=function(t,e,n){var r=n?this._schemaRegistry.validateAttribute(t):this._schemaRegistry.validateProperty(t);r.error&&this._reportError(r.msg,e,RD.ERROR)},t}(),cM=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pipes=new Map,e}return i(e,t),e.prototype.visitPipe=function(t,e){return this.pipes.set(t.name,t),t.exp.visit(this),this.visitAll(t.args,e),null},e}(SD);function lM(t){return"@"==t[0]}function hM(t,e,n,r){var i=[];return RS.parse(e).forEach(function(e){var o=e.element?[e.element]:t.allKnownElementNames(),s=new Set(e.notSelectors.filter(function(t){return t.isElementSelector()}).map(function(t){return t.element})),a=o.filter(function(t){return!s.has(t)});i.push.apply(i,h(a.map(function(e){return t.securityContext(e,n,r)})))}),0===i.length?[GS.NONE]:Array.from(new Set(i)).sort()}var pM,fM=/^(?:(?:(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.+))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/,dM="class";function vM(){return pM||(pM=RS.parse("*")[0]),pM}var mM=function(t){function e(e,n,r){return t.call(this,n,e,r)||this}return i(e,t),e}(HD),yM=function(){return function(t,e,n){this.templateAst=t,this.usedPipes=e,this.errors=n}}(),gM=function(){function t(t,e,n,r,i,o,s){this._config=t,this._reflector=e,this._exprParser=n,this._schemaRegistry=r,this._htmlParser=i,this._console=o,this.transforms=s}return Object.defineProperty(t.prototype,"expressionParser",{get:function(){return this._exprParser},enumerable:!0,configurable:!0}),t.prototype.parse=function(t,e,n,r,i,o,s){var a=this.tryParse(t,e,n,r,i,o,s),u=a.errors.filter(function(t){return t.level===RD.WARNING}),c=a.errors.filter(function(t){return t.level===RD.ERROR});if(u.length>0&&this._console.warn("Template parse warnings:\n"+u.join("\n")),c.length>0)throw Sx("Template parse errors:\n"+c.join("\n"),c);return{template:a.templateAst,pipes:a.usedPipes}},t.prototype.tryParse=function(t,e,n,r,i,o,s){var a="string"==typeof e?this._htmlParser.parse(e,o,!0,this.getInterpolationConfig(t)):e;return s||(a=nM(a)),this.tryParseHtml(this.expandHtml(a),t,n,r,i)},t.prototype.tryParseHtml=function(t,e,n,r,i){var o,s=t.errors,a=[];if(t.rootNodes.length>0){var u=AM(n),c=AM(r),l=new DP(this._reflector,e),p=void 0;e.template&&e.template.interpolation&&(p={start:e.template.interpolation[0],end:e.template.interpolation[1]});var f=new uM(this._exprParser,p,this._schemaRegistry,c,s),d=new bM(this._reflector,this._config,l,u,f,this._schemaRegistry,i,s);o=DT(d,t.rootNodes,SM),s.push.apply(s,h(l.errors)),a.push.apply(a,h(f.getUsedPipes()))}else o=[];return this._assertNoReferenceDuplicationOnTemplate(o,s),s.length>0?new yM(o,a,s):(this.transforms&&this.transforms.forEach(function(t){o=Xx(t,o)}),new yM(o,a,s))},t.prototype.expandHtml=function(t,e){void 0===e&&(e=!1);var n=t.errors;if(0==n.length||e){var r=iM(t.rootNodes);n.push.apply(n,h(r.errors)),t=new sI(r.nodes,n)}return t},t.prototype.getInterpolationConfig=function(t){if(t.template)return PT.fromArray(t.template.interpolation)},t.prototype._assertNoReferenceDuplicationOnTemplate=function(t,e){var n=[];t.filter(function(t){return!!t.references}).forEach(function(t){return t.references.forEach(function(t){var r=t.name;if(n.indexOf(r)<0)n.push(r);else{var i=new mM('Reference "#'+r+'" is defined several times',t.sourceSpan,RD.ERROR);e.push(i)}})})},t}(),bM=function(){function t(t,e,n,r,i,o,s,a){var u=this;this.reflector=t,this.config=e,this.providerViewContext=n,this._bindingParser=i,this._schemaRegistry=o,this._schemas=s,this._targetErrors=a,this.selectorMatcher=new FS,this.directivesIndex=new Map,this.ngContentCount=0,this.contentQueryStartId=n.component.viewQueries.length+1,r.forEach(function(t,e){var n=RS.parse(t.selector);u.selectorMatcher.addSelectables(n,t),u.directivesIndex.set(t,e)})}return t.prototype.visitExpansion=function(t,e){return null},t.prototype.visitExpansionCase=function(t,e){return null},t.prototype.visitText=function(t,e){var n=e.findNgContentIndex(vM()),r=tM(t.value),i=this._bindingParser.parseInterpolation(r,t.sourceSpan);return i?new Fx(i,n,t.sourceSpan):new Rx(r,n,t.sourceSpan)},t.prototype.visitAttribute=function(t,e){return new Lx(t.name,t.value,t.sourceSpan)},t.prototype.visitComment=function(t,e){return null},t.prototype.visitElement=function(t,e){var n=this,r=this.contentQueryStartId,i=t.name,o=XT(t);if(o.type===FT.SCRIPT||o.type===FT.STYLE)return null;if(o.type===FT.STYLESHEET&&RT(o.hrefAttr))return null;var s=[],a=[],u=[],c=[],l=[],p=[],f=[],d=[],v=!1,m=[],y=CS(t.name);t.attrs.forEach(function(t){var e,r,i=n._parseAttr(y,t,s,a,l,u,c);c.push.apply(c,h([].map(function(t){return qx.fromParsedVariable(t)})));var o=n._normalizeAttributeName(t.name);o.startsWith("*")&&(e=t.value,r=o.substring("*".length));var g=null!=e;if(g){v&&n._reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",t.sourceSpan),v=!0;var b=[];n._bindingParser.parseInlineTemplateBinding(r,e,t.sourceSpan,f,p,b),d.push.apply(d,h(b.map(function(t){return qx.fromParsedVariable(t)})))}i||g||(m.push(n.visitAttribute(t,null)),s.push([t.name,t.value]))});var g=CM(i,s),b=this._parseDirectives(this.selectorMatcher,g),w=b.directives,_=b.matchElement,E=[],C=new Set,S=this._createDirectiveAsts(y,t.name,w,a,u,t.sourceSpan,E,C),x=this._createElementPropertyAsts(t.name,a,C),T=e.isTemplateElement||v,A=new IP(this.providerViewContext,e.providerContext,T,S,m,E,y,r,t.sourceSpan),D=DT(o.nonBindable?xM:this,t.children,EM.create(y,S,y?e.providerContext:A));A.afterElement();var I,N=""!=o.projectAs?RS.parse(o.projectAs)[0]:g,k=e.findNgContentIndex(N);if(o.type===FT.NG_CONTENT)t.children&&!t.children.every(TM)&&this._reportError("<ng-content> element cannot have content.",t.sourceSpan),I=new Qx(this.ngContentCount++,v?null:k,t.sourceSpan);else if(y)this._assertAllEventsPublishedByDirectives(S,l),this._assertNoComponentsNorElementBindingsOnTemplate(S,x,t.sourceSpan),I=new Wx(m,l,E,c,A.transformedDirectiveAsts,A.transformProviders,A.transformedHasViewContainer,A.queryMatches,D,v?null:k,t.sourceSpan);else{this._assertElementExists(_,t),this._assertOnlyOneComponent(S,t.sourceSpan);var P=v?null:e.findNgContentIndex(N);I=new Hx(i,m,x,l,E,A.transformedDirectiveAsts,A.transformProviders,A.transformedHasViewContainer,A.queryMatches,D,v?null:P,t.sourceSpan,t.endSourceSpan||null)}if(v){var O=this.contentQueryStartId,M=CM("ng-template",f),R=this._parseDirectives(this.selectorMatcher,M).directives,F=new Set,L=this._createDirectiveAsts(!0,i,R,p,[],t.sourceSpan,[],F),j=this._createElementPropertyAsts(i,p,F);this._assertNoComponentsNorElementBindingsOnTemplate(L,j,t.sourceSpan);var V=new IP(this.providerViewContext,e.providerContext,e.isTemplateElement,L,[],[],!0,O,t.sourceSpan);V.afterElement(),I=new Wx([],[],[],d,V.transformedDirectiveAsts,V.transformProviders,V.transformedHasViewContainer,V.queryMatches,[I],k,t.sourceSpan)}return I},t.prototype._parseAttr=function(t,e,n,r,i,o,s){var a=this._normalizeAttributeName(e.name),u=e.value,c=e.sourceSpan,l=[],p=a.match(fM),f=!1;if(null!==p)if(f=!0,null!=p[1])this._bindingParser.parsePropertyBinding(p[7],u,!1,c,n,r);else if(p[2])if(t){var d=p[7];this._parseVariable(d,u,c,s)}else this._reportError('"let-" is only supported on ng-template elements.',c);else if(p[3]){d=p[7];this._parseReference(d,u,c,o)}else p[4]?this._bindingParser.parseEvent(p[7],u,c,n,l):p[5]?(this._bindingParser.parsePropertyBinding(p[7],u,!1,c,n,r),this._parseAssignmentEvent(p[7],u,c,n,l)):p[6]?this._bindingParser.parseLiteralAttr(a,u,c,n,r):p[8]?(this._bindingParser.parsePropertyBinding(p[8],u,!1,c,n,r),this._parseAssignmentEvent(p[8],u,c,n,l)):p[9]?this._bindingParser.parsePropertyBinding(p[9],u,!1,c,n,r):p[10]&&this._bindingParser.parseEvent(p[10],u,c,n,l);else f=this._bindingParser.parsePropertyInterpolation(a,u,c,n,r);return f||this._bindingParser.parseLiteralAttr(a,u,c,n,r),i.push.apply(i,h(l.map(function(t){return Bx.fromParsedEvent(t)}))),f},t.prototype._normalizeAttributeName=function(t){return/^data-/i.test(t)?t.substring(5):t},t.prototype._parseVariable=function(t,e,n,r){t.indexOf("-")>-1&&this._reportError('"-" is not allowed in variable names',n),r.push(new qx(t,e,n))},t.prototype._parseReference=function(t,e,n,r){t.indexOf("-")>-1&&this._reportError('"-" is not allowed in reference names',n),r.push(new _M(t,e,n))},t.prototype._parseAssignmentEvent=function(t,e,n,r,i){this._bindingParser.parseEvent(t+"Change",e+"=$event",n,r,i)},t.prototype._parseDirectives=function(t,e){var n=this,r=new Array(this.directivesIndex.size),i=!1;return t.match(e,function(t,e){r[n.directivesIndex.get(e)]=e,i=i||t.hasElementSelector()}),{directives:r.filter(function(t){return!!t}),matchElement:i}},t.prototype._createDirectiveAsts=function(t,e,n,r,i,o,s,a){var u=this,c=new Set,l=null,h=n.map(function(t){var n=new UD(o.start,o.end,"Directive "+iT(t.type));t.isComponent&&(l=t);var h=[],p=u._bindingParser.createDirectiveHostPropertyAsts(t,e,n).map(function(t){return Vx.fromBoundProperty(t)});p=u._checkPropertiesInSchema(e,p);var f=u._bindingParser.createDirectiveHostEventAsts(t,n);u._createDirectivePropertyAsts(t.inputs,r,h,a),i.forEach(function(e){(0===e.value.length&&t.isComponent||e.isReferenceToDirective(t))&&(s.push(new Ux(e.name,FN(t.type.reference),e.value,e.sourceSpan)),c.add(e.name))});var d=f.map(function(t){return Bx.fromParsedEvent(t)}),v=u.contentQueryStartId;return u.contentQueryStartId+=t.queries.length,new Kx(t,h,p,d,v,n)});return i.forEach(function(e){if(e.value.length>0)c.has(e.name)||u._reportError('There is no directive with "exportAs" set to "'+e.value+'"',e.sourceSpan);else if(!l){var n=null;t&&(n=LN(u.reflector,RN.TemplateRef)),s.push(new Ux(e.name,n,e.value,e.sourceSpan))}}),h},t.prototype._createDirectivePropertyAsts=function(t,e,n,r){if(t){var i=new Map;e.forEach(function(t){var e=i.get(t.name);e&&!e.isLiteral||i.set(t.name,t)}),Object.keys(t).forEach(function(e){var o=t[e],s=i.get(o);s&&(r.add(s.name),DM(s.expression)||n.push(new zx(e,s.name,s.expression,s.sourceSpan)))})}},t.prototype._createElementPropertyAsts=function(t,e,n){var r=this,i=[];return e.forEach(function(e){if(!e.isLiteral&&!n.has(e.name)){var o=r._bindingParser.createBoundElementProperty(t,e);i.push(Vx.fromBoundProperty(o))}}),this._checkPropertiesInSchema(t,i)},t.prototype._findComponentDirectives=function(t){return t.filter(function(t){return t.directive.isComponent})},t.prototype._findComponentDirectiveNames=function(t){return this._findComponentDirectives(t).map(function(t){return iT(t.directive.type)})},t.prototype._assertOnlyOneComponent=function(t,e){var n=this._findComponentDirectiveNames(t);n.length>1&&this._reportError("More than one component matched on this element.\nMake sure that only one component's selector can match a given element.\nConflicting components: "+n.join(","),e)},t.prototype._assertElementExists=function(t,e){var n=e.name.replace(/^:xhtml:/,"");if(!t&&!this._schemaRegistry.hasElement(n,this._schemas)){var r="'"+n+"' is not a known element:\n";r+="1. If '"+n+"' is an Angular component, then verify that it is part of this module.\n",n.indexOf("-")>-1?r+="2. If '"+n+"' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message.":r+="2. To allow any element add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component.",this._reportError(r,e.sourceSpan)}},t.prototype._assertNoComponentsNorElementBindingsOnTemplate=function(t,e,n){var r=this,i=this._findComponentDirectiveNames(t);i.length>0&&this._reportError("Components on an embedded template: "+i.join(","),n),e.forEach(function(t){r._reportError("Property binding "+t.name+' not used by any directive on an embedded template. Make sure that the property name is spelled correctly and all directives are listed in the "@NgModule.declarations".',n)})},t.prototype._assertAllEventsPublishedByDirectives=function(t,e){var n=this,r=new Set;t.forEach(function(t){Object.keys(t.directive.outputs).forEach(function(e){var n=t.directive.outputs[e];r.add(n)})}),e.forEach(function(t){null==t.target&&r.has(t.name)||n._reportError("Event binding "+t.fullName+' not emitted by any directive on an embedded template. Make sure that the event name is spelled correctly and all directives are listed in the "@NgModule.declarations".',t.sourceSpan)})},t.prototype._checkPropertiesInSchema=function(t,e){var n=this;return e.filter(function(e){if(0===e.type&&!n._schemaRegistry.hasProperty(t,e.name,n._schemas)){var r="Can't bind to '"+e.name+"' since it isn't a known property of '"+t+"'.";t.startsWith("ng-")?r+="\n1. If '"+e.name+"' is an Angular directive, then add 'CommonModule' to the '@NgModule.imports' of this component.\n2. To allow any property add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component.":t.indexOf("-")>-1&&(r+="\n1. If '"+t+"' is an Angular component and it has '"+e.name+"' input, then verify that it is part of this module.\n2. If '"+t+"' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message.\n3. To allow any property add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component."),n._reportError(r,e.sourceSpan)}return!DM(e.value)})},t.prototype._reportError=function(t,e,n){void 0===n&&(n=RD.ERROR),this._targetErrors.push(new HD(e,t,n))},t}(),wM=function(){function t(){}return t.prototype.visitElement=function(t,e){var n=XT(t);if(n.type===FT.SCRIPT||n.type===FT.STYLE||n.type===FT.STYLESHEET)return null;var r=t.attrs.map(function(t){return[t.name,t.value]}),i=CM(t.name,r),o=e.findNgContentIndex(i),s=DT(this,t.children,SM);return new Hx(t.name,DT(this,t.attrs),[],[],[],[],[],!1,[],s,o,t.sourceSpan,t.endSourceSpan)},t.prototype.visitComment=function(t,e){return null},t.prototype.visitAttribute=function(t,e){return new Lx(t.name,t.value,t.sourceSpan)},t.prototype.visitText=function(t,e){var n=e.findNgContentIndex(vM());return new Rx(t.value,n,t.sourceSpan)},t.prototype.visitExpansion=function(t,e){return t},t.prototype.visitExpansionCase=function(t,e){return t},t}(),_M=function(){function t(t,e,n){this.name=t,this.value=e,this.sourceSpan=n}return t.prototype.isReferenceToDirective=function(t){return-1!==(e=t.exportAs,e?e.split(",").map(function(t){return t.trim()}):[]).indexOf(this.value);var e},t}();var EM=function(){function t(t,e,n,r){this.isTemplateElement=t,this._ngContentIndexMatcher=e,this._wildcardNgContentIndex=n,this.providerContext=r}return t.create=function(e,n,r){var i=new FS,o=null,s=n.find(function(t){return t.directive.isComponent});if(s)for(var a=s.directive.template.ngContentSelectors,u=0;u<a.length;u++){"*"===a[u]?o=u:i.addSelectables(RS.parse(a[u]),u)}return new t(e,i,o,r)},t.prototype.findNgContentIndex=function(t){var e=[];return this._ngContentIndexMatcher.match(t,function(t,n){e.push(n)}),e.sort(),null!=this._wildcardNgContentIndex&&e.push(this._wildcardNgContentIndex),e.length>0?e[0]:null},t}();function CM(t,e){var n=new RS,r=wS(t)[1];n.setElement(r);for(var i=0;i<e.length;i++){var o=e[i][0],s=wS(o)[1],a=e[i][1];if(n.addAttribute(s,a),o.toLowerCase()==dM)a.trim().split(/\s+/g).forEach(function(t){return n.addClassName(t)})}return n}var SM=new EM(!0,new FS,null,null),xM=new wM;function TM(t){return t instanceof ET&&0==t.value.trim().length}function AM(t){var e=new Map;return t.forEach(function(t){e.get(t.type.reference)||e.set(t.type.reference,t)}),Array.from(e.values())}function DM(t){return t instanceof ED&&(t=t.ast),t instanceof nD}var IM=function(){function t(){}return t.event=Qk("$event"),t}(),NM=function(){return function(t,e){this.stmts=t,this.allowDefault=e,this.render3Stmts=t.map(function(t){if(t instanceof Dk&&t.name==e.name&&t.value instanceof gk){var n=t.value.lhs;return new kk(n.value)}return t})}}();function kM(t,e,n,r,i){t||(t=new HM);var o=PM({createLiteralArrayConverter:function(t){return function(t){return Jk(t)}},createLiteralMapConverter:function(t){return function(e){return Zk(t.map(function(t,n){return{key:t.key,value:e[n],quoted:t.quoted}}))}},createPipeConverter:function(t){throw new Error("Illegal State: Actions are not allowed to contain pipes. Pipe: "+t)}},n),s=new qM(t,e,r,i),a=[];!function t(e,n){Array.isArray(e)?e.forEach(function(e){return t(e,n)}):n.push(e)}(o.visit(s,MM.Statement),a),function(t,e,n){for(var r=t-1;r>=0;r--)n.unshift(jM(e,r))}(s.temporaryCount,r,a);var u=a.length-1,c=null;if(u>=0){var l=function(t){if(t instanceof Nk)return t.expr;if(t instanceof kk)return t.value;return null}(a[u]);l&&(c=function(t){return Qk("pd_"+t)}(r),a[u]=c.set(l.cast(zN).notIdentical(eP(!1))).toDeclStmt(null,[ok.Final]))}return new NM(a,c)}function PM(t,e){return function(t,e){var n=new UM(t);return e.visit(n)}(t,e)}var OM,MM,RM=function(){return function(t,e){this.stmts=t,this.currValExpr=e}}();function FM(t,e,n,r,i,o){t||(t=new HM);var s=function(t){return Qk("currVal_"+t)}(r),a=[],u=new qM(t,e,r,o),c=n.visit(u,MM.Expression);if(u.temporaryCount)for(var l=0;l<u.temporaryCount;l++)a.push(jM(r,l));else if(i==OM.TrySimple)return new RM([],c);return a.push(s.set(c).toDeclStmt(zN,[ok.Final])),new RM(a,s)}function LM(t,e){return"tmp_"+t+"_"+e}function jM(t,e){return new Dk(LM(t,e),xk)}function VM(t,e){if(t!==MM.Expression)throw new Error("Expected an expression, but saw "+e)}function BM(t,e){return t===MM.Statement?e.toStmt():e}!function(t){t[t.General=0]="General",t[t.TrySimple=1]="TrySimple"}(OM||(OM={})),function(t){t[t.Statement=0]="Statement",t[t.Expression=1]="Expression"}(MM||(MM={}));var UM=function(t){function e(e){var n=t.call(this)||this;return n._converterFactory=e,n}return i(e,t),e.prototype.visitPipe=function(t,e){var n=this,r=h([t.exp],t.args).map(function(t){return t.visit(n,e)});return new WM(t.span,r,this._converterFactory.createPipeConverter(t.name,r.length))},e.prototype.visitLiteralArray=function(t,e){var n=this,r=t.expressions.map(function(t){return t.visit(n,e)});return new WM(t.span,r,this._converterFactory.createLiteralArrayConverter(t.expressions.length))},e.prototype.visitLiteralMap=function(t,e){var n=this,r=t.values.map(function(t){return t.visit(n,e)});return new WM(t.span,r,this._converterFactory.createLiteralMapConverter(t.keys))},e}(xD),qM=function(){function t(t,e,n,r){this._localResolver=t,this._implicitReceiver=e,this.bindingId=n,this.interpolationFunction=r,this._nodeMap=new Map,this._resultMap=new Map,this._currentTemporary=0,this.temporaryCount=0}return t.prototype.visitBinary=function(t,e){var n;switch(t.operation){case"+":n=BN.Plus;break;case"-":n=BN.Minus;break;case"*":n=BN.Multiply;break;case"/":n=BN.Divide;break;case"%":n=BN.Modulo;break;case"&&":n=BN.And;break;case"||":n=BN.Or;break;case"==":n=BN.Equals;break;case"!=":n=BN.NotEquals;break;case"===":n=BN.Identical;break;case"!==":n=BN.NotIdentical;break;case"<":n=BN.Lower;break;case">":n=BN.Bigger;break;case"<=":n=BN.LowerEquals;break;case">=":n=BN.BiggerEquals;break;default:throw new Error("Unsupported operation "+t.operation)}return BM(e,new gk(n,this._visit(t.left,MM.Expression),this._visit(t.right,MM.Expression)))},t.prototype.visitChain=function(t,e){return function(t,e){if(t!==MM.Statement)throw new Error("Expected a statement, but saw "+e)}(e,t),this.visitAll(t.expressions,e)},t.prototype.visitConditional=function(t,e){return BM(e,this._visit(t.condition,MM.Expression).conditional(this._visit(t.trueExp,MM.Expression),this._visit(t.falseExp,MM.Expression)))},t.prototype.visitPipe=function(t,e){throw new Error("Illegal state: Pipes should have been converted into functions. Pipe: "+t.name)},t.prototype.visitFunctionCall=function(t,e){var n=this.visitAll(t.args,MM.Expression);return BM(e,t instanceof WM?t.converter(n):this._visit(t.target,MM.Expression).callFn(n))},t.prototype.visitImplicitReceiver=function(t,e){return VM(e,t),this._implicitReceiver},t.prototype.visitInterpolation=function(t,e){VM(e,t);for(var n=[eP(t.expressions.length)],r=0;r<t.strings.length-1;r++)n.push(eP(t.strings[r])),n.push(this._visit(t.expressions[r],MM.Expression));return n.push(eP(t.strings[t.strings.length-1])),this.interpolationFunction?this.interpolationFunction(n):t.expressions.length<=9?Xk(RN.inlineInterpolate).callFn(n):Xk(RN.interpolate).callFn([n[0],Jk(n.slice(1))])},t.prototype.visitKeyedRead=function(t,e){var n=this.leftMostSafeNode(t);return n?this.convertSafeAccess(t,n,e):BM(e,this._visit(t.obj,MM.Expression).key(this._visit(t.key,MM.Expression)))},t.prototype.visitKeyedWrite=function(t,e){var n=this._visit(t.obj,MM.Expression),r=this._visit(t.key,MM.Expression),i=this._visit(t.value,MM.Expression);return BM(e,n.key(r).set(i))},t.prototype.visitLiteralArray=function(t,e){throw new Error("Illegal State: literal arrays should have been converted into functions")},t.prototype.visitLiteralMap=function(t,e){throw new Error("Illegal State: literal maps should have been converted into functions")},t.prototype.visitLiteralPrimitive=function(t,e){var n=null===t.value||void 0===t.value||!0===t.value||!0===t.value?KN:void 0;return BM(e,eP(t.value,n))},t.prototype._getLocal=function(t){return this._localResolver.getLocal(t)},t.prototype.visitMethodCall=function(t,e){if(t.receiver instanceof rD&&"$any"==t.name){if(1!=(r=this.visitAll(t.args,MM.Expression)).length)throw new Error("Invalid call to $any, expected 1 argument but received "+(r.length||"none"));return r[0].cast(zN)}var n=this.leftMostSafeNode(t);if(n)return this.convertSafeAccess(t,n,e);var r=this.visitAll(t.args,MM.Expression),i=null,o=this._visit(t.receiver,MM.Expression);if(o===this._implicitReceiver){var s=this._getLocal(t.name);s&&(i=s.callFn(r))}return null==i&&(i=o.callMethod(t.name,r)),BM(e,i)},t.prototype.visitPrefixNot=function(t,e){return BM(e,(n=this._visit(t.expression,MM.Expression),new fk(n,r)));var n,r},t.prototype.visitNonNullAssert=function(t,e){return BM(e,(n=this._visit(t.expression,MM.Expression),new dk(n,r)));var n,r},t.prototype.visitPropertyRead=function(t,e){var n=this.leftMostSafeNode(t);if(n)return this.convertSafeAccess(t,n,e);var r=null,i=this._visit(t.receiver,MM.Expression);return i===this._implicitReceiver&&(r=this._getLocal(t.name)),null==r&&(r=i.prop(t.name)),BM(e,r)},t.prototype.visitPropertyWrite=function(t,e){var n=this._visit(t.receiver,MM.Expression);if(n===this._implicitReceiver&&this._getLocal(t.name))throw new Error("Cannot assign to a reference or variable!");return BM(e,n.prop(t.name).set(this._visit(t.value,MM.Expression)))},t.prototype.visitSafePropertyRead=function(t,e){return this.convertSafeAccess(t,this.leftMostSafeNode(t),e)},t.prototype.visitSafeMethodCall=function(t,e){return this.convertSafeAccess(t,this.leftMostSafeNode(t),e)},t.prototype.visitAll=function(t,e){var n=this;return t.map(function(t){return n._visit(t,e)})},t.prototype.visitQuote=function(t,e){throw new Error("Quotes are not supported for evaluation!\n        Statement: "+t.uninterpretedExpression+" located at "+t.location)},t.prototype._visit=function(t,e){var n=this._resultMap.get(t);return n||(this._nodeMap.get(t)||t).visit(this,e)},t.prototype.convertSafeAccess=function(t,e,n){var r=this._visit(e.receiver,MM.Expression),i=void 0;this.needsTemporary(e.receiver)&&(r=(i=this.allocateTemporary()).set(r),this._resultMap.set(e.receiver,i));var o=r.isBlank();e instanceof wD?this._nodeMap.set(e,new bD(e.span,e.receiver,e.name,e.args)):this._nodeMap.set(e,new sD(e.span,e.receiver,e.name));var s=this._visit(t,MM.Expression);return this._nodeMap.delete(e),i&&this.releaseTemporary(i),BM(n,o.conditional(eP(null),s))},t.prototype.leftMostSafeNode=function(t){var e=this,n=function(t,n){return(e._nodeMap.get(n)||n).visit(t)};return t.visit({visitBinary:function(t){return null},visitChain:function(t){return null},visitConditional:function(t){return null},visitFunctionCall:function(t){return null},visitImplicitReceiver:function(t){return null},visitInterpolation:function(t){return null},visitKeyedRead:function(t){return n(this,t.obj)},visitKeyedWrite:function(t){return null},visitLiteralArray:function(t){return null},visitLiteralMap:function(t){return null},visitLiteralPrimitive:function(t){return null},visitMethodCall:function(t){return n(this,t.receiver)},visitPipe:function(t){return null},visitPrefixNot:function(t){return null},visitNonNullAssert:function(t){return null},visitPropertyRead:function(t){return n(this,t.receiver)},visitPropertyWrite:function(t){return null},visitQuote:function(t){return null},visitSafeMethodCall:function(t){return n(this,t.receiver)||t},visitSafePropertyRead:function(t){return n(this,t.receiver)||t}})},t.prototype.needsTemporary=function(t){var e=this,n=function(t,n){return n&&(e._nodeMap.get(n)||n).visit(t)};return t.visit({visitBinary:function(t){return n(this,t.left)||n(this,t.right)},visitChain:function(t){return!1},visitConditional:function(t){return n(this,t.condition)||n(this,t.trueExp)||n(this,t.falseExp)},visitFunctionCall:function(t){return!0},visitImplicitReceiver:function(t){return!1},visitInterpolation:function(t){return function(t,e){return e.some(function(e){return n(t,e)})}(this,t.expressions)},visitKeyedRead:function(t){return!1},visitKeyedWrite:function(t){return!1},visitLiteralArray:function(t){return!0},visitLiteralMap:function(t){return!0},visitLiteralPrimitive:function(t){return!1},visitMethodCall:function(t){return!0},visitPipe:function(t){return!0},visitPrefixNot:function(t){return n(this,t.expression)},visitNonNullAssert:function(t){return n(this,t.expression)},visitPropertyRead:function(t){return!1},visitPropertyWrite:function(t){return!1},visitQuote:function(t){return!1},visitSafeMethodCall:function(t){return!0},visitSafePropertyRead:function(t){return!1}})},t.prototype.allocateTemporary=function(){var t=this._currentTemporary++;return this.temporaryCount=Math.max(this._currentTemporary,this.temporaryCount),new tk(LM(this.bindingId,t))},t.prototype.releaseTemporary=function(t){if(this._currentTemporary--,t.name!=LM(this.bindingId,this._currentTemporary))throw new Error("Temporary "+t.name+" released out of order")},t}();var HM=function(){function t(){}return t.prototype.getLocal=function(t){return t===IM.event.name?IM.event:null},t}();var WM=function(t){function e(e,n,r){var i=t.call(this,e,null,n)||this;return i.args=n,i.converter=r,i}return i(e,t),e}(_D),zM=(function(){function t(t,e){this.options=t,this.reflector=e}t.prototype.compileComponent=function(t,e,n,r,i,o){var s=this,a=new Map;r.forEach(function(t){return a.set(t.name,t.type.reference)});var u=0,c=function(t,n){var r=u++;return new KM(s.options,s.reflector,i,t,e.type.reference,e.isHost,r,a,n,o,c)},l=c(null,[]);return l.visitAll([],n),l.build(t)}}(),new(function(){function t(){}return t.prototype.getLocal=function(t){return t===IM.event.name?Qk("_any"):null},t}())),KM=function(){function t(t,e,n,r,i,o,s,a,u,c,l){this.options=t,this.reflector=e,this.externalReferenceVars=n,this.parent=r,this.component=i,this.isHostComponent=o,this.embeddedViewIndex=s,this.pipes=a,this.guards=u,this.ctx=c,this.viewBuilderFactory=l,this.refOutputVars=new Map,this.variables=[],this.children=[],this.updates=[],this.actions=[]}return t.prototype.getOutputVar=function(t){var e;if(!(e=t===this.component&&this.isHostComponent?"_any":t instanceof Jx?this.externalReferenceVars.get(t):"_any"))throw new Error("Illegal State: referring to a type without a variable "+JSON.stringify(t));return e},t.prototype.getTypeGuardExpressions=function(t){var e,n,r,i,o=h(this.guards);try{for(var s=c(t.directives),a=s.next();!a.done;a=s.next()){var u=a.value;try{for(var l=c(u.inputs),p=l.next();!p.done;p=l.next()){var f=p.value,d=u.directive.guards[f.directiveName];if(d){var v="UseIf"===d;o.push({guard:d,useIf:v,expression:{context:this.component,value:f.value}})}}}catch(t){r={error:t}}finally{try{p&&!p.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return o},t.prototype.visitAll=function(t,e){this.variables=t,Xx(this,e)},t.prototype.build=function(t,e){var n,r,i=this;void 0===e&&(e=[]),this.children.forEach(function(n){return n.build(t,e)});var o=[Qk("_any").set(xk).toDeclStmt(zN)],s=0;if(this.updates.forEach(function(t){var e=i.preprocessUpdateExpression(t),n=e.sourceSpan,r=e.context,a=e.value,u=""+s++,c=FM(r===i.component?i:zM,Qk(i.getOutputVar(r)),a,u,OM.General),l=c.stmts,p=c.currValExpr;l.push(new Nk(p)),o.push.apply(o,h(l.map(function(t){return zk(t,n)})))}),this.actions.forEach(function(t){var e=t.sourceSpan,n=t.context,r=t.value,a=""+s++,u=kM(n===i.component?i:zM,Qk(i.getOutputVar(n)),r,a).stmts;o.push.apply(o,h(u.map(function(t){return zk(t,e)})))}),this.guards.length){var a=void 0;try{for(var u=c(this.guards),l=u.next();!l.done;l=u.next()){var p=l.value,f=this.preprocessUpdateExpression(p.expression),d=f.context,v=f.value,m=""+s++,y=FM(d===this.component?this:zM,Qk(this.getOutputVar(d)),v,m,OM.TrySimple),g=y.stmts,b=y.currValExpr;if(0==g.length){var w=p.useIf?b:this.ctx.importExpr(p.guard).callFn([b]);a=a?a.and(w):w}}}catch(t){n={error:t}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}a&&(o=[new Lk(a,o)])}var _="_View_"+t+"_"+this.embeddedViewIndex,E=new Ik(_,[],o);return e.push(E),e},t.prototype.visitBoundText=function(t,e){var n=this;t.value.ast.expressions.forEach(function(e){return n.updates.push({context:n.component,value:e,sourceSpan:t.sourceSpan})})},t.prototype.visitEmbeddedTemplate=function(t,e){if(this.visitElementOrTemplate(t),this.options.fullTemplateTypeCheck){var n=this.getTypeGuardExpressions(t),r=this.viewBuilderFactory(this,n);this.children.push(r),r.visitAll(t.variables,t.children)}},t.prototype.visitElement=function(t,e){var n=this;this.visitElementOrTemplate(t),t.inputs.forEach(function(t){n.updates.push({context:n.component,value:t.value,sourceSpan:t.sourceSpan})}),Xx(this,t.children)},t.prototype.visitElementOrTemplate=function(t){var e=this;t.directives.forEach(function(t){e.visitDirective(t)}),t.references.forEach(function(t){var n=null;n=t.value&&t.value.identifier&&e.options.fullTemplateTypeCheck?t.value.identifier.reference:jN.Dynamic,e.refOutputVars.set(t.name,n)}),t.outputs.forEach(function(t){e.actions.push({context:e.component,value:t.handler,sourceSpan:t.sourceSpan})})},t.prototype.visitDirective=function(t){var e=this,n=t.directive.type.reference;t.inputs.forEach(function(t){return e.updates.push({context:e.component,value:t.value,sourceSpan:t.sourceSpan})}),this.options.fullTemplateTypeCheck&&(t.hostProperties.forEach(function(t){return e.updates.push({context:n,value:t.value,sourceSpan:t.sourceSpan})}),t.hostEvents.forEach(function(t){return e.actions.push({context:n,value:t.handler,sourceSpan:t.sourceSpan})}))},t.prototype.getLocal=function(t){if(t==IM.event.name)return Qk(this.getOutputVar(jN.Dynamic));for(var e=this;e;e=e.parent){var n=void 0;if(null==(n=e.refOutputVars.get(t)))e.variables.find(function(e){return e.name===t})&&(n=jN.Dynamic);if(null!=n)return Qk(this.getOutputVar(n))}return null},t.prototype.pipeOutputVar=function(t){var e=this.pipes.get(t);if(!e)throw new Error("Illegal State: Could not find pipe "+t+" in template of "+this.component);return this.getOutputVar(e)},t.prototype.preprocessUpdateExpression=function(t){var e=this;return{sourceSpan:t.sourceSpan,context:t.context,value:PM({createLiteralArrayConverter:function(t){return function(t){var n=Jk(t);return e.options.fullTemplateTypeCheck?n:n.cast(zN)}},createLiteralMapConverter:function(t){return function(n){var r=Zk(t.map(function(t,e){return{key:t.key,value:n[e],quoted:t.quoted}}));return e.options.fullTemplateTypeCheck?r:r.cast(zN)}},createPipeConverter:function(t,n){return function(n){return(e.options.fullTemplateTypeCheck?Qk(e.pipeOutputVar(t)):Qk(e.getOutputVar(jN.Dynamic))).callMethod("transform",n)}}},t.value)}},t.prototype.visitNgContent=function(t,e){},t.prototype.visitText=function(t,e){},t.prototype.visitDirectiveProperty=function(t,e){},t.prototype.visitReference=function(t,e){},t.prototype.visitVariable=function(t,e){},t.prototype.visitEvent=function(t,e){},t.prototype.visitElementProperty=function(t,e){},t.prototype.visitAttr=function(t,e){},t}(),GM="class",QM="style",XM=function(){return function(t,e){this.viewClassVar=t,this.rendererTypeVar=e}}(),$M=function(){function t(t){this._reflector=t}return t.prototype.compileComponent=function(t,e,n,r,i){var o,s=this,a=0,u=function t(e,n){void 0===n&&(n=new Map);e.forEach(function(e){var r=new Set,i=new Set,o=void 0;e instanceof Hx?(t(e.children,n),e.children.forEach(function(t){var e=n.get(t);e.staticQueryIds.forEach(function(t){return r.add(t)}),e.dynamicQueryIds.forEach(function(t){return i.add(t)})}),o=e.queryMatches):e instanceof Wx&&(t(e.children,n),e.children.forEach(function(t){var e=n.get(t);e.staticQueryIds.forEach(function(t){return i.add(t)}),e.dynamicQueryIds.forEach(function(t){return i.add(t)})}),o=e.queryMatches),o&&o.forEach(function(t){return r.add(t.queryId)}),i.forEach(function(t){return r.delete(t)}),n.set(e,{staticQueryIds:r,dynamicQueryIds:i})});return n}(n),c=void 0;if(!e.isHost){var l=e.template,p=[];l.animations&&l.animations.length&&p.push(new Ek("animation",rP(t,l.animations),!0));var f=Qk(aT(e.type.reference));c=f.name,t.statements.push(f.set(Xk(RN.createRendererType2).callFn([new Ck([new Ek("encapsulation",eP(l.encapsulation),!1),new Ek("styles",r,!1),new Ek("data",new Ck(p),!1)])])).toDeclStmt($k(RN.RendererType2),[ok.Final,ok.Exported]))}var d=function(n){var r=a++;return new rR(s._reflector,t,n,e,r,i,u,d)},v=d(null);return v.visitAll([],n),(o=t.statements).push.apply(o,h(v.build())),new XM(v.viewName,c)},t}(),YM=Qk("_l"),JM=Qk("_v"),ZM=Qk("_ck"),tR=Qk("_co"),eR=Qk("en"),nR=Qk("ad"),rR=function(){function t(t,e,n,r,i,o,s,a){this.reflector=t,this.outputCtx=e,this.parent=n,this.component=r,this.embeddedViewIndex=i,this.usedPipes=o,this.staticQueryIds=s,this.viewBuilderFactory=a,this.nodes=[],this.purePipeNodeIndices=Object.create(null),this.refNodeIndices=Object.create(null),this.variables=[],this.children=[],this.compType=this.embeddedViewIndex>0?zN:Yk(e.importExpr(this.component.type.reference)),this.viewName=sT(this.component.type.reference,this.embeddedViewIndex)}return t.prototype.visitAll=function(t,e){var n,r,i,o=this;if(this.variables=t,this.parent||this.usedPipes.forEach(function(t){t.pure&&(o.purePipeNodeIndices[t.name]=o._createPipe(null,t))}),!this.parent){var s=(n=this.staticQueryIds,r=new Set,i=new Set,Array.from(n.values()).forEach(function(t){t.staticQueryIds.forEach(function(t){return r.add(t)}),t.dynamicQueryIds.forEach(function(t){return i.add(t)})}),i.forEach(function(t){return r.delete(t)}),{staticQueryIds:r,dynamicQueryIds:i});this.component.viewQueries.forEach(function(t,e){var n=e+1,r=t.first?0:1,i=134217728|aR(s,n,t.first);o.nodes.push(function(){return{sourceSpan:null,nodeFlags:i,nodeDef:Xk(RN.queryDef).callFn([eP(i),eP(n),new Ck([new Ek(t.propertyName,eP(r),!1)])])}})})}Xx(this,e),this.parent&&(0===e.length||function t(e){var n=e[e.length-1];if(n instanceof Wx)return n.hasViewContainer;if(n instanceof Hx)return _S(n.name)&&n.children.length?t(n.children):n.hasViewContainer;return n instanceof Qx}(e))&&this.nodes.push(function(){return{sourceSpan:null,nodeFlags:1,nodeDef:Xk(RN.anchorDef).callFn([eP(0),xk,xk,eP(0)])}})},t.prototype.build=function(t){void 0===t&&(t=[]),this.children.forEach(function(e){return e.build(t)});var e=this._createNodeExpressions(),n=e.updateRendererStmts,r=e.updateDirectivesStmts,i=e.nodeDefExprs,o=this._createUpdateFn(n),s=this._createUpdateFn(r),a=0;this.parent||this.component.changeDetection!==OS.OnPush||(a|=2);var u=new Ik(this.viewName,[new mk(YM.name)],[new kk(Xk(RN.viewDef).callFn([eP(a),Jk(i),s,o]))],$k(RN.ViewDefinition),0===this.embeddedViewIndex?[ok.Exported]:[]);return t.push(u),t},t.prototype._createUpdateFn=function(t){var e;if(t.length>0){var n=[];!this.component.isHost&&Hk(t).has(tR.name)&&n.push(tR.set(JM.prop("component")).toDeclStmt(this.compType)),e=tP([new mk(ZM.name,KN),new mk(JM.name,KN)],h(n,t),KN)}else e=xk;return e},t.prototype.visitNgContent=function(t,e){this.nodes.push(function(){return{sourceSpan:t.sourceSpan,nodeFlags:8,nodeDef:Xk(RN.ngContentDef).callFn([eP(t.ngContentIndex),eP(t.index)])}})},t.prototype.visitText=function(t,e){this.nodes.push(function(){return{sourceSpan:t.sourceSpan,nodeFlags:2,nodeDef:Xk(RN.textDef).callFn([eP(-1),eP(t.ngContentIndex),Jk([eP(t.value)])])}})},t.prototype.visitBoundText=function(t,e){var n=this,r=this.nodes.length;this.nodes.push(null);var i=t.value.ast,o=i.expressions.map(function(e,i){return n._preprocessUpdateExpression({nodeIndex:r,bindingIndex:i,sourceSpan:t.sourceSpan,context:tR,value:e})}),s=r;this.nodes[r]=function(){return{sourceSpan:t.sourceSpan,nodeFlags:2,nodeDef:Xk(RN.textDef).callFn([eP(s),eP(t.ngContentIndex),Jk(i.strings.map(function(t){return eP(t)}))]),updateRenderer:o}}},t.prototype.visitEmbeddedTemplate=function(t,e){var n=this,r=this.nodes.length;this.nodes.push(null);var i=this._visitElementOrTemplate(r,t),o=i.flags,s=i.queryMatchesExpr,a=i.hostEvents,u=this.viewBuilderFactory(this);this.children.push(u),u.visitAll(t.variables,t.children);var c=this.nodes.length-r-1;this.nodes[r]=function(){return{sourceSpan:t.sourceSpan,nodeFlags:1|o,nodeDef:Xk(RN.anchorDef).callFn([eP(o),s,eP(t.ngContentIndex),eP(c),n._createElementHandleEventFn(r,a),Qk(u.viewName)])}}},t.prototype.visitElement=function(t,e){var n=this,r=this.nodes.length;this.nodes.push(null);var i=_S(t.name)?null:t.name,o=this._visitElementOrTemplate(r,t),s=o.flags,a=o.usedEvents,u=o.queryMatchesExpr,c=o.hostBindings,h=o.hostEvents,p=[],f=[],d=[];if(i){var v=t.inputs.map(function(t){return{context:tR,inputAst:t,dirAst:null}}).concat(c);v.length&&(f=v.map(function(t,e){return n._preprocessUpdateExpression({context:t.context,nodeIndex:r,bindingIndex:e,sourceSpan:t.inputAst.sourceSpan,value:t.inputAst.value})}),p=v.map(function(t){return function(t,e){switch(t.type){case 1:return Jk([eP(1),eP(t.name),eP(t.securityContext)]);case 0:return Jk([eP(8),eP(t.name),eP(t.securityContext)]);case 4:var n=8|(e&&e.directive.isComponent?32:16);return Jk([eP(n),eP("@"+t.name),eP(t.securityContext)]);case 2:return Jk([eP(2),eP(t.name),xk]);case 3:return Jk([eP(4),eP(t.name),eP(t.unit)])}}(t.inputAst,t.dirAst)})),d=a.map(function(t){var e=l(t,2),n=e[0],r=e[1];return Jk([eP(n),eP(r)])})}Xx(this,t.children);var m=this.nodes.length-r-1,y=t.directives.find(function(t){return t.directive.isComponent}),g=xk,b=xk;y&&(b=this.outputCtx.importExpr(y.directive.componentViewType),g=this.outputCtx.importExpr(y.directive.rendererType));var w=r;this.nodes[r]=function(){return{sourceSpan:t.sourceSpan,nodeFlags:1|s,nodeDef:Xk(RN.elementDef).callFn([eP(w),eP(s),u,eP(t.ngContentIndex),eP(m),eP(i),i?(e=t,o=Object.create(null),e.attrs.forEach(function(t){o[t.name]=t.value}),e.directives.forEach(function(t){Object.keys(t.directive.hostAttributes).forEach(function(e){var n,r,i=t.directive.hostAttributes[e],s=o[e];o[e]=null!=s?(r=i,(n=e)==GM||n==QM?s+" "+r:r):i})}),Jk(Object.keys(o).sort().map(function(t){return Jk([eP(t),eP(o[t])])}))):xk,p.length?Jk(p):xk,d.length?Jk(d):xk,n._createElementHandleEventFn(r,h),b,g]),updateRenderer:f};var e,o}},t.prototype._visitElementOrTemplate=function(t,e){var n=this,r=0;e.hasViewContainer&&(r|=16777216);var i=new Map;e.outputs.forEach(function(t){var e=sR(t,null),n=e.name,r=e.target;i.set(uR(r,n),[r,n])}),e.directives.forEach(function(t){t.hostEvents.forEach(function(e){var n=sR(e,t),r=n.name,o=n.target;i.set(uR(o,r),[o,r])})});var o=[],s=[];this._visitComponentFactoryResolverProvider(e.directives),e.providers.forEach(function(r,a){var u=void 0,c=void 0;if(e.directives.forEach(function(t,e){t.directive.type.reference===lT(r.token)&&(u=t,c=e)}),u){var l=n._visitDirective(r,u,c,t,e.references,e.queryMatches,i,n.staticQueryIds.get(e)),p=l.hostBindings,f=l.hostEvents;o.push.apply(o,h(p)),s.push.apply(s,h(f))}else n._visitProvider(r,e.queryMatches)});var a=[];return e.queryMatches.forEach(function(t){var e=void 0;lT(t.value)===n.reflector.resolveExternalReference(RN.ElementRef)?e=0:lT(t.value)===n.reflector.resolveExternalReference(RN.ViewContainerRef)?e=3:lT(t.value)===n.reflector.resolveExternalReference(RN.TemplateRef)&&(e=2),null!=e&&a.push(Jk([eP(t.queryId),eP(e)]))}),e.references.forEach(function(e){var r=void 0;e.value?lT(e.value)===n.reflector.resolveExternalReference(RN.TemplateRef)&&(r=2):r=1,null!=r&&(n.refNodeIndices[e.name]=t,a.push(Jk([eP(e.name),eP(r)])))}),e.outputs.forEach(function(t){s.push({context:tR,eventAst:t,dirAst:null})}),{flags:r,usedEvents:Array.from(i.values()),queryMatchesExpr:a.length?Jk(a):xk,hostBindings:o,hostEvents:s}},t.prototype._visitDirective=function(t,e,n,r,i,o,s,a){var u=this,c=this.nodes.length;this.nodes.push(null),e.directive.queries.forEach(function(t,n){var r=e.contentQueryStartId+n,i=67108864|aR(a,r,t.first),o=t.first?0:1;u.nodes.push(function(){return{sourceSpan:e.sourceSpan,nodeFlags:i,nodeDef:Xk(RN.queryDef).callFn([eP(i),eP(r),new Ck([new Ek(t.propertyName,eP(o),!1)])])}})});var l=this.nodes.length-c-1,h=this._visitProviderOrDirective(t,o),p=h.flags,f=h.queryMatchExprs,d=h.providerExpr,v=h.depsExpr;i.forEach(function(e){e.value&&lT(e.value)===lT(t.token)&&(u.refNodeIndices[e.name]=c,f.push(Jk([eP(e.name),eP(4)])))}),e.directive.isComponent&&(p|=32768);var m=e.inputs.map(function(t,e){var n=Jk([eP(e),eP(t.directiveName)]);return new Ek(t.directiveName,n,!1)}),y=[],g=e.directive;Object.keys(g.outputs).forEach(function(t){var e=g.outputs[t];s.has(e)&&y.push(new Ek(t,eP(e),!1))});var b=[];(e.inputs.length||(327680&p)>0)&&(b=e.inputs.map(function(t,e){return u._preprocessUpdateExpression({nodeIndex:c,bindingIndex:e,sourceSpan:t.sourceSpan,context:tR,value:t.value})}));var w=Xk(RN.nodeValue).callFn([JM,eP(c)]),_=e.hostProperties.map(function(t){return{context:w,dirAst:e,inputAst:t}}),E=e.hostEvents.map(function(t){return{context:w,eventAst:t,dirAst:e}}),C=c;return this.nodes[c]=function(){return{sourceSpan:e.sourceSpan,nodeFlags:16384|p,nodeDef:Xk(RN.directiveDef).callFn([eP(C),eP(p),f.length?Jk(f):xk,eP(l),d,v,m.length?new Ck(m):xk,y.length?new Ck(y):xk]),updateDirectives:b,directive:e.directive.type}},{hostBindings:_,hostEvents:E}},t.prototype._visitProvider=function(t,e){this._addProviderNode(this._visitProviderOrDirective(t,e))},t.prototype._visitComponentFactoryResolverProvider=function(t){var e=t.find(function(t){return t.directive.isComponent});if(e&&e.directive.entryComponents.length){var n=BP(this.reflector,this.outputCtx,8192,e.directive.entryComponents),r=n.providerExpr,i=n.depsExpr,o=n.flags,s=n.tokenExpr;this._addProviderNode({providerExpr:r,depsExpr:i,flags:o,tokenExpr:s,queryMatchExprs:[],sourceSpan:e.sourceSpan})}},t.prototype._addProviderNode=function(t){this.nodes.length;this.nodes.push(function(){return{sourceSpan:t.sourceSpan,nodeFlags:t.flags,nodeDef:Xk(RN.providerDef).callFn([eP(t.flags),t.queryMatchExprs.length?Jk(t.queryMatchExprs):xk,t.tokenExpr,t.providerExpr,t.depsExpr])}})},t.prototype._visitProviderOrDirective=function(t,e){var n=[];e.forEach(function(e){lT(e.value)===lT(t.token)&&n.push(Jk([eP(e.queryId),eP(4)]))});var r=RP(this.outputCtx,t),i=r.providerExpr,o=r.depsExpr,s=r.flags,a=r.tokenExpr;return{flags:0|s,queryMatchExprs:n,providerExpr:i,depsExpr:o,tokenExpr:a,sourceSpan:t.sourceSpan}},t.prototype.getLocal=function(t){if(t==IM.event.name)return IM.event;for(var e=JM,n=this;n;n=n.parent,e=e.prop("parent").cast(zN)){var r=n.refNodeIndices[t];if(null!=r)return Xk(RN.nodeValue).callFn([e,eP(r)]);var i=n.variables.find(function(e){return e.name===t});if(i){var o=i.value||"$implicit";return e.prop("context").prop(o)}}return null},t.prototype._createLiteralArrayConverter=function(t,e){if(0===e){var n=Xk(RN.EMPTY_ARRAY);return function(){return n}}var r=this.nodes.length;return this.nodes.push(function(){return{sourceSpan:t,nodeFlags:32,nodeDef:Xk(RN.pureArrayDef).callFn([eP(r),eP(e)])}}),function(t){return iR(r,t)}},t.prototype._createLiteralMapConverter=function(t,e){if(0===e.length){var n=Xk(RN.EMPTY_MAP);return function(){return n}}var r=Zk(e.map(function(t,e){return o({},t,{value:eP(e)})})),i=this.nodes.length;return this.nodes.push(function(){return{sourceSpan:t,nodeFlags:64,nodeDef:Xk(RN.pureObjectDef).callFn([eP(i),r])}}),function(t){return iR(i,t)}},t.prototype._createPipeConverter=function(t,e,n){var r=this.usedPipes.find(function(t){return t.name===e});if(r.pure){var i=this.nodes.length;this.nodes.push(function(){return{sourceSpan:t.sourceSpan,nodeFlags:128,nodeDef:Xk(RN.purePipeDef).callFn([eP(i),eP(n)])}});for(var o=JM,s=this;s.parent;)s=s.parent,o=o.prop("parent").cast(zN);var a=s.purePipeNodeIndices[e],u=Xk(RN.nodeValue).callFn([o,eP(a)]);return function(e){return oR(t.nodeIndex,t.bindingIndex,iR(i,[u].concat(e)))}}var c=this._createPipe(t.sourceSpan,r),l=Xk(RN.nodeValue).callFn([JM,eP(c)]);return function(e){return oR(t.nodeIndex,t.bindingIndex,l.callMethod("transform",e))}},t.prototype._createPipe=function(t,e){var n=this,r=this.nodes.length,i=0;e.type.lifecycleHooks.forEach(function(t){t===yP.OnDestroy&&(i|=VP(t))});var o=e.type.diDeps.map(function(t){return jP(n.outputCtx,t)});return this.nodes.push(function(){return{sourceSpan:t,nodeFlags:16,nodeDef:Xk(RN.pipeDef).callFn([eP(i),n.outputCtx.importExpr(e.type.reference),Jk(o)])}}),r},t.prototype._preprocessUpdateExpression=function(t){var e=this;return{nodeIndex:t.nodeIndex,bindingIndex:t.bindingIndex,sourceSpan:t.sourceSpan,context:t.context,value:PM({createLiteralArrayConverter:function(n){return e._createLiteralArrayConverter(t.sourceSpan,n)},createLiteralMapConverter:function(n){return e._createLiteralMapConverter(t.sourceSpan,n)},createPipeConverter:function(n,r){return e._createPipeConverter(t,n,r)}},t.value)}},t.prototype._createNodeExpressions=function(){var t=this,e=0,n=[],r=[],i=this.nodes.map(function(t,e){var i=t(),s=i.nodeDef,a=i.nodeFlags,u=i.updateDirectives,c=i.updateRenderer,l=i.sourceSpan;return c&&n.push.apply(n,h(o(e,l,c,!1))),u&&r.push.apply(r,h(o(e,l,u,(327680&a)>0))),Kk(3&a?new Sk([YM.callFn([]).callFn([]),s]):s,l)});return{updateRendererStmts:n,updateDirectivesStmts:r,nodeDefExprs:i};function o(n,r,i,o){var s=[],a=i.map(function(n){var r=n.sourceSpan,i=n.context,o=n.value,a=""+e++,u=FM(i===tR?t:null,i,o,a,OM.General),c=u.stmts,l=u.currValExpr;return s.push.apply(s,h(c.map(function(t){return zk(t,r)}))),Kk(l,r)});return(i.length||o)&&s.push(zk(iR(n,a).toStmt(),r)),s}},t.prototype._createElementHandleEventFn=function(t,e){var n,r=this,i=[],o=0;if(e.forEach(function(t){var e=t.context,n=t.eventAst,s=t.dirAst,a=""+o++,u=kM(e===tR?r:null,e,n.handler,a),c=u.stmts,l=u.allowDefault,h=c;l&&h.push(nR.set(l.and(nR)).toStmt());var p=sR(n,s),f=uR(p.target,p.name);i.push(zk(new Lk(eP(f).identical(eR),h),n.sourceSpan))}),i.length>0){var s=[nR.set(eP(!0)).toDeclStmt(GN)];!this.component.isHost&&Hk(i).has(tR.name)&&s.push(tR.set(JM.prop("component")).toDeclStmt(this.compType)),n=tP([new mk(JM.name,KN),new mk(eR.name,KN),new mk(IM.event.name,KN)],h(s,i,[new kk(nR)]),KN)}else n=xk;return n},t.prototype.visitDirective=function(t,e){},t.prototype.visitDirectiveProperty=function(t,e){},t.prototype.visitReference=function(t,e){},t.prototype.visitVariable=function(t,e){},t.prototype.visitEvent=function(t,e){},t.prototype.visitElementProperty=function(t,e){},t.prototype.visitAttr=function(t,e){},t}();function iR(t,e){return e.length>10?ZM.callFn([JM,eP(t),eP(1),Jk(e)]):ZM.callFn(h([JM,eP(t),eP(0)],e))}function oR(t,e,n){return Xk(RN.unwrapValue).callFn([JM,eP(t),eP(e),n])}function sR(t,e){return t.isAnimation?{name:"@"+t.name+"."+t.phase,target:e&&e.directive.isComponent?"component":null}:t}function aR(t,e,n){var r=0;return!n||!t.staticQueryIds.has(e)&&t.dynamicQueryIds.has(e)?r|=536870912:r|=268435456,r}function uR(t,e){return t?t+":"+e:e}var cR={},lR=function(t){function e(e){var n=t.call(this,e.type)||this;return n.resolved=e,n.original=e,n}return i(e,t),e.prototype.visitExpression=function(t,e){return e===cR?this.original.visitExpression(t,e):this.resolved.visitExpression(t,e)},e.prototype.isEquivalent=function(t){return t instanceof e&&this.resolved.isEquivalent(t.resolved)},e.prototype.isConstant=function(){return!0},e.prototype.fixup=function(t){this.resolved=t,this.shared=!0},e}(JN),hR=function(){function t(){this.statements=[],this.translations=new Map,this.literals=new Map,this.literalFactories=new Map,this.injectorDefinitions=new Map,this.directiveDefinitions=new Map,this.componentDefinitions=new Map,this.pipeDefinitions=new Map,this.nextNameIndex=0}return t.prototype.getConstLiteral=function(t,e){if(t instanceof ck||t instanceof lR)return t;var n=this.keyOf(t),r=this.literals.get(n),i=!1;if(r||(r=new lR(t),this.literals.set(n,r),i=!0),!i&&!r.shared||i&&e){var o=this.freshName();this.statements.push(Qk(o).set(t).toDeclStmt(KN,[ok.Final])),r.fixup(Qk(o))}return r},t.prototype.getTranslation=function(t,e){var n=e.meaning?t+"\0\0"+e.meaning:t,r=this.translations.get(n);if(r)return r;var i=function(t){var e=[];t.description&&e.push({tagName:"desc",text:t.description});t.meaning&&e.push({tagName:"meaning",text:t.meaning});return 0==e.length?null:new jk(e)}(e);i&&this.statements.push(i);var o=Qk(this.freshTranslationName()),s=Qk("goog.getMsg").callFn([eP(t)]),a=o.set(s).toDeclStmt(KN,[ok.Final]);return this.statements.push(a),this.translations.set(n,o),o},t.prototype.getDefinition=function(t,e,n,r){void 0===r&&(r=!1);var i=this.definitionsOf(e),o=i.get(t),s=!1;if(!o){var a=this.propertyNameOf(e);o=new lR(n.importExpr(t).prop(a)),i.set(t,o),s=!0}if(!s&&!o.shared||s&&r){var u=this.freshName();this.statements.push(Qk(u).set(o.resolved).toDeclStmt(KN,[ok.Final])),o.fixup(Qk(u))}return o},t.prototype.getLiteralFactory=function(t){if(t instanceof _k){var e=t.entries.map(function(t){return t.isConstant()?t:eP(null)}),n=this.keyOf(Jk(e));return this._getLiteralFactory(n,t.entries,function(t){return Jk(t)})}var r=Zk(t.entries.map(function(t){return{key:t.key,value:t.value.isConstant()?t.value:eP(null),quoted:t.quoted}}));n=this.keyOf(r);return this._getLiteralFactory(n,t.entries.map(function(t){return t.value}),function(e){return Zk(e.map(function(e,n){return{key:t.entries[n].key,value:e,quoted:t.entries[n].quoted}}))})},t.prototype._getLiteralFactory=function(t,e,n){var r=this,i=this.literalFactories.get(t),o=e.filter(function(t){return!t.isConstant()});if(!i){var s=e.map(function(t,e){return t.isConstant()?r.getConstLiteral(t,!0):Qk("a"+e)}),a=tP(s.filter(dR).map(function(t){return new mk(t.name,zN)}),[new kk(n(s))],KN),u=this.freshName();this.statements.push(Qk(u).set(a).toDeclStmt(KN,[ok.Final])),i=Qk(u),this.literalFactories.set(t,i)}return{literalFactory:i,literalFactoryArguments:o}},t.prototype.uniqueName=function(t){return""+t+this.nextNameIndex++},t.prototype.definitionsOf=function(t){switch(t){case 2:return this.componentDefinitions;case 1:return this.directiveDefinitions;case 0:return this.injectorDefinitions;case 3:return this.pipeDefinitions}return Cx("Unknown definition kind "+t),this.componentDefinitions},t.prototype.propertyNameOf=function(t){switch(t){case 2:return"ngComponentDef";case 1:return"ngDirectiveDef";case 0:return"ngInjectorDef";case 3:return"ngPipeDef"}return Cx("Unknown definition kind "+t),"<unknown>"},t.prototype.freshName=function(){return this.uniqueName("_c")},t.prototype.freshTranslationName=function(){return this.uniqueName("MSG_").toUpperCase()},t.prototype.keyOf=function(t){return t.visitExpression(new pR,cR)},t}(),pR=function(){function t(){this.visitWrappedNodeExpr=fR,this.visitWriteVarExpr=fR,this.visitWriteKeyExpr=fR,this.visitWritePropExpr=fR,this.visitInvokeMethodExpr=fR,this.visitInvokeFunctionExpr=fR,this.visitInstantiateExpr=fR,this.visitConditionalExpr=fR,this.visitNotExpr=fR,this.visitAssertNotNullExpr=fR,this.visitCastExpr=fR,this.visitFunctionExpr=fR,this.visitBinaryOperatorExpr=fR,this.visitReadPropExpr=fR,this.visitReadKeyExpr=fR,this.visitCommaExpr=fR}return t.prototype.visitLiteralExpr=function(t){return""+("string"==typeof t.value?'"'+t.value+'"':t.value)},t.prototype.visitLiteralArrayExpr=function(t,e){var n=this;return"["+t.entries.map(function(t){return t.visitExpression(n,e)}).join(",")+"]"},t.prototype.visitLiteralMapExpr=function(t,e){var n=this;return"{"+t.entries.map(function(t){return function(t){var e=t.quoted?'"':"";return""+e+t.key+e}(t)+":"+t.value.visitExpression(n,e)}).join(",")},t.prototype.visitExternalExpr=function(t){return t.value.moduleName?"EX:"+t.value.moduleName+":"+t.value.name:"EX:"+t.value.runtime.name},t.prototype.visitReadVarExpr=function(t){return"VAR:"+t.name},t.prototype.visitTypeofExpr=function(t,e){return"TYPEOF:"+t.expr.visitExpression(this,e)},t}();function fR(t){throw new Error("Invalid state: Visitor "+this.constructor.name+" doesn't handle "+t.constructor.name)}function dR(t){return t instanceof tk}var vR=function(){function t(t,e,n,r){void 0===r&&(r=null),this._htmlParser=t,this._implicitTags=e,this._implicitAttrs=n,this._locale=r,this._messages=[]}return t.prototype.updateFromTemplate=function(t,e,n){var r,i=this._htmlParser.parse(t,e,!0,n);if(i.errors.length)return i.errors;var o=function(t,e,n,r){return new YI(n,r).extract(t,e)}(i.rootNodes,n,this._implicitTags,this._implicitAttrs);return o.errors.length?o.errors:((r=this._messages).push.apply(r,h(o.messages)),[])},t.prototype.getMessages=function(){return this._messages},t.prototype.write=function(t,e){var n={},r=new mR;this._messages.forEach(function(e){var r,i=t.digest(e);n.hasOwnProperty(i)?(r=n[i].sources).push.apply(r,h(e.sources)):n[i]=e});var i=Object.keys(n).map(function(i){var o=t.createNameMapper(n[i]),s=n[i],a=o?r.convert(s.nodes,o):s.nodes,u=new II(a,{},{},s.meaning,s.description,i);return u.sources=s.sources,e&&u.sources.forEach(function(t){return t.filePath=e(t.filePath)}),u});return t.write(i,this._locale)},t}(),mR=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.convert=function(t,e){var n=this;return e?t.map(function(t){return t.visit(n,e)}):t},e.prototype.visitTagPlaceholder=function(t,e){var n=this,r=e.toPublicName(t.startName),i=t.closeName?e.toPublicName(t.closeName):t.closeName,o=t.children.map(function(t){return t.visit(n,e)});return new OI(t.tag,t.attrs,r,i,o,t.isVoid,t.sourceSpan)},e.prototype.visitPlaceholder=function(t,e){return new MI(t.value,e.toPublicName(t.name),t.sourceSpan)},e.prototype.visitIcuPlaceholder=function(t,e){return new RI(t.value,e.toPublicName(t.name),t.sourceSpan)},e}(FI);var yR="@angular/core",gR=function(){function t(){}return t.NEW_METHOD="factory",t.TRANSFORM_METHOD="transform",t.PATCH_DEPS="patchedDeps",t.namespaceHTML={name:"\u0275NH",moduleName:yR},t.namespaceMathML={name:"\u0275NM",moduleName:yR},t.namespaceSVG={name:"\u0275NS",moduleName:yR},t.element={name:"\u0275Ee",moduleName:yR},t.elementStart={name:"\u0275E",moduleName:yR},t.elementEnd={name:"\u0275e",moduleName:yR},t.elementProperty={name:"\u0275p",moduleName:yR},t.elementAttribute={name:"\u0275a",moduleName:yR},t.elementClassProp={name:"\u0275cp",moduleName:yR},t.elementStyling={name:"\u0275s",moduleName:yR},t.elementStylingMap={name:"\u0275sm",moduleName:yR},t.elementStyleProp={name:"\u0275sp",moduleName:yR},t.elementStylingApply={name:"\u0275sa",moduleName:yR},t.containerCreate={name:"\u0275C",moduleName:yR},t.text={name:"\u0275T",moduleName:yR},t.textBinding={name:"\u0275t",moduleName:yR},t.bind={name:"\u0275b",moduleName:yR},t.interpolation1={name:"\u0275i1",moduleName:yR},t.interpolation2={name:"\u0275i2",moduleName:yR},t.interpolation3={name:"\u0275i3",moduleName:yR},t.interpolation4={name:"\u0275i4",moduleName:yR},t.interpolation5={name:"\u0275i5",moduleName:yR},t.interpolation6={name:"\u0275i6",moduleName:yR},t.interpolation7={name:"\u0275i7",moduleName:yR},t.interpolation8={name:"\u0275i8",moduleName:yR},t.interpolationV={name:"\u0275iV",moduleName:yR},t.pureFunction0={name:"\u0275f0",moduleName:yR},t.pureFunction1={name:"\u0275f1",moduleName:yR},t.pureFunction2={name:"\u0275f2",moduleName:yR},t.pureFunction3={name:"\u0275f3",moduleName:yR},t.pureFunction4={name:"\u0275f4",moduleName:yR},t.pureFunction5={name:"\u0275f5",moduleName:yR},t.pureFunction6={name:"\u0275f6",moduleName:yR},t.pureFunction7={name:"\u0275f7",moduleName:yR},t.pureFunction8={name:"\u0275f8",moduleName:yR},t.pureFunctionV={name:"\u0275fV",moduleName:yR},t.pipeBind1={name:"\u0275pb1",moduleName:yR},t.pipeBind2={name:"\u0275pb2",moduleName:yR},t.pipeBind3={name:"\u0275pb3",moduleName:yR},t.pipeBind4={name:"\u0275pb4",moduleName:yR},t.pipeBindV={name:"\u0275pbV",moduleName:yR},t.load={name:"\u0275ld",moduleName:yR},t.loadDirective={name:"\u0275d",moduleName:yR},t.loadQueryList={name:"\u0275ql",moduleName:yR},t.pipe={name:"\u0275Pp",moduleName:yR},t.projection={name:"\u0275P",moduleName:yR},t.projectionDef={name:"\u0275pD",moduleName:yR},t.inject={name:"inject",moduleName:yR},t.injectAttribute={name:"\u0275injectAttribute",moduleName:yR},t.injectElementRef={name:"\u0275injectElementRef",moduleName:yR},t.injectTemplateRef={name:"\u0275injectTemplateRef",moduleName:yR},t.injectViewContainerRef={name:"\u0275injectViewContainerRef",moduleName:yR},t.injectChangeDetectorRef={name:"\u0275injectChangeDetectorRef",moduleName:yR},t.directiveInject={name:"\u0275directiveInject",moduleName:yR},t.defineComponent={name:"\u0275defineComponent",moduleName:yR},t.ComponentDef={name:"\u0275ComponentDef",moduleName:yR},t.defineDirective={name:"\u0275defineDirective",moduleName:yR},t.DirectiveDef={name:"\u0275DirectiveDef",moduleName:yR},t.InjectorDef={name:"\u0275InjectorDef",moduleName:yR},t.defineInjector={name:"defineInjector",moduleName:yR},t.NgModuleDef={name:"\u0275NgModuleDef",moduleName:yR},t.defineNgModule={name:"\u0275defineNgModule",moduleName:yR},t.PipeDef={name:"\u0275PipeDef",moduleName:yR},t.definePipe={name:"\u0275definePipe",moduleName:yR},t.query={name:"\u0275Q",moduleName:yR},t.queryRefresh={name:"\u0275qR",moduleName:yR},t.registerContentQuery={name:"\u0275Qr",moduleName:yR},t.NgOnChangesFeature={name:"\u0275NgOnChangesFeature",moduleName:yR},t.InheritDefinitionFeature={name:"\u0275InheritDefinitionFeature",moduleName:yR},t.listener={name:"\u0275L",moduleName:yR},t.reserveSlots={name:"\u0275rS",moduleName:yR},t.sanitizeHtml={name:"\u0275zh",moduleName:yR},t.sanitizeStyle={name:"\u0275zs",moduleName:yR},t.defaultStyleSanitizer={name:"\u0275zss",moduleName:yR},t.sanitizeResourceUrl={name:"\u0275zr",moduleName:yR},t.sanitizeScript={name:"\u0275zc",moduleName:yR},t.sanitizeUrl={name:"\u0275zu",moduleName:yR},t}(),bR="_t",wR="ctx",_R="rf",ER="|",CR="@@";function SR(t,e){var n=null;return function(){return n||(t.push(new Dk(bR,void 0,zN)),n=Qk(e)),n}}function xR(t){if(this)throw new Error("Builder "+this.constructor.name+" doesn't support "+t+" yet");throw new Error("Feature "+t+" is not supported yet")}function TR(t){throw new Error("Invalid state: Visitor "+this.constructor.name+" doesn't handle "+void 0)}function AR(t){return Array.isArray(t)?Jk(t.map(AR)):eP(t,KN)}function DR(t){return Object.getOwnPropertyNames(t).length>0?IR(t):null}function IR(t,e){return void 0===e&&(e=!1),Zk(Object.getOwnPropertyNames(t).map(function(n){return{key:n,quoted:e,value:AR(t[n])}}))}function NR(t){for(;(e=t[t.length-1])instanceof ck&&null===e.value;)t.pop();var e;return t}function kR(){}var PR,OR=function(){function t(){this.values=[]}return t.prototype.set=function(t,e){e&&this.values.push({key:t,value:e,quoted:!1})},t.prototype.toLiteralMap=function(){return Zk(this.values)},t}();function MR(t){var e=t.deps.map(function(e){return function(t,e){switch(t.resolved){case PR.Token:case PR.Injector:var n=0|(t.self?2:0)|(t.skipSelf?4:0)|(t.host?1:0)|(t.optional?8:0),r=t.token;t.resolved===PR.Injector&&(r=Xk(RN.INJECTOR));var i=[r];return(0!==n||t.optional)&&i.push(eP(n)),Xk(e).callFn(i);case PR.Attribute:return Xk(gR.injectAttribute).callFn([t.token]);case PR.ElementRef:return Xk(gR.injectElementRef).callFn([]);case PR.TemplateRef:return Xk(gR.injectTemplateRef).callFn([]);case PR.ViewContainerRef:return Xk(gR.injectViewContainerRef).callFn([]);case PR.ChangeDetectorRef:return Xk(gR.injectChangeDetectorRef).callFn([]);default:return xR("Unknown R3ResolvedDependencyType: "+PR[t.resolved])}}(e,t.injectFn)}),n=t.useNew?new uk(t.fnOrClass,e):new ak(t.fnOrClass,e);return tP([],[new kk(n)],KN,void 0,t.name+"_Factory")}function RR(t,e,n){var r,i,o=n.resolveExternalReference(RN.ElementRef),s=n.resolveExternalReference(RN.TemplateRef),a=n.resolveExternalReference(RN.ViewContainerRef),u=n.resolveExternalReference(RN.Injector),l=[];try{for(var h=c(t.diDeps),p=h.next();!p.done;p=h.next()){var f=p.value;if(f.token){var d=lT(f.token),v=PR.Token;d===o?v=PR.ElementRef:d===s?v=PR.TemplateRef:d===a?v=PR.ViewContainerRef:d===u?v=PR.Injector:f.isAttribute&&(v=PR.Attribute);var m=d instanceof Jx?e.importExpr(d):eP(d);l.push({token:m,resolved:v,host:!!f.isHost,optional:!!f.isOptional,self:!!f.isSelf,skipSelf:!!f.isSkipSelf})}else xR("dependency without a token")}}catch(t){r={error:t}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}return l}function FR(t,e){if(Array.isArray(t))return Jk(t.map(function(t){return FR(t,e)}));if(t instanceof Jx)return e.importExpr(t);if(null==t)return eP(t);throw new Error("Internal error: Unsupported or unknown metadata: "+t)}function LR(t,e){var n=null;if(e>0){n=[];for(var r=0;r<e;r++)n.push(zN)}return Yk(t,null,n)}function jR(t,e,n){var r,i=iT(e.type),o=e.rawImports?[e.rawImports]:[],s=e.rawExports?[e.rawExports]:[],a=(r={factory:n.factoryFor({type:e.type,symbol:e.type.reference},t),providers:FR(e.rawProviders,t),imports:FR(h(o,s),t)},Zk(Object.keys(r).map(function(t){return{key:t,quoted:!1,value:r[t]}}))),u=Xk(gR.defineInjector).callFn([a]);t.statements.push(new Fk(i,null,[new Ok("ngInjectorDef",KN,[ok.Static],u)],[],new Mk(null,[],[]),[]))}function VR(t,e,n){var r=iT(e.type);if(!r)return Cx("Cannot resolve the name of "+e.type);var i=function(t){var e=[];e.push({key:"name",value:eP(t.pipeName),quoted:!1}),e.push({key:"type",value:t.type,quoted:!1});var n=MR({name:t.name,fnOrClass:t.type,deps:t.deps,useNew:!0,injectFn:gR.directiveInject});return e.push({key:"factory",value:n,quoted:!1}),e.push({key:"pure",value:eP(t.pure),quoted:!1}),{expression:Xk(gR.definePipe).callFn([Zk(e)]),type:new qN(Xk(gR.PipeDef,[new qN(t.type),new qN(new ck(t.pipeName))]))}}({name:r,pipeName:e.name,type:t.importExpr(e.type.reference),deps:RR(e.type,t,n),pure:e.pure}),o=t.constantPool.propertyNameOf(3);t.statements.push(new Fk(r,null,[new Ok(o,KN,[ok.Static],i.expression)],[],new Mk(null,[],[]),[]))}!function(t){t[t.Token=0]="Token",t[t.Attribute=1]="Attribute",t[t.Injector=2]="Injector",t[t.ElementRef=3]="ElementRef",t[t.TemplateRef=4]="TemplateRef",t[t.ViewContainerRef=5]="ViewContainerRef",t[t.ChangeDetectorRef=6]="ChangeDetectorRef"}(PR||(PR={}));var BR=function(){function t(t,e){this.value=t,this.sourceSpan=e}return t.prototype.visit=function(t){return t.visitText(this)},t}(),UR=function(){function t(t,e){this.value=t,this.sourceSpan=e}return t.prototype.visit=function(t){return t.visitBoundText(this)},t}(),qR=function(){function t(t,e,n,r){this.name=t,this.value=e,this.sourceSpan=n,this.valueSpan=r}return t.prototype.visit=function(t){return t.visitTextAttribute(this)},t}(),HR=function(){function t(t,e,n,r,i,o){this.name=t,this.type=e,this.securityContext=n,this.value=r,this.unit=i,this.sourceSpan=o}return t.fromBoundElementProperty=function(e){return new t(e.name,e.type,e.securityContext,e.value,e.unit,e.sourceSpan)},t.prototype.visit=function(t){return t.visitBoundAttribute(this)},t}(),WR=function(){function t(t,e,n,r,i){this.name=t,this.handler=e,this.target=n,this.phase=r,this.sourceSpan=i}return t.fromParsedEvent=function(e){var n=0===e.type?e.targetOrPhase:null,r=1===e.type?e.targetOrPhase:null;return new t(e.name,e.handler,n,r,e.sourceSpan)},t.prototype.visit=function(t){return t.visitBoundEvent(this)},t}(),zR=function(){function t(t,e,n,r,i,o,s,a,u){this.name=t,this.attributes=e,this.inputs=n,this.outputs=r,this.children=i,this.references=o,this.sourceSpan=s,this.startSourceSpan=a,this.endSourceSpan=u}return t.prototype.visit=function(t){return t.visitElement(this)},t}(),KR=function(){function t(t,e,n,r,i,o,s,a){this.attributes=t,this.inputs=e,this.children=n,this.references=r,this.variables=i,this.sourceSpan=o,this.startSourceSpan=s,this.endSourceSpan=a}return t.prototype.visit=function(t){return t.visitTemplate(this)},t}(),GR=function(){function t(t,e,n){this.selectorIndex=t,this.attributes=e,this.sourceSpan=n}return t.prototype.visit=function(t){return t.visitContent(this)},t}(),QR=function(){function t(t,e,n){this.name=t,this.value=e,this.sourceSpan=n}return t.prototype.visit=function(t){return t.visitVariable(this)},t}(),XR=function(){function t(t,e,n){this.name=t,this.value=e,this.sourceSpan=n}return t.prototype.visit=function(t){return t.visitReference(this)},t}();function $R(t,e){var n,r,i,o,s=[];if(t.visit)try{for(var a=c(e),u=a.next();!u.done;u=a.next())var l=u.value,h=t.visit(l)||l.visit(t)}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}else try{for(var p=c(e),f=p.next();!f.done;f=p.next()){(h=(l=f.value).visit(t))&&s.push(h)}}catch(t){i={error:t}}finally{try{f&&!f.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}return s}var YR=/^(?:(?:(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.+))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/;function JR(t,e){var n=new ZR(e),r=DT(n,t),i=e.errors.concat(n.errors),o=i.filter(function(t){return t.level===RD.ERROR});if(o.length>0)throw Sx("Template parse errors:\n"+o.join("\n"),o);return{nodes:r,errors:i,ngContentSelectors:n.ngContentSelectors,hasNgContent:n.hasNgContent}}var ZR=function(){function t(t){this.bindingParser=t,this.errors=[],this.ngContentSelectors=[],this.hasNgContent=!1}return t.prototype.visitElement=function(t){var e,n,r=XT(t);if(r.type===FT.SCRIPT||r.type===FT.STYLE)return null;if(r.type===FT.STYLESHEET&&RT(r.hrefAttr))return null;var i,o=CS(t.name),s=[],a=[],u=[],p=[],f=[],d=[],v=[],m=[],y=[],g=!1;try{for(var b=c(t.attrs),w=b.next();!w.done;w=b.next()){var _=w.value,E=!1,C=eF(_.name),S=!1;if(C.startsWith("*")){g&&this.reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",_.sourceSpan),S=!0,g=!0;var x=_.value,T=C.substring("*".length);i=_.valueSpan||_.sourceSpan;var A=[];this.bindingParser.parseInlineTemplateBinding(T,x,_.sourceSpan,v,m,A),y.push.apply(y,h(A.map(function(t){return new QR(t.name,t.value,t.sourceSpan)})))}else E=this.parseAttribute(o,_,s,a,u,p,f);E||S||(d.push(this.visitAttribute(_)),s.push([_.name,_.value]))}}catch(t){e={error:t}}finally{try{w&&!w.done&&(n=b.return)&&n.call(b)}finally{if(e)throw e.error}}var D,I=DT(r.nonBindable?tF:this,t.children);if(r.type===FT.NG_CONTENT){this.hasNgContent=!0,t.children&&!t.children.every(rF)&&this.reportError("<ng-content> element cannot have content.",t.sourceSpan);var N=r.selectAttr,k=t.attrs.map(function(t){return new qR(t.name,t.value,t.sourceSpan,t.valueSpan)}),P="*"===N?0:this.ngContentSelectors.push(N);D=new GR(P,k,t.sourceSpan)}else if(o){var O=this.createBoundAttributes(t.name,a);D=new KR(d,O,I,f,p,t.sourceSpan,t.startSourceSpan,t.endSourceSpan)}else{O=this.createBoundAttributes(t.name,a);D=new zR(t.name,d,O,u,I,f,t.sourceSpan,t.startSourceSpan,t.endSourceSpan)}if(g){var M=[];v.forEach(function(t){var e=l(t,2),n=e[0],r=e[1];return M.push(new qR(n,r,i))});O=this.createBoundAttributes("ng-template",m);D=new KR(M,O,[D],[],y,t.sourceSpan,t.startSourceSpan,t.endSourceSpan)}return D},t.prototype.visitAttribute=function(t){return new qR(t.name,t.value,t.sourceSpan,t.valueSpan)},t.prototype.visitText=function(t){var e=tM(t.value),n=this.bindingParser.parseInterpolation(e,t.sourceSpan);return n?new UR(n,t.sourceSpan):new BR(e,t.sourceSpan)},t.prototype.visitComment=function(t){return null},t.prototype.visitExpansion=function(t){return null},t.prototype.visitExpansionCase=function(t){return null},t.prototype.createBoundAttributes=function(t,e){var n=this;return e.filter(function(t){return!t.isLiteral}).map(function(e){return n.bindingParser.createBoundElementProperty(t,e)}).map(function(t){return HR.fromBoundElementProperty(t)})},t.prototype.parseAttribute=function(t,e,n,r,i,o,s){var a=eF(e.name),u=e.value,c=e.sourceSpan,l=a.match(YR),h=!1;if(l){if(h=!0,null!=l[1])this.bindingParser.parsePropertyBinding(l[7],u,!1,c,n,r);else if(l[2])if(t){var p=l[7];this.parseVariable(p,u,c,o)}else this.reportError('"let-" is only supported on ng-template elements.',c);else if(l[3]){p=l[7];this.parseReference(p,u,c,s)}else if(l[4]){var f=[];this.bindingParser.parseEvent(l[7],u,c,n,f),nF(f,i)}else if(l[5])this.bindingParser.parsePropertyBinding(l[7],u,!1,c,n,r),this.parseAssignmentEvent(l[7],u,c,n,i);else if(l[6])this.bindingParser.parseLiteralAttr(a,u,c,n,r);else if(l[8])this.bindingParser.parsePropertyBinding(l[8],u,!1,c,n,r),this.parseAssignmentEvent(l[8],u,c,n,i);else if(l[9])this.bindingParser.parsePropertyBinding(l[9],u,!1,c,n,r);else if(l[10]){f=[];this.bindingParser.parseEvent(l[10],u,c,n,f),nF(f,i)}}else h=this.bindingParser.parsePropertyInterpolation(a,u,c,n,r);return h},t.prototype.parseVariable=function(t,e,n,r){t.indexOf("-")>-1&&this.reportError('"-" is not allowed in variable names',n),r.push(new QR(t,e,n))},t.prototype.parseReference=function(t,e,n,r){t.indexOf("-")>-1&&this.reportError('"-" is not allowed in reference names',n),r.push(new XR(t,e,n))},t.prototype.parseAssignmentEvent=function(t,e,n,r,i){var o=[];this.bindingParser.parseEvent(t+"Change",e+"=$event",n,r,o),nF(o,i)},t.prototype.reportError=function(t,e,n){void 0===n&&(n=RD.ERROR),this.errors.push(new HD(e,t,n))},t}(),tF=new(function(){function t(){}return t.prototype.visitElement=function(t){var e=XT(t);if(e.type===FT.SCRIPT||e.type===FT.STYLE||e.type===FT.STYLESHEET)return null;var n=DT(this,t.children,null);return new zR(t.name,DT(this,t.attrs),[],[],n,[],t.sourceSpan,t.startSourceSpan,t.endSourceSpan)},t.prototype.visitComment=function(t){return null},t.prototype.visitAttribute=function(t){return new qR(t.name,t.value,t.sourceSpan)},t.prototype.visitText=function(t){return new BR(t.value,t.sourceSpan)},t.prototype.visitExpansion=function(t){return null},t.prototype.visitExpansionCase=function(t){return null},t}());function eF(t){return/^data-/i.test(t)?t.substring(5):t}function nF(t,e){e.push.apply(e,h(t.map(function(t){return WR.fromParsedEvent(t)})))}function rF(t){return t instanceof ET&&0==t.value.trim().length}function iF(t){var e=t.charCodeAt(0);if(e==t.charCodeAt(t.length-1)&&(39==e||34==e)){var n=t.substring(1,t.length-1);-1==n.indexOf("'")&&-1==n.indexOf('"')&&(t=n)}return t}function oF(t){return t.replace(/[a-z][A-Z]/g,function(t){return t.charAt(0)+"-"+t.charAt(1)}).toLowerCase()}function sF(t,e){return n=Qk(_R).bitwiseAnd(eP(t),null,!1),new Lk(n,e,r);var n,r}var aF=function(){function t(t,e,n,r,i,o,s,a,u,c,l,h){void 0===r&&(r=0);var p=this;this.constantPool=t,this.contextParameter=e,this.level=r,this.contextName=i,this.templateName=o,this.viewQueries=s,this.directiveMatcher=a,this.directives=u,this.pipeTypeByName=c,this.pipes=l,this._namespace=h,this._dataIndex=0,this._bindingContext=0,this._prefixCode=[],this._creationCode=[],this._variableCode=[],this._bindingCode=[],this._postfixCode=[],this._unsupported=xR,this._inI18nSection=!1,this._i18nSectionIndex=-1,this._phToNodeIdxes=[{}],this._pureFunctionSlots=0,this.visitReference=TR,this.visitVariable=TR,this.visitTextAttribute=TR,this.visitBoundAttribute=TR,this.visitBoundEvent=TR,this._dataIndex=s.length,this._bindingScope=n.nestedScope(function(t,e){p._bindingCode.push(t.set(e).toDeclStmt(KN,[ok.Final]))}),this._valueConverter=new uF(t,function(){return p.allocateDataSlot()},function(t){return p._pureFunctionSlots+=t},function(t,e,n,r){var i=c.get(t);i&&p.pipes.add(i),p._bindingScope.set(e,r),p._creationCode.push(Xk(gR.pipe).callFn([eP(n),eP(t)]).toStmt())})}return t.prototype.buildTemplateFunction=function(t,e,n,r){var i,o,s,a;void 0===n&&(n=!1),void 0===r&&(r=[]),this._namespace!==gR.namespaceHTML&&this.instruction(this._creationCode,null,this._namespace);try{for(var u=c(e),l=u.next();!l.done;l=u.next()){var p=l.value,f=p.name,d=Qk(this.contextParameter).prop(p.value||"$implicit"),v=this._bindingScope.freshReferenceName();this._bindingScope.set(f,Qk(f+v),d)}}catch(t){i={error:t}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}if(n){var m=[];if(r.length>1){var y=r.map(function(t){return px(t)}),g=this.constantPool.getConstLiteral(AR(y),!0),b=this.constantPool.getConstLiteral(AR(r),!0);m.push(g,b)}this.instruction.apply(this,h([this._creationCode,null,gR.projectionDef],m))}$R(this,t),this._pureFunctionSlots>0&&this.instruction(this._creationCode,null,gR.reserveSlots,eP(this._pureFunctionSlots));var w=this._creationCode.length>0?[sF(1,this._creationCode)]:[],_=this._bindingCode.length>0?[sF(2,this._bindingCode)]:[];try{for(var E=c(this._phToNodeIdxes),C=E.next();!C.done;C=E.next()){var S=C.value;if(Object.keys(S).length>0){var x=Qk(v=this._bindingScope.freshReferenceName()).set(IR(S,!0)).toDeclStmt(KN,[ok.Final]);this._prefixCode.push(x)}}}catch(t){s={error:t}}finally{try{C&&!C.done&&(a=E.return)&&a.call(E)}finally{if(s)throw s.error}}return tP([new mk(_R,QN),new mk(this.contextParameter,null)],h(this._prefixCode,w,this._variableCode,_,this._postfixCode),KN,null,this.templateName)},t.prototype.getLocal=function(t){return this._bindingScope.get(t)},t.prototype.visitContent=function(t){var e=this.allocateDataSlot(),n=t.selectorIndex,r=[eP(e)],i=[];t.attributes.forEach(function(t){var e=t.name;"select"!==e&&i.push(e,t.value)}),i.length>0?r.push(eP(n),AR(i)):0!==n&&r.push(eP(n)),this.instruction.apply(this,h([this._creationCode,t.sourceSpan,gR.projection],r))},t.prototype.getNamespaceInstruction=function(t){switch(t){case"math":return gR.namespaceMathML;case"svg":return gR.namespaceSVG;default:return gR.namespaceHTML}},t.prototype.addNamespaceInstruction=function(t,e){this._namespace=t,this.instruction(this._creationCode,e.sourceSpan,t)},t.prototype.visitElement=function(t){var e,n,r,i,o=this,s=this.allocateDataSlot(),a=new Map,u=this._inI18nSection,p={},f={},d="",v=l(wS(t.name),2),m=v[0],y=v[1];if(this._inI18nSection){var g=t.name.toLowerCase();this._phToNodeIdxes[this._i18nSectionIndex][g]||(this._phToNodeIdxes[this._i18nSectionIndex][g]=[]),this._phToNodeIdxes[this._i18nSectionIndex][g].push(s)}try{for(var b=c(t.attributes),w=b.next();!w.done;w=b.next()){var _=w.value,E=_.name,C=_.value;if("i18n"===E){if(this._inI18nSection)throw new Error("Could not mark an element as translatable inside of a translatable section");this._inI18nSection=!0,this._i18nSectionIndex++,this._phToNodeIdxes[this._i18nSectionIndex]={},d=C}else E.startsWith("i18n-")?f[E.slice("i18n-".length)]=C:p[E]=C}}catch(t){e={error:t}}finally{try{w&&!w.done&&(n=b.return)&&n.call(b)}finally{if(e)throw e.error}}if(this.directiveMatcher){var S=fF(t.name,p);this.directiveMatcher.match(S,function(t,e){o.directives.add(e)})}var x=[eP(s),eP(y)],T=[],A=[],D=[],I=[],N=[],k=[],P=[];t.inputs.forEach(function(t){switch(t.type){case 0:"style"==t.name?N.splice(0,0,t):mF(t)?k.splice(0,0,t):P.push(t);break;case 3:N.push(t);break;case 2:k.push(t);break;default:P.push(t)}});var O=0,M=0,R=null,F=null,L={},j={};Object.getOwnPropertyNames(p).forEach(function(t){var e=p[t];if("style"==t)R=function(t){for(var e={},n=0,r=0,i=0,o=0,s=0,a=null,u=!1;n<t.length;)switch(t.charCodeAt(n++)){case 40:r++;break;case 41:r--;break;case 39:u=u||o>0,0===i?i=39:39===i&&92!==t.charCodeAt(n-1)&&(i=0);break;case 34:u=u||o>0,0===i?i=34:34===i&&92!==t.charCodeAt(n-1)&&(i=0);break;case 58:a||0!==r||0!==i||(a=oF(t.substring(s,n-1).trim()),o=n);break;case 59:if(a&&o>0&&0===r&&0===i){var c=t.substring(o,n-1).trim();e[a]=u?iF(c):c,s=n,o=0,a=null,u=!1}}a&&o&&(c=t.substr(o).trim(),e[a]=u?iF(c):c);return e}(e),Object.keys(R).forEach(function(t){L[t]=O++});else if("class"==t)F={},e.split(/\s+/g).forEach(function(t){j[t]=M++,F[t]=!0});else if(A.push(eP(t)),f.hasOwnProperty(t)){var n=dF(f[t]),r=o.constantPool.getTranslation(e,n);A.push(r)}else A.push(eP(e))});for(var V=!1,B=0;B<N.length;B++){var U=N[B];0===B&&"style"===U.name?V=!0:L.hasOwnProperty(U.name)||(L[U.name]=O++)}for(B=0;B<k.length;B++){U=k[B];0===B&&mF(U)||L.hasOwnProperty(U.name)||(j[U.name]=M++)}var q=V;Object.keys(L).forEach(function(t){q=q||function(t){switch(t){case"background-image":case"background":case"border-image":case"filter":case"list-style":case"list-style-image":return!0}return!1}(t),D.push(eP(t))}),R&&(D.push(eP(1)),Object.keys(R).forEach(function(t){D.push(eP(t));var e=R[t];D.push(eP(e))})),Object.keys(j).forEach(function(t){I.push(eP(t))}),F&&(I.push(eP(1)),Object.keys(F).forEach(function(t){I.push(eP(t)),I.push(eP(!0))}));var H=D.length||N.length||I.length||k.length,W=A.length>0?this.constantPool.getConstLiteral(Jk(A),!0):Tk;if(x.push(W),t.references&&t.references.length>0){var z=bT(t.references.map(function(t){var e=o.allocateDataSlot();a.set(t.name,e);var n=o._bindingScope.freshReferenceName();return o._variableCode.push(Qk(n,KN).set(Xk(gR.load).callFn([eP(e)])).toDeclStmt(KN,[ok.Final])),o._bindingScope.set(t.name,Qk(n)),[t.name,t.value]}));x.push(this.constantPool.getConstLiteral(AR(z),!0))}else x.push(Tk);T.length>0&&(r=this._creationCode).push.apply(r,h(T));var K=this._namespace,G=this.getNamespaceInstruction(m);G!==K&&this.addNamespaceInstruction(G,t);var Q=Qk(wR),X=!H&&0===t.children.length&&0===t.outputs.length;if(X)this.instruction.apply(this,h([this._creationCode,t.sourceSpan,gR.element],NR(x)));else{if(T.length>0&&(i=this._creationCode).push.apply(i,h(T)),this.instruction.apply(this,h([this._creationCode,t.sourceSpan,gR.elementStart],NR(x))),H){var $=[];I.length?$.push(this.constantPool.getConstLiteral(Jk(I),!0)):(D.length||q)&&$.push(xk),D.length?$.push(this.constantPool.getConstLiteral(Jk(D),!0)):q&&$.push(xk),q&&$.push(Xk(gR.defaultStyleSanitizer)),this._creationCode.push(Xk(gR.elementStyling).callFn($).toStmt())}t.outputs.forEach(function(e){var n=eT(t.name),r=eT(e.name),i=o.templateName+"_"+n+"_"+r+"_listener",s=[],a=kM(o._bindingScope.nestedScope(function(t,e){s.push(t.set(e).toDeclStmt(KN,[ok.Final]))}),Q,e.handler,"b",function(){return Cx("Unexpected interpolation")}),u=tP([new mk("$event",zN)],h(s,a.render3Stmts),KN,null,i);o.instruction(o._creationCode,e.sourceSpan,gR.listener,eP(e.name),u)})}if((N.length||k.length)&&H){var Y=eP(s),J=N[0],Z=J&&"style"==J.name?J:null,tt=k[0],et=tt&&mF(tt)?tt:null,nt=Z||et;if(nt){var rt=[];et?rt.push(this.convertPropertyBinding(Q,et.value,!0)):Z&&rt.push(xk),Z&&rt.push(this.convertPropertyBinding(Q,Z.value,!0)),this.instruction.apply(this,h([this._bindingCode,nt.sourceSpan,gR.elementStylingMap,Y],rt))}var it=null;if(N.length){for(B=Z?1:0;B<N.length;B++){U=N[B],rt=[this.convertPropertyBinding(Q,U.value,!0)];(at=yF(U,U.securityContext))&&rt.push(at);var ot=U.name,st=L[ot];this.instruction.apply(this,h([this._bindingCode,U.sourceSpan,gR.elementStyleProp,Y,eP(st)],rt))}it=N[N.length-1]}if(k.length){for(B=et?1:0;B<k.length;B++){var at;U=k[B],rt=[this.convertPropertyBinding(Q,U.value,!0)];(at=yF(U,U.securityContext))&&rt.push(at);ot=U.name;var ut=j[ot];this.instruction.apply(this,h([this._bindingCode,U.sourceSpan,gR.elementClassProp,Y,eP(ut)],rt))}it=k[k.length-1]}this.instruction(this._bindingCode,it.sourceSpan,gR.elementStylingApply,Y)}if(P.forEach(function(t){if(4!==t.type){var e=o.convertPropertyBinding(Q,t.value),n=function(t){switch(t){case 0:return gR.elementProperty;case 1:return gR.elementAttribute;case 2:return gR.elementClassProp;default:return}}(t.type);if(n){var r=[e],i=yF(t,t.securityContext);i&&r.push(i),o.instruction.apply(o,h([o._bindingCode,t.sourceSpan,n,eP(s),eP(t.name)],r))}else o._unsupported("binding type "+t.type)}else console.error("warning: animation bindings not yet supported")}),this._inI18nSection&&1==t.children.length&&t.children[0]instanceof BR){var ct=t.children[0];this.visitSingleI18nTextChild(ct,d)}else $R(this,t.children);X||this.instruction(this._creationCode,t.endSourceSpan||t.sourceSpan,gR.elementEnd),this._inI18nSection=u},t.prototype.visitTemplate=function(e){var n=this,r=this.allocateDataSlot(),i="";1===e.children.length&&e.children[0]instanceof zR&&(i=eT(e.children[0].name));var o=i?this.contextName+"_"+i:"",s=o?o+"_Template_"+r:"Template_"+r,a="ctx"+this.level,u=[eP(r),Qk(s),Tk],c=[],l={};if(e.attributes.forEach(function(t){c.push(AR(t.name),AR("")),l[t.name]=t.value}),this.directiveMatcher){var p=fF("ng-template",l);this.directiveMatcher.match(p,function(t,e){n.directives.add(e)})}c.length&&u.push(this.constantPool.getConstLiteral(Jk(c),!0)),this.instruction.apply(this,h([this._creationCode,e.sourceSpan,gR.containerCreate],NR(u)));var f=Qk(wR);e.inputs.forEach(function(t){var i=n.convertPropertyBinding(f,t.value);n.instruction(n._bindingCode,e.sourceSpan,gR.elementProperty,eP(r),eP(t.name),i)});var d=new t(this.constantPool,a,this._bindingScope,this.level+1,o,s,[],this.directiveMatcher,this.directives,this.pipeTypeByName,this.pipes,this._namespace).buildTemplateFunction(e.children,e.variables);this._postfixCode.push(d.toDeclStmt(s,null))},t.prototype.visitBoundText=function(t){var e=this.allocateDataSlot();this.instruction(this._creationCode,t.sourceSpan,gR.text,eP(e)),this.instruction(this._bindingCode,t.sourceSpan,gR.textBinding,eP(e),this.convertPropertyBinding(Qk(wR),t.value))},t.prototype.visitText=function(t){this.instruction(this._creationCode,t.sourceSpan,gR.text,eP(this.allocateDataSlot()),eP(t.value))},t.prototype.visitSingleI18nTextChild=function(t,e){var n=dF(e),r=this.constantPool.getTranslation(t.value,n);this.instruction(this._creationCode,t.sourceSpan,gR.text,eP(this.allocateDataSlot()),r)},t.prototype.allocateDataSlot=function(){return this._dataIndex++},t.prototype.bindingContext=function(){return""+this._bindingContext++},t.prototype.instruction=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t.push(Xk(n,null,e).callFn(r,e).toStmt())},t.prototype.convertPropertyBinding=function(t,e,n){var r,i,o=e.visit(this._valueConverter);if(o instanceof vD){var s=FM(this,t,o,this.bindingContext(),OM.TrySimple,vF);return(r=this._bindingCode).push.apply(r,h(s.stmts)),s.currValExpr}s=FM(this,t,o,this.bindingContext(),OM.TrySimple,function(){return Cx("Unexpected interpolation")});(i=this._bindingCode).push.apply(i,h(s.stmts));var a=s.currValExpr;return n?a:Xk(gR.bind).callFn([a])},t}(),uF=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.constantPool=e,o.allocateSlot=n,o.allocatePureFunctionSlots=r,o.definePipe=i,o}return i(e,t),e.prototype.visitPipe=function(t,e){var n=this.allocateSlot(),r="PIPE:"+n,i=this.allocatePureFunctionSlots(2+t.args.length),o=new sD(t.span,new rD(t.span),r),s=function(t){var e=cF[t.length];return{identifier:e||gR.pipeBindV,isVarLength:!e}}(t.args),a=s.identifier,u=s.isVarLength;this.definePipe(t.name,r,n,Xk(a));var c=h([t.exp],t.args),l=u?this.visitAll([new fD(t.span,c)]):this.visitAll(c);return new _D(t.span,o,h([new pD(t.span,n),new pD(t.span,i)],l))},e.prototype.visitLiteralArray=function(t,e){var n=this;return new WM(t.span,this.visitAll(t.expressions),function(t){var e=Jk(t);return t.every(function(t){return t.isConstant()})?n.constantPool.getConstLiteral(e,!0):hF(n.constantPool,e,n.allocatePureFunctionSlots)})},e.prototype.visitLiteralMap=function(t,e){var n=this;return new WM(t.span,this.visitAll(t.values),function(e){var r=Zk(e.map(function(e,n){return{key:t.keys[n].key,value:e,quoted:t.keys[n].quoted}}));return e.every(function(t){return t.isConstant()})?n.constantPool.getConstLiteral(r,!0):hF(n.constantPool,r,n.allocatePureFunctionSlots)})},e}(TD),cF=[gR.pipeBind1,gR.pipeBind2,gR.pipeBind3,gR.pipeBind4];var lF=[gR.pureFunction0,gR.pureFunction1,gR.pureFunction2,gR.pureFunction3,gR.pureFunction4,gR.pureFunction5,gR.pureFunction6,gR.pureFunction7,gR.pureFunction8];function hF(t,e,n){var r=t.getLiteralFactory(e),i=r.literalFactory,o=r.literalFactoryArguments,s=n(1+o.length);o.length>0||Cx("Expected arguments to a literal factory function");var a=function(t){var e=lF[t.length];return{identifier:e||gR.pureFunctionV,isVarLength:!e}}(o),u=a.identifier,c=a.isVarLength,l=[eP(s),i];return c?l.push(Jk(o)):l.push.apply(l,h(o)),Xk(u).callFn(l)}var pF=function(){function t(t,e){void 0===t&&(t=null),void 0===e&&(e=kR),this.parent=t,this.declareLocalVarCallback=e,this.map=new Map,this.referenceNameIndex=0}return Object.defineProperty(t,"ROOT_SCOPE",{get:function(){return t._ROOT_SCOPE||(t._ROOT_SCOPE=(new t).set("$event",Qk("$event"))),t._ROOT_SCOPE},enumerable:!0,configurable:!0}),t.prototype.get=function(t){for(var e=this;e;){var n=e.map.get(t);if(null!=n)return e!==this&&(n={lhs:n.lhs,rhs:n.rhs,declared:!1},this.map.set(t,n)),n.rhs&&!n.declared&&(this.declareLocalVarCallback(n.lhs,n.rhs),n.declared=!0),n.lhs;e=e.parent}return null},t.prototype.set=function(t,e,n){return!this.map.has(t)||Cx("The name "+t+" is already defined in scope to be "+this.map.get(t)),this.map.set(t,{lhs:e,rhs:n,declared:!1}),this},t.prototype.getLocal=function(t){return this.get(t)},t.prototype.nestedScope=function(e){return new t(this,e)},t.prototype.freshReferenceName=function(){for(var t=this;t.parent;)t=t.parent;return"_r"+t.referenceNameIndex++},t}();function fF(t,e){var n=new RS;return n.setElement(t),Object.getOwnPropertyNames(e).forEach(function(t){var r=e[t];(n.addAttribute(t,r),"class"===t.toLowerCase())&&r.trim().split(/\s+/g).forEach(function(t){return n.addClassName(t)})}),n}function dF(t){var e,n,r,i,o;if(t){var s=t.indexOf(CR),a=t.indexOf(ER),u=void 0;u=(e=l(s>-1?[t.slice(0,s),t.slice(s+2)]:[t,""],2))[0],o=e[1],r=(n=l(a>-1?[u.slice(0,a),u.slice(a+1)]:["",u],2))[0],i=n[1]}return{description:i,id:o,meaning:r}}function vF(t){switch((t=t.slice(1)).length){case 3:return Xk(gR.interpolation1).callFn(t);case 5:return Xk(gR.interpolation2).callFn(t);case 7:return Xk(gR.interpolation3).callFn(t);case 9:return Xk(gR.interpolation4).callFn(t);case 11:return Xk(gR.interpolation5).callFn(t);case 13:return Xk(gR.interpolation6).callFn(t);case 15:return Xk(gR.interpolation7).callFn(t);case 17:return Xk(gR.interpolation8).callFn(t)}return t.length>=19&&t.length%2==1||Cx("Invalid interpolation argument length "+t.length),Xk(gR.interpolationV).callFn([Jk(t)])}function mF(t){return"className"==t.name||"class"==t.name}function yF(t,e){switch(e){case GS.HTML:return Xk(gR.sanitizeHtml);case GS.SCRIPT:return Xk(gR.sanitizeScript);case GS.STYLE:return 1===t.type?Xk(gR.sanitizeStyle):null;case GS.URL:return Xk(gR.sanitizeUrl);case GS.RESOURCE_URL:return Xk(gR.sanitizeResourceUrl);default:return null}}function gF(t,e,n){var r=new OR;r.set("type",t.type),r.set("selectors",AR(px(t.selector))),r.set("factory",MR({name:t.name,fnOrClass:t.type,deps:t.deps,useNew:!0,injectFn:gR.directiveInject})),r.set("contentQueries",function(t,e){if(t.queries.length){var n=t.queries.map(function(t){var n=CF(t,e,null);return Xk(gR.registerContentQuery).callFn([n]).toStmt()}),r=t.name;return tP([],n,KN,null,r?r+"_ContentQueries":null)}return null}(t,e)),r.set("contentQueriesRefresh",function(t){if(t.queries.length>0){var e=[],n=t.name,r=[new mk("dirIndex",QN),new mk("queryStartIndex",QN)],i=Qk("instance"),o=SR(e,bR);return e.push(i.set(Xk(gR.loadDirective).callFn([Qk("dirIndex")])).toDeclStmt(KN,[ok.Final])),t.queries.forEach(function(t,n){var r=Qk("queryStartIndex"),s=Xk(gR.loadQueryList).callFn([n>0?r.plus(eP(n)):r]),a=o().set(s),u=Xk(gR.queryRefresh).callFn([a]),c=i.prop(t.propertyName).set(t.first?o().prop("first"):o()),l=u.and(c);e.push(l.toStmt())}),tP(r,e,KN,null,n?n+"_ContentQueriesRefresh":null)}return null}(t)),r.set("hostBindings",function(t,e){var n,r,i,o,s=[],a=t.typeSourceSpan,u=function(t){return{hostAttributes:t.host.attributes,hostListeners:t.host.listeners,hostProperties:t.host.properties}}(t),l=e.createBoundHostProperties(u,a),p=Xk(gR.loadDirective).callFn([Qk("dirIndex")]);if(l)try{for(var f=c(l),d=f.next();!d.done;d=f.next()){var v=d.value,m=FM(null,p,v.expression,"b",OM.TrySimple,function(){return Cx("Unexpected interpolation")});s.push.apply(s,h(m.stmts)),s.push(Xk(gR.elementProperty).callFn([Qk("elIndex"),eP(v.name),Xk(gR.bind).callFn([m.currValExpr])]).toStmt())}}catch(t){n={error:t}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}var y=e.createDirectiveHostEventAsts(u,a);if(y)try{for(var g=c(y),b=g.next();!b.done;b=g.next()){var v=b.value,m=kM(null,p,v.handler,"b",function(){return Cx("Unexpected interpolation")}),w=v.name&&eT(v.name),_=t.name,E=_&&w?_+"_"+w+"_HostBindingHandler":null,C=tP([new mk("$event",zN)],h(m.stmts,[new kk(m.allowDefault)]),KN,null,E);s.push(Xk(gR.listener).callFn([eP(v.name),C]).toStmt())}}catch(t){i={error:t}}finally{try{b&&!b.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}if(s.length>0){var _=t.name;return tP([new mk("dirIndex",QN),new mk("elIndex",QN)],s,KN,null,_?_+"_HostBindings":null)}return null}(t,n)),r.set("attributes",function(t){var e,n,r=[],i=t.host.attributes;try{for(var o=c(Object.getOwnPropertyNames(i)),s=o.next();!s.done;s=o.next()){var a=s.value,u=i[a];r.push(eP(a),eP(u))}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}if(r.length>0)return Jk(r);return null}(t)),r.set("inputs",DR(t.inputs)),r.set("outputs",DR(t.outputs));var i=[];return t.usesInheritance&&i.push(Xk(gR.InheritDefinitionFeature)),t.lifecycle.usesOnChanges&&i.push(Xk(gR.NgOnChangesFeature)),i.length&&r.set("features",Jk(i)),r}function bF(t,e,n){var r=gF(t,e,n),i=t.selector&&RS.parse(t.selector),o=i&&i[0];if(o){var s=o.getAttrs();s.length&&r.set("attrs",e.getConstLiteral(Jk(s.map(function(t){return eP(null!=t?t:void 0)})),!0))}var a=null;if(t.directives.size){var u=new FS;t.directives.forEach(function(t,e){u.addSelectables(RS.parse(e),t)}),a=u}t.viewQueries.length&&r.set("viewQuery",function(t,e){for(var n=[],r=[],i=SR(r,bR),o=0;o<t.viewQueries.length;o++){var s=t.viewQueries[o],a=CF(s,e,o);n.push(a.toStmt());var u=i(),c=Xk(gR.load).callFn([eP(o)]),l=Xk(gR.queryRefresh).callFn([u.set(c)]),h=Qk(wR).prop(s.propertyName).set(s.first?u.prop("first"):u);r.push(l.and(h).toStmt())}var p=t.name?t.name+"_Query":null;return tP([new mk(_R,QN),new mk(wR,null)],[sF(1,n),sF(2,r)],KN,null,p)}(t,e));var c=t.name,l=c?c+"_Template":null,h=new Set,p=new Set,f=t.template,d=new aF(e,wR,pF.ROOT_SCOPE,0,c,l,t.viewQueries,a,h,t.pipes,p,gR.namespaceHTML).buildTemplateFunction(f.nodes,[],f.hasNgContent,f.ngContentSelectors);r.set("template",d),h.size&&r.set("directives",Jk(Array.from(h))),p.size&&r.set("pipes",Jk(Array.from(p)));var v=(t.selector||"").replace(/\n/g,"");return{expression:Xk(gR.defineComponent).callFn([r.toLiteralMap()]),type:new qN(Xk(gR.ComponentDef,[LR(t.type,t.typeArgumentCount),new qN(eP(v))]))}}function wF(t,e,n,r){var i=iT(e.type);i||Cx("Cannot resolver the name of "+e.type);var o=t.constantPool.propertyNameOf(1),s=function(t,e,n){var r=gF(t,e,n),i=Xk(gR.defineDirective).callFn([r.toLiteralMap()]),o=(t.selector||"").replace(/\n/g,"");return{expression:i,type:new qN(Xk(gR.DirectiveDef,[LR(t.type,t.typeArgumentCount),new qN(eP(o))]))}}(_F(e,t,n),t.constantPool,r);t.statements.push(new Fk(i,null,[new Ok(o,KN,[ok.Static],s.expression)],[],new Mk(null,[],[]),[]))}function _F(t,e,n){var r=t.toSummary(),i=iT(t.type);return i||Cx("Cannot resolver the name of "+t.type),{name:i,type:e.importExpr(t.type.reference),typeArgumentCount:0,typeSourceSpan:WD(t.isComponent?"Component":"Directive",t.type),selector:t.selector,deps:RR(t.type,e,n),queries:EF(t.queries,e),lifecycle:{usesOnChanges:t.type.lifecycleHooks.some(function(t){return t==yP.OnChanges})},host:{attributes:t.hostAttributes,listeners:r.hostListeners,properties:r.hostProperties},inputs:t.inputs,outputs:t.outputs,usesInheritance:!1}}function EF(t,e){return t.map(function(t){var n=null;return t.read&&t.read.identifier&&(n=e.importExpr(t.read.identifier.reference)),{propertyName:t.propertyName,first:t.first,predicate:function(t,e){if(t.length>1||1==t.length&&t[0].value){var n=t.map(function(t){return t.value});return n.some(function(t){return!t})&&Cx("Found a type among the string selectors expected"),e.constantPool.getConstLiteral(Jk(n.map(function(t){return eP(t)})))}if(1==t.length){var r=t[0];if(r.identifier)return e.importExpr(r.identifier.reference)}return Cx("Unexpected query form"),xk}(t.selectors,e),descendants:t.descendants,read:n}})}function CF(t,e,n){var r=function(t,e){return Array.isArray(t.predicate)?e.getConstLiteral(Jk(t.predicate.map(function(t){return eP(t)}))):t.predicate}(t,e),i=[eP(n,KN),r,eP(t.descendants)];return t.read&&i.push(t.read),Xk(gR.query).callFn(i)}function SF(t,e){var n=Array.from(t).map(function(t){var n=l(t,2),r=n[0],i=n[1];return[r,e.importExpr(i)]});return new Map(n)}var xF=function(){function t(t,e,n){this.srcFileUrl=t,this.genFileUrl=e,"string"==typeof n?(this.source=n,this.stmts=null):(this.source=null,this.stmts=n)}return t.prototype.isEquivalent=function(t){return this.genFileUrl===t.genFileUrl&&(this.source?this.source===t.source:null!=t.stmts&&$N(this.stmts,t.stmts))},t}();function TF(t,e){var n,r,i,o,s=[];try{for(var a=c(t.transitiveModule.providers),u=a.next();!u.done;u=a.next()){var l=u.value,h=l.provider,p=l.module;if(lT(h.token)===e.ROUTES){var f=AF(h.useValue);try{for(var d=c(f),v=d.next();!v.done;v=d.next()){var m=v.value;s.push(DF(m,e,p.reference))}}catch(t){i={error:t}}finally{try{v&&!v.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}}}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return s}function AF(t,e){var n,r;if(void 0===e&&(e=[]),"string"==typeof t)e.push(t);else if(Array.isArray(t))try{for(var i=c(t),o=i.next();!o.done;o=i.next()){AF(o.value,e)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}else t.loadChildren?AF(t.loadChildren,e):t.children&&AF(t.children,e);return e}function DF(t,e,n){var r=l(t.split("#"),2),i=r[0],o=r[1],s=e.resolveExternalReference({moduleName:i,name:o},n?n.filePath:void 0);return{route:t,module:n||s,referencedModule:s}}var IF=/^(?!.*\.d\.ts$).*\.ts$/,NF=function(){return function(t,e){this.symbol=t,this.metadata=e}}(),kF=function(){function t(t,e,n,r){this.host=t,this.staticSymbolCache=e,this.summaryResolver=n,this.errorRecorder=r,this.metadataCache=new Map,this.resolvedSymbols=new Map,this.resolvedFilePaths=new Set,this.importAs=new Map,this.symbolResourcePaths=new Map,this.symbolFromFile=new Map,this.knownFileNameToModuleNames=new Map}return t.prototype.resolveSymbol=function(t){if(t.members.length>0)return this._resolveSymbolMembers(t);var e=this._resolveSymbolFromSummary(t);if(e)return e;var n=this.resolvedSymbols.get(t);return n||(this._createSymbolsOf(t.filePath),this.resolvedSymbols.get(t))},t.prototype.getImportAs=function(t,e){if(void 0===e&&(e=!0),t.members.length){var n=this.getStaticSymbol(t.filePath,t.name);return(i=this.getImportAs(n,e))?this.getStaticSymbol(i.filePath,i.name,t.members):null}var r=t.filePath.replace(uP,".");if(r!==t.filePath){var i,o=t.name.replace(cP,"");n=this.getStaticSymbol(r,o,t.members);return(i=this.getImportAs(n,e))?this.getStaticSymbol(vP(i.filePath),mP(i.name),n.members):null}var s=e&&this.summaryResolver.getImportAs(t)||null;return s||(s=this.importAs.get(t)),s},t.prototype.getResourcePath=function(t){return this.symbolResourcePaths.get(t)||t.filePath},t.prototype.getTypeArity=function(t){if(e=t.filePath,aP.test(e))return null;for(var e,n=OF(this.resolveSymbol(t));n&&n.metadata instanceof Jx;)n=OF(this.resolveSymbol(n.metadata));return n&&n.metadata&&n.metadata.arity||null},t.prototype.getKnownModuleName=function(t){return this.knownFileNameToModuleNames.get(t)||null},t.prototype.recordImportAs=function(t,e){t.assertNoMembers(),e.assertNoMembers(),this.importAs.set(t,e)},t.prototype.recordModuleNameForFileName=function(t,e){this.knownFileNameToModuleNames.set(t,e)},t.prototype.invalidateFile=function(t){var e,n;this.metadataCache.delete(t),this.resolvedFilePaths.delete(t);var r=this.symbolFromFile.get(t);if(r){this.symbolFromFile.delete(t);try{for(var i=c(r),o=i.next();!o.done;o=i.next()){var s=o.value;this.resolvedSymbols.delete(s),this.importAs.delete(s),this.symbolResourcePaths.delete(s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.ignoreErrorsFor=function(t){var e=this.errorRecorder;this.errorRecorder=function(){};try{return t()}finally{this.errorRecorder=e}},t.prototype._resolveSymbolMembers=function(t){var e=t.members,n=this.resolveSymbol(this.getStaticSymbol(t.filePath,t.name));if(!n)return null;var r=OF(n.metadata);if(r instanceof Jx)return new NF(t,this.getStaticSymbol(r.filePath,r.name,e));if(!r||"class"!==r.__symbolic){for(var i=r,o=0;o<e.length&&i;o++)i=i[e[o]];return new NF(t,i)}return r.statics&&1===e.length?new NF(t,r.statics[e[0]]):null},t.prototype._resolveSymbolFromSummary=function(t){var e=this.summaryResolver.resolveSummary(t);return e?new NF(t,e.metadata):null},t.prototype.getStaticSymbol=function(t,e,n){return this.staticSymbolCache.get(t,e,n)},t.prototype.hasDecorators=function(t){var e=this.getModuleMetadata(t);return!!e.metadata&&Object.keys(e.metadata).some(function(t){var n=e.metadata[t];return n&&"class"===n.__symbolic&&n.decorators})},t.prototype.getSymbolsOf=function(t){var e=this.summaryResolver.getSymbolsOf(t);if(e)return e;this._createSymbolsOf(t);var n=[];return this.resolvedSymbols.forEach(function(e){e.symbol.filePath===t&&n.push(e.symbol)}),n},t.prototype._createSymbolsOf=function(t){var e,n,r=this;if(!this.resolvedFilePaths.has(t)){this.resolvedFilePaths.add(t);var i=[],o=this.getModuleMetadata(t);if(o.importAs&&this.knownFileNameToModuleNames.set(t,o.importAs),o.exports){var s=function(e){if(e.export)e.export.forEach(function(n){var o,s=o=PF(o="string"==typeof n?n:n.as);"string"!=typeof n&&(s=PF(n.name));var a=r.resolveModule(e.from,t);if(a){var u=r.getStaticSymbol(a,s),c=r.getStaticSymbol(t,o);i.push(r.createExport(c,u))}});else{var n=a.resolveModule(e.from,t);if(n)a.getSymbolsOf(n).forEach(function(e){var n=r.getStaticSymbol(t,e.name);i.push(r.createExport(n,e))})}},a=this;try{for(var u=c(o.exports),l=u.next();!l.done;l=u.next()){s(l.value)}}catch(t){e={error:t}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}}if(o.metadata){var h=new Set(Object.keys(o.metadata).map(PF)),p=o.origins||{};Object.keys(o.metadata).forEach(function(e){var n=o.metadata[e],s=PF(e),a=r.getStaticSymbol(t,s),u=p.hasOwnProperty(e)&&p[e];if(u){var c=r.resolveModule(u,t);c?r.symbolResourcePaths.set(a,c):r.reportError(new Error("Couldn't resolve original symbol for "+u+" from "+t))}i.push(r.createResolvedSymbol(a,t,h,n))})}i.forEach(function(t){return r.resolvedSymbols.set(t.symbol,t)}),this.symbolFromFile.set(t,i.map(function(t){return t.symbol}))}},t.prototype.createResolvedSymbol=function(t,e,n,r){var s,a=this,u=IF.test(t.filePath);if(this.summaryResolver.isLibraryFile(t.filePath)&&!u&&r&&"class"===r.__symbolic){var c={__symbolic:"class",arity:r.arity};return new NF(t,c)}var l=function(){return s||(s=a.host.getOutputName(e.replace(/((\.ts)|(\.d\.ts)|)$/,".ts").replace(/^.*node_modules[/\\]/,""))),s},p=this,f=mx(r,new(function(r){function s(){return null!==r&&r.apply(this,arguments)||this}return i(s,r),s.prototype.visitStringMap=function(i,s){var a=i.__symbolic;if("function"===a){var u=s.length;s.push.apply(s,h(i.parameters||[]));var c=r.prototype.visitStringMap.call(this,i,s);return s.length=u,c}if("reference"!==a)return"error"===a?o({},i,{fileName:l()}):r.prototype.visitStringMap.call(this,i,s);var f=i.module,d=i.name?PF(i.name):i.name;if(!d)return null;var v=void 0;return f?(v=p.resolveModule(f,t.filePath))?{__symbolic:"resolved",symbol:p.getStaticSymbol(v,d),line:i.line,character:i.character,fileName:l()}:{__symbolic:"error",message:"Could not resolve "+f+" relative to "+t.filePath+".",line:i.line,character:i.character,fileName:l()}:s.indexOf(d)>=0?{__symbolic:"reference",name:d}:n.has(d)?p.getStaticSymbol(e,d):void 0},s}(bx)),[]),d=OF(f);return d instanceof Jx?this.createExport(t,d):new NF(t,f)},t.prototype.createExport=function(t,e){return t.assertNoMembers(),e.assertNoMembers(),this.summaryResolver.isLibraryFile(t.filePath)&&this.summaryResolver.isLibraryFile(e.filePath)&&this.importAs.set(e,this.getImportAs(t)||t),new NF(t,e)},t.prototype.reportError=function(t,e,n){if(!this.errorRecorder)throw t;this.errorRecorder(t,e&&e.filePath||n)},t.prototype.getModuleMetadata=function(t){var e=this.metadataCache.get(t);if(!e){var n=this.host.getMetadataFor(t);if(n){var r=-1;n.forEach(function(t){t&&t.version>r&&(r=t.version,e=t)})}if(e||(e={__symbolic:"module",version:4,module:t,metadata:{}}),4!=e.version){var i=2==e.version?"Unsupported metadata version "+e.version+" for module "+t+". This module should be compiled with a newer version of ngc":"Metadata version mismatch for module "+t+", found version "+e.version+", expected 4";this.reportError(new Error(i))}this.metadataCache.set(t,e)}return e},t.prototype.getSymbolByModule=function(t,e,n){var r=this.resolveModule(t,n);return r?this.getStaticSymbol(r,e):(this.reportError(new Error("Could not resolve module "+t+(n?" relative to "+n:""))),this.getStaticSymbol("ERROR:"+t,e))},t.prototype.resolveModule=function(t,e){try{return this.host.moduleNameToFileName(t,e)}catch(n){console.error("Could not resolve module '"+t+"' relative to file "+e),this.reportError(n,void 0,e)}return null},t}();function PF(t){return t.startsWith("___")?t.substr(1):t}function OF(t){return t&&"resolved"===t.__symbolic?t.symbol:t}function MF(t,e,n){var r=mP(e.name);t.statements.push(tP([],[new kk(n)],new HN(zN)).toDeclStmt(r,[ok.Final,ok.Exported]))}var RF=function(t){function e(e,n,r){var i=t.call(this)||this;return i.symbolResolver=e,i.summaryResolver=n,i.srcFileName=r,i.symbols=[],i.indexBySymbol=new Map,i.reexportedBy=new Map,i.processedSummaryBySymbol=new Map,i.processedSummaries=[],i.unprocessedSymbolSummariesBySymbol=new Map,i.moduleName=e.getKnownModuleName(r),i}return i(e,t),e.prototype.addSummary=function(t){var e,n,r=this,i=this.unprocessedSymbolSummariesBySymbol.get(t.symbol),o=this.processedSummaryBySymbol.get(t.symbol);if(i||(i={symbol:t.symbol,metadata:void 0},this.unprocessedSymbolSummariesBySymbol.set(t.symbol,i),o={symbol:this.processValue(t.symbol,0)},this.processedSummaries.push(o),this.processedSummaryBySymbol.set(t.symbol,o)),!i.metadata&&t.metadata){var s=t.metadata||{};if("class"===s.__symbolic){var a={};Object.keys(s).forEach(function(t){"decorators"!==t&&(a[t]=s[t])}),s=a}else jF(s)&&(jF(n=s)&&OF(n.expression)instanceof Jx||function(t){return jF(t)&&t.expression&&"select"===t.expression.__symbolic&&OF(t.expression.expression)instanceof Jx}(s)||(s={__symbolic:"error",message:"Complex function calls are not supported."}));if(i.metadata=s,o.metadata=this.processValue(s,1),s instanceof Jx&&this.summaryResolver.isLibraryFile(s.filePath)){var u=this.symbols[this.indexBySymbol.get(s)];e=u.name,gP.test(e)||this.reexportedBy.set(u,t.symbol)}}if(!i.type&&t.type&&(i.type=t.type,o.type=this.processValue(t.type,0),t.type.summaryKind===nT.NgModule)){var c=t.type;c.exportedDirectives.concat(c.exportedPipes).forEach(function(t){var e=t.reference;if(r.summaryResolver.isLibraryFile(e.filePath)&&!r.unprocessedSymbolSummariesBySymbol.has(e)){var n=r.summaryResolver.resolveSummary(e);n&&r.addSummary(n)}})}},e.prototype.serialize=function(){var t=this,e=[];return{json:JSON.stringify({moduleName:this.moduleName,summaries:this.processedSummaries,symbols:this.symbols.map(function(n,r){n.assertNoMembers();var i=void 0;if(t.summaryResolver.isLibraryFile(n.filePath)){var o=t.reexportedBy.get(n);if(o)i=t.indexBySymbol.get(o);else{var s=t.unprocessedSymbolSummariesBySymbol.get(n);s&&s.metadata&&"interface"===s.metadata.__symbolic||(i=n.name+"_"+r,e.push({symbol:n,exportAs:i}))}}return{__symbol:r,name:n.name,filePath:t.summaryResolver.toSummaryFileName(n.filePath,t.srcFileName),importAs:i}})}),exportAs:e}},e.prototype.processValue=function(t,e){return mx(t,this,e)},e.prototype.visitOther=function(t,e){if(t instanceof Jx){var n=this.symbolResolver.getStaticSymbol(t.filePath,t.name);return{__symbol:this.visitStaticSymbol(n,e),members:t.members}}},e.prototype.visitStringMap=function(e,n){return"resolved"===e.__symbolic?mx(e.symbol,this,n):("error"===e.__symbolic&&(delete e.line,delete e.character),t.prototype.visitStringMap.call(this,e,n))},e.prototype.visitStaticSymbol=function(t,e){var n=this.indexBySymbol.get(t),r=null;if(1&e&&this.summaryResolver.isLibraryFile(t.filePath)){if(this.unprocessedSymbolSummariesBySymbol.has(t))return n;(r=this.loadSummary(t))&&r.metadata instanceof Jx&&(n=this.visitStaticSymbol(r.metadata,e),r=null)}else if(null!=n)return n;return null==n&&(n=this.symbols.length,this.symbols.push(t)),this.indexBySymbol.set(t,n),r&&this.addSummary(r),n},e.prototype.loadSummary=function(t){var e=this.summaryResolver.resolveSummary(t);if(!e){var n=this.symbolResolver.resolveSymbol(t);n&&(e={symbol:n.symbol,metadata:n.metadata})}return e},e}(bx),FF=function(){function t(t,e,n){this.outputCtx=t,this.symbolResolver=e,this.summaryResolver=n,this.data=[]}return t.prototype.addSourceType=function(t,e){this.data.push({summary:t,metadata:e,isLibrary:!1})},t.prototype.addLibType=function(t){this.data.push({summary:t,metadata:null,isLibrary:!0})},t.prototype.serialize=function(t){var e,n,r,i,o,s,a=this,u=new Map;try{for(var l=c(t),h=l.next();!h.done;h=l.next()){var p=h.value,f=p.symbol,d=p.exportAs;u.set(f,d)}}catch(t){e={error:t}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}var v=new Set;try{for(var m=c(this.data),y=m.next();!y.done;y=m.next()){var g=y.value,b=g.summary,w=g.metadata,_=g.isLibrary;if(b.summaryKind===nT.NgModule){v.add(b.type.reference);var E=b;try{for(var C=c(E.modules),S=C.next();!S.done;S=C.next()){var x=S.value;v.add(x.reference)}}catch(t){o={error:t}}finally{try{S&&!S.done&&(s=C.return)&&s.call(C)}finally{if(o)throw o.error}}}if(!_){mP(b.type.reference.name);MF(this.outputCtx,b.type.reference,this.serializeSummaryWithDeps(b,w))}}}catch(t){r={error:t}}finally{try{y&&!y.done&&(i=m.return)&&i.call(m)}finally{if(r)throw r.error}}v.forEach(function(t){if(a.summaryResolver.isLibraryFile(t.filePath)){var e=mP(u.get(t)||t.name);a.outputCtx.statements.push(Qk(e).set(a.serializeSummaryRef(t)).toDeclStmt(null,[ok.Exported]))}})},t.prototype.serializeSummaryWithDeps=function(t,e){var n=this,r=[this.serializeSummary(t)],i=[];if(e instanceof vT)r.push.apply(r,h(e.declaredDirectives.concat(e.declaredPipes).map(function(t){return t.reference}).concat(e.transitiveModule.modules.map(function(t){return t.reference}).filter(function(t){return t!==e.type.reference})).map(function(t){return n.serializeSummaryRef(t)}))),i=e.providers;else if(t.summaryKind===nT.Directive){var o=t;i=o.providers.concat(o.viewProviders)}return r.push.apply(r,h(i.filter(function(t){return!!t.useClass}).map(function(t){return n.serializeSummary({summaryKind:nT.Injectable,type:t.useClass})}))),Jk(r)},t.prototype.serializeSummaryRef=function(t){var e=this.symbolResolver.getStaticSymbol(vP(t.filePath),mP(t.name));return this.outputCtx.importExpr(e)},t.prototype.serializeSummary=function(t){var e=this.outputCtx;return mx(t,new(function(){function t(){}return t.prototype.visitArray=function(t,e){var n=this;return Jk(t.map(function(t){return mx(t,n,e)}))},t.prototype.visitStringMap=function(t,e){var n=this;return new Ck(Object.keys(t).map(function(r){return new Ek(r,mx(t[r],n,e),!1)}))},t.prototype.visitPrimitive=function(t,e){return eP(t)},t.prototype.visitOther=function(t,n){if(t instanceof Jx)return e.importExpr(t);throw new Error("Illegal State: Encountered value "+t)},t}()),null)},t}(),LF=function(t){function e(e,n){var r=t.call(this)||this;return r.symbolCache=e,r.summaryResolver=n,r}return i(e,t),e.prototype.deserialize=function(t,e){var n=this,r=JSON.parse(e),i=[];this.symbols=r.symbols.map(function(e){return n.symbolCache.get(n.summaryResolver.fromSummaryFileName(e.filePath,t),e.name)}),r.symbols.forEach(function(e,r){var o=n.symbols[r],s=e.importAs;"number"==typeof s?i.push({symbol:o,importAs:n.symbols[s]}):"string"==typeof s&&i.push({symbol:o,importAs:n.symbolCache.get(lP(t),s)})});var o=mx(r.summaries,this,null);return{moduleName:r.moduleName,summaries:o,importAs:i}},e.prototype.visitStringMap=function(e,n){if("__symbol"in e){var r=this.symbols[e.__symbol],i=e.members;return i.length?this.symbolCache.get(r.filePath,r.name,i):r}return t.prototype.visitStringMap.call(this,e,n)},e}(bx);function jF(t){return t&&"call"===t.__symbolic}!function(){function t(t,e,n,r,i,o,s,a,u,c,l,h,p,f){this._config=t,this._options=e,this._host=n,this.reflector=r,this._metadataResolver=i,this._templateParser=o,this._styleCompiler=s,this._viewCompiler=a,this._typeCheckCompiler=u,this._ngModuleCompiler=c,this._injectableCompiler=l,this._outputEmitter=h,this._summaryResolver=p,this._symbolResolver=f,this._templateAstCache=new Map,this._analyzedFiles=new Map,this._analyzedFilesForInjectables=new Map}t.prototype.clearCache=function(){this._metadataResolver.clearCache()},t.prototype.analyzeModulesSync=function(t){var e=this,n=HF(t,this._host,this._symbolResolver,this._metadataResolver);return n.ngModules.forEach(function(t){return e._metadataResolver.loadNgModuleDirectiveAndPipeMetadata(t.type.reference,!0)}),n},t.prototype.analyzeModulesAsync=function(t){var e=this,n=HF(t,this._host,this._symbolResolver,this._metadataResolver);return Promise.all(n.ngModules.map(function(t){return e._metadataResolver.loadNgModuleDirectiveAndPipeMetadata(t.type.reference,!1)})).then(function(){return n})},t.prototype._analyzeFile=function(t){var e=this._analyzedFiles.get(t);return e||(e=zF(this._host,this._symbolResolver,this._metadataResolver,t),this._analyzedFiles.set(t,e)),e},t.prototype._analyzeFileForInjectables=function(t){var e=this._analyzedFilesForInjectables.get(t);return e||(e=function(t,e,n,r){var i=[],o=[];e.hasDecorators(r)&&e.getSymbolsOf(r).forEach(function(t){var r=e.resolveSymbol(t),s=r.metadata;if(s&&"error"!==s.__symbolic&&"class"===s.__symbolic)if(n.isInjectable(t)){var a=n.getInjectableMetadata(t,null,!1);a&&i.push(a)}else if(n.isNgModule(t)){var u=n.getShallowModuleMetadata(t);u&&o.push(u)}});return{fileName:r,injectables:i,shallowModules:o}}(this._host,this._symbolResolver,this._metadataResolver,t),this._analyzedFilesForInjectables.set(t,e)),e},t.prototype.findGeneratedFileNames=function(t){var e=this,n=[],r=this._analyzeFile(t);(this._options.allowEmptyCodegenFiles||r.directives.length||r.pipes.length||r.injectables.length||r.ngModules.length||r.exportsNonSourceFiles)&&(n.push(lP(r.fileName,!0)),this._options.enableSummariesForJit&&n.push(vP(r.fileName,!0)));var i=fP(pP(r.fileName,!0)[1]);return r.directives.forEach(function(t){var o=e._metadataResolver.getNonNormalizedDirectiveMetadata(t).metadata;o.isComponent&&o.template.styleUrls.forEach(function(t){var s=e._host.resourceNameToFileName(t,r.fileName);if(!s)throw Sx("Couldn't resolve resource "+t+" relative to "+r.fileName);var a=(o.template.encapsulation||e._config.defaultEncapsulation)===PS.Emulated;n.push(UF(s,a,i)),e._options.allowEmptyCodegenFiles&&n.push(UF(s,!a,i))})}),n},t.prototype.emitBasicStub=function(t,e){var n=this._createOutputContext(t);if(t.endsWith(".ngfactory.ts")){if(!e)throw new Error("Assertion error: require the original file for .ngfactory.ts stubs. File: "+t);var r=this._analyzeFile(e);this._createNgFactoryStub(n,r,1)}else if(t.endsWith(".ngsummary.ts")){if(this._options.enableSummariesForJit){if(!e)throw new Error("Assertion error: require the original file for .ngsummary.ts stubs. File: "+t);r=this._analyzeFile(e);VF(n),r.ngModules.forEach(function(t){!function(t,e){MF(t,e,xk)}(n,t.type.reference)})}}else t.endsWith(".ngstyle.ts")&&VF(n);return this._codegenSourceModule("unknown",n)},t.prototype.emitTypeCheckStub=function(t,e){var n=this._analyzeFile(e),r=this._createOutputContext(t);return t.endsWith(".ngfactory.ts")&&this._createNgFactoryStub(r,n,2),r.statements.length>0?this._codegenSourceModule(n.fileName,r):null},t.prototype.loadFilesAsync=function(t,e){var n=this,r=t.map(function(t){return n._analyzeFile(t)}),i=[];r.forEach(function(t){return t.ngModules.forEach(function(t){return i.push(n._metadataResolver.loadNgModuleDirectiveAndPipeMetadata(t.type.reference,!1))})});var o=e.map(function(t){return n._analyzeFileForInjectables(t)});return Promise.all(i).then(function(t){return{analyzedModules:GF(r),analyzedInjectables:o}})},t.prototype.loadFilesSync=function(t,e){var n=this,r=t.map(function(t){return n._analyzeFile(t)});r.forEach(function(t){return t.ngModules.forEach(function(t){return n._metadataResolver.loadNgModuleDirectiveAndPipeMetadata(t.type.reference,!0)})});var i=e.map(function(t){return n._analyzeFileForInjectables(t)});return{analyzedModules:GF(r),analyzedInjectables:i}},t.prototype._createNgFactoryStub=function(t,e,n){var r=this,i=0;e.ngModules.forEach(function(e,o){r._ngModuleCompiler.createStub(t,e.type.reference);var s=h(e.transitiveModule.directives.map(function(t){return t.reference}),e.transitiveModule.pipes.map(function(t){return t.reference}),e.importedModules.map(function(t){return t.type.reference}),e.exportedModules.map(function(t){return t.type.reference}),r._externalIdentifierReferences([RN.TemplateRef,RN.ElementRef])),a=new Map;s.forEach(function(t,e){a.set(t,"_decl"+o+"_"+e)}),a.forEach(function(e,n){t.statements.push(Qk(e).set(xk.cast(zN)).toDeclStmt(Yk(t.importExpr(n,null,!1))))}),2&n&&e.declaredDirectives.forEach(function(n){var o=r._metadataResolver.getDirectiveMetadata(n.reference);o.isComponent&&(i++,r._createTypeCheckBlock(t,o.type.reference.name+"_Host_"+i,e,r._metadataResolver.getHostComponentMetadata(o),[o.type],a),r._createTypeCheckBlock(t,o.type.reference.name+"_"+i,e,o,e.transitiveModule.directives,a))})}),0===t.statements.length&&VF(t)},t.prototype._externalIdentifierReferences=function(t){var e,n,r=[];try{for(var i=c(t),o=i.next();!o.done;o=i.next()){var s=o.value,a=LN(this.reflector,s);a.identifier&&r.push(a.identifier.reference)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},t.prototype._createTypeCheckBlock=function(t,e,n,r,i,o){var s,a=this._parseTemplate(r,n,i),u=a.template,c=a.pipes;(s=t.statements).push.apply(s,h(this._typeCheckCompiler.compileComponent(e,r,u,c,o,t)))},t.prototype.emitMessageBundle=function(t,e){var n=this,r=[],i=new IN,o=new vR(i,[],{},e);if(t.files.forEach(function(t){var e=[];t.directives.forEach(function(t){var r=n._metadataResolver.getDirectiveMetadata(t);r&&r.isComponent&&e.push(r)}),e.forEach(function(t){var e=t.template.template,n=t.template.templateUrl,i=PT.fromArray(t.template.interpolation);r.push.apply(r,h(o.updateFromTemplate(e,n,i)))})}),r.length)throw new Error(r.map(function(t){return t.toString()}).join("\n"));return o},t.prototype.emitAllPartialModules=function(t,e){var n=this,r=t.ngModuleByPipeOrDirective,i=t.files,o=new Map,s=function(t){return o.has(t)||o.set(t,n._createOutputContext(t)),o.get(t)};return i.forEach(function(t){return n._compilePartialModule(t.fileName,r,t.directives,t.pipes,t.ngModules,t.injectables,s(t.fileName))}),e.forEach(function(t){return n._compileShallowModules(t.fileName,t.shallowModules,s(t.fileName))}),Array.from(o.values()).map(function(t){return{fileName:t.genFilePath,statements:h(t.constantPool.statements,t.statements)}})},t.prototype._compileShallowModules=function(t,e,n){var r=this;e.forEach(function(t){return jR(n,t,r._injectableCompiler)})},t.prototype._compilePartialModule=function(t,e,n,r,i,s,a){var u=this,c=new yO,l=new uM(this._templateParser.expressionParser,OT,c,[],[]);n.forEach(function(t){var n=u._metadataResolver.getDirectiveMetadata(t);if(n.isComponent){var r=e.get(t);r||Cx("Cannot determine the module for component '"+iT(n.type)+"'");var i=n.template.htmlAst;n.template.preserveWhitespaces||(i=nM(i));var s=JR(i.rootNodes,l),c=new Map;r.transitiveModule.directives.map(function(t){return u._metadataResolver.getDirectiveSummary(t.reference)}).forEach(function(t){t.selector&&c.set(t.selector,t.type.reference)});var h=new Map;r.transitiveModule.pipes.map(function(t){return u._metadataResolver.getPipeSummary(t.reference)}).forEach(function(t){h.set(t.name,t.type.reference)}),function(t,e,n,r,i,s,a){var u=iT(e.type);u||Cx("Cannot resolver the name of "+e.type);var c=t.constantPool.propertyNameOf(2),l=(e.toSummary(),bF(o({},_F(e,t,r),{selector:e.selector,template:{nodes:n.nodes,hasNgContent:n.hasNgContent,ngContentSelectors:n.ngContentSelectors},directives:SF(s,t),pipes:SF(a,t),viewQueries:EF(e.viewQueries,t)}),t.constantPool,i));t.statements.push(new Fk(u,null,[new Ok(c,KN,[ok.Static],l.expression)],[],new Mk(null,[],[]),[]))}(a,n,s,u.reflector,l,c,h)}else wF(a,n,u.reflector,l)}),r.forEach(function(t){var e=u._metadataResolver.getPipeMetadata(t);e&&VR(a,e,u.reflector)}),s.forEach(function(t){return u._injectableCompiler.compile(t,a)})},t.prototype.emitAllPartialModules2=function(t){var e=this;return t.reduce(function(t,n){return t.push.apply(t,h(e._emitPartialModule2(n.fileName,n.injectables))),t},[])},t.prototype._emitPartialModule2=function(t,e){var n=this,r=this._createOutputContext(t);return e.forEach(function(t){return n._injectableCompiler.compile(t,r)}),r.statements&&r.statements.length>0?[{fileName:t,statements:h(r.constantPool.statements,r.statements)}]:[]},t.prototype.emitAllImpls=function(t){var e=this,n=t.ngModuleByPipeOrDirective;return bT(t.files.map(function(t){return e._compileImplFile(t.fileName,n,t.directives,t.pipes,t.ngModules,t.injectables)}))},t.prototype._compileImplFile=function(t,e,n,r,i,o){var s=this,a=fP(pP(t,!0)[1]),u=[],c=this._createOutputContext(lP(t,!0));if(u.push.apply(u,h(this._createSummary(t,n,r,i,o,c))),i.forEach(function(t){return s._compileModule(c,t)}),n.forEach(function(n){var r=s._metadataResolver.getDirectiveMetadata(n);if(r.isComponent){var i=e.get(n);if(!i)throw new Error("Internal Error: cannot determine the module for component "+iT(r.type)+"!");var o=s._styleCompiler.compileComponent(c,r);r.template.externalStylesheets.forEach(function(e){var n=s._styleCompiler.needsStyleShim(r);u.push(s._codegenStyles(t,r,e,n,a)),s._options.allowEmptyCodegenFiles&&u.push(s._codegenStyles(t,r,e,!n,a))});s._compileComponent(c,r,i,i.transitiveModule.directives,o,a);s._compileComponentFactory(c,r,i,a)}}),c.statements.length>0||this._options.allowEmptyCodegenFiles){var l=this._codegenSourceModule(t,c);u.unshift(l)}return u},t.prototype._createSummary=function(t,e,n,r,i,o){var s=this,a=this._symbolResolver.getSymbolsOf(t).map(function(t){return s._symbolResolver.resolveSymbol(t)}),u=h(r.map(function(t){return{summary:s._metadataResolver.getNgModuleSummary(t.type.reference),metadata:s._metadataResolver.getNgModuleMetadata(t.type.reference)}}),e.map(function(t){return{summary:s._metadataResolver.getDirectiveSummary(t),metadata:s._metadataResolver.getDirectiveMetadata(t)}}),n.map(function(t){return{summary:s._metadataResolver.getPipeSummary(t),metadata:s._metadataResolver.getPipeMetadata(t)}}),i.map(function(t){return{summary:s._metadataResolver.getInjectableSummary(t.symbol),metadata:s._metadataResolver.getInjectableSummary(t.symbol).type}})),c=this._options.enableSummariesForJit?this._createOutputContext(vP(t,!0)):null,l=function(t,e,n,r,i,o){var s=new RF(r,n,t);i.forEach(function(t){return s.addSummary({symbol:t.symbol,metadata:t.metadata})}),o.forEach(function(t){var e=t.summary;t.metadata,s.addSummary({symbol:e.type.reference,metadata:void 0,type:e})});var a=s.serialize(),u=a.json,c=a.exportAs;if(e){var l=new FF(e,r,n);o.forEach(function(t){var e=t.summary,n=t.metadata;l.addSourceType(e,n)}),s.unprocessedSymbolSummariesBySymbol.forEach(function(t){n.isLibraryFile(t.symbol.filePath)&&t.type&&l.addLibType(t.type)}),l.serialize(c)}return{json:u,exportAs:c}}(t,c,this._summaryResolver,this._symbolResolver,a,u),p=l.json;l.exportAs.forEach(function(t){o.statements.push(Qk(t.exportAs).set(o.importExpr(t.symbol)).toDeclStmt(null,[ok.Exported]))});var f=[new xF(t,dP(t),p)];return c&&f.push(this._codegenSourceModule(t,c)),f},t.prototype._compileModule=function(t,e){var n=[];if(this._options.locale){var r=this._options.locale.replace(/_/g,"-");n.push({token:LN(this.reflector,RN.LOCALE_ID),useValue:r})}this._options.i18nFormat&&n.push({token:LN(this.reflector,RN.TRANSLATIONS_FORMAT),useValue:this._options.i18nFormat}),this._ngModuleCompiler.compile(t,e,n)},t.prototype._compileComponentFactory=function(t,e,n,r){var i=this._metadataResolver.getHostComponentMetadata(e),o=this._compileComponent(t,i,n,[e.type],null,r).viewClassVar,s=uT(e.type.reference),a=[];for(var u in e.inputs){var c=e.inputs[u];a.push(new Ek(u,eP(c),!1))}var l=[];for(var u in e.outputs){c=e.outputs[u];l.push(new Ek(u,eP(c),!1))}t.statements.push(Qk(s).set(Xk(RN.createComponentFactory).callFn([eP(e.selector),t.importExpr(e.type.reference),Qk(o),new Ck(a),new Ck(l),Jk(e.template.ngContentSelectors.map(function(t){return eP(t)}))])).toDeclStmt($k(RN.ComponentFactory,[Yk(t.importExpr(e.type.reference))],[ON.Const]),[ok.Final,ok.Exported]))},t.prototype._compileComponent=function(t,e,n,r,i,o){var s=this._parseTemplate(e,n,r),a=s.template,u=s.pipes,c=i?Qk(i.stylesVar):Jk([]),l=this._viewCompiler.compileComponent(t,e,a,c,u);return i&&BF(this._symbolResolver,i,this._styleCompiler.needsStyleShim(e),o),l},t.prototype._parseTemplate=function(t,e,n){var r=this;if(this._templateAstCache.has(t.type.reference))return this._templateAstCache.get(t.type.reference);var i=t.template.preserveWhitespaces,o=n.map(function(t){return r._metadataResolver.getDirectiveSummary(t.reference)}),s=e.transitiveModule.pipes.map(function(t){return r._metadataResolver.getPipeSummary(t.reference)}),a=this._templateParser.parse(t,t.template.htmlAst,o,s,e.schemas,_T(e.type,t,t.template),i);return this._templateAstCache.set(t.type.reference,a),a},t.prototype._createOutputContext=function(t){var e=this;return{statements:[],genFilePath:t,importExpr:function(n,r,i){if(void 0===r&&(r=null),void 0===i&&(i=!0),!(n instanceof Jx))throw new Error("Internal error: unknown identifier "+JSON.stringify(n));var o=e._symbolResolver.getTypeArity(n)||0,s=e._symbolResolver.getImportAs(n,i)||n,a=s.filePath,u=s.name,c=s.members,l=e._fileNameToModuleName(a,t),h=l===e._fileNameToModuleName(t,t)?null:l,p=r||[],f=o-p.length,d=p.concat(new Array(f).fill(zN));return c.reduce(function(t,e){return t.prop(e)},Xk(new hk(h,u,null),d))},constantPool:new hR}},t.prototype._fileNameToModuleName=function(t,e){return this._summaryResolver.getKnownModuleName(t)||this._symbolResolver.getKnownModuleName(t)||this._host.fileNameToModuleName(t,e)},t.prototype._codegenStyles=function(t,e,n,r,i){var o=this._createOutputContext(UF(n.moduleUrl,r,i)),s=this._styleCompiler.compileStyles(o,e,n,r);return BF(this._symbolResolver,s,r,i),this._codegenSourceModule(t,o)},t.prototype._codegenSourceModule=function(t,e){return new xF(t,e.genFilePath,e.statements)},t.prototype.listLazyRoutes=function(t,e){var n,r,i,o,s=this;if(t)return function t(e,n,r){void 0===n&&(n=new Set);void 0===r&&(r=[]);var i,o;if(n.has(e)||!e.name)return r;n.add(e);var a=TF(s._metadataResolver.getNgModuleMetadata(e,!0),s.reflector);try{for(var u=c(a),l=u.next();!l.done;l=u.next()){var h=l.value;r.push(h),t(h.referencedModule,n,r)}}catch(t){i={error:t}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}return r}(DF(t,this.reflector).referencedModule);if(e){var a=[];try{for(var u=c(e.ngModules),l=u.next();!l.done;l=u.next()){var h=TF(l.value,this.reflector);try{for(var p=c(h),f=p.next();!f.done;f=p.next()){var d=f.value;a.push(d)}}catch(t){i={error:t}}finally{try{f&&!f.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}}}catch(t){n={error:t}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return a}throw new Error("Either route or analyzedModules has to be specified!")}}();function VF(t){t.statements.push(Xk(RN.ComponentFactory).toStmt())}function BF(t,e,n,r){e.dependencies.forEach(function(e){e.setValue(t.getStaticSymbol(UF(e.moduleUrl,n,r),e.name))})}function UF(t,e,n){return t+(e?".shim":"")+".ngstyle"+n}function qF(t,e,n,r){return KF(function(t,e,n,r){var i=new Set,o=[],s=function(t){if(i.has(t)||!e.isSourceFile(t))return!1;i.add(t);var a=zF(e,n,r,t);o.push(a),a.ngModules.forEach(function(t){t.transitiveModule.modules.forEach(function(t){return s(t.reference.filePath)})})};return t.forEach(function(t){return s(t)}),o}(t,e,n,r))}function HF(t,e,n,r){return WF(qF(t,e,n,r))}function WF(t){if(t.symbolsMissingModule&&t.symbolsMissingModule.length)throw Sx(t.symbolsMissingModule.map(function(t){return"Cannot determine the module for class "+t.name+" in "+t.filePath+"! Add "+t.name+" to the NgModule to fix it."}).join("\n"));return t}function zF(t,e,n,r){var i=[],o=[],s=[],a=[],u=e.hasDecorators(r),c=!1;return r.endsWith(".d.ts")&&!u||e.getSymbolsOf(r).forEach(function(r){var u=e.resolveSymbol(r).metadata;if(u&&"error"!==u.__symbolic){var l=!1;if("class"===u.__symbolic)if(n.isDirective(r))l=!0,i.push(r);else if(n.isPipe(r))l=!0,o.push(r);else if(n.isNgModule(r)){var h=n.getNgModuleMetadata(r,!1);h&&(l=!0,a.push(h))}else if(n.isInjectable(r)){l=!0;var p=n.getInjectableMetadata(r,null,!1);p&&s.push(p)}l||(c=c||function(t,e){var n=!1,r=function(){function e(){}return e.prototype.visitArray=function(t,e){var n=this;t.forEach(function(t){return mx(t,n,e)})},e.prototype.visitStringMap=function(t,e){var n=this;Object.keys(t).forEach(function(r){return mx(t[r],n,e)})},e.prototype.visitPrimitive=function(t,e){},e.prototype.visitOther=function(e,r){e instanceof Jx&&!t.isSourceFile(e.filePath)&&(n=!0)},e}();return mx(e,new r,null),n}(t,u))}}),{fileName:r,directives:i,pipes:o,ngModules:a,injectables:s,exportsNonSourceFiles:c}}function KF(t){var e=[],n=new Map,r=new Set;t.forEach(function(t){t.ngModules.forEach(function(t){e.push(t),t.declaredDirectives.forEach(function(e){return n.set(e.reference,t)}),t.declaredPipes.forEach(function(e){return n.set(e.reference,t)})}),t.directives.forEach(function(t){return r.add(t)}),t.pipes.forEach(function(t){return r.add(t)})});var i=[];return r.forEach(function(t){n.has(t)||i.push(t)}),{ngModules:e,ngModuleByPipeOrDirective:n,symbolsMissingModule:i,files:t}}function GF(t){return WF(KF(t))}var QF="ngFormattedMessage";function XF(t,e){if(void 0===e&&(e=0),!t)return"";var n=t.position?t.position.fileName+"("+(t.position.line+1)+","+(t.position.column+1)+")":"",r=n&&0!==e?" at "+n:"",i=""+(n&&0===e?n+": ":"")+t.message+r;return""+function t(e){if(e<=0)return"";if(e<6)return[""," ","  ","   ","    ","     "][e];var n=t(Math.floor(e/2));return n+n+(e%2==1?" ":"")}(e)+i+(t.next&&"\n"+XF(t.next,e+2)||"")}var $F="@angular/core",YF=/^\$.*\$$/,JF={__symbolic:"ignore"},ZF="useValue",tL="provide",eL=new Set([ZF,"useFactory","data","id","loadChildren"]);function nL(t){return t&&"ignore"==t.__symbolic}var rL=function(){function t(t,e,n,r,i){void 0===n&&(n=[]),void 0===r&&(r=[]);var o=this;this.summaryResolver=t,this.symbolResolver=e,this.errorRecorder=i,this.annotationCache=new Map,this.shallowAnnotationCache=new Map,this.propertyCache=new Map,this.parameterCache=new Map,this.methodCache=new Map,this.staticCache=new Map,this.conversionMap=new Map,this.resolvedExternalReferences=new Map,this.annotationForParentClassWithSummaryKind=new Map,this.initializeConversionMap(),n.forEach(function(t){return o._registerDecoratorOrConstructor(o.getStaticSymbol(t.filePath,t.name),t.ctor)}),r.forEach(function(t){return o._registerFunction(o.getStaticSymbol(t.filePath,t.name),t.fn)}),this.annotationForParentClassWithSummaryKind.set(nT.Directive,[KS,XS]),this.annotationForParentClassWithSummaryKind.set(nT.Pipe,[$S]),this.annotationForParentClassWithSummaryKind.set(nT.NgModule,[ex]),this.annotationForParentClassWithSummaryKind.set(nT.Injectable,[nx,$S,KS,XS,ex])}return t.prototype.componentModuleUrl=function(t){var e=this.findSymbolDeclaration(t);return this.symbolResolver.getResourcePath(e)},t.prototype.resolveExternalReference=function(t,e){var n=void 0;if(!e){n=t.moduleName+":"+t.name;var r=this.resolvedExternalReferences.get(n);if(r)return r}var i=this.symbolResolver.getSymbolByModule(t.moduleName,t.name,e),o=this.findSymbolDeclaration(i);return e||(this.symbolResolver.recordModuleNameForFileName(i.filePath,t.moduleName),this.symbolResolver.recordImportAs(o,i)),n&&this.resolvedExternalReferences.set(n,o),o},t.prototype.findDeclaration=function(t,e,n){return this.findSymbolDeclaration(this.symbolResolver.getSymbolByModule(t,e,n))},t.prototype.tryFindDeclaration=function(t,e,n){var r=this;return this.symbolResolver.ignoreErrorsFor(function(){return r.findDeclaration(t,e,n)})},t.prototype.findSymbolDeclaration=function(t){var e=this.symbolResolver.resolveSymbol(t);if(e){var n=e.metadata;if(n&&"resolved"===n.__symbolic&&(n=n.symbol),n instanceof Jx)return this.findSymbolDeclaration(e.metadata)}return t},t.prototype.tryAnnotations=function(t){var e=this.errorRecorder;this.errorRecorder=function(t,e){};try{return this.annotations(t)}finally{this.errorRecorder=e}},t.prototype.annotations=function(t){var e=this;return this._annotations(t,function(t,n){return e.simplify(t,n)},this.annotationCache)},t.prototype.shallowAnnotations=function(t){var e=this;return this._annotations(t,function(t,n){return e.simplify(t,n,!0)},this.shallowAnnotationCache)},t.prototype._annotations=function(t,e,n){var r=n.get(t);if(!r){r=[];var i=this.getTypeMetadata(t),o=this.findParentType(t,i);if(o){var s=this.annotations(o);r.push.apply(r,h(s))}var a=[];if(i.decorators&&(a=e(t,i.decorators))&&r.push.apply(r,h(a)),o&&!this.summaryResolver.isLibraryFile(t.filePath)&&this.summaryResolver.isLibraryFile(o.filePath)){var u=this.summaryResolver.resolveSummary(o);if(u&&u.type){var c=this.annotationForParentClassWithSummaryKind.get(u.type.summaryKind);c.some(function(t){return a.some(function(e){return t.isTypeOf(e)})})||this.reportError(gL(oL("Class "+t.name+" in "+t.filePath+" extends from a "+nT[u.type.summaryKind]+" in another compilation unit without duplicating the decorator",void 0,"Please add a "+c.map(function(t){return t.ngMetadataName}).join(" or ")+" decorator to the class"),t),t)}}n.set(t,r.filter(function(t){return!!t}))}return r},t.prototype.propMetadata=function(t){var e=this,n=this.propertyCache.get(t);if(!n){var r=this.getTypeMetadata(t);n={};var i=this.findParentType(t,r);if(i){var o=this.propMetadata(i);Object.keys(o).forEach(function(t){n[t]=o[t]})}var s=r.members||{};Object.keys(s).forEach(function(r){var i=s[r].find(function(t){return"property"==t.__symbolic||"method"==t.__symbolic}),o=[];n[r]&&o.push.apply(o,h(n[r])),n[r]=o,i&&i.decorators&&o.push.apply(o,h(e.simplify(t,i.decorators)))}),this.propertyCache.set(t,n)}return n},t.prototype.parameters=function(t){var e=this;if(!(t instanceof Jx))return this.reportError(new Error("parameters received "+JSON.stringify(t)+" which is not a StaticSymbol"),t),[];try{var n=this.parameterCache.get(t);if(!n){var r=this.getTypeMetadata(t),i=this.findParentType(t,r),o=r?r.members:null,s=o?o.__ctor__:null;if(s){var a=s.find(function(t){return"constructor"==t.__symbolic}),u=a.parameters||[],c=this.simplify(t,a.parameterDecorators||[]);n=[],u.forEach(function(r,i){var o=[],s=e.trySimplify(t,r);s&&o.push(s);var a=c?c[i]:null;a&&o.push.apply(o,h(a)),n.push(o)})}else i&&(n=this.parameters(i));n||(n=[]),this.parameterCache.set(t,n)}return n}catch(e){throw console.error("Failed on type "+JSON.stringify(t)+" with error "+e),e}},t.prototype._methodNames=function(t){var e=this.methodCache.get(t);if(!e){var n=this.getTypeMetadata(t);e={};var r=this.findParentType(t,n);if(r){var i=this._methodNames(r);Object.keys(i).forEach(function(t){e[t]=i[t]})}var o=n.members||{};Object.keys(o).forEach(function(t){var n=o[t].some(function(t){return"method"==t.__symbolic});e[t]=e[t]||n}),this.methodCache.set(t,e)}return e},t.prototype._staticMembers=function(t){var e=this.staticCache.get(t);if(!e){var n=this.getTypeMetadata(t).statics||{};e=Object.keys(n),this.staticCache.set(t,e)}return e},t.prototype.findParentType=function(t,e){var n=this.trySimplify(t,e.extends);if(n instanceof Jx)return n},t.prototype.hasLifecycleHook=function(t,e){t instanceof Jx||this.reportError(new Error("hasLifecycleHook received "+JSON.stringify(t)+" which is not a StaticSymbol"),t);try{return!!this._methodNames(t)[e]}catch(e){throw console.error("Failed on type "+JSON.stringify(t)+" with error "+e),e}},t.prototype.guards=function(t){var e,n;if(!(t instanceof Jx))return this.reportError(new Error("guards received "+JSON.stringify(t)+" which is not a StaticSymbol"),t),{};var r=this._staticMembers(t),i={};try{for(var o=c(r),s=o.next();!s.done;s=o.next()){var a=s.value;if(a.endsWith("TypeGuard")){var u=a.substr(0,a.length-"TypeGuard".length),l=void 0;u.endsWith("UseIf")?(u=a.substr(0,u.length-"UseIf".length),l="UseIf"):l=this.getStaticSymbol(t.filePath,t.name,[a]),i[u]=l}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i},t.prototype._registerDecoratorOrConstructor=function(t,e){this.conversionMap.set(t,function(t,n){return new(e.bind.apply(e,h([void 0],n)))})},t.prototype._registerFunction=function(t,e){this.conversionMap.set(t,function(t,n){return e.apply(void 0,n)})},t.prototype.initializeConversionMap=function(){this._registerDecoratorOrConstructor(this.findDeclaration($F,"Injectable"),nx),this.injectionToken=this.findDeclaration($F,"InjectionToken"),this.opaqueToken=this.findDeclaration($F,"OpaqueToken"),this.ROUTES=this.tryFindDeclaration("@angular/router","ROUTES"),this.ANALYZE_FOR_ENTRY_COMPONENTS=this.findDeclaration($F,"ANALYZE_FOR_ENTRY_COMPONENTS"),this._registerDecoratorOrConstructor(this.findDeclaration($F,"Host"),ux),this._registerDecoratorOrConstructor(this.findDeclaration($F,"Self"),sx),this._registerDecoratorOrConstructor(this.findDeclaration($F,"SkipSelf"),ax),this._registerDecoratorOrConstructor(this.findDeclaration($F,"Inject"),VS),this._registerDecoratorOrConstructor(this.findDeclaration($F,"Optional"),ox),this._registerDecoratorOrConstructor(this.findDeclaration($F,"Attribute"),US),this._registerDecoratorOrConstructor(this.findDeclaration($F,"ContentChild"),HS),this._registerDecoratorOrConstructor(this.findDeclaration($F,"ContentChildren"),qS),this._registerDecoratorOrConstructor(this.findDeclaration($F,"ViewChild"),zS),this._registerDecoratorOrConstructor(this.findDeclaration($F,"ViewChildren"),WS),this._registerDecoratorOrConstructor(this.findDeclaration($F,"Input"),YS),this._registerDecoratorOrConstructor(this.findDeclaration($F,"Output"),JS),this._registerDecoratorOrConstructor(this.findDeclaration($F,"Pipe"),$S),this._registerDecoratorOrConstructor(this.findDeclaration($F,"HostBinding"),ZS),this._registerDecoratorOrConstructor(this.findDeclaration($F,"HostListener"),tx),this._registerDecoratorOrConstructor(this.findDeclaration($F,"Directive"),KS),this._registerDecoratorOrConstructor(this.findDeclaration($F,"Component"),XS),this._registerDecoratorOrConstructor(this.findDeclaration($F,"NgModule"),ex),this._registerDecoratorOrConstructor(this.findDeclaration($F,"Host"),ux),this._registerDecoratorOrConstructor(this.findDeclaration($F,"Self"),sx),this._registerDecoratorOrConstructor(this.findDeclaration($F,"SkipSelf"),ax),this._registerDecoratorOrConstructor(this.findDeclaration($F,"Optional"),ox)},t.prototype.getStaticSymbol=function(t,e,n){return this.symbolResolver.getStaticSymbol(t,e,n)},t.prototype.trySimplify=function(t,e){var n=this.errorRecorder;this.errorRecorder=function(t,e){};var r=this.simplify(t,e);return this.errorRecorder=n,r},t.prototype.simplify=function(t,e,n){void 0===n&&(n=!1);var r,i=this,o=vL.empty,s=new Map;try{r=function t(e,n,r,a){function u(t){var e=i.symbolResolver.resolveSymbol(t);return e?e.metadata:null}function l(n){return t(e,n,r,0)}function p(n,o){if(n===e)return t(n,o,r+1,a);try{return t(n,o,r+1,a)}catch(t){if(!sL(t))throw t;var s=t.chain?"references '"+t.symbol.name+"'":function(t){if(t.summary)return t.summary;switch(t.message){case aL:if(t.context&&t.context.className)return"references non-exported class "+t.context.className;break;case uL:return"is not initialized";case cL:return"is a destructured variable";case lL:return"could not be resolved";case hL:return t.context&&t.context.name?"calls '"+t.context.name+"'":"calls a function";case pL:return t.context&&t.context.name?"references local variable "+t.context.name:"references a local variable"}return"contains the error"}(t),u={message:"'"+n.name+"' "+s,position:t.position,next:t.chain};i.error({message:t.message,advise:t.advise,context:t.context,chain:u,symbol:n},e)}}function f(n){var d,v,m,y;if(dL(n))return n;if(n instanceof Array){var g=[];try{for(var b=c(n),w=b.next();!w.done;w=b.next()){var _=w.value;if(_&&"spread"===_.__symbolic){var E=l(_.expression);if(Array.isArray(E)){try{for(var C=c(E),S=C.next();!S.done;S=C.next()){var x=S.value;g.push(x)}}catch(t){m={error:t}}finally{try{S&&!S.done&&(y=C.return)&&y.call(C)}finally{if(m)throw m.error}}continue}}var T=f(_);nL(T)||g.push(T)}}catch(t){d={error:t}}finally{try{w&&!w.done&&(v=b.return)&&v.call(b)}finally{if(d)throw d.error}}return g}if(n instanceof Jx)return n===i.injectionToken||i.conversionMap.has(n)||a>0&&!n.members.length?n:null!=(F=u(A=n))?p(A,F):A;if(n){if(n.__symbolic){var A=void 0;switch(n.__symbolic){case"binop":var D=f(n.left);if(nL(D))return D;var I=f(n.right);if(nL(I))return I;switch(n.operator){case"&&":return D&&I;case"||":return D||I;case"|":return D|I;case"^":return D^I;case"&":return D&I;case"==":return D==I;case"!=":return D!=I;case"===":return D===I;case"!==":return D!==I;case"<":return D<I;case">":return D>I;case"<=":return D<=I;case">=":return D>=I;case"<<":return D<<I;case">>":return D>>I;case"+":return D+I;case"-":return D-I;case"*":return D*I;case"/":return D/I;case"%":return D%I}return null;case"if":return f(f(n.condition)?n.thenExpression:n.elseExpression);case"pre":var N=f(n.operand);if(nL(N))return N;switch(n.operator){case"+":return N;case"-":return-N;case"!":return!N;case"~":return~N}return null;case"index":var k=l(n.expression),P=l(n.index);return k&&dL(P)?k[P]:null;case"select":var O=n.member,M=e,R=f(n.expression);if(R instanceof Jx){var F,L=R.members.concat(O);return null!=(F=u(M=i.getStaticSymbol(R.filePath,R.name,L)))?p(M,F):M}return R&&dL(O)?p(M,R[O]):null;case"reference":var j=n.name,V=o.resolve(j);if(V!=vL.missing)return V;break;case"resolved":try{return f(n.symbol)}catch(t){throw sL(t)&&null!=n.fileName&&null!=n.line&&null!=n.character&&(t.position={fileName:n.fileName,line:n.line,column:n.character}),t}case"class":case"function":return e;case"new":case"call":if((A=t(e,n.expression,r+1,0))instanceof Jx){if(A===i.injectionToken||A===i.opaqueToken)return e;var B=n.arguments||[],U=i.conversionMap.get(A);if(U){var q=B.map(function(t){return p(e,t)}).map(function(t){return nL(t)?void 0:t});return U(e,q)}return function(t,n,a,u){if(n&&"function"==n.__symbolic){s.get(t)&&i.error({message:"Recursion is not supported",summary:"called '"+t.name+"' recursively",value:n},t);try{var c=n.value;if(c&&(0!=r||"error"!=c.__symbolic)){var l=n.parameters,d=n.defaults;a=a.map(function(t){return p(e,t)}).map(function(t){return nL(t)?void 0:t}),d&&d.length>a.length&&a.push.apply(a,h(d.slice(a.length).map(function(t){return f(t)}))),s.set(t,!0);for(var v=vL.build(),m=0;m<l.length;m++)v.define(l[m],a[m]);var y,g=o;try{o=v.done(),y=p(t,c)}finally{o=g}return y}}finally{s.delete(t)}}if(0===r)return JF;var b=void 0;if(u&&"resolved"==u.__symbolic){var w=u.line,_=u.character,E=u.fileName;null!=E&&null!=w&&null!=_&&(b={fileName:E,line:w,column:_})}i.error({message:hL,context:t,value:n,position:b},e)}(A,u(A),B,n.expression)}return JF;case"error":var H=n.message;return null!=n.line?i.error({message:H,context:n.context,value:n,position:{fileName:n.fileName,line:n.line,column:n.character}},e):i.error({message:H,context:n.context},e),JF;case"ignore":return n}return null}return function(t,e){if(!t)return{};var n={};return Object.keys(t).forEach(function(r){var i=e(t[r],r);nL(i)||(YF.test(r)?Object.defineProperty(n,r,{enumerable:!1,configurable:!0,value:i}):n[r]=i)}),n}(n,function(o,s){if(eL.has(s)){if(s===ZF&&tL in n){var u=f(n.provide);if(u===i.ROUTES||u==i.ANALYZE_FOR_ENTRY_COMPONENTS)return f(o)}return function(n){return t(e,n,r,a+1)}(o)}return f(o)})}return JF}return f(n)}(t,e,0,n?1:0)}catch(e){if(!this.errorRecorder)throw gL(e,t);this.reportError(e,t)}if(!nL(r))return r},t.prototype.getTypeMetadata=function(t){var e=this.symbolResolver.resolveSymbol(t);return e&&e.metadata?e.metadata:{__symbolic:"class"}},t.prototype.reportError=function(t,e,n){if(!this.errorRecorder)throw t;this.errorRecorder(gL(t,e),e&&e.filePath||n)},t.prototype.error=function(t,e){var n=t.message,r=t.summary,i=t.advise,o=t.position,s=t.context,a=(t.value,t.symbol),u=t.chain;this.reportError(oL(n,r,i,o,a,s,u),e)},t}(),iL="ngMetadataError";function oL(t,e,n,r,i,o,s){var a=Sx(t);return a[iL]=!0,n&&(a.advise=n),r&&(a.position=r),e&&(a.summary=e),o&&(a.context=o),s&&(a.chain=s),i&&(a.symbol=i),a}function sL(t){return!!t[iL]}var aL="Reference to non-exported class",uL="Variable not initialized",cL="Destructuring not supported",lL="Could not resolve type",hL="Function call not supported",pL="Reference to a local symbol",fL="Lambda not supported";function dL(t){return null===t||"function"!=typeof t&&"object"!=typeof t}var vL=function(){function t(){}return t.build=function(){var e=new Map;return{define:function(t,n){return e.set(t,n),this},done:function(){return e.size>0?new mL(e):t.empty}}},t.missing={},t.empty={resolve:function(e){return t.missing}},t}(),mL=function(t){function e(e){var n=t.call(this)||this;return n.bindings=e,n}return i(e,t),e.prototype.resolve=function(t){return this.bindings.has(t)?this.bindings.get(t):vL.missing},e}(vL);function yL(t,e){return{message:""+function(t,e){switch(t){case aL:if(e&&e.className)return"References to a non-exported class are not supported in decorators but "+e.className+" was referenced.";break;case uL:return"Only initialized variables and constants can be referenced in decorators because the value of this variable is needed by the template compiler";case cL:return"Referencing an exported destructured variable or constant is not supported in decorators and this value is needed by the template compiler";case lL:if(e&&e.typeName)return"Could not resolve type "+e.typeName;break;case hL:return e&&e.name?"Function calls are not supported in decorators but '"+e.name+"' was called":"Function calls are not supported in decorators";case pL:if(e&&e.name)return"Reference to a local (non-exported) symbols are not supported in decorators but '"+e.name+"' was referenced";break;case fL:return"Function expressions are not supported in decorators"}return t}(t.message,t.context)+(t.symbol?" in '"+t.symbol.name+"'":""),position:t.position,next:t.next?yL(t.next,e):e?{message:e}:void 0}}function gL(t,e){if(sL(t)){var n=t.position;return function(t){var e=Sx(XF(t)+".");return e[QF]=!0,e.chain=t,e.position=t.position,e}(yL({message:"Error during template compile of '"+e.name+"'",position:n,next:{message:t.message,next:t.chain,context:t.context,symbol:t.symbol}},t.advise||function(t,e){switch(t){case aL:if(e&&e.className)return"Consider exporting '"+e.className+"'";break;case cL:return"Consider simplifying to avoid destructuring";case pL:if(e&&e.name)return"Consider exporting '"+e.name+"'";break;case fL:return"Consider changing the function expression into an exported function"}}(t.message,t.context)))}return t}var bL=function(){function t(t,e){this.host=t,this.staticSymbolCache=e,this.summaryCache=new Map,this.loadedFilePaths=new Map,this.importAs=new Map,this.knownFileNameToModuleNames=new Map}return t.prototype.isLibraryFile=function(t){return!this.host.isSourceFile(hP(t))},t.prototype.toSummaryFileName=function(t,e){return this.host.toSummaryFileName(t,e)},t.prototype.fromSummaryFileName=function(t,e){return this.host.fromSummaryFileName(t,e)},t.prototype.resolveSummary=function(t){var e=t.members.length?this.staticSymbolCache.get(t.filePath,t.name):t,n=this.summaryCache.get(e);return n||(this._loadSummaryFile(t.filePath),n=this.summaryCache.get(t)),e===t&&n||null},t.prototype.getSymbolsOf=function(t){return this._loadSummaryFile(t)?Array.from(this.summaryCache.keys()).filter(function(e){return e.filePath===t}):null},t.prototype.getImportAs=function(t){return t.assertNoMembers(),this.importAs.get(t)},t.prototype.getKnownModuleName=function(t){return this.knownFileNameToModuleNames.get(t)||null},t.prototype.addSummary=function(t){this.summaryCache.set(t.symbol,t)},t.prototype._loadSummaryFile=function(t){var e=this,n=this.loadedFilePaths.get(t);if(null!=n)return n;var r=null;if(this.isLibraryFile(t)){var i=dP(t);try{r=this.host.loadSummary(i)}catch(t){throw console.error("Error loading summary file "+i),t}}if(n=null!=r,this.loadedFilePaths.set(t,n),r){var o=function(t,e,n,r){return new LF(t,e).deserialize(n,r)}(this.staticSymbolCache,this,t,r),s=o.moduleName,a=o.summaries,u=o.importAs;a.forEach(function(t){return e.summaryCache.set(t.symbol,t)}),s&&this.knownFileNameToModuleNames.set(t,s),u.forEach(function(t){e.importAs.set(t.symbol,t.importAs)})}return n},t}();function wL(t){return{resolve:function(e,n){var r=t.resourceNameToFileName(n,e);if(!r)throw Sx("Couldn't resolve resource "+n+" from "+e);return r}}}var _L=function(){return function(){}}(),EL=function(){function t(){this._summaries=new Map}return t.prototype.isLibraryFile=function(){return!1},t.prototype.toSummaryFileName=function(t){return t},t.prototype.fromSummaryFileName=function(t){return t},t.prototype.resolveSummary=function(t){return this._summaries.get(t)||null},t.prototype.getSymbolsOf=function(){return[]},t.prototype.getImportAs=function(t){return t},t.prototype.getKnownModuleName=function(t){return null},t.prototype.addSummary=function(t){this._summaries.set(t.symbol,t)},t}();function CL(t,e,n,r,i){for(var o=r.createChildWihtLocalVars(),s=0;s<t.length;s++)o.vars.set(t[s],e[s]);var a=i.visitAllStatements(n,o);return a?a.value:null}var SL=function(){function t(t,e,n,r){this.parent=t,this.instance=e,this.className=n,this.vars=r,this.exports=[]}return t.prototype.createChildWihtLocalVars=function(){return new t(this,this.instance,this.className,new Map)},t}(),xL=function(){return function(t){this.value=t}}();var TL=function(){function t(t){this.reflector=t}return t.prototype.debugAst=function(t){return function(t){var e=new sO,n=eO.createRoot();return(Array.isArray(t)?t:[t]).forEach(function(t){if(t instanceof Ak)t.visitStatement(e,n);else if(t instanceof JN)t.visitExpression(e,n);else{if(!(t instanceof VN))throw new Error("Don't know how to print debug info for "+t);t.visitType(e,n)}}),n.toSource()}(t)},t.prototype.visitDeclareVarStmt=function(t,e){var n=t.value?t.value.visitExpression(this,e):void 0;return e.vars.set(t.name,n),t.hasModifier(ok.Exported)&&e.exports.push(t.name),null},t.prototype.visitWriteVarExpr=function(t,e){for(var n=t.value.visitExpression(this,e),r=e;null!=r;){if(r.vars.has(t.name))return r.vars.set(t.name,n),n;r=r.parent}throw new Error("Not declared variable "+t.name)},t.prototype.visitWrappedNodeExpr=function(t,e){throw new Error("Cannot interpret a WrappedNodeExpr.")},t.prototype.visitTypeofExpr=function(t,e){throw new Error("Cannot interpret a TypeofExpr")},t.prototype.visitReadVarExpr=function(t,e){var n=t.name;if(null!=t.builtin)switch(t.builtin){case YN.Super:return e.instance.__proto__;case YN.This:return e.instance;case YN.CatchError:n=DL;break;case YN.CatchStack:n=IL;break;default:throw new Error("Unknown builtin variable "+t.builtin)}for(var r=e;null!=r;){if(r.vars.has(n))return r.vars.get(n);r=r.parent}throw new Error("Not declared variable "+n)},t.prototype.visitWriteKeyExpr=function(t,e){var n=t.receiver.visitExpression(this,e),r=t.index.visitExpression(this,e),i=t.value.visitExpression(this,e);return n[r]=i,i},t.prototype.visitWritePropExpr=function(t,e){var n=t.receiver.visitExpression(this,e),r=t.value.visitExpression(this,e);return n[t.name]=r,r},t.prototype.visitInvokeMethodExpr=function(t,e){var n,r=t.receiver.visitExpression(this,e),i=this.visitAllExpressions(t.args,e);if(null!=t.builtin)switch(t.builtin){case ZN.ConcatArray:n=r.concat.apply(r,h(i));break;case ZN.SubscribeObservable:n=r.subscribe({next:i[0]});break;case ZN.Bind:n=r.bind.apply(r,h(i));break;default:throw new Error("Unknown builtin method "+t.builtin)}else n=r[t.name].apply(r,i);return n},t.prototype.visitInvokeFunctionExpr=function(t,e){var n=this.visitAllExpressions(t.args,e),r=t.fn;return r instanceof tk&&r.builtin===YN.Super?(e.instance.constructor.prototype.constructor.apply(e.instance,n),null):t.fn.visitExpression(this,e).apply(null,n)},t.prototype.visitReturnStmt=function(t,e){return new xL(t.value.visitExpression(this,e))},t.prototype.visitDeclareClassStmt=function(t,e){var n=function(t,e,n){var r={};t.getters.forEach(function(i){r[i.name]={configurable:!1,get:function(){var r=new SL(e,this,t.name,e.vars);return CL([],[],i.body,r,n)}}}),t.methods.forEach(function(i){var o=i.params.map(function(t){return t.name});r[i.name]={writable:!1,configurable:!1,value:function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];var a=new SL(e,this,t.name,e.vars);return CL(o,r,i.body,a,n)}}});var i=t.constructorMethod.params.map(function(t){return t.name}),o=function(){for(var r=this,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var a=new SL(e,this,t.name,e.vars);t.fields.forEach(function(t){r[t.name]=void 0}),CL(i,o,t.constructorMethod.body,a,n)},s=t.parent?t.parent.visitExpression(n,e):Object;return o.prototype=Object.create(s.prototype,r),o}(t,e,this);return e.vars.set(t.name,n),t.hasModifier(ok.Exported)&&e.exports.push(t.name),null},t.prototype.visitExpressionStmt=function(t,e){return t.expr.visitExpression(this,e)},t.prototype.visitIfStmt=function(t,e){return t.condition.visitExpression(this,e)?this.visitAllStatements(t.trueCase,e):null!=t.falseCase?this.visitAllStatements(t.falseCase,e):null},t.prototype.visitTryCatchStmt=function(t,e){try{return this.visitAllStatements(t.bodyStmts,e)}catch(r){var n=e.createChildWihtLocalVars();return n.vars.set(DL,r),n.vars.set(IL,r.stack),this.visitAllStatements(t.catchStmts,n)}},t.prototype.visitThrowStmt=function(t,e){throw t.error.visitExpression(this,e)},t.prototype.visitCommentStmt=function(t,e){return null},t.prototype.visitJSDocCommentStmt=function(t,e){return null},t.prototype.visitInstantiateExpr=function(t,e){var n=this.visitAllExpressions(t.args,e),r=t.classExpr.visitExpression(this,e);return new(r.bind.apply(r,h([void 0],n)))},t.prototype.visitLiteralExpr=function(t,e){return t.value},t.prototype.visitExternalExpr=function(t,e){return this.reflector.resolveExternalReference(t.value)},t.prototype.visitConditionalExpr=function(t,e){return t.condition.visitExpression(this,e)?t.trueCase.visitExpression(this,e):null!=t.falseCase?t.falseCase.visitExpression(this,e):null},t.prototype.visitNotExpr=function(t,e){return!t.condition.visitExpression(this,e)},t.prototype.visitAssertNotNullExpr=function(t,e){return t.condition.visitExpression(this,e)},t.prototype.visitCastExpr=function(t,e){return t.value.visitExpression(this,e)},t.prototype.visitFunctionExpr=function(t,e){return AL(t.params.map(function(t){return t.name}),t.statements,e,this)},t.prototype.visitDeclareFunctionStmt=function(t,e){var n=t.params.map(function(t){return t.name});return e.vars.set(t.name,AL(n,t.statements,e,this)),t.hasModifier(ok.Exported)&&e.exports.push(t.name),null},t.prototype.visitBinaryOperatorExpr=function(t,e){var n=this,r=function(){return t.lhs.visitExpression(n,e)},i=function(){return t.rhs.visitExpression(n,e)};switch(t.operator){case BN.Equals:return r()==i();case BN.Identical:return r()===i();case BN.NotEquals:return r()!=i();case BN.NotIdentical:return r()!==i();case BN.And:return r()&&i();case BN.Or:return r()||i();case BN.Plus:return r()+i();case BN.Minus:return r()-i();case BN.Divide:return r()/i();case BN.Multiply:return r()*i();case BN.Modulo:return r()%i();case BN.Lower:return r()<i();case BN.LowerEquals:return r()<=i();case BN.Bigger:return r()>i();case BN.BiggerEquals:return r()>=i();default:throw new Error("Unknown operator "+t.operator)}},t.prototype.visitReadPropExpr=function(t,e){return t.receiver.visitExpression(this,e)[t.name]},t.prototype.visitReadKeyExpr=function(t,e){return t.receiver.visitExpression(this,e)[t.index.visitExpression(this,e)]},t.prototype.visitLiteralArrayExpr=function(t,e){return this.visitAllExpressions(t.entries,e)},t.prototype.visitLiteralMapExpr=function(t,e){var n=this,r={};return t.entries.forEach(function(t){return r[t.key]=t.value.visitExpression(n,e)}),r},t.prototype.visitCommaExpr=function(t,e){var n=this.visitAllExpressions(t.parts,e);return n[n.length-1]},t.prototype.visitAllExpressions=function(t,e){var n=this;return t.map(function(t){return t.visitExpression(n,e)})},t.prototype.visitAllStatements=function(t,e){for(var n=0;n<t.length;n++){var r=t[n].visitStatement(this,e);if(r instanceof xL)return r}return null},t}();function AL(t,e,n,r){return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return CL(t,i,e,n,r)}}var DL="error",IL="stack";function NL(t,e,n,r){var i=new kL(n),o=eO.createRoot();return i.visitAllStatements(e,o),i.createReturnStmt(o),function(t,e,n,r){var i=e.toSource()+"\n//# sourceURL="+t,o=[],s=[];for(var a in n)o.push(a),s.push(n[a]);if(r){var u=(new(Function.bind.apply(Function,h([void 0],o.concat("return null;"))))).toString(),c=u.slice(0,u.indexOf("return null;")).split("\n").length-1;i+="\n"+e.toSourceMapGenerator(t,c).toJsComment()}return(new(Function.bind.apply(Function,h([void 0],o.concat(i))))).apply(void 0,h(s))}(t,o,i.getArgs(),r)}var kL=function(t){function e(e){var n=t.call(this)||this;return n.reflector=e,n._evalArgNames=[],n._evalArgValues=[],n._evalExportedVars=[],n}return i(e,t),e.prototype.createReturnStmt=function(t){new kk(new Ck(this._evalExportedVars.map(function(t){return new Ek(t,Qk(t),!1)}))).visitStatement(this,t)},e.prototype.getArgs=function(){for(var t={},e=0;e<this._evalArgNames.length;e++)t[this._evalArgNames[e]]=this._evalArgValues[e];return t},e.prototype.visitExternalExpr=function(t,e){return this._emitReferenceToExternal(t,this.reflector.resolveExternalReference(t.value),e),null},e.prototype.visitWrappedNodeExpr=function(t,e){return this._emitReferenceToExternal(t,t.node,e),null},e.prototype.visitDeclareVarStmt=function(e,n){return e.hasModifier(ok.Exported)&&this._evalExportedVars.push(e.name),t.prototype.visitDeclareVarStmt.call(this,e,n)},e.prototype.visitDeclareFunctionStmt=function(e,n){return e.hasModifier(ok.Exported)&&this._evalExportedVars.push(e.name),t.prototype.visitDeclareFunctionStmt.call(this,e,n)},e.prototype.visitDeclareClassStmt=function(e,n){return e.hasModifier(ok.Exported)&&this._evalExportedVars.push(e.name),t.prototype.visitDeclareClassStmt.call(this,e,n)},e.prototype._emitReferenceToExternal=function(t,e,n){var r=this._evalArgValues.indexOf(e);if(-1===r){r=this._evalArgValues.length,this._evalArgValues.push(e);var i=iT({reference:e})||"val";this._evalArgNames.push("jit_"+i+"_"+r)}n.print(t,this._evalArgNames[r])},e}(function(t){function e(){return t.call(this,!1)||this}return i(e,t),e.prototype.visitDeclareClassStmt=function(t,e){var n=this;return e.pushClass(t),this._visitClassConstructor(t,e),null!=t.parent&&(e.print(t,t.name+".prototype = Object.create("),t.parent.visitExpression(this,e),e.println(t,".prototype);")),t.getters.forEach(function(r){return n._visitClassGetter(t,r,e)}),t.methods.forEach(function(r){return n._visitClassMethod(t,r,e)}),e.popClass(),null},e.prototype._visitClassConstructor=function(t,e){e.print(t,"function "+t.name+"("),null!=t.constructorMethod&&this._visitParams(t.constructorMethod.params,e),e.println(t,") {"),e.incIndent(),null!=t.constructorMethod&&t.constructorMethod.body.length>0&&(e.println(t,"var self = this;"),this.visitAllStatements(t.constructorMethod.body,e)),e.decIndent(),e.println(t,"}")},e.prototype._visitClassGetter=function(t,e,n){n.println(t,"Object.defineProperty("+t.name+".prototype, '"+e.name+"', { get: function() {"),n.incIndent(),e.body.length>0&&(n.println(t,"var self = this;"),this.visitAllStatements(e.body,n)),n.decIndent(),n.println(t,"}});")},e.prototype._visitClassMethod=function(t,e,n){n.print(t,t.name+".prototype."+e.name+" = function("),this._visitParams(e.params,n),n.println(t,") {"),n.incIndent(),e.body.length>0&&(n.println(t,"var self = this;"),this.visitAllStatements(e.body,n)),n.decIndent(),n.println(t,"};")},e.prototype.visitWrappedNodeExpr=function(t,e){throw new Error("Cannot emit a WrappedNodeExpr in Javascript.")},e.prototype.visitReadVarExpr=function(e,n){if(e.builtin===YN.This)n.print(e,"self");else{if(e.builtin===YN.Super)throw new Error("'super' needs to be handled at a parent ast node, not at the variable level!");t.prototype.visitReadVarExpr.call(this,e,n)}return null},e.prototype.visitDeclareVarStmt=function(t,e){return e.print(t,"var "+t.name),t.value&&(e.print(t," = "),t.value.visitExpression(this,e)),e.println(t,";"),null},e.prototype.visitCastExpr=function(t,e){return t.value.visitExpression(this,e),null},e.prototype.visitInvokeFunctionExpr=function(e,n){var r=e.fn;return r instanceof tk&&r.builtin===YN.Super?(n.currentClass.parent.visitExpression(this,n),n.print(e,".call(this"),e.args.length>0&&(n.print(e,", "),this.visitAllExpressions(e.args,n,",")),n.print(e,")")):t.prototype.visitInvokeFunctionExpr.call(this,e,n),null},e.prototype.visitFunctionExpr=function(t,e){return e.print(t,"function"+(t.name?" "+t.name:"")+"("),this._visitParams(t.params,e),e.println(t,") {"),e.incIndent(),this.visitAllStatements(t.statements,e),e.decIndent(),e.print(t,"}"),null},e.prototype.visitDeclareFunctionStmt=function(t,e){return e.print(t,"function "+t.name+"("),this._visitParams(t.params,e),e.println(t,") {"),e.incIndent(),this.visitAllStatements(t.statements,e),e.decIndent(),e.println(t,"}"),null},e.prototype.visitTryCatchStmt=function(t,e){e.println(t,"try {"),e.incIndent(),this.visitAllStatements(t.bodyStmts,e),e.decIndent(),e.println(t,"} catch ("+JP.name+") {"),e.incIndent();var n=[ZP.set(JP.prop("stack")).toDeclStmt(null,[ok.Final])].concat(t.catchStmts);return this.visitAllStatements(n,e),e.decIndent(),e.println(t,"}"),null},e.prototype._visitParams=function(t,e){this.visitAllObjects(function(t){return e.print(null,t.name)},t,e,",")},e.prototype.getBuiltinMethodName=function(t){var e;switch(t){case ZN.ConcatArray:e="concat";break;case ZN.SubscribeObservable:e="subscribe";break;case ZN.Bind:e="bind";break;default:throw new Error("Unknown builtin method: "+t)}return e},e}(nO)),PL=function(){function t(t,e,n,r,i,o,s,a,u,c){this._metadataResolver=t,this._templateParser=e,this._styleCompiler=n,this._viewCompiler=r,this._ngModuleCompiler=i,this._summaryResolver=o,this._reflector=s,this._compilerConfig=a,this._console=u,this.getExtraNgModuleProviders=c,this._compiledTemplateCache=new Map,this._compiledHostTemplateCache=new Map,this._compiledDirectiveWrapperCache=new Map,this._compiledNgModuleCache=new Map,this._sharedStylesheetCount=0,this._addedAotSummaries=new Set}return t.prototype.compileModuleSync=function(t){return wx(this._compileModuleAndComponents(t,!0))},t.prototype.compileModuleAsync=function(t){return Promise.resolve(this._compileModuleAndComponents(t,!1))},t.prototype.compileModuleAndAllComponentsSync=function(t){return wx(this._compileModuleAndAllComponents(t,!0))},t.prototype.compileModuleAndAllComponentsAsync=function(t){return Promise.resolve(this._compileModuleAndAllComponents(t,!1))},t.prototype.getComponentFactory=function(t){return this._metadataResolver.getDirectiveSummary(t).componentFactory},t.prototype.loadAotSummaries=function(t){this.clearCache(),this._addAotSummaries(t)},t.prototype._addAotSummaries=function(t){if(!this._addedAotSummaries.has(t)){this._addedAotSummaries.add(t);for(var e=t(),n=0;n<e.length;n++){var r=e[n];if("function"==typeof r)this._addAotSummaries(r);else{var i=r;this._summaryResolver.addSummary({symbol:i.type.reference,metadata:null,type:i})}}}},t.prototype.hasAotSummary=function(t){return!!this._summaryResolver.resolveSummary(t)},t.prototype._filterJitIdentifiers=function(t){var e=this;return t.map(function(t){return t.reference}).filter(function(t){return!e.hasAotSummary(t)})},t.prototype._compileModuleAndComponents=function(t,e){var n=this;return _x(this._loadModules(t,e),function(){return n._compileComponents(t,null),n._compileModule(t)})},t.prototype._compileModuleAndAllComponents=function(t,e){var n=this;return _x(this._loadModules(t,e),function(){var e=[];return n._compileComponents(t,e),{ngModuleFactory:n._compileModule(t),componentFactories:e}})},t.prototype._loadModules=function(t,e){var n=this,r=[],i=this._metadataResolver.getNgModuleMetadata(t);return this._filterJitIdentifiers(i.transitiveModule.modules).forEach(function(t){var i=n._metadataResolver.getNgModuleMetadata(t);n._filterJitIdentifiers(i.declaredDirectives).forEach(function(t){var o=n._metadataResolver.loadDirectiveMetadata(i.type.reference,t,e);o&&r.push(o)}),n._filterJitIdentifiers(i.declaredPipes).forEach(function(t){return n._metadataResolver.getOrLoadPipeMetadata(t)})}),Ex(r)},t.prototype._compileModule=function(t){var e=this._compiledNgModuleCache.get(t);if(!e){var n=this._metadataResolver.getNgModuleMetadata(t),r=this.getExtraNgModuleProviders(n.type.reference),i=RL(),o=this._ngModuleCompiler.compile(i,n,r);e=this._interpretOrJit(function(t){return wT(iT(t.type)+"/module.ngfactory.js")}(n),i.statements)[o.ngModuleFactoryVar],this._compiledNgModuleCache.set(n.type.reference,e)}return e},t.prototype._compileComponents=function(t,e){var n=this,r=this._metadataResolver.getNgModuleMetadata(t),i=new Map,o=new Set,s=this._filterJitIdentifiers(r.transitiveModule.modules);s.forEach(function(t){var r=n._metadataResolver.getNgModuleMetadata(t);n._filterJitIdentifiers(r.declaredDirectives).forEach(function(t){i.set(t,r);var s=n._metadataResolver.getDirectiveMetadata(t);if(s.isComponent&&(o.add(n._createCompiledTemplate(s,r)),e)){var a=n._createCompiledHostTemplate(s.type.reference,r);o.add(a),e.push(s.componentFactory)}})}),s.forEach(function(t){var e=n._metadataResolver.getNgModuleMetadata(t);n._filterJitIdentifiers(e.declaredDirectives).forEach(function(t){var e=n._metadataResolver.getDirectiveMetadata(t);e.isComponent&&e.entryComponents.forEach(function(t){var e=i.get(t.componentType);o.add(n._createCompiledHostTemplate(t.componentType,e))})}),e.entryComponents.forEach(function(t){if(!n.hasAotSummary(t.componentType)){var e=i.get(t.componentType);o.add(n._createCompiledHostTemplate(t.componentType,e))}})}),o.forEach(function(t){return n._compileTemplate(t)})},t.prototype.clearCacheFor=function(t){this._compiledNgModuleCache.delete(t),this._metadataResolver.clearCacheFor(t),this._compiledHostTemplateCache.delete(t),this._compiledTemplateCache.get(t)&&this._compiledTemplateCache.delete(t)},t.prototype.clearCache=function(){this._metadataResolver.clearCache(),this._compiledTemplateCache.clear(),this._compiledHostTemplateCache.clear(),this._compiledNgModuleCache.clear()},t.prototype._createCompiledHostTemplate=function(t,e){if(!e)throw new Error("Component "+Nx(t)+" is not part of any NgModule or the module has not been imported into your module.");var n=this._compiledHostTemplateCache.get(t);if(!n){var r=this._metadataResolver.getDirectiveMetadata(t);ML(r);var i=this._metadataResolver.getHostComponentMetadata(r,r.componentFactory.viewDefFactory);n=new OL(!0,r.type,i,e,[r.type]),this._compiledHostTemplateCache.set(t,n)}return n},t.prototype._createCompiledTemplate=function(t,e){var n=this._compiledTemplateCache.get(t.type.reference);return n||(ML(t),n=new OL(!1,t.type,t,e,e.transitiveModule.directives),this._compiledTemplateCache.set(t.type.reference,n)),n},t.prototype._compileTemplate=function(t){var e=this;if(!t.isCompiled){var n=t.compMeta,r=new Map,i=RL(),o=this._styleCompiler.compileComponent(i,n);n.template.externalStylesheets.forEach(function(t){var i=e._styleCompiler.compileStyles(RL(),n,t);r.set(t.moduleUrl,i)}),this._resolveStylesCompileResult(o,r);t.ngModule.transitiveModule.pipes.map(function(t){return e._metadataResolver.getPipeSummary(t.reference)});var s=this._parseTemplate(n,t.ngModule,t.directives),a=s.template,u=s.pipes,c=this._viewCompiler.compileComponent(i,n,a,Qk(o.stylesVar),u),l=this._interpretOrJit(function(t,e){return wT(iT(t)+"/"+iT(e.type)+".ngfactory.js")}(t.ngModule.type,t.compMeta),i.statements),h=l[c.viewClassVar],p=l[c.rendererTypeVar];t.compiled(h,p)}},t.prototype._parseTemplate=function(t,e,n){var r=this,i=t.template.preserveWhitespaces,o=n.map(function(t){return r._metadataResolver.getDirectiveSummary(t.reference)}),s=e.transitiveModule.pipes.map(function(t){return r._metadataResolver.getPipeSummary(t.reference)});return this._templateParser.parse(t,t.template.htmlAst,o,s,e.schemas,_T(e.type,t,t.template),i)},t.prototype._resolveStylesCompileResult=function(t,e){var n=this;t.dependencies.forEach(function(t,r){var i=e.get(t.moduleUrl),o=n._resolveAndEvalStylesCompileResult(i,e);t.setValue(o)})},t.prototype._resolveAndEvalStylesCompileResult=function(t,e){return this._resolveStylesCompileResult(t,e),this._interpretOrJit((n=t.meta,r=this._sharedStylesheetCount++,i=n.moduleUrl.split(/\/\\/g),wT("css/"+r+i[i.length-1]+".ngstyle.js")),t.outputCtx.statements)[t.stylesVar];var n,r,i},t.prototype._interpretOrJit=function(t,e){return this._compilerConfig.useJit?NL(t,e,this._reflector,this._compilerConfig.jitDevMode):function(t,e){var n=new SL(null,null,null,new Map);new TL(e).visitAllStatements(t,n);var r={};return n.exports.forEach(function(t){r[t]=n.vars.get(t)}),r}(e,this._reflector)},t}(),OL=function(){function t(t,e,n,r,i){this.isHost=t,this.compType=e,this.compMeta=n,this.ngModule=r,this.directives=i,this._viewClass=null,this.isCompiled=!1}return t.prototype.compiled=function(t,e){for(var n in this._viewClass=t,this.compMeta.componentViewType.setDelegate(t),e)this.compMeta.rendererType[n]=e[n];this.isCompiled=!0},t}();function ML(t){if(!t.isComponent)throw new Error("Could not compile '"+iT(t.type)+"' because it is not a component.")}function RL(){return{statements:[],genFilePath:"",importExpr:function(t){return Xk({name:iT(t),moduleName:null,runtime:t})},constantPool:new hR}}var FL=function(){return function(){}}();var LL=function(){function t(t){void 0===t&&(t=null),this._packagePrefix=t}return t.prototype.resolve=function(t,e){var n=e;null!=t&&t.length>0&&(n=function(t,e){var n=BL(encodeURI(e)),r=BL(t);if(null!=n[jL.Scheme])return UL(n);n[jL.Scheme]=r[jL.Scheme];for(var i=jL.Scheme;i<=jL.Port;i++)null==n[i]&&(n[i]=r[i]);if("/"==n[jL.Path][0])return UL(n);var o=r[jL.Path];null==o&&(o="/");var s=o.lastIndexOf("/");return o=o.substring(0,s+1)+n[jL.Path],n[jL.Path]=o,UL(n)}(t,n));var r=BL(n),i=this._packagePrefix;if(null!=i&&null!=r&&"package"==r[jL.Scheme]){var o=r[jL.Path];return(i=i.replace(/\/+$/,""))+"/"+(o=o.replace(/^\/+/,""))}return n},t}();var jL,VL=new RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function BL(t){return t.match(VL)}function UL(t){var e,n,r,i,o,s,a,u,c=t[jL.Path];return c=null==c?"":function(t){if("/"==t)return"/";for(var e="/"==t[0]?"/":"",n="/"===t[t.length-1]?"/":"",r=t.split("/"),i=[],o=0,s=0;s<r.length;s++){var a=r[s];switch(a){case"":case".":break;case"..":i.length>0?i.pop():o++;break;default:i.push(a)}}if(""==e){for(;o-- >0;)i.unshift("..");0===i.length&&i.push(".")}return e+i.join("/")+n}(c),t[jL.Path]=c,e=t[jL.Scheme],n=t[jL.UserInfo],r=t[jL.Domain],i=t[jL.Port],o=c,s=t[jL.QueryData],a=t[jL.Fragment],u=[],null!=e&&u.push(e+":"),null!=r&&(u.push("//"),null!=n&&u.push(n+"@"),u.push(r),null!=i&&u.push(":"+i)),null!=o&&u.push(o),null!=s&&u.push("?"+s),null!=a&&u.push("#"+a),u.join("")}!function(t){t[t.Scheme=1]="Scheme",t[t.UserInfo=2]="UserInfo",t[t.Domain=3]="Domain",t[t.Port=4]="Port",t[t.Path=5]="Path",t[t.QueryData=6]="QueryData",t[t.Fragment=7]="Fragment"}(jL||(jL={}));var qL=function(){function t(){}return t.prototype.get=function(t){return""},t}();!function(){function t(t,e,n,r){this.host=t,this.staticSymbolResolver=e,this.messageBundle=n,this.metadataResolver=r}t.prototype.extract=function(t){var e=this,n=HF(t,this.host,this.staticSymbolResolver,this.metadataResolver),r=n.files,i=n.ngModules;return Promise.all(i.map(function(t){return e.metadataResolver.loadNgModuleDirectiveAndPipeMetadata(t.type.reference,!1)})).then(function(){var t=[];if(r.forEach(function(n){var r=[];n.directives.forEach(function(t){var n=e.metadataResolver.getDirectiveMetadata(t);n&&n.isComponent&&r.push(n)}),r.forEach(function(n){var r=n.template.template,i=n.template.templateUrl,o=PT.fromArray(n.template.interpolation);t.push.apply(t,h(e.messageBundle.updateFromTemplate(r,i,o)))})}),t.length)throw new Error(t.map(function(t){return t.toString()}).join("\n"));return e.messageBundle})},t.create=function(e,n){var r=new IN,i=wL(e),o=new Zx,s=new bL(e,o),a=new kF(e,o,s),u=new rL(s,a),c=new $x({defaultEncapsulation:PS.Emulated,useJit:!1}),l=new YT({get:function(t){return e.loadResource(t)}},i,r,c),h=new yO,p=new EP(c,r,new WP(u),new tA(u),new aO(u),s,h,l,console,o,u),f=new vR(r,[],{},n);return{extractor:new t(e,a,f,p),staticReflector:u}}}();!function(){function t(t){this.context=t}t.prototype.resolveExternalReference=function(t){if("@angular/core"!==t.moduleName)throw new Error("Cannot resolve external reference to "+t.moduleName+", only references to @angular/core are supported.");if(!this.context.hasOwnProperty(t.name))throw new Error("No value provided for @angular/core symbol '"+t.name+"'.");return this.context[t.name]},t.prototype.parameters=function(t){throw new Error("Not implemented.")},t.prototype.annotations=function(t){throw new Error("Not implemented.")},t.prototype.shallowAnnotations=function(t){throw new Error("Not implemented.")},t.prototype.tryAnnotations=function(t){throw new Error("Not implemented.")},t.prototype.propMetadata=function(t){throw new Error("Not implemented.")},t.prototype.hasLifecycleHook=function(t,e){throw new Error("Not implemented.")},t.prototype.guards=function(t){throw new Error("Not implemented.")},t.prototype.componentModuleUrl=function(t,e){throw new Error("Not implemented.")}}();var HL,WL=((HL=new Map).set(RN.ANALYZE_FOR_ENTRY_COMPONENTS,Nt),HL.set(RN.ElementRef,Lr),HL.set(RN.NgModuleRef,rr),HL.set(RN.ViewContainerRef,Gr),HL.set(RN.ChangeDetectorRef,Qr),HL.set(RN.QueryList,Ur),HL.set(RN.TemplateRef,Kr),HL.set(RN.CodegenComponentFactoryResolver,er),HL.set(RN.ComponentFactoryResolver,tr),HL.set(RN.ComponentFactory,Qn),HL.set(RN.ComponentRef,Gn),HL.set(RN.NgModuleFactory,ir),HL.set(RN.createModuleFactory,Ru),HL.set(RN.moduleDef,vs),HL.set(RN.moduleProviderDef,ds),HL.set(RN.RegisterModuleFactoryFn,Br),HL.set(RN.Injector,me),HL.set(RN.ViewEncapsulation,Ue),HL.set(RN.ChangeDetectionStrategy,Dt),HL.set(RN.SecurityContext,no),HL.set(RN.LOCALE_ID,Si),HL.set(RN.TRANSLATIONS_FORMAT,Ti),HL.set(RN.inlineInterpolate,ts),HL.set(RN.interpolate,Zo),HL.set(RN.EMPTY_ARRAY,ns),HL.set(RN.EMPTY_MAP,rs),HL.set(RN.Renderer,Mr),HL.set(RN.viewDef,Aa),HL.set(RN.elementDef,os),HL.set(RN.anchorDef,is),HL.set(RN.textDef,Sa),HL.set(RN.directiveDef,Xs),HL.set(RN.providerDef,Ys),HL.set(RN.queryDef,fa),HL.set(RN.pureArrayDef,_a),HL.set(RN.pureObjectDef,Ea),HL.set(RN.purePipeDef,wa),HL.set(RN.pipeDef,$s),HL.set(RN.nodeValue,Fs),HL.set(RN.ngContentDef,ga),HL.set(RN.unwrapValue,Eo),HL.set(RN.createRendererType2,xo),HL.set(RN.createComponentFactory,xs),HL),zL=function(){function t(){this.builtinExternalReferences=new Map,this.reflectionCapabilities=new ee}return t.prototype.componentModuleUrl=function(t,e){var n,r=e.moduleId;if("string"==typeof r)return(n=BL(r))&&n[jL.Scheme]||""?r:"package:"+r;if(null!==r&&void 0!==r)throw Sx('moduleId should be a string in "'+Yt(t)+"\". See https://goo.gl/wIDDiL for more information.\nIf you're using Webpack you should inline the template and the styles, see https://goo.gl/X2J8zc.");return"./"+Yt(t)},t.prototype.parameters=function(t){return this.reflectionCapabilities.parameters(t)},t.prototype.tryAnnotations=function(t){return this.annotations(t)},t.prototype.annotations=function(t){return this.reflectionCapabilities.annotations(t)},t.prototype.shallowAnnotations=function(t){throw new Error("Not supported in JIT mode")},t.prototype.propMetadata=function(t){return this.reflectionCapabilities.propMetadata(t)},t.prototype.hasLifecycleHook=function(t,e){return this.reflectionCapabilities.hasLifecycleHook(t,e)},t.prototype.guards=function(t){return this.reflectionCapabilities.guards(t)},t.prototype.resolveExternalReference=function(t){return WL.get(t)||t.runtime},t}();var KL=new wt("ErrorCollector"),GL={provide:Un,useValue:"/"},QL={get:function(t){throw new Error("No ResourceLoader implementation has been provided. Can't read the url \""+t+'"')}},XL=new wt("HtmlParser"),$L=function(){function t(t,e,n,r,i,o,s,a,u,c){this._metadataResolver=e,this._delegate=new PL(e,n,r,i,o,s,a,u,c,this.getExtraNgModuleProviders.bind(this)),this.injector=t}return t.prototype.getExtraNgModuleProviders=function(){return[this._metadataResolver.getProviderMetadata(new gT(Wn,{useValue:this}))]},t.prototype.compileModuleSync=function(t){return this._delegate.compileModuleSync(t)},t.prototype.compileModuleAsync=function(t){return this._delegate.compileModuleAsync(t)},t.prototype.compileModuleAndAllComponentsSync=function(t){var e=this._delegate.compileModuleAndAllComponentsSync(t);return{ngModuleFactory:e.ngModuleFactory,componentFactories:e.componentFactories}},t.prototype.compileModuleAndAllComponentsAsync=function(t){return this._delegate.compileModuleAndAllComponentsAsync(t).then(function(t){return{ngModuleFactory:t.ngModuleFactory,componentFactories:t.componentFactories}})},t.prototype.loadAotSummaries=function(t){this._delegate.loadAotSummaries(t)},t.prototype.hasAotSummary=function(t){return this._delegate.hasAotSummary(t)},t.prototype.getComponentFactory=function(t){return this._delegate.getComponentFactory(t)},t.prototype.clearCache=function(){this._delegate.clearCache()},t.prototype.clearCacheFor=function(t){this._delegate.clearCacheFor(t)},t.prototype.getModuleId=function(t){var e=this._metadataResolver.getNgModuleMetadata(t);return e&&e.id||void 0},t}(),YL=[{provide:FL,useValue:new zL},{provide:qL,useValue:QL},{provide:EL,deps:[]},{provide:_L,useExisting:EL},{provide:qn,deps:[]},{provide:qA,deps:[]},{provide:FD,deps:[qA]},{provide:XL,useClass:IN,deps:[]},{provide:PN,useFactory:function(t,e,n,r,i){var o=(e=e||"")?r.missingTranslation:yi.Ignore;return new PN(t,e,n,o,i)},deps:[XL,[new ae,new se(xi)],[new ae,new se(Ti)],[$x],[qn]]},{provide:IN,useExisting:PN},{provide:gM,deps:[$x,FL,FD,lO,PN,qn]},{provide:YT,deps:[qL,LL,IN,$x]},{provide:EP,deps:[$x,IN,WP,tA,aO,_L,lO,YT,qn,[ae,Zx],FL,[ae,KL]]},GL,{provide:GO,deps:[LL]},{provide:$M,deps:[FL]},{provide:HP,deps:[FL]},{provide:$x,useValue:new $x},{provide:Wn,useClass:$L,deps:[me,EP,gM,GO,$M,HP,_L,FL,$x,qn]},{provide:yO,deps:[]},{provide:lO,useExisting:yO},{provide:LL,deps:[Un]},{provide:tA,deps:[FL]},{provide:aO,deps:[FL]},{provide:WP,deps:[FL]}],JL=function(){function t(t){var e={useJit:!0,defaultEncapsulation:Ue.Emulated,missingTranslation:yi.Warning};this._defaultOptions=h([e],t)}return t.prototype.createCompiler=function(t){void 0===t&&(t=[]);var e,n,r,i={useJit:ZL((e=this._defaultOptions.concat(t)).map(function(t){return t.useJit})),defaultEncapsulation:ZL(e.map(function(t){return t.defaultEncapsulation})),providers:(n=e.map(function(t){return t.providers}),r=[],n.forEach(function(t){return t&&r.push.apply(r,h(t))}),r),missingTranslation:ZL(e.map(function(t){return t.missingTranslation})),preserveWhitespaces:ZL(e.map(function(t){return t.preserveWhitespaces}))};return me.create([YL,{provide:$x,useFactory:function(){return new $x({useJit:i.useJit,jitDevMode:xr(),defaultEncapsulation:i.defaultEncapsulation,missingTranslation:i.missingTranslation,preserveWhitespaces:i.preserveWhitespaces})},deps:[]},i.providers]).get(Wn)},t}();function ZL(t){for(var e=t.length-1;e>=0;e--)if(void 0!==t[e])return t[e]}var tj=Ar(Ci,"coreDynamic",[{provide:zn,useValue:{},multi:!0},{provide:Kn,useClass:JL,deps:[zn]}]),ej=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.get=function(t){var e,n,r=new Promise(function(t,r){e=t,n=r}),i=new XMLHttpRequest;return i.open("GET",t,!0),i.responseType="text",i.onload=function(){var r=i.response||i.responseText,o=1223===i.status?204:i.status;0===o&&(o=r?200:0),200<=o&&o<=300?e(r):n("Failed to load "+t)},i.onerror=function(){n("Failed to load "+t)},i.send(),r},e=s([Be()],e)}(qL),nj=[dv,{provide:zn,useValue:{providers:[{provide:qL,useClass:ej,deps:[]}]},multi:!0},{provide:Vn,useValue:$f}];(function(t){function e(){var e=t.call(this)||this;if(e._cache=zt.$templateCache,null==e._cache)throw new Error("CachedResourceLoader: Template cache was not found in $templateCache.");return e}i(e,t),e.prototype.get=function(t){return this._cache.hasOwnProperty(t)?Promise.resolve(this._cache[t]):Promise.reject("CachedResourceLoader: Did not find cached template for "+t)}})(qL),new He("6.1.10"),Ar(tj,"browserDynamic",nj);function rj(t){return t=t||[],new JL([{useDebug:!1,useJit:!0}]).createCompiler(t)}var ij=function(){function t(){}return t.forRoot=function(e){return{ngModule:t,providers:[{provide:Wn,useFactory:rj,deps:[[ae(),zn]]},{provide:nC,useValue:{ngModuleMetadata:e}}]}},t}();ij.decorators=[{type:qe,args:[{declarations:[rC],exports:[rC]}]}],ij.ctorParameters=function(){return[]};var oj=function(){function t(t,e){this.auth=t,this.router=e}return t.prototype.canActivate=function(t,e){if(this.auth.currentUser)return!0;this.router.navigate(["login"])},t.ngInjectableDef=bt({factory:function(){return new t(Me(u_),Me(Fy))},token:t,providedIn:"root"}),t}(),sj=function(){return function(){}}(),aj=function(){return function(){}}(),uj=Ru(Wl,[zl],function(t){return vs([ds(512,tr,er,[[8,[mg,d_,YE,eC,rS,sS]],[3,tr],rr]),ds(5120,Si,Ii,[[3,Si]]),ds(4608,Fp,jp,[Si,[2,Rp]]),ds(5120,Mn,Rn,[]),ds(5120,mi,Ai,[]),ds(5120,gi,Di,[]),ds(4608,sv,av,[Xf]),ds(6144,so,null,[sv]),ds(4608,Zd,ev,[]),ds(5120,xd,function(t,e,n,r,i,o,s,a){return[new Yd(t,e,n),new ov(r),new nv(i,o,s,a)]},[Xf,hr,Vn,Xf,Xf,Zd,qn,[2,tv]]),ds(4608,Td,Td,[xd,hr]),ds(135680,Id,Id,[Xf]),ds(4608,Fd,Fd,[Td,Id]),ds(6144,Rr,null,[Fd]),ds(6144,Dd,null,[Id]),ds(4608,gr,gr,[hr]),ds(5120,Qm,cg,[Fy]),ds(4608,Xy,Xy,[]),ds(6144,Gy,null,[Xy]),ds(135680,$y,$y,[Fy,jr,Wn,me,Gy]),ds(4608,Qy,Qy,[]),ds(5120,Yy,ig,[Fy,td,Zy]),ds(5120,fg,pg,[lg]),ds(5120,Bn,function(t){return[t]},[fg]),ds(5120,hS,yS,[dS,Vn]),ds(4608,pS,pS,[hS]),ds(4608,fS,fS,[hS]),ds(4608,VC,BC,[Xf,Vn,LC]),ds(4608,UC,UC,[VC,jC]),ds(5120,AC,function(t){return[t]},[UC]),ds(4608,RC,RC,[]),ds(6144,MC,null,[RC]),ds(4608,FC,FC,[MC]),ds(6144,lC,null,[FC]),ds(4608,cC,qC,[lC,me]),ds(4608,xC,xC,[cC]),ds(4608,G_,G_,[K_,hr]),ds(4608,qE,qE,[]),ds(5120,kw,Pw,[Iw,[2,Nw]]),ds(4608,r_,r_,[Iw,[2,Nw],[2,Jw],[2,t_],Vn,hr,[2,Zw]]),ds(4608,jw,jw,[Iw,[2,Nw],Vn,hr]),ds(4608,qg,qg,[]),ds(1073742336,Gf,Gf,[]),ds(1024,Ye,yv,[]),ds(1024,Tr,function(){return[ng()]},[]),ds(512,lg,lg,[me]),ds(256,vS,"ngsw-worker.js",[]),ds(256,dS,{enabled:!0},[]),ds(1024,Pn,function(t,e,n,r,i,o){return[Cd(t),hg(e),mS(n,r,i,o)]},[[2,Tr],lg,me,vS,dS,Vn]),ds(512,On,On,[[2,Pn]]),ds(131584,kr,kr,[hr,qn,me,Ye,tr,On]),ds(1073742336,ki,ki,[kr]),ds(1073742336,bv,bv,[[3,bv]]),ds(1024,tg,sg,[[3,Fy]]),ds(512,vm,mm,[]),ds(512,Wy,Wy,[]),ds(256,Zy,{scrollPositionRestoration:"enabled"},[]),ds(1024,Nh,og,[Dh,[2,kh],Zy]),ds(512,Ph,Ph,[Nh]),ds(1024,Wn,rj,[[2,zn]]),ds(512,jr,Wr,[Wn,[2,qr]]),ds(1024,Iy,function(){return[[{path:"login",component:h_},{path:"",component:zE,canActivate:[oj],children:[{path:"",component:JE},{path:"wiki/:title",component:$C}]}]]},[]),ds(1024,Fy,ug,[kr,vm,Wy,Ph,me,jr,Wn,Iy,Zy,[2,ky],[2,Ay]]),ds(1073742336,rg,rg,[[2,tg],[2,Fy]]),ds(1073742336,sj,sj,[]),ds(1073742336,bS,bS,[]),ds(1073742336,WC,WC,[]),ds(1073742336,zC,zC,[]),ds(512,K_,K_,[]),ds(512,Y_,Y_,[]),ds(512,X_,X_,[]),ds(512,$_,$_,[[3,$_],[2,M_]]),ds(512,J_,J_,[Ye,K_,Y_,$_,X_,hr]),ds(256,vE,{},[]),ds(1024,R_,dE,[vE]),ds(512,tE,tE,[X_,J_,R_]),ds(512,eE,eE,[tE]),ds(512,nE,nE,[me,[3,nE],K_,Y_,eE]),ds(512,aE,aE,[hr,X_,tE]),ds(512,uE,uE,[aE]),ds(256,N_,[qE],[]),ds(1073742336,pE,pE,[nE,tE,aE,uE,[2,N_]]),ds(1073742336,mE,mE,[]),ds(1073742336,aj,aj,[]),ds(1073742336,ij,ij,[]),ds(1073742336,Mw,Mw,[]),ds(1073742336,o_,o_,[]),ds(1073742336,qw,qw,[]),ds(1073742336,mw,mw,[]),ds(1073742336,yw,yw,[]),ds(1073742336,Wl,Wl,[]),ds(256,bn,!0,[]),ds(256,LC,"XSRF-TOKEN",[]),ds(256,jC,"X-XSRF-TOKEN",[]),ds(256,Iw,{apiKey:"AIzaSyCwOoCe9GgLEVlB6jCxbB-irf1ZPf-Hdwk",authDomain:"explorer-85176.firebaseapp.com",databaseURL:"https://explorer-85176.firebaseio.com",projectId:"explorer-85176",storageBucket:"explorer-85176.appspot.com",messagingSenderId:"56388163670"},[]),ds(256,Nw,void 0,[]),ds(256,Jw,!0,[]),ds(256,Zw,void 0,[]),ds(256,nC,{ngModuleMetadata:{imports:[rg]}},[])])});(function(){if(Cr)throw new Error("Cannot enable prod mode after platform setup.");Er=!1})(),mv().bootstrapModuleFactory(uj).catch(function(t){return console.error(t)})},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("+7AZ"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw s(e)},s=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,h=(3&o)<<4|a>>4,p=(15&a)<<2|c>>6,f=63&c;u||(f=64,s||(p=64)),r.push(n[l],n[h],n[p],n[f])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();var c=o<<2|s>>4;if(r.push(c),64!=a){var l=s<<4&240|a>>2;if(r.push(l),64!=u){var h=a<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){try{return u.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function l(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=l(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}(),p=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""},f="FirebaseError",d=Error.captureStackTrace;var v=function(){return function(t,e){if(this.code=t,this.message=e,d)d(this,m.prototype.create);else try{throw Error.apply(this,arguments)}catch(t){this.name=f,Object.defineProperty(this,"stack",{get:function(){return t.stack}})}}}();v.prototype=Object.create(Error.prototype),v.prototype.constructor=v,v.prototype.name=f;var m=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return t.prototype.create=function(t,e){void 0===e&&(e={});var n,r=this.errors[t],i=this.service+"/"+t;n=void 0===r?"Error":r.replace(this.pattern,function(t,n){var r=e[n];return void 0!==r?r.toString():"<"+n+"?>"}),n=this.serviceName+": "+n+" ("+i+").";var o=new v(i,n);for(var s in e)e.hasOwnProperty(s)&&"_"!==s.slice(-1)&&(o[s]=e[s]);return o},t}();function y(t){return JSON.parse(t)}var g=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=y(c(o[0])||""),n=y(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}},b=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])},w=function(t,e){return b(e,function(e,n){t[e]=n}),t},_=function(t,e,n){for(var r in t)if(e.call(n,t[r],r,t))return r},E=function(t){function e(){var e=t.call(this)||this;e.chain_=[],e.buf_=[],e.W_=[],e.pad_=[],e.inbuf_=0,e.total_=0,e.blockSize=64,e.pad_[0]=128;for(var n=1;n<e.blockSize;++n)e.pad_[n]=0;return e.reset(),e}return r.__extends(e,t),e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,s,a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),s=1518500249):(o=u^c^l,s=1859775393):r<60?(o=u&c|l&(u|c),s=2400959708):(o=u^c^l,s=3395469782);i=(a<<5|a>>>27)+o+h+s+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=a,a=i}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0==o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o==this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o==this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},e.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},e}(function(){return function(){this.blockSize=-1}}());var C=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=S),void 0===r.error&&(r.error=S),void 0===r.complete&&(r.complete=S);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function S(){}function x(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument "}e.assert=o,e.assertionError=s,e.base64=u,e.base64Decode=c,e.base64Encode=function(t){var e=a(t);return u.encodeByteArray(e,!0)},e.CONSTANTS=i,e.deepCopy=function(t){return l(void 0,t)},e.deepExtend=l,e.patchProperty=function(t,e,n){t[e]=n},e.Deferred=h,e.getUA=p,e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(p())},e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.ErrorFactory=m,e.FirebaseError=v,e.patchCapture=function(t){var e=d;return d=t,e},e.jsonEval=y,e.stringify=function(t){return JSON.stringify(t)},e.decode=g,e.isAdmin=function(t){var e=g(t).claims;return"object"==typeof e&&!0===e.admin},e.issuedAtTime=function(t){var e=g(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.isValidFormat=function(t){var e=g(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e,n,r=g(t).claims,i=Math.floor((new Date).getTime()/1e3);return"object"==typeof r&&(r.hasOwnProperty("nbf")?e=r.nbf:r.hasOwnProperty("iat")&&(e=r.iat),n=r.hasOwnProperty("exp")?r.exp:e+86400),i&&e&&n&&i>=e&&i<=n},e.clone=function(t){return w({},t)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.every=function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!e(n,t[n]))return!1;return!0},e.extend=w,e.findKey=_,e.findValue=function(t,e,n){var r=_(t,e,n);return r&&t[r]},e.forEach=b,e.getAnyKey=function(t){for(var e in t)return e},e.getCount=function(t){var e=0;for(var n in t)e++;return e},e.getValues=function(t){var e=[],n=0;for(var r in t)e[n++]=t[r];return e},e.isEmpty=function(t){for(var e in t)return!1;return!0},e.isNonNullObject=function(t){return"object"==typeof t&&null!==t},e.map=function(t,e,n){var r={};for(var i in t)r[i]=e.call(n,t[i],i,t);return r},e.safeGet=function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]},e.querystring=function(t){var e=[];return b(t,function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e},e.Sha1=E,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}},e.createSubscribe=function(t,e){var n=new C(t,e);return n.subscribe.bind(n)},e.errorPrefix=x,e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(x(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(x(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(x(t,e,r)+"must be a valid firebase namespace.")},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;o(++r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}}},[[0,0]]]);